var shadow$provide = {};
(function(){
shadow$provide[0]=function(Hb,Zb,$b,ac){!function(za){"object"==typeof ac&&"undefined"!=typeof $b?$b.exports=za():"function"==typeof define&&define.amd?define([],za):("undefined"!=typeof window?window:"undefined"!=typeof Hb?Hb:"undefined"!=typeof self?self:this).p5=za()}(function(){return function x(a,G,q){function u(k,f){if(!G[k]){if(!a[k]){var c="function"==typeof Zb&&Zb;if(!f&&c)return c(k,!0);if(r)return r(k,!0);throw(f=Error("Cannot find module '"+k+"'")).code="MODULE_NOT_FOUND",f;}c=G[k]={exports:{}};
a[k][0].call(c.exports,function(b){return u(a[k][1][b]||b)},c,c.exports,x,a,G,q)}return G[k].exports}for(var r="function"==typeof Zb&&Zb,p=0;p<q.length;p++)u(q[p]);return u}({1:[function(a,G,q){function x(k){var f=k.length;if(0<f%4)throw Error("Invalid string. Length must be a multiple of 4");k=k.indexOf("\x3d");f=(k=-1===k?f:k)===f?0:4-k%4;return[k,f]}q.byteLength=function(k){k=x(k);var f=k[0];k=k[1];return 3*(f+k)/4-k};q.toByteArray=function(k){var f=x(k);var c=f[0];f=f[1];var b=new p(3*(c+f)/4-
f),d=0,l=0<f?c-4:c;for(c=0;c<l;c+=4){var h=r[k.charCodeAt(c)]<<18|r[k.charCodeAt(c+1)]<<12|r[k.charCodeAt(c+2)]<<6|r[k.charCodeAt(c+3)];b[d++]=h>>16&255;b[d++]=h>>8&255;b[d++]=255&h}2===f&&(h=r[k.charCodeAt(c)]<<2|r[k.charCodeAt(c+1)]>>4,b[d++]=255&h);1===f&&(h=r[k.charCodeAt(c)]<<10|r[k.charCodeAt(c+1)]<<4|r[k.charCodeAt(c+2)]>>2,b[d++]=h>>8&255,b[d++]=255&h);return b};q.fromByteArray=function(k){for(var f,c=k.length,b=c%3,d=[],l=0,h=c-b;l<h;l+=16383){for(var g=d,m=g.push,t,v=k,w=h<l+16383?h:l+16383,
z=[],y=l;y<w;y+=3)t=(v[y]<<16&16711680)+(v[y+1]<<8&65280)+(255&v[y+2]),z.push(u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]);t=z.join("");m.call(g,t)}1==b?(f=k[c-1],d.push(u[f>>2]+u[f<<4&63]+"\x3d\x3d")):2==b&&(f=(k[c-2]<<8)+k[c-1],d.push(u[f>>10]+u[f>>4&63]+u[f<<2&63]+"\x3d"));return d.join("")};var u=[],r=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array;for(a=0;64>a;++a)u[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a],r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(a)]=
a;r[45]=62;r[95]=63},{}],2:[function(a,G,q){},{}],3:[function(a,G,q){},{}],4:[function(a,G,q){!function(x){function u(K){if(V<K)throw new RangeError('The value "'+K+'" is invalid for option "size"');K=new Uint8Array(K);return Object.setPrototypeOf(K,x.prototype),K}function x(K,O,I){if("number"!=typeof K)return r(K,O,I);if("string"==typeof O)throw new TypeError('The "string" argument must be of type string. Received type number');return k(K)}function r(K,O,I){if("string"==typeof K){var P=O;if(x.isEncoding(P=
"string"==typeof P&&""!==P?P:"utf8"))return X=0|b(K,P),ca=u(X),(K=ca.write(K,P))!==X?ca.slice(0,K):ca;throw new TypeError("Unknown encoding: "+P);}if(ArrayBuffer.isView(K))return f(K);if(null!=K){if(J(K,ArrayBuffer)||K&&J(K.buffer,ArrayBuffer)){var X=K;K=O;var ca=I;if(0>K||X.byteLength<K)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<K+(ca||0))throw new RangeError('"length" is outside of buffer bounds');return X=void 0===K&&void 0===ca?new Uint8Array(X):void 0===ca?new Uint8Array(X,
K):new Uint8Array(X,K,ca),Object.setPrototypeOf(X,x.prototype),X}if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');P=K.valueOf&&K.valueOf();if(null!=P&&P!==K)return x.from(P,O,I);var ia,da;x.isBuffer(K)?P=(ia=0|c(K.length),0!==(da=u(ia)).length&&K.copy(da,0,0,ia),da):void 0!==K.length?((P="number"!=typeof K.length)||(P=K.length,P=P!=P),P=P?u(0):f(K)):P="Buffer"===K.type&&Array.isArray(K.data)?f(K.data):void 0;if(P)return P;if("undefined"!=
typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return x.from(K[Symbol.toPrimitive]("string"),O,I)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);}function p(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(0>K)throw new RangeError('The value "'+K+'" is invalid for option "size"');}function k(K){return p(K),u(0>K?0:0|c(K))}function f(K){for(var O=
0>K.length?0:0|c(K.length),I=u(O),P=0;P<O;P+=1)I[P]=255&K[P];return I}function c(K){if(V<=K)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+V.toString(16)+" bytes");return 0|K}function b(K,O){if(x.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||J(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);var I=K.length,P=2<arguments.length&&!0===
arguments[2];if(!P&&0===I)return 0;for(var X=!1;;)switch(O){case "ascii":case "latin1":case "binary":return I;case "utf8":case "utf-8":return D(K).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*I;case "hex":return I>>>1;case "base64":return C(K).length;default:if(X)return P?-1:D(K).length;O=(""+O).toLowerCase();X=!0}}function d(K,O,I){var P,X=!1;if((O=void 0===O||0>O?0:O)>this.length||0>=(I=void 0===I||I>this.length?this.length:I)||(I>>>=0)<=(O>>>=0))return"";for(K=K||"utf8";;)switch(K){case "hex":K=
O;O=this.length;(!I||0>I||O<I)&&(I=O);O="";for(K=!K||0>K?0:K;K<I;++K)O+=S[this[K]];return O;case "utf8":case "utf-8":return t(this,O,I);case "ascii":K="";for(I=Math.min(this.length,I);O<I;++O)K+=String.fromCharCode(127&this[O]);return K;case "latin1":case "binary":K=O;O="";for(I=Math.min(this.length,I);K<I;++K)O+=String.fromCharCode(this[K]);return O;case "base64":return ca=this,P=I,0===(ia=O)&&P===ca.length?E.fromByteArray(ca):E.fromByteArray(ca.slice(ia,P));case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var ca=
O,ia=I;I=this.slice(ca,ia);K="";for(O=0;O<I.length;O+=2)K+=String.fromCharCode(I[O]+256*I[O+1]);return K;default:if(X)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase();X=!0}}function l(K,O,I){var P=K[O];K[O]=K[I];K[I]=P}function h(K,O,I,P,X){if(0===K.length)return-1;"string"==typeof I?(P=I,I=0):2147483647<I?I=2147483647:-2147483648>I&&(I=-2147483648);var ca=I=+I;if((I=0>(I=ca!=ca?X?0:K.length-1:I)?K.length+I:I)>=K.length){if(X)return-1;I=K.length-1}else if(0>I){if(!X)return-1;I=0}if("string"==
typeof O&&(O=x.from(O,P)),x.isBuffer(O))return 0===O.length?-1:g(K,O,I,P,X);if("number"==typeof O)return O&=255,"function"==typeof Uint8Array.prototype.indexOf?(X?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(K,O,I):g(K,[O],I,P,X);throw new TypeError("val must be string, number or Buffer");}function g(K,O,I,P,X){function ca(ja,qa){return 1===ia?ja[qa]:ja.readUInt16BE(qa*ia)}var ia=1,da=K.length,ba=O.length;if(void 0!==P&&("ucs2"===(P=String(P).toLowerCase())||"ucs-2"===P||"utf16le"===
P||"utf-16le"===P)){if(2>K.length||2>O.length)return-1;da/=ia=2;ba/=2;I/=2}if(X)for(X=-1,P=I;P<da;P++)if(ca(K,P)===ca(O,-1===X?0:P-X)){if(P-(X=-1===X?P:X)+1===ba)return X*ia}else-1!==X&&(P-=P-X),X=-1;else for(P=I=da<I+ba?da-ba:I;0<=P;P--){I=!0;for(da=0;da<ba;da++)if(ca(K,P+da)!==ca(O,da)){I=!1;break}if(I)return P}return-1}function m(K,O,I,P){for(var X=[],ca=0;ca<O.length;++ca)X.push(255&O.charCodeAt(ca));return N(X,K,I,P)}function t(K,O,I){I=Math.min(K.length,I);for(var P=[];O<I;){var X,ca,ia=K[O],
da=null,ba=239<ia?4:223<ia?3:191<ia?2:1;if(O+ba<=I)switch(ba){case 1:128>ia&&(da=ia);break;case 2:128==(192&(X=K[O+1]))&&127<(ca=(31&ia)<<6|63&X)&&(da=ca);break;case 3:X=K[O+1];var ja=K[O+2];128==(192&X)&&128==(192&ja)&&2047<(ca=(15&ia)<<12|(63&X)<<6|63&ja)&&(55296>ca||57343<ca)&&(da=ca);break;case 4:X=K[O+1];ja=K[O+2];var qa=K[O+3];128==(192&X)&&128==(192&ja)&&128==(192&qa)&&65535<(ca=(15&ia)<<18|(63&X)<<12|(63&ja)<<6|63&qa)&&1114112>ca&&(da=ca)}null===da?(da=65533,ba=1):65535<da&&(da-=65536,P.push(da>>>
10&1023|55296),da=56320|1023&da);P.push(da);O+=ba}K=P.length;if(K<=W)return String.fromCharCode.apply(String,P);I="";for(X=0;X<K;)I+=String.fromCharCode.apply(String,P.slice(X,X+=W));return I}function v(K,O,I){if(0!=K%1||0>K)throw new RangeError("offset is not uint");if(I<K+O)throw new RangeError("Trying to access beyond buffer length");}function w(K,O,I,P,X,ca){if(!x.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(X<O||O<ca)throw new RangeError('"value" argument is out of bounds');
if(I+P>K.length)throw new RangeError("Index out of range");}function z(K,O,I,P){if(I+P>K.length)throw new RangeError("Index out of range");if(0>I)throw new RangeError("Index out of range");}function y(K,O,I,P,X){return O=+O,I>>>=0,X||z(K,0,I,4),M.write(K,O,I,P,23,4),I+4}function F(K,O,I,P,X){return O=+O,I>>>=0,X||z(K,0,I,8),M.write(K,O,I,P,52,8),I+8}function D(K,O){O=O||1/0;for(var I,P=K.length,X=null,ca=[],ia=0;ia<P;++ia){if(55295<(I=K.charCodeAt(ia))&&57344>I){if(!X){if(56319<I){-1<(O-=3)&&ca.push(239,
191,189);continue}if(ia+1===P){-1<(O-=3)&&ca.push(239,191,189);continue}X=I;continue}if(56320>I){-1<(O-=3)&&ca.push(239,191,189);X=I;continue}I=65536+(X-55296<<10|I-56320)}else X&&-1<(O-=3)&&ca.push(239,191,189);if(X=null,128>I){if(0>--O)break;ca.push(I)}else if(2048>I){if(0>(O-=2))break;ca.push(I>>6|192,63&I|128)}else if(65536>I){if(0>(O-=3))break;ca.push(I>>12|224,I>>6&63|128,63&I|128)}else{if(!(1114112>I))throw Error("Invalid code point");if(0>(O-=4))break;ca.push(I>>18|240,I>>12&63|128,I>>6&63|
128,63&I|128)}}return ca}function C(K){var O=E,I=O.toByteArray;if(2>(K=(K=K.split("\x3d")[0]).trim().replace(R,"")).length)K="";else for(;0!=K.length%4;)K+="\x3d";return I.call(O,K)}function N(K,O,I,P){for(var X=0;X<P&&!(X+I>=O.length||X>=K.length);++X)O[X+I]=K[X];return X}function J(K,O){return K instanceof O||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===O.name}var E=a("base64-js"),M=a("ieee754"),Q="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):
null,V=(q.Buffer=x,q.SlowBuffer=function(K){+K!=K&&(K=0);return x.alloc(+K)},q.INSPECT_MAX_BYTES=50,2147483647);q.kMaxLength=V;(x.TYPED_ARRAY_SUPPORT=function(){try{var K=new Uint8Array(1),O={foo:function(){return 42}};return Object.setPrototypeOf(O,Uint8Array.prototype),Object.setPrototypeOf(K,O),42===K.foo()}catch(I){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(x.prototype,"parent",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.buffer}});Object.defineProperty(x.prototype,"offset",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.byteOffset}});"undefined"!=typeof Symbol&&null!=Symbol.species&&x[Symbol.species]===x&&Object.defineProperty(x,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1});x.poolSize=8192;x.from=r;Object.setPrototypeOf(x.prototype,Uint8Array.prototype);Object.setPrototypeOf(x,
Uint8Array);x.alloc=function(K,O,I){return p(K),0>=K||void 0===O?u(K):"string"==typeof I?u(K).fill(O,I):u(K).fill(O)};x.allocUnsafe=k;x.allocUnsafeSlow=k;x.isBuffer=function(K){return null!=K&&!0===K._isBuffer&&K!==x.prototype};x.compare=function(K,O){if(J(K,Uint8Array)&&(K=x.from(K,K.offset,K.byteLength)),J(O,Uint8Array)&&(O=x.from(O,O.offset,O.byteLength)),!x.isBuffer(K)||!x.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(K===O)return 0;
for(var I=K.length,P=O.length,X=0,ca=Math.min(I,P);X<ca;++X)if(K[X]!==O[X]){I=K[X];P=O[X];break}return I<P?-1:P<I?1:0};x.isEncoding=function(K){switch(String(K).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};x.concat=function(K,O){if(!Array.isArray(K))throw new TypeError('"list" argument must be an Array of Buffers');if(0===K.length)return x.alloc(0);if(void 0===
O)for(P=O=0;P<K.length;++P)O+=K[P].length;O=x.allocUnsafe(O);for(var I=0,P=0;P<K.length;++P){var X=K[P];if(J(X,Uint8Array)&&(X=x.from(X)),!x.isBuffer(X))throw new TypeError('"list" argument must be an Array of Buffers');X.copy(O,I);I+=X.length}return O};x.byteLength=b;x.prototype._isBuffer=!0;x.prototype.swap16=function(){var K=this.length;if(0!=K%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var O=0;O<K;O+=2)l(this,O,O+1);return this};x.prototype.swap32=function(){var K=
this.length;if(0!=K%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var O=0;O<K;O+=4)l(this,O,O+3),l(this,O+1,O+2);return this};x.prototype.swap64=function(){var K=this.length;if(0!=K%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var O=0;O<K;O+=8)l(this,O,O+7),l(this,O+1,O+6),l(this,O+2,O+5),l(this,O+3,O+4);return this};x.prototype.toLocaleString=x.prototype.toString=function(){var K=this.length;return 0===K?"":0===arguments.length?t(this,0,K):d.apply(this,
arguments)};x.prototype.equals=function(K){if(x.isBuffer(K))return this===K||0===x.compare(this,K);throw new TypeError("Argument must be a Buffer");};x.prototype.inspect=function(){var K=q.INSPECT_MAX_BYTES;var O=this.toString("hex",0,K).replace(/(.{2})/g,"$1 ").trim();return this.length>K&&(O+=" ... "),"\x3cBuffer "+O+"\x3e"};Q&&(x.prototype[Q]=x.prototype.inspect);x.prototype.compare=function(K,O,I,P,X){if(J(K,Uint8Array)&&(K=x.from(K,K.offset,K.byteLength)),!x.isBuffer(K))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+
typeof K);if(void 0===I&&(I=K?K.length:0),void 0===P&&(P=0),void 0===X&&(X=this.length),0>(O=void 0===O?0:O)||I>K.length||0>P||X>this.length)throw new RangeError("out of range index");if(X<=P&&I<=O)return 0;if(X<=P)return-1;if(I<=O)return 1;if(this===K)return 0;var ca=(X>>>=0)-(P>>>=0),ia=(I>>>=0)-(O>>>=0),da=Math.min(ca,ia);P=this.slice(P,X);K=K.slice(O,I);for(O=0;O<da;++O)if(P[O]!==K[O]){ca=P[O];ia=K[O];break}return ca<ia?-1:ia<ca?1:0};x.prototype.includes=function(K,O,I){return-1!==this.indexOf(K,
O,I)};x.prototype.indexOf=function(K,O,I){return h(this,K,O,I,!0)};x.prototype.lastIndexOf=function(K,O,I){return h(this,K,O,I,!1)};x.prototype.write=function(K,O,I,P){if(void 0===O)P="utf8",I=this.length,O=0;else if(void 0===I&&"string"==typeof O)P=O,I=this.length,O=0;else{if(!isFinite(O))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");O>>>=0;isFinite(I)?(I>>>=0,void 0===P&&(P="utf8")):(P=I,I=void 0)}var X=this.length-O;if((void 0===I||X<I)&&(I=X),0<K.length&&
(0>I||0>O)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");P=P||"utf8";var ca,ia,da;for(X=!1;;)switch(P){case "hex":var ba=(O=Number(O)||0,this.length-O);(!I||ba<(I=Number(I)))&&(I=ba);(ba=K.length)/2<I&&(I=ba/2);for(ba=0;ba<I;++ba){P=parseInt(K.substr(2*ba,2),16);if(P!=P)break;this[O+ba]=P}return ba;case "utf8":case "utf-8":return ba=O,da=I,N(D(K,(ia=this).length-ba),ia,ba,da);case "ascii":return m(this,K,O,I);case "latin1":case "binary":return m(this,K,O,I);case "base64":return ia=
this,da=O,ca=I,N(C(K),ia,da,ca);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":ba=K;P=I;ca=this.length-O;ia=[];for(da=0;da<ba.length&&!(0>(ca-=2));++da)I=ba.charCodeAt(da),K=I>>8,I%=256,ia.push(I),ia.push(K);return N(ia,this,O,P);default:if(X)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase();X=!0}};x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var W=4096;x.prototype.slice=function(K,O){var I=this.length;I=(0>(K=~~K)?
0>(K+=I)&&(K=0):I<K&&(K=I),0>(O=void 0===O?I:~~O)?0>(O+=I)&&(O=0):I<O&&(O=I),O<K&&(O=K),this.subarray(K,O));return Object.setPrototypeOf(I,x.prototype),I};x.prototype.readUIntLE=function(K,O,I){K>>>=0;O>>>=0;I||v(K,O,this.length);I=this[K];for(var P=1,X=0;++X<O&&(P*=256);)I+=this[K+X]*P;return I};x.prototype.readUIntBE=function(K,O,I){K>>>=0;O>>>=0;I||v(K,O,this.length);I=this[K+--O];for(var P=1;0<O&&(P*=256);)I+=this[K+--O]*P;return I};x.prototype.readUInt8=function(K,O){return K>>>=0,O||v(K,1,this.length),
this[K]};x.prototype.readUInt16LE=function(K,O){return K>>>=0,O||v(K,2,this.length),this[K]|this[K+1]<<8};x.prototype.readUInt16BE=function(K,O){return K>>>=0,O||v(K,2,this.length),this[K]<<8|this[K+1]};x.prototype.readUInt32LE=function(K,O){return K>>>=0,O||v(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+16777216*this[K+3]};x.prototype.readUInt32BE=function(K,O){return K>>>=0,O||v(K,4,this.length),16777216*this[K]+(this[K+1]<<16|this[K+2]<<8|this[K+3])};x.prototype.readIntLE=function(K,O,
I){K>>>=0;O>>>=0;I||v(K,O,this.length);I=this[K];for(var P=1,X=0;++X<O&&(P*=256);)I+=this[K+X]*P;return 128*P<=I&&(I-=Math.pow(2,8*O)),I};x.prototype.readIntBE=function(K,O,I){K>>>=0;O>>>=0;I||v(K,O,this.length);I=O;for(var P=1,X=this[K+--I];0<I&&(P*=256);)X+=this[K+--I]*P;return 128*P<=X&&(X-=Math.pow(2,8*O)),X};x.prototype.readInt8=function(K,O){return K>>>=0,O||v(K,1,this.length),128&this[K]?-1*(255-this[K]+1):this[K]};x.prototype.readInt16LE=function(K,O){K>>>=0;O||v(K,2,this.length);O=this[K]|
this[K+1]<<8;return 32768&O?4294901760|O:O};x.prototype.readInt16BE=function(K,O){K>>>=0;O||v(K,2,this.length);O=this[K+1]|this[K]<<8;return 32768&O?4294901760|O:O};x.prototype.readInt32LE=function(K,O){return K>>>=0,O||v(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24};x.prototype.readInt32BE=function(K,O){return K>>>=0,O||v(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]};x.prototype.readFloatLE=function(K,O){return K>>>=0,O||v(K,4,this.length),M.read(this,K,
!0,23,4)};x.prototype.readFloatBE=function(K,O){return K>>>=0,O||v(K,4,this.length),M.read(this,K,!1,23,4)};x.prototype.readDoubleLE=function(K,O){return K>>>=0,O||v(K,8,this.length),M.read(this,K,!0,52,8)};x.prototype.readDoubleBE=function(K,O){return K>>>=0,O||v(K,8,this.length),M.read(this,K,!1,52,8)};x.prototype.writeUIntLE=function(K,O,I,P){K=+K;O>>>=0;I>>>=0;P||w(this,K,O,I,Math.pow(2,8*I)-1,0);P=1;var X=0;for(this[O]=255&K;++X<I&&(P*=256);)this[O+X]=K/P&255;return O+I};x.prototype.writeUIntBE=
function(K,O,I,P){K=+K;O>>>=0;I>>>=0;P||w(this,K,O,I,Math.pow(2,8*I)-1,0);P=I-1;var X=1;for(this[O+P]=255&K;0<=--P&&(X*=256);)this[O+P]=K/X&255;return O+I};x.prototype.writeUInt8=function(K,O,I){return K=+K,O>>>=0,I||w(this,K,O,1,255,0),this[O]=255&K,O+1};x.prototype.writeUInt16LE=function(K,O,I){return K=+K,O>>>=0,I||w(this,K,O,2,65535,0),this[O]=255&K,this[O+1]=K>>>8,O+2};x.prototype.writeUInt16BE=function(K,O,I){return K=+K,O>>>=0,I||w(this,K,O,2,65535,0),this[O]=K>>>8,this[O+1]=255&K,O+2};x.prototype.writeUInt32LE=
function(K,O,I){return K=+K,O>>>=0,I||w(this,K,O,4,4294967295,0),this[O+3]=K>>>24,this[O+2]=K>>>16,this[O+1]=K>>>8,this[O]=255&K,O+4};x.prototype.writeUInt32BE=function(K,O,I){return K=+K,O>>>=0,I||w(this,K,O,4,4294967295,0),this[O]=K>>>24,this[O+1]=K>>>16,this[O+2]=K>>>8,this[O+3]=255&K,O+4};x.prototype.writeIntLE=function(K,O,I,P){K=+K;O>>>=0;P||w(this,K,O,I,(P=Math.pow(2,8*I-1))-1,-P);P=0;var X=1,ca=0;for(this[O]=255&K;++P<I&&(X*=256);)0>K&&0===ca&&0!==this[O+P-1]&&(ca=1),this[O+P]=(K/X>>0)-ca&
255;return O+I};x.prototype.writeIntBE=function(K,O,I,P){K=+K;O>>>=0;P||w(this,K,O,I,(P=Math.pow(2,8*I-1))-1,-P);P=I-1;var X=1,ca=0;for(this[O+P]=255&K;0<=--P&&(X*=256);)0>K&&0===ca&&0!==this[O+P+1]&&(ca=1),this[O+P]=(K/X>>0)-ca&255;return O+I};x.prototype.writeInt8=function(K,O,I){return K=+K,O>>>=0,I||w(this,K,O,1,127,-128),this[O]=255&(0>K?255+K+1:K),O+1};x.prototype.writeInt16LE=function(K,O,I){return K=+K,O>>>=0,I||w(this,K,O,2,32767,-32768),this[O]=255&K,this[O+1]=K>>>8,O+2};x.prototype.writeInt16BE=
function(K,O,I){return K=+K,O>>>=0,I||w(this,K,O,2,32767,-32768),this[O]=K>>>8,this[O+1]=255&K,O+2};x.prototype.writeInt32LE=function(K,O,I){return K=+K,O>>>=0,I||w(this,K,O,4,2147483647,-2147483648),this[O]=255&K,this[O+1]=K>>>8,this[O+2]=K>>>16,this[O+3]=K>>>24,O+4};x.prototype.writeInt32BE=function(K,O,I){return K=+K,O>>>=0,I||w(this,K,O,4,2147483647,-2147483648),this[O]=(K=0>K?4294967295+K+1:K)>>>24,this[O+1]=K>>>16,this[O+2]=K>>>8,this[O+3]=255&K,O+4};x.prototype.writeFloatLE=function(K,O,I){return y(this,
K,O,!0,I)};x.prototype.writeFloatBE=function(K,O,I){return y(this,K,O,!1,I)};x.prototype.writeDoubleLE=function(K,O,I){return F(this,K,O,!0,I)};x.prototype.writeDoubleBE=function(K,O,I){return F(this,K,O,!1,I)};x.prototype.copy=function(K,O,I,P){if(!x.isBuffer(K))throw new TypeError("argument should be a Buffer");if((I=I||0,P||0===P||(P=this.length),O>=K.length&&(O=K.length),(P=0<P&&P<I?I:P)===I)||0===K.length||0===this.length)return 0;if(0>(O=O||0))throw new RangeError("targetStart out of bounds");
if(0>I||I>=this.length)throw new RangeError("Index out of range");if(0>P)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length);var X=(P=K.length-O<P-I?K.length-O+I:P)-I;if(this===K&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(O,I,P);else if(this===K&&I<O&&O<P)for(P=X-1;0<=P;--P)K[P+O]=this[P+I];else Uint8Array.prototype.set.call(K,this.subarray(I,P),O);return X};x.prototype.fill=function(K,O,I,P){if("string"==typeof K){if("string"==typeof O?(P=O,O=0,
I=this.length):"string"==typeof I&&(P=I,I=this.length),void 0!==P&&"string"!=typeof P)throw new TypeError("encoding must be a string");if("string"==typeof P&&!x.isEncoding(P))throw new TypeError("Unknown encoding: "+P);var X;1===K.length&&(X=K.charCodeAt(0),("utf8"===P&&128>X||"latin1"===P)&&(K=X))}else"number"==typeof K?K&=255:"boolean"==typeof K&&(K=Number(K));if(0>O||this.length<O||this.length<I)throw new RangeError("Out of range index");if(!(I<=O))if(O>>>=0,I=void 0===I?this.length:I>>>0,"number"==
typeof(K=K||0))for(P=O;P<I;++P)this[P]=K;else{X=x.isBuffer(K)?K:x.from(K,P);var ca=X.length;if(0===ca)throw new TypeError('The value "'+K+'" is invalid for argument "value"');for(P=0;P<I-O;++P)this[P+O]=X[P%ca]}return this};var R=/[^+/0-9A-Za-z-_]/g,S=function(){for(var K=Array(256),O=0;16>O;++O)for(var I=16*O,P=0;16>P;++P)K[I+P]="0123456789abcdef"[O]+"0123456789abcdef"[P];return K}()}.call(this,a("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(a,G,q){G.exports=function(x){if("function"!=
typeof x)throw TypeError(String(x)+" is not a function");return x}},{}],6:[function(a,G,q){var x=a("../internals/is-object");G.exports=function(u){if(x(u)||null===u)return u;throw TypeError("Can't set "+String(u)+" as a prototype");}},{"../internals/is-object":75}],7:[function(a,G,q){q=a("../internals/well-known-symbol");var x=a("../internals/object-create");a=a("../internals/object-define-property");var u=q("unscopables"),r=Array.prototype;null==r[u]&&a.f(r,u,{configurable:!0,value:x(null)});G.exports=
function(p){r[u][p]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(a,G,q){var x=a("../internals/string-multibyte").charAt;G.exports=function(u,r,p){return r+(p?x(u,r).length:1)}},{"../internals/string-multibyte":125}],9:[function(a,G,q){G.exports=function(x,u,r){if(x instanceof u)return x;throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");}},{}],10:[function(a,G,q){var x=a("../internals/is-object");G.exports=function(u){if(x(u))return u;
throw TypeError(String(u)+" is not an object");}},{"../internals/is-object":75}],11:[function(a,G,q){G.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],12:[function(a,G,q){function x(E){return k(E)&&f(J,c(E))}var u;q=a("../internals/array-buffer-native");var r=a("../internals/descriptors"),p=a("../internals/global"),k=a("../internals/is-object"),f=a("../internals/has"),c=a("../internals/classof"),b=a("../internals/create-non-enumerable-property"),d=a("../internals/redefine"),
l=a("../internals/object-define-property").f,h=a("../internals/object-get-prototype-of"),g=a("../internals/object-set-prototype-of"),m=a("../internals/well-known-symbol");a=a("../internals/uid");var t=p.Int8Array,v=t&&t.prototype,w=p.Uint8ClampedArray;w=w&&w.prototype;var z=t&&h(t),y=v&&h(v),F=Object.prototype,D=F.isPrototypeOf;m=m("toStringTag");var C=a("TYPED_ARRAY_TAG"),N=q&&!!g&&"Opera"!==c(p.opera);a=!1;var J={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,
Uint32Array:4,Float32Array:4,Float64Array:8};for(u in J)p[u]||(N=!1);if((!N||"function"!=typeof z||z===Function.prototype)&&(z=function(){throw TypeError("Incorrect invocation");},N))for(u in J)p[u]&&g(p[u],z);if((!N||!y||y===F)&&(y=z.prototype,N))for(u in J)p[u]&&g(p[u].prototype,y);if(N&&h(w)!==y&&g(w,y),r&&!f(y,m))for(u in a=!0,l(y,m,{get:function(){return k(this)?this[C]:void 0}}),J)p[u]&&b(p[u],C,u);G.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:a&&C,aTypedArray:function(E){if(x(E))return E;
throw TypeError("Target is not a typed array");},aTypedArrayConstructor:function(E){if(g){if(D.call(z,E))return E}else for(var M in J)if(f(J,u)&&(M=p[M])&&(E===M||D.call(M,E)))return E;throw TypeError("Target is not a typed array constructor");},exportTypedArrayMethod:function(E,M,Q){if(r){if(Q)for(var V in J)(V=p[V])&&f(V.prototype,E)&&delete V.prototype[E];y[E]&&!Q||d(y,E,!Q&&N&&v[E]||M)}},exportTypedArrayStaticMethod:function(E,M,Q){var V,W;if(r){if(g){if(Q)for(V in J)(W=p[V])&&f(W,E)&&delete W[E];
if(z[E]&&!Q)return;try{return d(z,E,!Q&&N&&t[E]||M)}catch(R){}}for(V in J)!(W=p[V])||W[E]&&!Q||d(W,E,M)}},isView:function(E){E=c(E);return"DataView"===E||f(J,E)},isTypedArray:x,TypedArray:z,TypedArrayPrototype:y}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,
"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(a,G,q){function x(ba){return[255&ba]}function u(ba){return[255&ba,ba>>8&255]}function r(ba){return[255&ba,ba>>8&255,ba>>16&255,ba>>24&255]}function p(ba){return ba[3]<<24|ba[2]<<16|ba[1]<<8|ba[0]}function k(ba){return X(ba,23,4)}function f(ba){return X(ba,52,8)}function c(ba,ja){J(ba[W],ja,{get:function(){return Q(this)[ja]}})}function b(ba,ja,qa,fa){if(qa=
y(qa),ba=Q(ba),qa+ja>ba.byteLength)throw P(R);var ma=Q(ba.buffer).bytes;qa+=ba.byteOffset;ba=ma.slice(qa,qa+ja);return fa?ba:ba.reverse()}function d(ba,ja,qa,fa,ma,sa){if(qa=y(qa),ba=Q(ba),qa+ja>ba.byteLength)throw P(R);var xa=Q(ba.buffer).bytes;ba=qa+ba.byteOffset;fa=fa(+ma);for(ma=0;ma<ja;ma++)xa[ba+ma]=fa[sa?ma:ja-ma-1]}q=a("../internals/global");var l=a("../internals/descriptors"),h=a("../internals/array-buffer-native"),g=a("../internals/create-non-enumerable-property"),m=a("../internals/redefine-all"),
t=a("../internals/fails"),v=a("../internals/an-instance"),w=a("../internals/to-integer"),z=a("../internals/to-length"),y=a("../internals/to-index"),F=a("../internals/ieee754"),D=a("../internals/object-get-prototype-of"),C=a("../internals/object-set-prototype-of"),N=a("../internals/object-get-own-property-names").f,J=a("../internals/object-define-property").f,E=a("../internals/array-fill"),M=a("../internals/set-to-string-tag");a=a("../internals/internal-state");var Q=a.get,V=a.set,W="prototype",R=
"Wrong index",S=q.ArrayBuffer,K=S,O=q.DataView;a=O&&O[W];var I=Object.prototype,P=q.RangeError,X=F.pack,ca=F.unpack;if(h){if(!t(function(){S(1)})||!t(function(){new S(-1)})||t(function(){return new S,new S(1.5),new S(NaN),"ArrayBuffer"!=S.name})){var ia;q=(K=function(ba){return v(this,K),new S(y(ba))})[W]=S[W];h=N(S);for(t=0;h.length>t;)(ia=h[t++])in K||g(K,ia,S[ia]);q.constructor=K}C&&D(a)!==I&&C(a,I);F=new O(new K(2));var da=a.setInt8;F.setInt8(0,2147483648);F.setInt8(1,2147483649);!F.getInt8(0)&&
F.getInt8(1)||m(a,{setInt8:function(ba,ja){da.call(this,ba,ja<<24>>24)},setUint8:function(ba,ja){da.call(this,ba,ja<<24>>24)}},{unsafe:!0})}else K=function(ba){v(this,K,"ArrayBuffer");ba=y(ba);V(this,{bytes:E.call(Array(ba),0),byteLength:ba});l||(this.byteLength=ba)},O=function(ba,ja,qa){v(this,O,"DataView");v(ba,K,"DataView");var fa=Q(ba).byteLength;ja=w(ja);if(0>ja||fa<ja)throw P("Wrong offset");if(fa<ja+(qa=void 0===qa?fa-ja:z(qa)))throw P("Wrong length");V(this,{buffer:ba,byteLength:qa,byteOffset:ja});
l||(this.buffer=ba,this.byteLength=qa,this.byteOffset=ja)},l&&(c(K,"byteLength"),c(O,"buffer"),c(O,"byteLength"),c(O,"byteOffset")),m(O[W],{getInt8:function(ba){return b(this,1,ba)[0]<<24>>24},getUint8:function(ba){return b(this,1,ba)[0]},getInt16:function(ba){ba=b(this,2,ba,1<arguments.length?arguments[1]:void 0);return(ba[1]<<8|ba[0])<<16>>16},getUint16:function(ba){ba=b(this,2,ba,1<arguments.length?arguments[1]:void 0);return ba[1]<<8|ba[0]},getInt32:function(ba){return p(b(this,4,ba,1<arguments.length?
arguments[1]:void 0))},getUint32:function(ba){return p(b(this,4,ba,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(ba){return ca(b(this,4,ba,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(ba){return ca(b(this,8,ba,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(ba,ja){d(this,1,ba,x,ja)},setUint8:function(ba,ja){d(this,1,ba,x,ja)},setInt16:function(ba,ja){d(this,2,ba,u,ja,2<arguments.length?arguments[2]:void 0)},setUint16:function(ba,ja){d(this,2,ba,
u,ja,2<arguments.length?arguments[2]:void 0)},setInt32:function(ba,ja){d(this,4,ba,r,ja,2<arguments.length?arguments[2]:void 0)},setUint32:function(ba,ja){d(this,4,ba,r,ja,2<arguments.length?arguments[2]:void 0)},setFloat32:function(ba,ja){d(this,4,ba,k,ja,2<arguments.length?arguments[2]:void 0)},setFloat64:function(ba,ja){d(this,8,ba,f,ja,2<arguments.length?arguments[2]:void 0)}});M(K,"ArrayBuffer");M(O,"DataView");G.exports={ArrayBuffer:K,DataView:O}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,
"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,
"../internals/to-length":138}],14:[function(a,G,q){var x=a("../internals/to-object"),u=a("../internals/to-absolute-index"),r=a("../internals/to-length"),p=Math.min;G.exports=[].copyWithin||function(k,f){var c=x(this),b=r(c.length),d=u(k,b),l=u(f,b);k=2<arguments.length?arguments[2]:void 0;b=p((void 0===k?b:u(k,b))-l,b-d);var h=1;for(l<d&&d<l+b&&(h=-1,l+=b-1,d+=b-1);0<b--;)l in c?c[d]=c[l]:delete c[d],d+=h,l+=h;return c}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],
15:[function(a,G,q){var x=a("../internals/to-object"),u=a("../internals/to-absolute-index"),r=a("../internals/to-length");G.exports=function(p){var k=x(this),f=r(k.length),c=arguments.length,b=u(1<c?arguments[1]:void 0,f);c=2<c?arguments[2]:void 0;for(f=void 0===c?f:u(c,f);b<f;)k[b++]=p;return k}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(a,G,q){var x=a("../internals/array-iteration").forEach;q=a("../internals/array-method-is-strict");
a=a("../internals/array-method-uses-to-length");q=q("forEach");a=a("forEach");G.exports=q&&a?[].forEach:function(u){return x(this,u,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(a,G,q){var x=a("../internals/function-bind-context"),u=a("../internals/to-object"),r=a("../internals/call-with-safe-iteration-closing"),p=a("../internals/is-array-iterator-method"),k=a("../internals/to-length"),
f=a("../internals/create-property"),c=a("../internals/get-iterator-method");G.exports=function(b){var d;var l=u(b);b="function"==typeof this?this:Array;var h=arguments.length;var g=1<h?arguments[1]:void 0,m=void 0!==g;var t=c(l);var v=0;if(m&&(g=x(g,2<h?arguments[2]:void 0,2)),null==t||b==Array&&p(t))for(h=new b(d=k(l.length));v<d;v++)t=m?g(l[v],v):l[v],f(h,v,t);else for(d=(l=t.call(l)).next,h=new b;!(t=d.call(l)).done;v++)t=m?r(l,g,[t.value,v],!0):t.value,f(h,v,t);return h.length=v,h}},{"../internals/call-with-safe-iteration-closing":26,
"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(a,G,q){function x(k){return function(f,c,b){var d;f=u(f);var l=r(f.length);b=p(b,l);if(k&&c!=c)for(;b<l;){if((d=f[b++])!=d)return!0}else for(;b<l;b++)if((k||b in f)&&f[b]===c)return k||b||0;return!k&&-1}}var u=a("../internals/to-indexed-object"),r=a("../internals/to-length"),
p=a("../internals/to-absolute-index");G.exports={includes:x(!0),indexOf:x(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(a,G,q){function x(b){var d=1==b,l=2==b,h=3==b,g=4==b,m=6==b,t=5==b||m;return function(v,w,z,y){var F,D,C=p(v),N=r(C);z=u(w,z,3);var J=k(N.length),E=0;w=y||f;for(v=d?w(v,J):l?w(v,0):void 0;E<J;E++)if((t||E in N)&&(D=z(F=N[E],E,C),b))if(d)v[E]=D;else if(D)switch(b){case 3:return!0;case 5:return F;case 6:return E;
case 2:c.call(v,F)}else if(g)return!1;return m?-1:h||g?g:v}}var u=a("../internals/function-bind-context"),r=a("../internals/indexed-object"),p=a("../internals/to-object"),k=a("../internals/to-length"),f=a("../internals/array-species-create"),c=[].push;G.exports={forEach:x(0),map:x(1),filter:x(2),some:x(3),every:x(4),find:x(5),findIndex:x(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],
20:[function(a,G,q){var x=a("../internals/to-indexed-object"),u=a("../internals/to-integer"),r=a("../internals/to-length");q=a("../internals/array-method-is-strict");a=a("../internals/array-method-uses-to-length");var p=Math.min,k=[].lastIndexOf,f=!!k&&0>1/[1].lastIndexOf(1,-0);q=q("lastIndexOf");a=a("indexOf",{ACCESSORS:!0,1:0});G.exports=!f&&q&&a?k:function(c){if(f)return k.apply(this,arguments)||0;var b=x(this),d=r(b.length),l=d-1;for(0>(l=1<arguments.length?p(l,u(arguments[1])):l)&&(l=d+l);0<=
l;l--)if(l in b&&b[l]===c)return l||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(a,G,q){var x=a("../internals/fails");q=a("../internals/well-known-symbol");var u=a("../internals/engine-v8-version"),r=q("species");G.exports=function(p){return 51<=u||!x(function(){var k=[];return(k.constructor={})[r]=function(){return{foo:1}},1!==k[p](Boolean).foo})}},
{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(a,G,q){var x=a("../internals/fails");G.exports=function(u,r){var p=[][u];return!!p&&x(function(){p.call(null,r||function(){throw 1;},1)})}},{"../internals/fails":51}],23:[function(a,G,q){function x(c){throw c;}var u=a("../internals/descriptors"),r=a("../internals/fails"),p=a("../internals/has"),k=Object.defineProperty,f={};G.exports=function(c,b){var d,l,h,g;return p(f,c)?f[c]:(d=[][c],
l=!!p(b=b||{},"ACCESSORS")&&b.ACCESSORS,h=p(b,0)?b[0]:x,g=p(b,1)?b[1]:void 0,f[c]=!!d&&!r(function(){if(l&&!u)return!0;var m={length:-1};l?k(m,1,{enumerable:!0,get:x}):m[1]=1;d.call(m,h,g)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(a,G,q){function x(f){return function(c,b,d,l){u(b);c=r(c);var h=p(c),g=k(c.length),m=f?g-1:0,t=f?-1:1;if(2>d)for(;;){if(m in h){l=h[m];m+=t;break}if(m+=t,f?0>m:g<=m)throw TypeError("Reduce of empty array with no initial value");
}for(;f?0<=m:m<g;m+=t)m in h&&(l=b(l,h[m],m,c));return l}}var u=a("../internals/a-function"),r=a("../internals/to-object"),p=a("../internals/indexed-object"),k=a("../internals/to-length");G.exports={left:x(!1),right:x(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(a,G,q){var x=a("../internals/is-object"),u=a("../internals/is-array"),r=a("../internals/well-known-symbol")("species");G.exports=function(p,k){var f;
return new (void 0===(f=u(p)&&("function"==typeof(f=p.constructor)&&(f===Array||u(f.prototype))||x(f)&&null===(f=f[r]))?void 0:f)?Array:f)(0===k?0:k)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(a,G,q){var x=a("../internals/an-object");G.exports=function(u,r,p,k){try{return k?r(x(p)[0],p[1]):r(p)}catch(f){throw k=u.return,void 0!==k&&x(k.call(u)),f;}}},{"../internals/an-object":10}],27:[function(a,G,q){var x=a("../internals/well-known-symbol")("iterator"),
u=!1;try{var r=0;a={next:function(){return{done:!!r++}},return:function(){u=!0}};a[x]=function(){return this};Array.from(a,function(){throw 2;})}catch(p){}G.exports=function(p,k){if(!k&&!u)return!1;var f=!1;try{k={},k[x]=function(){return{next:function(){return{done:f=!0}}}},p(k)}catch(c){}return f}},{"../internals/well-known-symbol":150}],28:[function(a,G,q){var x={}.toString;G.exports=function(u){return x.call(u).slice(8,-1)}},{}],29:[function(a,G,q){q=a("../internals/to-string-tag-support");var x=
a("../internals/classof-raw"),u=a("../internals/well-known-symbol")("toStringTag"),r="Arguments"==x(function(){return arguments}());G.exports=q?x:function(p){var k;if(void 0===p)p="Undefined";else{if(null===p)var f="Null";else{a:{var c=p=Object(p);try{f=c[u];break a}catch(b){}f=void 0}f="string"==typeof(k=f)?k:r?x(p):"Object"==(k=x(p))&&"function"==typeof p.callee?"Arguments":k}p=f}return p}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],
30:[function(a,G,q){var x=a("../internals/object-define-property").f,u=a("../internals/object-create"),r=a("../internals/redefine-all"),p=a("../internals/function-bind-context"),k=a("../internals/an-instance"),f=a("../internals/iterate"),c=a("../internals/define-iterator"),b=a("../internals/set-species"),d=a("../internals/descriptors"),l=a("../internals/internal-metadata").fastKey;a=a("../internals/internal-state");var h=a.set,g=a.getterFor;G.exports={getConstructor:function(m,t,v,w){function z(C,
N,J){var E,M=D(C),Q=y(C,N);return Q?Q.value=J:(M.last=Q={index:E=l(N,!0),key:N,value:J,previous:N=M.last,next:void 0,removed:!1},M.first||(M.first=Q),N&&(N.next=Q),d?M.size++:C.size++,"F"!==E&&(M.index[E]=Q)),C}function y(C,N){C=D(C);var J=l(N);if("F"!==J)return C.index[J];for(C=C.first;C;C=C.next)if(C.key==N)return C}var F=m(function(C,N){k(C,F,t);h(C,{type:t,index:u(null),first:void 0,last:void 0,size:0});d||(C.size=0);null!=N&&f(N,C[w],C,v)}),D=g(t);return r(F.prototype,{clear:function(){for(var C=
D(this),N=C.index,J=C.first;J;)J.removed=!0,J.previous&&(J.previous=J.previous.next=void 0),delete N[J.index],J=J.next;C.first=C.last=void 0;d?C.size=0:this.size=0},delete:function(C){var N,J,E=D(this);C=y(this,C);return C&&(N=C.next,J=C.previous,delete E.index[C.index],C.removed=!0,J&&(J.next=N),N&&(N.previous=J),E.first==C&&(E.first=N),E.last==C&&(E.last=J),d?E.size--:this.size--),!!C},forEach:function(C){for(var N,J=D(this),E=p(C,1<arguments.length?arguments[1]:void 0,3);N=N?N.next:J.first;)for(E(N.value,
N.key,this);N&&N.removed;)N=N.previous},has:function(C){return!!y(this,C)}}),r(F.prototype,v?{get:function(C){return(C=y(this,C))&&C.value},set:function(C,N){return z(this,0===C?0:C,N)}}:{add:function(C){return z(this,C=0===C?0:C,C)}}),d&&x(F.prototype,"size",{get:function(){return D(this).size}}),F},setStrong:function(m,t,v){var w=t+" Iterator",z=g(t),y=g(w);c(m,t,function(F,D){h(this,{type:w,target:F,state:z(F),kind:D,last:void 0})},function(){for(var F=y(this),D=F.kind,C=F.last;C&&C.removed;)C=
C.previous;return F.target&&(F.last=C=C?C.next:F.state.first)?"keys"==D?{value:C.key,done:!1}:"values"==D?{value:C.value,done:!1}:{value:[C.key,C.value],done:!1}:{value:F.target=void 0,done:!0}},v?"entries":"values",!v,!0);b(t)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,
"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(a,G,q){function x(w){return w.frozen||(w.frozen=new u)}function u(){this.entries=[]}function r(w,z){return m(w.entries,function(y){return y[0]===z})}var p=a("../internals/redefine-all"),k=a("../internals/internal-metadata").getWeakData,f=a("../internals/an-object"),c=a("../internals/is-object"),b=a("../internals/an-instance"),d=a("../internals/iterate");q=a("../internals/array-iteration");var l=a("../internals/has");a=a("../internals/internal-state");
var h=a.set,g=a.getterFor,m=q.find,t=q.findIndex,v=0;u.prototype={get:function(w){if(w=r(this,w))return w[1]},has:function(w){return!!r(this,w)},set:function(w,z){var y=r(this,w);y?y[1]=z:this.entries.push([w,z])},delete:function(w){var z=t(this.entries,function(y){return y[0]===w});return~z&&this.entries.splice(z,1),!!~z}};G.exports={getConstructor:function(w,z,y,F){function D(J,E,M){var Q=N(J),V=k(f(E),!0);return!0===V?x(Q).set(E,M):V[Q.id]=M,J}var C=w(function(J,E){b(J,C,z);h(J,{type:z,id:v++,
frozen:void 0});null!=E&&d(E,J[F],J,y)}),N=g(z);return p(C.prototype,{delete:function(J){var E,M=N(this);return!!c(J)&&(!0===(E=k(J))?x(M).delete(J):E&&l(E,M.id)&&delete E[M.id])},has:function(J){var E,M=N(this);return!!c(J)&&(!0===(E=k(J))?x(M).has(J):E&&l(E,M.id))}}),p(C.prototype,y?{get:function(J){var E,M=N(this);if(c(J))return!0===(E=k(J))?x(M).get(J):E?E[M.id]:void 0},set:function(J,E){return D(this,J,E)}}:{add:function(J){return D(this,J,!0)}}),C}}},{"../internals/an-instance":9,"../internals/an-object":10,
"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(a,G,q){var x=a("../internals/export"),u=a("../internals/global"),r=a("../internals/is-forced"),p=a("../internals/redefine"),k=a("../internals/internal-metadata"),f=a("../internals/iterate"),c=a("../internals/an-instance"),b=a("../internals/is-object"),d=a("../internals/fails"),
l=a("../internals/check-correctness-of-iteration"),h=a("../internals/set-to-string-tag"),g=a("../internals/inherit-if-required");G.exports=function(m,t,v){function w(R){var S=Q[R];p(Q,R,"add"==R?function(K){return S.call(this,0===K?0:K),this}:"delete"==R?function(K){return!(J&&!b(K))&&S.call(this,0===K?0:K)}:"get"==R?function(K){return J&&!b(K)?void 0:S.call(this,0===K?0:K)}:"has"==R?function(K){return!(J&&!b(K))&&S.call(this,0===K?0:K)}:function(K,O){return S.call(this,0===K?0:K,O),this})}var z,
y,F,D,C,N=-1!==m.indexOf("Map"),J=-1!==m.indexOf("Weak"),E=N?"set":"add",M=u[m],Q=M&&M.prototype,V=M,W={};return r(m,"function"!=typeof M||!(J||Q.forEach&&!d(function(){(new M).entries().next()})))?(V=v.getConstructor(t,m,N,E),k.REQUIRED=!0):r(m,!0)&&(y=(z=new V)[E](J?{}:-0,1)!=z,F=d(function(){z.has(1)}),D=l(function(R){new M(R)}),C=!J&&d(function(){for(var R=new M,S=5;S--;)R[E](S,S);return!R.has(-0)}),D||(((V=t(function(R,S){c(R,V,m);R=g(new M,R,V);return null!=S&&f(S,R[E],R,N),R})).prototype=Q).constructor=
V),(F||C)&&(w("delete"),w("has"),N&&w("get")),(C||y)&&w(E),J&&Q.clear&&delete Q.clear),W[m]=V,x({global:!0,forced:V!=M},W),h(V,m),J||v.setStrong(V,m,N),V}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],
33:[function(a,G,q){var x=a("../internals/has"),u=a("../internals/own-keys"),r=a("../internals/object-get-own-property-descriptor"),p=a("../internals/object-define-property");G.exports=function(k,f){for(var c=u(f),b=p.f,d=r.f,l=0;l<c.length;l++){var h=c[l];x(k,h)||b(k,h,d(f,h))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(a,G,q){var x=a("../internals/well-known-symbol")("match");G.exports=
function(u){var r=/./;try{"/./"[u](r)}catch(p){try{return r[x]=!1,"/./"[u](r)}catch(k){}}return!1}},{"../internals/well-known-symbol":150}],35:[function(a,G,q){a=a("../internals/fails");G.exports=!a(function(){function x(){}return x.prototype.constructor=null,Object.getPrototypeOf(new x)!==x.prototype})},{"../internals/fails":51}],36:[function(a,G,q){var x=a("../internals/require-object-coercible"),u=/"/g;G.exports=function(r,p,k,f){r=String(x(r));var c="\x3c"+p;return""!==k&&(c+=" "+k+'\x3d"'+String(f).replace(u,
"\x26quot;")+'"'),c+"\x3e"+r+"\x3c/"+p+"\x3e"}},{"../internals/require-object-coercible":115}],37:[function(a,G,q){function x(){return this}var u=a("../internals/iterators-core").IteratorPrototype,r=a("../internals/object-create"),p=a("../internals/create-property-descriptor"),k=a("../internals/set-to-string-tag"),f=a("../internals/iterators");G.exports=function(c,b,d){b+=" Iterator";return c.prototype=r(u,{next:p(1,d)}),k(c,b,!1,!0),f[b]=x,c}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,
"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(a,G,q){q=a("../internals/descriptors");var x=a("../internals/object-define-property"),u=a("../internals/create-property-descriptor");G.exports=q?function(r,p,k){return x.f(r,p,u(1,k))}:function(r,p,k){return r[p]=k,r}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(a,G,q){G.exports=function(x,u){return{enumerable:!(1&
x),configurable:!(2&x),writable:!(4&x),value:u}}},{}],40:[function(a,G,q){var x=a("../internals/to-primitive"),u=a("../internals/object-define-property"),r=a("../internals/create-property-descriptor");G.exports=function(p,k,f){k=x(k);k in p?u.f(p,k,r(0,f)):p[k]=f}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(a,G,q){function x(){return this}var u=a("../internals/export"),r=a("../internals/create-iterator-constructor"),
p=a("../internals/object-get-prototype-of"),k=a("../internals/object-set-prototype-of"),f=a("../internals/set-to-string-tag"),c=a("../internals/create-non-enumerable-property"),b=a("../internals/redefine");q=a("../internals/well-known-symbol");var d=a("../internals/is-pure"),l=a("../internals/iterators");a=a("../internals/iterators-core");var h=a.IteratorPrototype,g=a.BUGGY_SAFARI_ITERATORS,m=q("iterator");G.exports=function(t,v,w,z,y,F,D){function C(R){if(R===y&&V)return V;if(!g&&R in M)return M[R];
switch(R){case "keys":case "values":case "entries":return function(){return new w(this,R)}}return function(){return new w(this)}}r(w,v,z);var N,J;z=v+" Iterator";var E=!1,M=t.prototype,Q=M[m]||M["@@iterator"]||y&&M[y],V=!g&&Q||C(y),W="Array"==v&&M.entries||Q;if(W&&(W=p(W.call(new t)),h!==Object.prototype&&W.next&&(d||p(W)===h||(k?k(W,h):"function"!=typeof W[m]&&c(W,m,x)),f(W,z,!0,!0),d&&(l[z]=x))),"values"==y&&Q&&"values"!==Q.name&&(E=!0,V=function(){return Q.call(this)}),d&&!D||M[m]===V||c(M,m,V),
l[v]=V,y)if(N={values:C("values"),keys:F?V:C("keys"),entries:C("entries")},D)for(J in N)!g&&!E&&J in M||b(M,J,N[J]);else u({target:v,proto:!0,forced:g||E},N);return N}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,
"../internals/well-known-symbol":150}],42:[function(a,G,q){var x=a("../internals/path"),u=a("../internals/has"),r=a("../internals/well-known-symbol-wrapped"),p=a("../internals/object-define-property").f;G.exports=function(k){var f=x.Symbol||(x.Symbol={});u(f,k)||p(f,k,{value:r.f(k)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(a,G,q){a=a("../internals/fails");G.exports=!a(function(){return 7!=
Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":51}],44:[function(a,G,q){q=a("../internals/global");a=a("../internals/is-object");var x=q.document,u=a(x)&&a(x.createElement);G.exports=function(r){return u?x.createElement(r):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(a,G,q){G.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,
HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(a,G,q){a=a("../internals/engine-user-agent");G.exports=/(iphone|ipod|ipad).*applewebkit/i.test(a)},{"../internals/engine-user-agent":47}],47:[function(a,
G,q){a=a("../internals/get-built-in");G.exports=a("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(a,G,q){var x,u;q=a("../internals/global");a=a("../internals/engine-user-agent");(q=(q=(q=q.process)&&q.versions)&&q.v8)?u=(x=q.split("."))[0]+x[1]:a&&(!(x=a.match(/Edge\/(\d+)/))||74<=x[1])&&(x=a.match(/Chrome\/(\d+)/))&&(u=x[1]);G.exports=u&&+u},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(a,G,q){G.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},
{}],50:[function(a,G,q){var x=a("../internals/global"),u=a("../internals/object-get-own-property-descriptor").f,r=a("../internals/create-non-enumerable-property"),p=a("../internals/redefine"),k=a("../internals/set-global"),f=a("../internals/copy-constructor-properties"),c=a("../internals/is-forced");G.exports=function(b,d){var l,h,g,m=b.target,t=b.global,v=b.stat,w=t?x:v?x[m]||k(m,{}):(x[m]||{}).prototype;if(w)for(l in d){if(h=d[l],g=b.noTargetGet?(g=u(w,l))&&g.value:w[l],!c(t?l:m+(v?".":"#")+l,b.forced)&&
void 0!==g){if(typeof h==typeof g)continue;f(h,g)}(b.sham||g&&g.sham)&&r(h,"sham",!0);p(w,l,h,b)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(a,G,q){G.exports=function(x){try{return!!x()}catch(u){return!0}}},{}],52:[function(a,G,q){a("../modules/es.regexp.exec");var x=
a("../internals/redefine"),u=a("../internals/fails"),r=a("../internals/well-known-symbol"),p=a("../internals/regexp-exec"),k=a("../internals/create-non-enumerable-property"),f=r("species"),c=!u(function(){var h=/./;return h.exec=function(){var g=[];return g.groups={a:"7"},g},"7"!=="".replace(h,"$\x3ca\x3e")}),b="$0"==="a".replace(/./,"$0");a=r("replace");var d=!!/./[a]&&""===/./[a]("a","$0"),l=!u(function(){var h=/(?:)/,g=h.exec;h=(h.exec=function(){return g.apply(this,arguments)},"ab".split(h));
return 2!==h.length||"a"!==h[0]||"b"!==h[1]});G.exports=function(h,g,m,t){var v,w,z=r(h),y=!u(function(){var D={};return D[z]=function(){return 7},7!=""[h](D)}),F=y&&!u(function(){var D=!1,C=/a/;return"split"===h&&((C={constructor:{}}).constructor[f]=function(){return C},C.flags="",C[z]=/./[z]),C.exec=function(){return D=!0,null},C[z](""),!D});y&&F&&("replace"!==h||c&&b&&!d)&&("split"!==h||l)||(v=/./[z],m=(F=m(z,""[h],function(D,C,N,J,E){return C.exec===p?y&&!E?{done:!0,value:v.call(C,N,J)}:{done:!0,
value:D.call(N,C,J)}:{done:!1}},{REPLACE_KEEPS_$0:b,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}))[0],w=F[1],x(String.prototype,h,m),x(RegExp.prototype,z,2==g?function(D,C){return w.call(D,this,C)}:function(D){return w.call(D,this)}));t&&k(RegExp.prototype[z],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(a,G,q){function x(k,
f,c,b,d,l,h,g){var m,t=0;for(h=!!h&&p(h,g,3);t<b;){if(t in c){if(m=h?h(c[t],t,f):c[t],0<l&&u(m))d=x(k,f,m,r(m.length),d,l-1)-1;else{if(9007199254740991<=d)throw TypeError("Exceed the acceptable array length");k[d]=m}d++}t++}return d}var u=a("../internals/is-array"),r=a("../internals/to-length"),p=a("../internals/function-bind-context");G.exports=x},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(a,G,q){a=a("../internals/fails");G.exports=
!a(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(a,G,q){var x=a("../internals/a-function");G.exports=function(u,r,p){if(x(u),void 0===r)return u;switch(p){case 0:return function(){return u.call(r)};case 1:return function(k){return u.call(r,k)};case 2:return function(k,f){return u.call(r,k,f)};case 3:return function(k,f,c){return u.call(r,k,f,c)}}return function(){return u.apply(r,arguments)}}},{"../internals/a-function":5}],56:[function(a,
G,q){var x=a("../internals/a-function"),u=a("../internals/is-object"),r=[].slice,p={};G.exports=Function.bind||function(k){var f=x(this),c=r.call(arguments,1),b=function(){var d=c.concat(r.call(arguments));if(this instanceof b){var l=d.length;if(!(l in p)){for(var h=[],g=0;g<l;g++)h[g]="a["+g+"]";p[l]=Function("C,a","return new C("+h.join(",")+")")}return p[l](f,d)}return f.apply(k,d)};return u(f.prototype)&&(b.prototype=f.prototype),b}},{"../internals/a-function":5,"../internals/is-object":75}],
57:[function(a,G,q){function x(p){return"function"==typeof p?p:void 0}var u=a("../internals/path"),r=a("../internals/global");G.exports=function(p,k){return 2>arguments.length?x(u[p])||x(r[p]):u[p]&&u[p][k]||r[p]&&r[p][k]}},{"../internals/global":60,"../internals/path":106}],58:[function(a,G,q){var x=a("../internals/classof"),u=a("../internals/iterators"),r=a("../internals/well-known-symbol")("iterator");G.exports=function(p){if(null!=p)return p[r]||p["@@iterator"]||u[x(p)]}},{"../internals/classof":29,
"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(a,G,q){var x=a("../internals/an-object"),u=a("../internals/get-iterator-method");G.exports=function(r){var p=u(r);if("function"!=typeof p)throw TypeError(String(r)+" is not iterable");return x(p.call(r))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(a,G,q){!function(x){function u(r){return r&&r.Math==Math&&r}G.exports=u("object"==typeof globalThis&&globalThis)||u("object"==typeof window&&
window)||u("object"==typeof self&&self)||u("object"==typeof x&&x)||Function("return this")()}.call(this,"undefined"!=typeof Hb?Hb:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(a,G,q){var x={}.hasOwnProperty;G.exports=function(u,r){return x.call(u,r)}},{}],62:[function(a,G,q){G.exports={}},{}],63:[function(a,G,q){var x=a("../internals/global");G.exports=function(u,r){var p=x.console;p&&p.error&&(1===arguments.length?p.error(u):p.error(u,r))}},{"../internals/global":60}],
64:[function(a,G,q){a=a("../internals/get-built-in");G.exports=a("document","documentElement")},{"../internals/get-built-in":57}],65:[function(a,G,q){q=a("../internals/descriptors");var x=a("../internals/fails"),u=a("../internals/document-create-element");G.exports=!q&&!x(function(){return 7!=Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(a,G,q){var x=Math.abs,u=Math.pow,
r=Math.floor,p=Math.log,k=Math.LN2;G.exports={pack:function(f,c,b){var d,l,h,g=Array(b),m=8*b-c-1;b=(1<<m)-1;var t=b>>1,v=23===c?u(2,-24)-u(2,-77):0,w=0>f||0===f&&0>1/f?1:0,z=0;for((f=x(f))!=f||f===1/0?(l=f!=f?1:0,d=b):(d=r(p(f)/k),1>f*(h=u(2,-d))&&(d--,h*=2),2<=(f+=1<=d+t?v/h:v*u(2,1-t))*h&&(d++,h/=2),b<=d+t?(l=0,d=b):1<=d+t?(l=(f*h-1)*u(2,c),d+=t):(l=f*u(2,t-1)*u(2,c),d=0));8<=c;g[z++]=255&l,l/=256,c-=8);d=d<<c|l;for(m+=c;0<m;g[z++]=255&d,d/=256,m-=8);return g[--z]|=128*w,g},unpack:function(f,c){var b=
f.length;var d=8*b-c-1,l=(1<<d)-1,h=l>>1,g=d-7,m=b-1;d=f[m--];var t=127&d;for(d>>=7;0<g;t=256*t+f[m],m--,g-=8);b=t&(1<<-g)-1;t>>=-g;for(g+=c;0<g;b=256*b+f[m],m--,g-=8);if(0===t)t=1-h;else{if(t===l)return b?NaN:d?-1/0:1/0;b+=u(2,c);t-=h}return(d?-1:1)*b*u(2,t-c)}}},{}],67:[function(a,G,q){q=a("../internals/fails");var x=a("../internals/classof-raw"),u="".split;G.exports=q(function(){return!Object("z").propertyIsEnumerable(0)})?function(r){return"String"==x(r)?u.call(r,""):Object(r)}:Object},{"../internals/classof-raw":28,
"../internals/fails":51}],68:[function(a,G,q){var x=a("../internals/is-object"),u=a("../internals/object-set-prototype-of");G.exports=function(r,p,k){return u&&"function"==typeof(p=p.constructor)&&p!==k&&x(p=p.prototype)&&p!==k.prototype&&u(r,p),r}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(a,G,q){a=a("../internals/shared-store");var x=Function.toString;"function"!=typeof a.inspectSource&&(a.inspectSource=function(u){return x.call(u)});G.exports=a.inspectSource},
{"../internals/shared-store":121}],70:[function(a,G,q){function x(h){p(h,c,{value:{objectID:"O"+ ++b,weakData:{}}})}q=a("../internals/hidden-keys");var u=a("../internals/is-object"),r=a("../internals/has"),p=a("../internals/object-define-property").f,k=a("../internals/uid"),f=a("../internals/freezing"),c=k("meta"),b=0,d=Object.isExtensible||function(){return!0},l=G.exports={REQUIRED:!1,fastKey:function(h,g){if(!u(h))return"symbol"==typeof h?h:("string"==typeof h?"S":"P")+h;if(!r(h,c)){if(!d(h))return"F";
if(!g)return"E";x(h)}return h[c].objectID},getWeakData:function(h,g){if(!r(h,c)){if(!d(h))return!0;if(!g)return!1;x(h)}return h[c].weakData},onFreeze:function(h){return f&&l.REQUIRED&&d(h)&&!r(h,c)&&x(h),h}};q[c]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(a,G,q){var x,u,r,p,k,f,c;q=a("../internals/native-weak-map");var b=a("../internals/global"),d=a("../internals/is-object"),
l=a("../internals/create-non-enumerable-property"),h=a("../internals/has"),g=a("../internals/shared-key");a=a("../internals/hidden-keys");b=b.WeakMap;var m=q?(x=new b,u=x.get,r=x.has,p=x.set,k=function(t,v){return p.call(x,t,v),v},f=function(t){return u.call(x,t)||{}},function(t){return r.call(x,t)}):(a[c=g("state")]=!0,k=function(t,v){return l(t,c,v),v},f=function(t){return h(t,c)?t[c]:{}},function(t){return h(t,c)});G.exports={set:k,get:f,has:m,enforce:function(t){return m(t)?f(t):k(t,{})},getterFor:function(t){return function(v){if(d(v)&&
(v=f(v)).type===t)return v;throw TypeError("Incompatible receiver, "+t+" required");}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(a,G,q){q=a("../internals/well-known-symbol");var x=a("../internals/iterators"),u=q("iterator"),r=Array.prototype;G.exports=function(p){return void 0!==p&&(x.Array===p||r[u]===p)}},
{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(a,G,q){var x=a("../internals/classof-raw");G.exports=Array.isArray||function(u){return"Array"==x(u)}},{"../internals/classof-raw":28}],74:[function(a,G,q){function x(b,d){return(b=k[p(b)])==c||b!=f&&("function"==typeof d?u(d):!!d)}var u=a("../internals/fails"),r=/#|\.prototype\./,p=x.normalize=function(b){return String(b).replace(r,".").toLowerCase()},k=x.data={},f=x.NATIVE="N",c=x.POLYFILL="P";G.exports=x},{"../internals/fails":51}],
75:[function(a,G,q){G.exports=function(x){return"object"==typeof x?null!==x:"function"==typeof x}},{}],76:[function(a,G,q){G.exports=!1},{}],77:[function(a,G,q){var x=a("../internals/is-object"),u=a("../internals/classof-raw"),r=a("../internals/well-known-symbol")("match");G.exports=function(p){var k;return x(p)&&(void 0!==(k=p[r])?!!k:"RegExp"==u(p))}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(a,G,q){function x(b,d){this.stopped=
b;this.result=d}var u=a("../internals/an-object"),r=a("../internals/is-array-iterator-method"),p=a("../internals/to-length"),k=a("../internals/function-bind-context"),f=a("../internals/get-iterator-method"),c=a("../internals/call-with-safe-iteration-closing");(G.exports=function(b,d,l,h,g){var m,t;l=k(d,l,h?2:1);if(!g){if("function"!=typeof(d=f(b)))throw TypeError("Target is not iterable");if(r(d)){d=0;for(g=p(b.length);d<g;d++)if((m=h?l(u(t=b[d])[0],t[1]):l(b[d]))&&m instanceof x)return m;return new x(!1)}b=
d.call(b)}for(d=b.next;!(t=d.call(b)).done;)if("object"==typeof(m=c(b,l,t.value,h))&&m&&m instanceof x)return m;return new x(!1)}).stop=function(b){return new x(!0,b)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(a,G,q){var x,u;q=a("../internals/object-get-prototype-of");var r=a("../internals/create-non-enumerable-property"),
p=a("../internals/has"),k=a("../internals/well-known-symbol");a=a("../internals/is-pure");k=k("iterator");var f=!1;[].keys&&("next"in(u=[].keys())?(q=q(q(u)))!==Object.prototype&&(x=q):f=!0);null==x&&(x={});a||p(x,k)||r(x,k,function(){return this});G.exports={IteratorPrototype:x,BUGGY_SAFARI_ITERATORS:f}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(a,
G,q){G.exports={}},{}],81:[function(a,G,q){G.exports=Math.sign||function(x){return 0==(x=+x)||x!=x?x:0>x?-1:1}},{}],82:[function(a,G,q){var x,u,r,p,k,f,c,b,d=a("../internals/global");q=a("../internals/object-get-own-property-descriptor").f;var l=a("../internals/classof-raw"),h=a("../internals/task").set;a=a("../internals/engine-is-ios");var g=d.MutationObserver||d.WebKitMutationObserver,m=d.process,t=d.Promise,v="process"==l(m);(q=(l=q(d,"queueMicrotask"))&&l.value)||(x=function(){var w;for(v&&(w=
m.domain)&&w.exit();u;){var z=u.fn;u=u.next;try{z()}catch(y){throw u?p():r=void 0,y;}}r=void 0;w&&w.enter()},p=v?function(){m.nextTick(x)}:g&&!a?(k=!0,f=document.createTextNode(""),(new g(x)).observe(f,{characterData:!0}),function(){f.data=k=!k}):t&&t.resolve?(c=t.resolve(void 0),b=c.then,function(){b.call(c,x)}):function(){h.call(d,x)});G.exports=q||function(w){w={fn:w,next:void 0};r&&(r.next=w);u||(u=w,p());r=w}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,
"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(a,G,q){a=a("../internals/global");G.exports=a.Promise},{"../internals/global":60}],84:[function(a,G,q){a=a("../internals/fails");G.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(a,G,q){q=a("../internals/fails");var x=a("../internals/well-known-symbol"),u=a("../internals/is-pure"),r=x("iterator");G.exports=!q(function(){var p=new URL("b?a\x3d1\x26b\x3d2\x26c\x3d3",
"http://a"),k=p.searchParams,f="";return p.pathname="c%20d",k.forEach(function(c,b){k.delete("b");f+=b+c}),u&&!p.toJSON||!k.sort||"http://a/c%20d?a\x3d1\x26c\x3d3"!==p.href||"3"!==k.get("c")||"a\x3d1"!==String(new URLSearchParams("?a\x3d1"))||!k[r]||"a"!==(new URL("https://a@b")).username||"b"!==(new URLSearchParams(new URLSearchParams("a\x3db"))).get("a")||"xn--e1aybc"!==(new URL("http://")).host||"#%D0%B1"!==(new URL("http://a#")).hash||"a1c3"!==f||"x"!==(new URL("http://x",void 0)).host})},
{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(a,G,q){q=a("../internals/global");a=a("../internals/inspect-source");q=q.WeakMap;G.exports="function"==typeof q&&/native code/.test(a(q))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(a,G,q){function x(r){var p,k;this.promise=new r(function(f,c){if(void 0!==p||void 0!==k)throw TypeError("Bad Promise constructor");p=f;k=c});this.resolve=u(p);this.reject=u(k)}var u=a("../internals/a-function");
G.exports.f=function(r){return new x(r)}},{"../internals/a-function":5}],88:[function(a,G,q){var x=a("../internals/is-regexp");G.exports=function(u){if(x(u))throw TypeError("The method doesn't accept regular expressions");return u}},{"../internals/is-regexp":77}],89:[function(a,G,q){var x=a("../internals/global").isFinite;G.exports=Number.isFinite||function(u){return"number"==typeof u&&x(u)}},{"../internals/global":60}],90:[function(a,G,q){var x=a("../internals/descriptors");q=a("../internals/fails");
var u=a("../internals/object-keys"),r=a("../internals/object-get-own-property-symbols"),p=a("../internals/object-property-is-enumerable"),k=a("../internals/to-object"),f=a("../internals/indexed-object"),c=Object.assign,b=Object.defineProperty;G.exports=!c||q(function(){var d,l,h;return!(!x||1===c({b:1},c(b({},"a",{enumerable:!0,get:function(){b(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(l={},(d={})[h=Symbol()]=7,"abcdefghijklmnopqrst".split("").forEach(function(g){l[g]=g}),7!=c({},d)[h]||"abcdefghijklmnopqrst"!=
u(c({},l)).join(""))})?function(d,l){for(var h=k(d),g=arguments.length,m=1,t=r.f,v=p.f;m<g;)for(var w,z=f(arguments[m++]),y=t?u(z).concat(t(z)):u(z),F=y.length,D=0;D<F;)w=y[D++],x&&!v.call(z,w)||(h[w]=z[w]);return h}:c},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(a,G,q){function x(){}
var u,r=a("../internals/an-object"),p=a("../internals/object-define-properties"),k=a("../internals/enum-bug-keys");q=a("../internals/hidden-keys");var f=a("../internals/html"),c=a("../internals/document-create-element");a=a("../internals/shared-key");var b=a("IE_PROTO"),d=function(){try{u=document.domain&&new ActiveXObject("htmlfile")}catch(g){}d=u?((l=u).write("\x3cscript\x3e\x3c/script\x3e"),l.close(),h=l.parentWindow.Object,h):(l=c("iframe"),h="javascript:",l.style.display="none",f.appendChild(l),
l.src=String(h),(h=l.contentWindow.document).open(),h.write("\x3cscript\x3edocument.F\x3dObject\x3c/script\x3e"),h.close(),h.F);var l,h;for(l=k.length;l--;)delete d.prototype[k[l]];return d()};q[b]=!0;G.exports=Object.create||function(l,h){var g;return null!==l?(x.prototype=r(l),g=new x,x.prototype=null,g[b]=l):g=d(),void 0===h?g:p(g,h)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,
"../internals/shared-key":120}],92:[function(a,G,q){q=a("../internals/descriptors");var x=a("../internals/object-define-property"),u=a("../internals/an-object"),r=a("../internals/object-keys");G.exports=q?Object.defineProperties:function(p,k){u(p);for(var f,c=r(k),b=c.length,d=0;d<b;)x.f(p,f=c[d++],k[f]);return p}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(a,G,q){G=a("../internals/descriptors");
var x=a("../internals/ie8-dom-define"),u=a("../internals/an-object"),r=a("../internals/to-primitive"),p=Object.defineProperty;q.f=G?p:function(k,f,c){if(u(k),f=r(f,!0),u(c),x)try{return p(k,f,c)}catch(b){}if("get"in c||"set"in c)throw TypeError("Accessors not supported");return"value"in c&&(k[f]=c.value),k}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(a,G,q){G=a("../internals/descriptors");var x=a("../internals/object-property-is-enumerable"),
u=a("../internals/create-property-descriptor"),r=a("../internals/to-indexed-object"),p=a("../internals/to-primitive"),k=a("../internals/has"),f=a("../internals/ie8-dom-define"),c=Object.getOwnPropertyDescriptor;q.f=G?c:function(b,d){if(b=r(b),d=p(d,!0),f)try{return c(b,d)}catch(l){}if(k(b,d))return u(!x.f.call(b,d),b[d])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,
"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(a,G,q){var x=a("../internals/to-indexed-object"),u=a("../internals/object-get-own-property-names").f,r={}.toString,p="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];G.exports.f=function(k){if(!p||"[object Window]"!=r.call(k))return u(x(k));try{return u(k)}catch(f){return p.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],
96:[function(a,G,q){var x=a("../internals/object-keys-internal"),u=a("../internals/enum-bug-keys").concat("length","prototype");q.f=Object.getOwnPropertyNames||function(r){return x(r,u)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(a,G,q){q.f=Object.getOwnPropertySymbols},{}],98:[function(a,G,q){var x=a("../internals/has"),u=a("../internals/to-object");q=a("../internals/shared-key");a=a("../internals/correct-prototype-getter");var r=q("IE_PROTO"),p=Object.prototype;
G.exports=a?Object.getPrototypeOf:function(k){return k=u(k),x(k,r)?k[r]:"function"==typeof k.constructor&&k instanceof k.constructor?k.constructor.prototype:k instanceof Object?p:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(a,G,q){var x=a("../internals/has"),u=a("../internals/to-indexed-object"),r=a("../internals/array-includes").indexOf,p=a("../internals/hidden-keys");G.exports=function(k,f){var c;
k=u(k);var b=0,d=[];for(c in k)!x(p,c)&&x(k,c)&&d.push(c);for(;f.length>b;)!x(k,c=f[b++])||~r(d,c)||d.push(c);return d}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(a,G,q){var x=a("../internals/object-keys-internal"),u=a("../internals/enum-bug-keys");G.exports=Object.keys||function(r){return x(r,u)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(a,G,q){a={}.propertyIsEnumerable;
var x=Object.getOwnPropertyDescriptor;G=x&&!a.call({1:2},1);q.f=G?function(u){u=x(this,u);return!!u&&u.enumerable}:a},{}],102:[function(a,G,q){var x=a("../internals/an-object"),u=a("../internals/a-possible-prototype");G.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r,p=!1,k={};try{(r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(k,[]),p=k instanceof Array}catch(f){}return function(f,c){return x(f),u(c),p?r.call(f,c):f.__proto__=c,f}}():void 0)},{"../internals/a-possible-prototype":6,
"../internals/an-object":10}],103:[function(a,G,q){function x(f){return function(c){for(var b=p(c),d=r(b),l=d.length,h=0,g=[];h<l;)c=d[h++],u&&!k.call(b,c)||g.push(f?[c,b[c]]:b[c]);return g}}var u=a("../internals/descriptors"),r=a("../internals/object-keys"),p=a("../internals/to-indexed-object"),k=a("../internals/object-property-is-enumerable").f;G.exports={entries:x(!0),values:x(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],
104:[function(a,G,q){q=a("../internals/to-string-tag-support");var x=a("../internals/classof");G.exports=q?{}.toString:function(){return"[object "+x(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(a,G,q){q=a("../internals/get-built-in");var x=a("../internals/object-get-own-property-names"),u=a("../internals/object-get-own-property-symbols"),r=a("../internals/an-object");G.exports=q("Reflect","ownKeys")||function(p){var k=x.f(r(p)),f=u.f;return f?k.concat(f(p)):
k}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(a,G,q){a=a("../internals/global");G.exports=a},{"../internals/global":60}],107:[function(a,G,q){G.exports=function(x){try{return{error:!1,value:x()}}catch(u){return{error:!0,value:u}}}},{}],108:[function(a,G,q){var x=a("../internals/an-object"),u=a("../internals/is-object"),r=a("../internals/new-promise-capability");G.exports=
function(p,k){return x(p),u(k)&&k.constructor===p?k:((0,(p=r.f(p)).resolve)(k),p.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(a,G,q){var x=a("../internals/redefine");G.exports=function(u,r,p){for(var k in r)x(u,k,r[k],p);return u}},{"../internals/redefine":110}],110:[function(a,G,q){var x=a("../internals/global"),u=a("../internals/create-non-enumerable-property"),r=a("../internals/has"),p=a("../internals/set-global"),
k=a("../internals/inspect-source");a=a("../internals/internal-state");var f=a.get,c=a.enforce,b=String(String).split("String");(G.exports=function(d,l,h,g){var m=!!g&&!!g.unsafe,t=!!g&&!!g.enumerable;g=!!g&&!!g.noTargetGet;"function"==typeof h&&("string"!=typeof l||r(h,"name")||u(h,"name",l),c(h).source=b.join("string"==typeof l?l:""));d===x?t?d[l]=h:p(l,h):(m?!g&&d[l]&&(t=!0):delete d[l],t?d[l]=h:u(d,l,h))})(Function.prototype,"toString",function(){return"function"==typeof this&&f(this).source||
k(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(a,G,q){var x=a("./classof-raw"),u=a("./regexp-exec");G.exports=function(r,p){var k=r.exec;if("function"==typeof k){k=k.call(r,p);if("object"!=typeof k)throw TypeError("RegExp exec method returned something other than an Object or null");return k}if("RegExp"!==x(r))throw TypeError("RegExp#exec called on incompatible receiver");
return u.call(r,p)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(a,G,q){var x,u,r=a("./regexp-flags");a=a("./regexp-sticky-helpers");var p=RegExp.prototype.exec,k=String.prototype.replace;q=p;var f=(x=/a/,u=/b*/g,p.call(x,"a"),p.call(u,"a"),0!==x.lastIndex||0!==u.lastIndex),c=a.UNSUPPORTED_Y||a.BROKEN_CARET,b=void 0!==/()??/.exec("")[1];G.exports=q=f||b||c?function(d){var l,h,g,m,t=c&&this.sticky,v=r.call(this),w=this.source,z=0,y=d;return t&&(-1===(v=v.replace("y","")).indexOf("g")&&
(v+="g"),y=String(d).slice(this.lastIndex),0<this.lastIndex&&(!this.multiline||this.multiline&&"\n"!==d[this.lastIndex-1])&&(w="(?: "+w+")",y=" "+y,z++),h=new RegExp("^(?:"+w+")",v)),b&&(h=new RegExp("^"+w+"$(?!\\s)",v)),f&&(l=this.lastIndex),g=p.call(t?h:this,y),t?g?(g.input=g.input.slice(z),g[0]=g[0].slice(z),g.index=this.lastIndex,this.lastIndex+=g[0].length):this.lastIndex=0:f&&g&&(this.lastIndex=this.global?g.index+g[0].length:l),b&&g&&1<g.length&&k.call(g[0],h,function(){for(m=1;m<arguments.length-
2;m++)void 0===arguments[m]&&(g[m]=void 0)}),g}:q},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(a,G,q){var x=a("../internals/an-object");G.exports=function(){var u=x(this),r="";return u.global&&(r+="g"),u.ignoreCase&&(r+="i"),u.multiline&&(r+="m"),u.dotAll&&(r+="s"),u.unicode&&(r+="u"),u.sticky&&(r+="y"),r}},{"../internals/an-object":10}],114:[function(a,G,q){a=a("./fails");q.UNSUPPORTED_Y=a(function(){var x=RegExp("a","y");return x.lastIndex=2,null!=x.exec("abcd")});q.BROKEN_CARET=
a(function(){var x=RegExp("^r","gy");return x.lastIndex=2,null!=x.exec("str")})},{"./fails":51}],115:[function(a,G,q){G.exports=function(x){if(null==x)throw TypeError("Can't call method on "+x);return x}},{}],116:[function(a,G,q){G.exports=Object.is||function(x,u){return x===u?0!==x||1/x==1/u:x!=x&&u!=u}},{}],117:[function(a,G,q){var x=a("../internals/global"),u=a("../internals/create-non-enumerable-property");G.exports=function(r,p){try{u(x,r,p)}catch(k){x[r]=p}return p}},{"../internals/create-non-enumerable-property":38,
"../internals/global":60}],118:[function(a,G,q){var x=a("../internals/get-built-in"),u=a("../internals/object-define-property");q=a("../internals/well-known-symbol");var r=a("../internals/descriptors"),p=q("species");G.exports=function(k){k=x(k);var f=u.f;r&&k&&!k[p]&&f(k,p,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(a,G,q){var x=a("../internals/object-define-property").f,
u=a("../internals/has"),r=a("../internals/well-known-symbol")("toStringTag");G.exports=function(p,k,f){p&&!u(p=f?p:p.prototype,r)&&x(p,r,{configurable:!0,value:k})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(a,G,q){q=a("../internals/shared");var x=a("../internals/uid"),u=q("keys");G.exports=function(r){return u[r]||(u[r]=x(r))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(a,G,q){q=a("../internals/global");
a=a("../internals/set-global");q=q["__core-js_shared__"]||a("__core-js_shared__",{});G.exports=q},{"../internals/global":60,"../internals/set-global":117}],122:[function(a,G,q){q=a("../internals/is-pure");var x=a("../internals/shared-store");(G.exports=function(u,r){return x[u]||(x[u]=void 0!==r?r:{})})("versions",[]).push({version:"3.6.5",mode:q?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(a,G,q){var x=
a("../internals/an-object"),u=a("../internals/a-function"),r=a("../internals/well-known-symbol")("species");G.exports=function(p,k){p=x(p).constructor;return void 0===p||null==(p=x(p)[r])?k:u(p)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(a,G,q){var x=a("../internals/fails");G.exports=function(u){return x(function(){var r=""[u]('"');return r!==r.toLowerCase()||3<r.split('"').length})}},{"../internals/fails":51}],125:[function(a,G,
q){function x(p){return function(k,f){var c;k=String(r(k));f=u(f);var b=k.length;return 0>f||b<=f?p?"":void 0:55296>(c=k.charCodeAt(f))||56319<c||f+1===b||56320>(b=k.charCodeAt(f+1))||57343<b?p?k.charAt(f):c:p?k.slice(f,f+2):b-56320+(c-55296<<10)+65536}}var u=a("../internals/to-integer"),r=a("../internals/require-object-coercible");G.exports={codeAt:x(!1),charAt:x(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(a,G,q){a=a("../internals/engine-user-agent");
G.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},{"../internals/engine-user-agent":47}],127:[function(a,G,q){function x(f){return function(c,b,d){c=String(p(c));var l=c.length;d=void 0===d?" ":String(d);b=u(b);return b<=l||""==d?c:((l=r.call(d,k((b-=l)/d.length))).length>b&&(l=l.slice(0,b)),f?c+l:l+c)}}var u=a("../internals/to-length"),r=a("../internals/string-repeat"),p=a("../internals/require-object-coercible"),k=Math.ceil;G.exports={start:x(!1),end:x(!0)}},{"../internals/require-object-coercible":115,
"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(a,G,q){function x(t){return t+22+75*(26>t)}function u(t){var v,w=[],z=(t=function(R){for(var S=[],K=0,O=R.length;K<O;){var I,P=R.charCodeAt(K++);55296<=P&&56319>=P&&K<O?56320==(64512&(I=R.charCodeAt(K++)))?S.push(((1023&P)<<10)+(1023&I)+65536):(S.push(P),K--):S.push(P)}return S}(t)).length,y=128,F=0,D=72;for(E=0;E<t.length;E++)128>(v=t[E])&&w.push(m(v));var C=w.length,N=C;for(C&&w.push("-");N<z;){for(var J=r,E=0;E<t.length;E++)y<=
(v=t[E])&&v<J&&(J=v);var M=N+1;if(J-y>g((r-F)/M))throw RangeError(l);F+=(J-y)*M;y=J;for(E=0;E<t.length;E++){if((v=t[E])<y&&++F>r)throw RangeError(l);if(v==y){var Q=F;for(J=p;;J+=p){var V=J<=D?1:D+k<=J?k:J-D;if(Q<V)break;Q-=V;var W=p-V;w.push(m(x(V+Q%W)));Q=g(Q/W)}w.push(m(x(Q)));D=function(R,S,K){var O=0;R=K?g(R/c):R>>1;for(R+=g(R/S);h*k>>1<R;O+=p)R=g(R/h);return g(O+(h+1)*R/(R+f))}(F,M,N==C);F=0;++N}}++F;++y}return w.join("")}var r=2147483647,p=36,k=26,f=38,c=700,b=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,
l="Overflow: input needs wider integers to process",h=p-1,g=Math.floor,m=String.fromCharCode;G.exports=function(t){for(var v=[],w=t.toLowerCase().replace(d,".").split("."),z=0;z<w.length;z++)t=w[z],v.push(b.test(t)?"xn--"+u(t):t);return v.join(".")}},{}],129:[function(a,G,q){var x=a("../internals/to-integer"),u=a("../internals/require-object-coercible");G.exports="".repeat||function(r){var p=String(u(this)),k="";r=x(r);if(0>r||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=
1)&&(p+=p))1&r&&(k+=p);return k}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(a,G,q){var x=a("../internals/fails"),u=a("../internals/whitespaces");G.exports=function(r){return x(function(){return!!u[r]()||""!=""[r]()||u[r].name!==r})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(a,G,q){function x(k){return function(f){f=String(u(f));return 1&k&&(f=f.replace(r,"")),2&k?f.replace(p,""):f}}var u=a("../internals/require-object-coercible");
a="["+a("../internals/whitespaces")+"]";var r=RegExp("^"+a+a+"*"),p=RegExp(a+a+"*$");G.exports={start:x(1),end:x(2),trim:x(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(a,G,q){function x(F){return function(){y(F)}}function u(F){y(F.data)}function r(F){k.postMessage(F+"",l.protocol+"//"+l.host)}var p,k=a("../internals/global");q=a("../internals/fails");var f=a("../internals/classof-raw"),c=a("../internals/function-bind-context"),b=a("../internals/html"),
d=a("../internals/document-create-element");a=a("../internals/engine-is-ios");var l=k.location,h=k.setImmediate,g=k.clearImmediate,m=k.process,t=k.MessageChannel,v=k.Dispatch,w=0,z={},y=function(F){var D;z.hasOwnProperty(F)&&(D=z[F],delete z[F],D())};h&&g||(h=function(F){for(var D=[],C=1;C<arguments.length;)D.push(arguments[C++]);return z[++w]=function(){("function"==typeof F?F:Function(F)).apply(void 0,D)},p(w),w},g=function(F){delete z[F]},"process"==f(m)?p=function(F){m.nextTick(x(F))}:v&&v.now?
p=function(F){v.now(x(F))}:t&&!a?(a=(f=new t).port2,f.port1.onmessage=u,p=c(a.postMessage,a,1)):!k.addEventListener||"function"!=typeof postMessage||k.importScripts||q(r)||"file:"===l.protocol?p="onreadystatechange"in d("script")?function(F){b.appendChild(d("script")).onreadystatechange=function(){b.removeChild(this);y(F)}}:function(F){setTimeout(x(F),0)}:(p=r,k.addEventListener("message",u,!1)));G.exports={set:h,clear:g}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,
"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(a,G,q){var x=a("../internals/classof-raw");G.exports=function(u){if("number"!=typeof u&&"Number"!=x(u))throw TypeError("Incorrect invocation");return+u}},{"../internals/classof-raw":28}],134:[function(a,G,q){var x=a("../internals/to-integer"),u=Math.max,r=Math.min;G.exports=function(p,k){p=x(p);return 0>p?u(p+k,0):r(p,k)}},{"../internals/to-integer":137}],135:[function(a,
G,q){var x=a("../internals/to-integer"),u=a("../internals/to-length");G.exports=function(r){if(void 0===r)return 0;r=x(r);var p=u(r);if(r!==p)throw RangeError("Wrong length or index");return p}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(a,G,q){var x=a("../internals/indexed-object"),u=a("../internals/require-object-coercible");G.exports=function(r){return x(u(r))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(a,G,q){var x=
Math.ceil,u=Math.floor;G.exports=function(r){return isNaN(r=+r)?0:(0<r?u:x)(r)}},{}],138:[function(a,G,q){var x=a("../internals/to-integer"),u=Math.min;G.exports=function(r){return 0<r?u(x(r),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(a,G,q){var x=a("../internals/require-object-coercible");G.exports=function(u){return Object(x(u))}},{"../internals/require-object-coercible":115}],140:[function(a,G,q){var x=a("../internals/to-positive-integer");G.exports=function(u,r){u=x(u);
if(u%r)throw RangeError("Wrong offset");return u}},{"../internals/to-positive-integer":141}],141:[function(a,G,q){var x=a("../internals/to-integer");G.exports=function(u){u=x(u);if(0>u)throw RangeError("The argument can't be less than 0");return u}},{"../internals/to-integer":137}],142:[function(a,G,q){var x=a("../internals/is-object");G.exports=function(u,r){if(!x(u))return u;var p,k;if(r&&"function"==typeof(p=u.toString)&&!x(k=p.call(u))||"function"==typeof(p=u.valueOf)&&!x(k=p.call(u))||!r&&"function"==
typeof(p=u.toString)&&!x(k=p.call(u)))return k;throw TypeError("Can't convert object to primitive value");}},{"../internals/is-object":75}],143:[function(a,G,q){q={};q[a("../internals/well-known-symbol")("toStringTag")]="z";G.exports="[object z]"===String(q)},{"../internals/well-known-symbol":150}],144:[function(a,G,q){function x(pa,ra){var wa=0,ua=ra.length;for(pa=new (sa(pa))(ua);wa<ua;)pa[wa]=ra[wa++];return pa}function u(pa,ra){P(pa,ra,{get:function(){return O(this)[ra]}})}function r(pa){return pa instanceof
da||"ArrayBuffer"==(pa=D(pa))||"SharedArrayBuffer"==pa}function p(pa,ra){return xa(pa)&&"symbol"!=typeof ra&&ra in pa&&String(+ra)==String(ra)}function k(pa,ra){return p(pa,ra=y(ra,!0))?m(2,pa[ra]):X(pa,ra)}function f(pa,ra,wa){return!(p(pa,ra=y(ra,!0))&&C(wa)&&F(wa,"value"))||F(wa,"get")||F(wa,"set")||wa.configurable||F(wa,"writable")&&!wa.writable||F(wa,"enumerable")&&!wa.enumerable?P(pa,ra,wa):(pa[ra]=wa.value,pa)}var c=a("../internals/export"),b=a("../internals/global");q=a("../internals/descriptors");
var d=a("../internals/typed-array-constructors-require-wrappers"),l=a("../internals/array-buffer-view-core"),h=a("../internals/array-buffer"),g=a("../internals/an-instance"),m=a("../internals/create-property-descriptor"),t=a("../internals/create-non-enumerable-property"),v=a("../internals/to-length"),w=a("../internals/to-index"),z=a("../internals/to-offset"),y=a("../internals/to-primitive"),F=a("../internals/has"),D=a("../internals/classof"),C=a("../internals/is-object"),N=a("../internals/object-create"),
J=a("../internals/object-set-prototype-of"),E=a("../internals/object-get-own-property-names").f,M=a("../internals/typed-array-from"),Q=a("../internals/array-iteration").forEach,V=a("../internals/set-species"),W=a("../internals/object-define-property"),R=a("../internals/object-get-own-property-descriptor"),S=a("../internals/internal-state"),K=a("../internals/inherit-if-required"),O=S.get,I=S.set,P=W.f,X=R.f,ca=Math.round,ia=b.RangeError,da=h.ArrayBuffer,ba=h.DataView,ja=l.NATIVE_ARRAY_BUFFER_VIEWS,
qa=l.TYPED_ARRAY_TAG,fa=l.TypedArray,ma=l.TypedArrayPrototype,sa=l.aTypedArrayConstructor,xa=l.isTypedArray;q?(ja||(R.f=k,W.f=f,u(ma,"buffer"),u(ma,"byteOffset"),u(ma,"byteLength"),u(ma,"length")),c({target:"Object",stat:!0,forced:!ja},{getOwnPropertyDescriptor:k,defineProperty:f}),G.exports=function(pa,ra,wa){function ua(jb,Wa){P(jb,Wa,{get:function(){var Sa=this;return(Sa=O(Sa)).view[Oa](Wa*ta+Sa.byteOffset,!0)},set:function(Sa){var mb=O(this);wa&&(Sa=0>(Sa=ca(Sa))?0:255<Sa?255:255&Sa);mb.view[Ya](Wa*
ta+mb.byteOffset,Sa,!0)},enumerable:!0})}var ta=pa.match(/\d+$/)[0]/8,Ga=pa+(wa?"Clamped":"")+"Array",Oa="get"+pa,Ya="set"+pa,$a=b[Ga],Za=$a;pa=Za&&Za.prototype;var ib={};ja?d&&(Za=ra(function(jb,Wa,Sa,mb){return g(jb,Za,Ga),K(C(Wa)?r(Wa)?void 0!==mb?new $a(Wa,z(Sa,ta),mb):void 0!==Sa?new $a(Wa,z(Sa,ta)):new $a(Wa):xa(Wa)?x(Za,Wa):M.call(Za,Wa):new $a(w(Wa)),jb,Za)}),J&&J(Za,fa),Q(E($a),function(jb){jb in Za||t(Za,jb,$a[jb])}),Za.prototype=pa):(Za=ra(function(jb,Wa,Sa,mb){g(jb,Za,Ga);var Y=0,aa=0;
if(C(Wa)){if(!r(Wa))return xa(Wa)?x(Za,Wa):M.call(Za,Wa);var Z=Wa;aa=z(Sa,ta);Sa=Wa.byteLength;if(void 0===mb){if(Sa%ta)throw ia("Wrong length");if(0>(Wa=Sa-aa))throw ia("Wrong length");}else if(Sa<(Wa=v(mb)*ta)+aa)throw ia("Wrong length");Sa=Wa/ta}else Sa=w(Wa),Z=new da(Wa=Sa*ta);for(I(jb,{buffer:Z,byteOffset:aa,byteLength:Wa,length:Sa,view:new ba(Z)});Y<Sa;)ua(jb,Y++)}),J&&J(Za,fa),pa=Za.prototype=N(ma));pa.constructor!==Za&&t(pa,"constructor",Za);qa&&t(pa,qa,Ga);ib[Ga]=Za;c({global:!0,forced:Za!=
$a,sham:!ja},ib);"BYTES_PER_ELEMENT"in Za||t(Za,"BYTES_PER_ELEMENT",ta);"BYTES_PER_ELEMENT"in pa||t(pa,"BYTES_PER_ELEMENT",ta);V(Ga)}):G.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,
"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,
"../internals/typed-array-from":146}],145:[function(a,G,q){q=a("../internals/global");var x=a("../internals/fails"),u=a("../internals/check-correctness-of-iteration");a=a("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS;var r=q.ArrayBuffer,p=q.Int8Array;G.exports=!a||!x(function(){p(1)})||!x(function(){new p(-1)})||!u(function(k){new p;new p(null);new p(1.5);new p(k)},!0)||x(function(){return 1!==(new p(new r(2),1,void 0)).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,
"../internals/fails":51,"../internals/global":60}],146:[function(a,G,q){var x=a("../internals/to-object"),u=a("../internals/to-length"),r=a("../internals/get-iterator-method"),p=a("../internals/is-array-iterator-method"),k=a("../internals/function-bind-context"),f=a("../internals/array-buffer-view-core").aTypedArrayConstructor;G.exports=function(c){var b,d=x(c);var l=arguments.length;var h=1<l?arguments[1]:void 0,g=void 0!==h;var m=r(d);if(null!=m&&!p(m)){var t=(b=m.call(d)).next;for(d=[];!(m=t.call(b)).done;)d.push(m.value)}g&&
2<l&&(h=k(h,arguments[2],2));m=u(d.length);b=new (f(this))(m);for(l=0;l<m;l++)b[l]=g?h(d[l],l):d[l];return b}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(a,G,q){var x=0,u=Math.random();G.exports=function(r){return"Symbol("+String(void 0===r?"":r)+")_"+(++x+u).toString(36)}},{}],148:[function(a,G,q){a=a("../internals/native-symbol");
G.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":84}],149:[function(a,G,q){a=a("../internals/well-known-symbol");q.f=a},{"../internals/well-known-symbol":150}],150:[function(a,G,q){q=a("../internals/global");var x=a("../internals/shared"),u=a("../internals/has"),r=a("../internals/uid"),p=a("../internals/native-symbol");a=a("../internals/use-symbol-as-uid");var k=x("wks"),f=q.Symbol,c=a?f:f&&f.withoutSetter||r;G.exports=function(b){return u(k,b)||(p&&u(f,b)?
k[b]=f[b]:k[b]=c("Symbol."+b)),k[b]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(a,G,q){G.exports="\t\n\v\f\r "},{}],152:[function(a,G,q){G=a("../internals/export");q=a("../internals/global");var x=a("../internals/array-buffer");a=a("../internals/set-species");x=x.ArrayBuffer;G({global:!0,forced:q.ArrayBuffer!==x},{ArrayBuffer:x});a("ArrayBuffer")},
{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(a,G,q){G=a("../internals/export");q=a("../internals/fails");var x=a("../internals/is-array"),u=a("../internals/is-object"),r=a("../internals/to-object"),p=a("../internals/to-length"),k=a("../internals/create-property"),f=a("../internals/array-species-create"),c=a("../internals/array-method-has-species-support"),b=a("../internals/well-known-symbol");a=a("../internals/engine-v8-version");
var d=b("isConcatSpreadable");b=51<=a||!q(function(){var l=[];return l[d]=!1,l.concat()[0]!==l});a=c("concat");G({target:"Array",proto:!0,forced:!b||!a},{concat:function(l){for(var h,g,m,t,v,w=r(this),z=f(w,0),y=0,F=-1,D=arguments.length;F<D;F++)if(v=void 0,u(t=m=-1===F?w:arguments[F])&&(void 0!==(v=t[d])?v:x(t))){if(g=p(m.length),9007199254740991<y+g)throw TypeError("Maximum allowed index exceeded");for(h=0;h<g;h++,y++)h in m&&k(z,y,m[h])}else{if(9007199254740991<=y)throw TypeError("Maximum allowed index exceeded");
k(z,y++,m)}return z.length=y,z}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(a,G,q){G=a("../internals/export");q=a("../internals/array-copy-within");a=a("../internals/add-to-unscopables");
G({target:"Array",proto:!0},{copyWithin:q});a("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(a,G,q){G=a("../internals/export");var x=a("../internals/array-iteration").every;q=a("../internals/array-method-is-strict");a=a("../internals/array-method-uses-to-length");q=q("every");a=a("every");G({target:"Array",proto:!0,forced:!q||!a},{every:function(u){return x(this,u,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,
"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(a,G,q){G=a("../internals/export");q=a("../internals/array-fill");a=a("../internals/add-to-unscopables");G({target:"Array",proto:!0},{fill:q});a("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(a,G,q){G=a("../internals/export");var x=a("../internals/array-iteration").filter;q=a("../internals/array-method-has-species-support");
a=a("../internals/array-method-uses-to-length");q=q("filter");a=a("filter");G({target:"Array",proto:!0,forced:!q||!a},{filter:function(u){return x(this,u,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(a,G,q){G=a("../internals/export");var x=a("../internals/array-iteration").findIndex;q=a("../internals/add-to-unscopables");a=a("../internals/array-method-uses-to-length");
var u=!0;a=a("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){u=!1});G({target:"Array",proto:!0,forced:u||!a},{findIndex:function(r){return x(this,r,1<arguments.length?arguments[1]:void 0)}});q("findIndex")},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(a,G,q){G=a("../internals/export");var x=a("../internals/flatten-into-array"),u=a("../internals/to-object"),r=a("../internals/to-length"),
p=a("../internals/a-function"),k=a("../internals/array-species-create");G({target:"Array",proto:!0},{flatMap:function(f){var c,b=u(this),d=r(b.length);return p(f),(c=k(b,0)).length=x(c,b,b,d,0,1,f,1<arguments.length?arguments[1]:void 0),c}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(a,G,q){G=a("../internals/export");var x=a("../internals/flatten-into-array"),
u=a("../internals/to-object"),r=a("../internals/to-length"),p=a("../internals/to-integer"),k=a("../internals/array-species-create");G({target:"Array",proto:!0},{flat:function(){var f=arguments.length?arguments[0]:void 0,c=u(this),b=r(c.length),d=k(c,0);return d.length=x(d,c,c,b,0,void 0===f?1:p(f)),d}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(a,
G,q){G=a("../internals/export");a=a("../internals/array-for-each");G({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(a,G,q){G=a("../internals/export");q=a("../internals/array-from");G({target:"Array",stat:!0,forced:!a("../internals/check-correctness-of-iteration")(function(x){Array.from(x)})},{from:q})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(a,
G,q){G=a("../internals/export");var x=a("../internals/array-includes").includes;q=a("../internals/add-to-unscopables");G({target:"Array",proto:!0,forced:!a("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(u){return x(this,u,1<arguments.length?arguments[1]:void 0)}});q("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(a,G,q){G=a("../internals/export");
var x=a("../internals/array-includes").indexOf;q=a("../internals/array-method-is-strict");a=a("../internals/array-method-uses-to-length");var u=[].indexOf,r=!!u&&0>1/[1].indexOf(1,-0);q=q("indexOf");a=a("indexOf",{ACCESSORS:!0,1:0});G({target:"Array",proto:!0,forced:r||!q||!a},{indexOf:function(p){return r?u.apply(this,arguments)||0:x(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,
"../internals/export":50}],165:[function(a,G,q){var x=a("../internals/to-indexed-object");q=a("../internals/add-to-unscopables");var u=a("../internals/iterators"),r=a("../internals/internal-state");a=a("../internals/define-iterator");var p=r.set,k=r.getterFor("Array Iterator");G.exports=a(Array,"Array",function(f,c){p(this,{type:"Array Iterator",target:x(f),index:0,kind:c})},function(){var f=k(this),c=f.target,b=f.kind,d=f.index++;return!c||d>=c.length?{value:f.target=void 0,done:!0}:"keys"==b?{value:d,
done:!1}:"values"==b?{value:c[d],done:!1}:{value:[d,c[d]],done:!1}},"values");u.Arguments=u.Array;q("keys");q("values");q("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(a,G,q){G=a("../internals/export");q=a("../internals/indexed-object");var x=a("../internals/to-indexed-object");a=a("../internals/array-method-is-strict");var u=[].join;q=q!=Object;a=
a("join",",");G({target:"Array",proto:!0,forced:q||!a},{join:function(r){return u.call(x(this),void 0===r?",":r)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(a,G,q){G=a("../internals/export");a=a("../internals/array-last-index-of");G({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(a,G,q){G=
a("../internals/export");var x=a("../internals/array-iteration").map;q=a("../internals/array-method-has-species-support");a=a("../internals/array-method-uses-to-length");q=q("map");a=a("map");G({target:"Array",proto:!0,forced:!q||!a},{map:function(u){return x(this,u,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(a,G,q){G=a("../internals/export");
var x=a("../internals/is-object"),u=a("../internals/is-array"),r=a("../internals/to-absolute-index"),p=a("../internals/to-length"),k=a("../internals/to-indexed-object"),f=a("../internals/create-property");q=a("../internals/well-known-symbol");var c=a("../internals/array-method-has-species-support");a=a("../internals/array-method-uses-to-length");c=c("slice");a=a("slice",{ACCESSORS:!0,0:0,1:2});var b=q("species"),d=[].slice,l=Math.max;G({target:"Array",proto:!0,forced:!c||!a},{slice:function(h,g){var m,
t=k(this);var v=p(t.length);h=r(h,v);g=r(void 0===g?v:g,v);if(u(t)&&((m="function"==typeof(m=t.constructor)&&(m===Array||u(m.prototype))||x(m)&&null===(m=m[b])?void 0:m)===Array||void 0===m))return d.call(t,h,g);m=new (void 0===m?Array:m)(l(g-h,0));for(v=0;h<g;h++,v++)h in t&&f(m,v,t[h]);return m.length=v,m}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,
"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(a,G,q){G=a("../internals/export");var x=a("../internals/array-iteration").some;q=a("../internals/array-method-is-strict");a=a("../internals/array-method-uses-to-length");q=q("some");a=a("some");G({target:"Array",proto:!0,forced:!q||!a},{some:function(u){return x(this,u,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,
"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(a,G,q){G=a("../internals/export");var x=a("../internals/to-absolute-index"),u=a("../internals/to-integer"),r=a("../internals/to-length"),p=a("../internals/to-object"),k=a("../internals/array-species-create"),f=a("../internals/create-property");q=a("../internals/array-method-has-species-support");a=a("../internals/array-method-uses-to-length");q=q("splice");a=a("splice",{ACCESSORS:!0,
0:0,1:2});var c=Math.max,b=Math.min;G({target:"Array",proto:!0,forced:!q||!a},{splice:function(d,l){var h,g,m,t,v=p(this),w=r(v.length),z=x(d,w);d=arguments.length;if(0===d?h=g=0:g=1===d?(h=0,w-z):(h=d-2,b(c(u(l),0),w-z)),9007199254740991<w+h-g)throw TypeError("Maximum allowed length exceeded");var y=k(v,g);for(m=0;m<g;m++)(t=z+m)in v&&f(y,m,v[t]);if(h<(y.length=g)){for(m=z;m<w-g;m++){var F=m+h;(t=m+g)in v?v[F]=v[t]:delete v[F]}for(m=w;w-g+h<m;m--)delete v[m-1]}else if(g<h)for(m=w-g;z<m;m--)F=m+h-
1,(t=m+g-1)in v?v[F]=v[t]:delete v[F];for(m=0;m<h;m++)v[m+z]=arguments[m+2];return v.length=w-g+h,y}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(a,G,q){a("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],
173:[function(a,G,q){a("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(a,G,q){G=a("../internals/descriptors");a=a("../internals/object-define-property").f;q=Function.prototype;var x=q.toString,u=/^\s*function ([^ (]*)/;!G||"name"in q||a(q,"name",{configurable:!0,get:function(){try{return x.call(this).match(u)[1]}catch(r){return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(a,G,q){q=a("../internals/collection");
a=a("../internals/collection-strong");G.exports=q("Map",function(x){return function(){return x(this,arguments.length?arguments[0]:void 0)}},a)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(a,G,q){a=a("../internals/export");G=Math.hypot;var x=Math.abs,u=Math.sqrt;a({target:"Math",stat:!0,forced:!!G&&G(1/0,NaN)!==1/0},{hypot:function(r,p){for(var k,f,c=0,b=0,d=arguments.length,l=0;b<d;)l<(k=x(arguments[b++]))?(c=c*(f=l/k)*f+1,l=k):c+=0<k?(f=k/l)*f:k;return l===1/
0?1/0:l*u(c)}})},{"../internals/export":50}],177:[function(a,G,q){a=a("../internals/export");var x=Math.log,u=Math.LN2;a({target:"Math",stat:!0},{log2:function(r){return x(r)/u}})},{"../internals/export":50}],178:[function(a,G,q){a("../internals/export")({target:"Math",stat:!0},{sign:a("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(a,G,q){function x(F){var D,C,N;var J=c(F,!1);if("string"==typeof J&&2<J.length)if(43===(F=(J=m(J)).charCodeAt(0))||
45===F){if(88===(D=J.charCodeAt(2))||120===D)return NaN}else if(48===F){switch(J.charCodeAt(1)){case 66:case 98:F=2;D=49;break;case 79:case 111:F=8;D=55;break;default:return+J}var E=(J=J.slice(2)).length;for(C=0;C<E;C++)if(48>(N=J.charCodeAt(C))||D<N)return NaN;return parseInt(J,F)}return+J}var u=a("../internals/descriptors");G=a("../internals/global");var r=a("../internals/is-forced");q=a("../internals/redefine");var p=a("../internals/has"),k=a("../internals/classof-raw"),f=a("../internals/inherit-if-required"),
c=a("../internals/to-primitive"),b=a("../internals/fails"),d=a("../internals/object-create"),l=a("../internals/object-get-own-property-names").f,h=a("../internals/object-get-own-property-descriptor").f,g=a("../internals/object-define-property").f,m=a("../internals/string-trim").trim,t=G.Number,v=t.prototype,w="Number"==k(d(v));if(r("Number",!t(" 0o1")||!t("0b1")||t("+0x1"))){var z,y=function(F){F=1>arguments.length?0:F;var D=this;return D instanceof y&&(w?b(function(){v.valueOf.call(D)}):"Number"!=
k(D))?f(new t(x(F)),D,y):x(F)};a=u?l(t):"MAX_VALUE MIN_VALUE NaN NEGATIVE_INFINITY POSITIVE_INFINITY EPSILON isFinite isInteger isNaN isSafeInteger MAX_SAFE_INTEGER MIN_SAFE_INTEGER parseFloat parseInt isInteger".split(" ");for(u=0;a.length>u;u++)p(t,z=a[u])&&!p(y,z)&&g(y,z,h(t,z));(y.prototype=v).constructor=y;q(G,"Number",y)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,
"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(a,G,q){a("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(a,G,q){a("../internals/export")({target:"Number",stat:!0},{isFinite:a("../internals/number-is-finite")})},
{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(a,G,q){function x(c,b,d){return 0===b?d:1==b%2?x(c,b-1,d*c):x(c*c,b/2,d)}G=a("../internals/export");var u=a("../internals/to-integer"),r=a("../internals/this-number-value"),p=a("../internals/string-repeat");a=a("../internals/fails");var k=(1).toFixed,f=Math.floor;G({target:"Number",proto:!0,forced:k&&("0.000"!==(8E-5).toFixed(3)||"1"!==(.9).toFixed(0)||"1.25"!==(1.255).toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||
!a(function(){k.call({})})},{toFixed:function(c){function b(w,z){for(var y=-1;6>++y;)z+=w*m[y],m[y]=z%1E7,z=f(z/1E7)}function d(w){for(var z=6,y=0;0<=--z;)y+=m[z],m[z]=f(y/w),y=y%w*1E7}function l(){for(var w,z=6,y="";0<=--z;)""===y&&0!==z&&0===m[z]||(w=String(m[z]),y=""===y?w:y+p.call("0",7-w.length)+w);return y}var h,g=r(this);c=u(c);var m=[0,0,0,0,0,0],t="";var v="0";if(0>c||20<c)throw RangeError("Incorrect fraction digits");if(g!=g)return"NaN";if(-1E21>=g||1E21<=g)return String(g);if(0>g&&(t="-",
g=-g),1E-21<g)if(g=0>(h=function(w){for(var z=0;4096<=w;)z+=12,w/=4096;for(;2<=w;)z+=1,w/=2;return z}(g*x(2,69,1))-69)?g*x(2,-h,1):g/x(2,h,1),g*=4503599627370496,0<(h=52-h)){b(0,g);for(v=c;7<=v;)b(1E7,0),v-=7;b(x(10,v,1),0);for(v=h-1;23<=v;)d(8388608),v-=23;d(1<<v);b(1,1);d(2);v=l()}else b(0,g),b(1<<-h,0),v=l()+p.call("0",c);return v=0<c?t+((g=v.length)<=c?"0."+p.call("0",c-g)+v:v.slice(0,g-c)+"."+v.slice(g-c)):t+v}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,
"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(a,G,q){G=a("../internals/export");a=a("../internals/object-assign");G({target:"Object",stat:!0,forced:Object.assign!==a},{assign:a})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(a,G,q){G=a("../internals/export");var x=a("../internals/object-to-array").entries;G({target:"Object",stat:!0},{entries:function(u){return x(u)}})},{"../internals/export":50,"../internals/object-to-array":103}],
185:[function(a,G,q){G=a("../internals/export");var x=a("../internals/iterate"),u=a("../internals/create-property");G({target:"Object",stat:!0},{fromEntries:function(r){var p={};return x(r,function(k,f){u(p,k,f)},void 0,!0),p}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(a,G,q){G=a("../internals/export");q=a("../internals/fails");var x=a("../internals/to-indexed-object"),u=a("../internals/object-get-own-property-descriptor").f;a=a("../internals/descriptors");
q=q(function(){u(1)});G({target:"Object",stat:!0,forced:!a||q,sham:!a},{getOwnPropertyDescriptor:function(r,p){return u(x(r),p)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(a,G,q){G=a("../internals/export");q=a("../internals/fails");a=a("../internals/object-get-own-property-names-external").f;G({target:"Object",stat:!0,forced:q(function(){return!Object.getOwnPropertyNames(1)})},
{getOwnPropertyNames:a})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(a,G,q){G=a("../internals/export");q=a("../internals/fails");var x=a("../internals/to-object"),u=a("../internals/object-get-prototype-of");a=a("../internals/correct-prototype-getter");G({target:"Object",stat:!0,forced:q(function(){u(1)}),sham:!a},{getPrototypeOf:function(r){return u(x(r))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,
"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(a,G,q){G=a("../internals/export");var x=a("../internals/to-object"),u=a("../internals/object-keys");G({target:"Object",stat:!0,forced:a("../internals/fails")(function(){u(1)})},{keys:function(r){return u(x(r))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(a,G,q){G=a("../internals/to-string-tag-support");q=
a("../internals/redefine");a=a("../internals/object-to-string");G||q(Object.prototype,"toString",a,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(a,G,q){var x,u,r;G=a("../internals/export");var p=a("../internals/is-pure"),k=a("../internals/global");q=a("../internals/get-built-in");var f=a("../internals/native-promise-constructor"),c=a("../internals/redefine"),b=a("../internals/redefine-all"),d=a("../internals/set-to-string-tag"),
l=a("../internals/set-species"),h=a("../internals/is-object"),g=a("../internals/a-function"),m=a("../internals/an-instance"),t=a("../internals/classof-raw"),v=a("../internals/inspect-source"),w=a("../internals/iterate"),z=a("../internals/check-correctness-of-iteration"),y=a("../internals/species-constructor"),F=a("../internals/task").set,D=a("../internals/microtask"),C=a("../internals/promise-resolve"),N=a("../internals/host-report-errors"),J=a("../internals/new-promise-capability"),E=a("../internals/perform"),
M=a("../internals/internal-state"),Q=a("../internals/is-forced"),V=a("../internals/well-known-symbol"),W=a("../internals/engine-v8-version"),R=V("species"),S=M.get,K=M.set,O=M.getterFor("Promise"),I=f,P=k.TypeError,X=k.document,ca=k.process,ia=q("fetch"),da=J.f,ba=da,ja="process"==t(ca),qa=!!(X&&X.createEvent&&k.dispatchEvent);V=(a=Q("Promise",function(){var ua,ta;return v(I)!==String(I)||66!==W&&(ja||"function"==typeof PromiseRejectionEvent)?!(!p||I.prototype.finally)||!(51<=W&&/native code/.test(I))&&
(ta=function(Ga){Ga(function(){},function(){})},((ua=I.resolve(1)).constructor={})[R]=ta,!(ua.then(function(){})instanceof ta)):!0}))||!z(function(ua){I.all(ua).catch(function(){})});var fa=function(ua){var ta;return!(!h(ua)||"function"!=typeof(ta=ua.then))&&ta},ma=function(ua,ta,Ga){var Oa;ta.notified||(ta.notified=!0,Oa=ta.reactions,D(function(){for(var Ya=ta.value,$a=1==ta.state,Za=0;Oa.length>Za;){var ib,jb,Wa,Sa=Oa[Za++],mb=$a?Sa.ok:Sa.fail,Y=Sa.resolve,aa=Sa.reject,Z=Sa.domain;try{mb?($a||(2===
ta.rejection&&function(ka,va){F.call(k,function(){ja?ca.emit("rejectionHandled",ka):sa("rejectionhandled",ka,va.value)})}(ua,ta),ta.rejection=1),!0===mb?ib=Ya:(Z&&Z.enter(),ib=mb(Ya),Z&&(Z.exit(),Wa=!0)),ib===Sa.promise?aa(P("Promise-chain cycle")):(jb=fa(ib))?jb.call(ib,Y,aa):Y(ib)):aa(Ya)}catch(ka){Z&&!Wa&&Z.exit(),aa(ka)}}ta.reactions=[];ta.notified=!1;Ga&&!ta.rejection&&F.call(k,function(){var ka=ta.value,va=1!==ta.rejection&&!ta.parent;if(va&&(va=E(function(){ja?ca.emit("unhandledRejection",
ka,ua):sa("unhandledrejection",ua,ka)}),ta.rejection=ja||1!==ta.rejection&&!ta.parent?2:1,va.error))throw va.value;})}))},sa=function(ua,ta,Ga){var Oa;qa?((Oa=X.createEvent("Event")).promise=ta,Oa.reason=Ga,Oa.initEvent(ua,!1,!0),k.dispatchEvent(Oa)):Oa={promise:ta,reason:Ga};(ta=k["on"+ua])?ta(Oa):"unhandledrejection"===ua&&N("Unhandled promise rejection",Ga)},xa=function(ua,ta,Ga,Oa){return function(Ya){ua(ta,Ga,Ya,Oa)}},pa=function(ua,ta,Ga,Oa){ta.done||(ta.done=!0,(ta=Oa?Oa:ta).value=Ga,ta.state=
2,ma(ua,ta,!0))},ra=function(ua,ta,Ga,Oa){if(!ta.done){ta.done=!0;Oa&&(ta=Oa);try{if(ua===Ga)throw P("Promise can't be resolved itself");var Ya=fa(Ga);Ya?D(function(){var $a={done:!1};try{Ya.call(Ga,xa(ra,ua,$a,ta),xa(pa,ua,$a,ta))}catch(Za){pa(ua,$a,Za,ta)}}):(ta.value=Ga,ta.state=1,ma(ua,ta,!1))}catch($a){pa(ua,{done:!1},$a,ta)}}};a&&(I=function(ua){m(this,I,"Promise");g(ua);x.call(this);var ta=S(this);try{ua(xa(ra,this,ta),xa(pa,this,ta))}catch(Ga){pa(this,ta,Ga)}},(x=function(ua){K(this,{type:"Promise",
done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=b(I.prototype,{then:function(ua,ta){var Ga=O(this),Oa=da(y(this,I));return Oa.ok="function"!=typeof ua||ua,Oa.fail="function"==typeof ta&&ta,Oa.domain=ja?ca.domain:void 0,Ga.parent=!0,Ga.reactions.push(Oa),0!=Ga.state&&ma(this,Ga,!1),Oa.promise},catch:function(ua){return this.then(void 0,ua)}}),u=function(){var ua=new x,ta=S(ua);this.promise=ua;this.resolve=xa(ra,ua,ta);this.reject=xa(pa,ua,ta)},J.f=da=function(ua){return ua===
I||ua===wa?new u:ba(ua)},p||"function"!=typeof f||(r=f.prototype.then,c(f.prototype,"then",function(ua,ta){var Ga=this;return(new I(function(Oa,Ya){r.call(Ga,Oa,Ya)})).then(ua,ta)},{unsafe:!0}),"function"==typeof ia&&G({global:!0,enumerable:!0,forced:!0},{fetch:function(ua){return C(I,ia.apply(k,arguments))}})));G({global:!0,wrap:!0,forced:a},{Promise:I});d(I,"Promise",!1,!0);l("Promise");var wa=q("Promise");G({target:"Promise",stat:!0,forced:a},{reject:function(ua){var ta=da(this);return ta.reject.call(void 0,
ua),ta.promise}});G({target:"Promise",stat:!0,forced:p||a},{resolve:function(ua){return C(p&&this===wa?I:this,ua)}});G({target:"Promise",stat:!0,forced:V},{all:function(ua){var ta=this,Ga=da(ta),Oa=Ga.resolve,Ya=Ga.reject,$a=E(function(){var Za=g(ta.resolve),ib=[],jb=0,Wa=1;w(ua,function(Sa){var mb=jb++,Y=!1;ib.push(void 0);Wa++;Za.call(ta,Sa).then(function(aa){Y||(Y=!0,ib[mb]=aa,--Wa||Oa(ib))},Ya)});--Wa||Oa(ib)});return $a.error&&Ya($a.value),Ga.promise},race:function(ua){var ta=this,Ga=da(ta),
Oa=Ga.reject,Ya=E(function(){var $a=g(ta.resolve);w(ua,function(Za){$a.call(ta,Za).then(Ga.resolve,Oa)})});return Ya.error&&Oa(Ya.value),Ga.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,
"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],
192:[function(a,G,q){G=a("../internals/export");q=a("../internals/get-built-in");var x=a("../internals/a-function"),u=a("../internals/an-object"),r=a("../internals/is-object"),p=a("../internals/object-create"),k=a("../internals/function-bind");a=a("../internals/fails");var f=q("Reflect","construct"),c=a(function(){function d(){}return!(f(function(){},[],d)instanceof d)}),b=!a(function(){f(function(){})});q=c||b;G({target:"Reflect",stat:!0,forced:q,sham:q},{construct:function(d,l){x(d);u(l);var h=
3>arguments.length?d:x(arguments[2]);if(b&&!c)return f(d,l,h);if(d==h){switch(l.length){case 0:return new d;case 1:return new d(l[0]);case 2:return new d(l[0],l[1]);case 3:return new d(l[0],l[1],l[2]);case 4:return new d(l[0],l[1],l[2],l[3])}var g=[null];return g.push.apply(g,l),new (k.apply(d,g))}g=h.prototype;h=p(r(g)?g:Object.prototype);g=Function.apply.call(d,h,l);return r(g)?g:h}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,
"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(a,G,q){G=a("../internals/export");var x=a("../internals/is-object"),u=a("../internals/an-object"),r=a("../internals/has"),p=a("../internals/object-get-own-property-descriptor"),k=a("../internals/object-get-prototype-of");G({target:"Reflect",stat:!0},{get:function d(c,b){var l,h=3>arguments.length?c:arguments[2];return u(c)===h?c[b]:(l=p.f(c,b))?r(l,"value")?l.value:void 0===l.get?void 0:l.get.call(h):
x(l=k(c))?d(l,b,h):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(a,G,q){var x=a("../internals/descriptors");G=a("../internals/global");var u=a("../internals/is-forced"),r=a("../internals/inherit-if-required"),p=a("../internals/object-define-property").f,k=a("../internals/object-get-own-property-names").f,f=a("../internals/is-regexp"),
c=a("../internals/regexp-flags"),b=a("../internals/regexp-sticky-helpers");q=a("../internals/redefine");var d=a("../internals/fails"),l=a("../internals/internal-state").set,h=a("../internals/set-species"),g=a("../internals/well-known-symbol")("match"),m=G.RegExp,t=m.prototype,v=/a/g,w=/a/g,z=new m(v)!==v,y=b.UNSUPPORTED_Y;if(x&&u("RegExp",!z||y||d(function(){return w[g]=!1,m(v)!=v||m(w)==w||"/a/i"!=m(v,"i")}))){var F=function(D,C){var N,J=this instanceof F,E=f(D),M=void 0===C;if(!J&&E&&D.constructor===
F&&M)return D;z?E&&!M&&(D=D.source):D instanceof F&&(M&&(C=c.call(D)),D=D.source);y&&(N=!!C&&-1<C.indexOf("y"))&&(C=C.replace(/y/g,""));E=r(z?new m(D,C):m(D,C),J?this:t,F);return y&&N&&l(E,{sticky:N}),E};a=k(m);for(x=0;a.length>x;)!function(D){D in F||p(F,D,{configurable:!0,get:function(){return m[D]},set:function(C){m[D]=C}})}(a[x++]);(t.constructor=F).prototype=t;q(G,"RegExp",F)}h("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,
"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(a,G,q){G=a("../internals/export");a=a("../internals/regexp-exec");G({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},{"../internals/export":50,
"../internals/regexp-exec":112}],196:[function(a,G,q){G=a("../internals/redefine");var x=a("../internals/an-object");q=a("../internals/fails");var u=a("../internals/regexp-flags");a="toString";var r=RegExp.prototype,p=r[a];q=q(function(){return"/a/b"!=p.call({source:"a",flags:"b"})});var k=p.name!=a;(q||k)&&G(RegExp.prototype,a,function(){var f=x(this),c=f.flags;return"/"+String(f.source)+"/"+String(void 0===c&&f instanceof RegExp&&!("flags"in r)?u.call(f):c)},{unsafe:!0})},{"../internals/an-object":10,
"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(a,G,q){q=a("../internals/collection");a=a("../internals/collection-strong");G.exports=q("Set",function(x){return function(){return x(this,arguments.length?arguments[0]:void 0)}},a)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(a,G,q){G=a("../internals/export");q=a("../internals/object-get-own-property-descriptor").f;var x=a("../internals/to-length"),u=a("../internals/not-a-regexp"),
r=a("../internals/require-object-coercible"),p=a("../internals/correct-is-regexp-logic");a=a("../internals/is-pure");var k="".endsWith,f=Math.min;p=p("endsWith");G({target:"String",proto:!0,forced:!(!a&&!p&&(G=q(String.prototype,"endsWith"))&&!G.writable)&&!p},{endsWith:function(c){var b=String(r(this)),d=(u(c),1<arguments.length?arguments[1]:void 0),l=x(b.length);d=void 0===d?l:f(x(d),l);l=String(c);return k?k.call(b,l,d):b.slice(d-l.length,d)===l}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,
"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(a,G,q){G=a("../internals/export");var x=a("../internals/not-a-regexp"),u=a("../internals/require-object-coercible");G({target:"String",proto:!0,forced:!a("../internals/correct-is-regexp-logic")("includes")},{includes:function(r){return!!~String(u(this)).indexOf(x(r),1<arguments.length?arguments[1]:void 0)}})},
{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(a,G,q){var x=a("../internals/string-multibyte").charAt;G=a("../internals/internal-state");a=a("../internals/define-iterator");var u=G.set,r=G.getterFor("String Iterator");a(String,"String",function(p){u(this,{type:"String Iterator",string:String(p),index:0})},function(){var p=r(this),k=p.string,f=p.index;return f>=k.length?{value:void 0,done:!0}:
(k=x(k,f),p.index+=k.length,{value:k,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(a,G,q){G=a("../internals/fix-regexp-well-known-symbol-logic");var x=a("../internals/an-object"),u=a("../internals/to-length"),r=a("../internals/require-object-coercible"),p=a("../internals/advance-string-index"),k=a("../internals/regexp-exec-abstract");G("match",1,function(f,c,b){return[function(d){var l=r(this),h=null==d?void 0:
d[f];return void 0!==h?h.call(d,l):(new RegExp(d))[f](String(l))},function(d){var l=b(c,d,this);if(l.done)return l.value;d=x(d);l=String(this);if(!d.global)return k(d,l);for(var h=d.unicode,g=[],m=d.lastIndex=0;null!==(t=k(d,l));){var t=String(t[0]);""===(g[m]=t)&&(d.lastIndex=p(l,u(d.lastIndex),h));m++}return 0===m?null:g}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,
"../internals/to-length":138}],202:[function(a,G,q){G=a("../internals/export");var x=a("../internals/string-pad").start;G({target:"String",proto:!0,forced:a("../internals/string-pad-webkit-bug")},{padStart:function(u){return x(this,u,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(a,G,q){a("../internals/export")({target:"String",proto:!0},{repeat:a("../internals/string-repeat")})},{"../internals/export":50,
"../internals/string-repeat":129}],204:[function(a,G,q){G=a("../internals/fix-regexp-well-known-symbol-logic");var x=a("../internals/an-object"),u=a("../internals/to-object"),r=a("../internals/to-length"),p=a("../internals/to-integer"),k=a("../internals/require-object-coercible"),f=a("../internals/advance-string-index"),c=a("../internals/regexp-exec-abstract"),b=Math.max,d=Math.min,l=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g;G("replace",2,function(m,t,v,w){var z=w.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,
y=w.REPLACE_KEEPS_$0,F=z?"$":"$0";return[function(D,C){var N=k(this),J=null==D?void 0:D[m];return void 0!==J?J.call(D,N,C):t.call(String(N),D,C)},function(D,C){if(!z&&y||"string"==typeof C&&-1===C.indexOf(F)){var N=v(t,D,this,C);if(N.done)return N.value}var J,E=x(D);D=String(this);N="function"==typeof C;for(var M=(N||(C=String(C)),E.global),Q=(M&&(J=E.unicode,E.lastIndex=0),[]);null!==(W=c(E,D))&&(Q.push(W),M);)""===String(W[0])&&(E.lastIndex=f(D,r(E.lastIndex),J));var V;J="";for(M=E=0;M<Q.length;M++){for(var W=
Q[M],R=String(W[0]),S=b(d(p(W.index),D.length),0),K=[],O=1;O<W.length;O++)K.push(void 0===(V=W[O])?V:String(V));W=W.groups;var I=N?(I=[R].concat(K,S,D),void 0!==W&&I.push(W),String(C.apply(void 0,I))):function(P,X,ca,ia,da,ba){var ja=ca+P.length,qa=ia.length,fa=g;void 0!==da&&(da=u(da),fa=h);return t.call(ba,fa,function(ma,sa){switch(sa.charAt(0)){case "$":return"$";case "\x26":return P;case "`":return X.slice(0,ca);case "'":return X.slice(ja);case "\x3c":ma=da[sa.slice(1,-1)];break;default:var xa,
pa=+sa;if(0==pa)return ma;if(qa<pa)return 0!==(xa=l(pa/10))&&xa<=qa?void 0===ia[xa-1]?sa.charAt(1):ia[xa-1]+sa.charAt(1):ma;ma=ia[pa-1]}return void 0===ma?"":ma})}(R,D,S,K,W,C);E<=S&&(J+=D.slice(E,S)+I,E=S+R.length)}return J+D.slice(E)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,
"../internals/to-object":139}],205:[function(a,G,q){G=a("../internals/fix-regexp-well-known-symbol-logic");var x=a("../internals/an-object"),u=a("../internals/require-object-coercible"),r=a("../internals/same-value"),p=a("../internals/regexp-exec-abstract");G("search",1,function(k,f,c){return[function(b){var d=u(this),l=null==b?void 0:b[k];return void 0!==l?l.call(b,d):(new RegExp(b))[k](String(d))},function(b){var d,l=c(f,b,this);return l.done?l.value:(l=x(b),b=String(this),d=l.lastIndex,r(d,0)||
(l.lastIndex=0),b=p(l,b),r(l.lastIndex,d)||(l.lastIndex=d),null===b?-1:b.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(a,G,q){G=a("../internals/fix-regexp-well-known-symbol-logic");var x=a("../internals/is-regexp"),u=a("../internals/an-object"),r=a("../internals/require-object-coercible"),p=a("../internals/species-constructor"),
k=a("../internals/advance-string-index"),f=a("../internals/to-length"),c=a("../internals/regexp-exec-abstract"),b=a("../internals/regexp-exec");a=a("../internals/fails");var d=[].push,l=Math.min,h=!a(function(){return!RegExp(4294967295,"y")});G("split",2,function(g,m,t){var v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(w,z){var y=String(r(this)),F=void 0===
z?4294967295:z>>>0;if(0==F)return[];if(void 0===w)return[y];if(!x(w))return m.call(y,w,F);var D,C,N,J=[];z=(w.ignoreCase?"i":"")+(w.multiline?"m":"")+(w.unicode?"u":"")+(w.sticky?"y":"");var E=0;for(w=new RegExp(w.source,z+"g");(D=b.call(w,y))&&!(E<(C=w.lastIndex)&&(J.push(y.slice(E,D.index)),1<D.length&&D.index<y.length&&d.apply(J,D.slice(1)),N=D[0].length,E=C,J.length>=F));)w.lastIndex===D.index&&w.lastIndex++;return E===y.length?!N&&w.test("")||J.push(""):J.push(y.slice(E)),J.length>F?J.slice(0,
F):J}:"0".split(void 0,0).length?function(w,z){return void 0===w&&0===z?[]:m.call(this,w,z)}:m;return[function(w,z){var y=r(this),F=null==w?void 0:w[g];return void 0!==F?F.call(w,y,z):v.call(String(y),w,z)},function(w,z){var y=t(v,w,this,z,v!==m);if(y.done)return y.value;y=u(w);var F=String(this);w=p(y,RegExp);var D=y.unicode;w=new w(h?y:"^(?:"+y.source+")",(y.ignoreCase?"i":"")+(y.multiline?"m":"")+(y.unicode?"u":"")+(h?"y":"g"));z=void 0===z?4294967295:z>>>0;if(0==z)return[];if(0===F.length)return null===
c(w,F)?[F]:[];var C=0,N=0;for(y=[];N<F.length;){w.lastIndex=h?N:0;var J,E=c(w,h?F:F.slice(N));if(null===E||(J=l(f(w.lastIndex+(h?0:N)),F.length))===C)N=k(F,N,D);else{if(y.push(F.slice(C,N)),y.length===z)return y;for(C=1;C<=E.length-1;C++)if(y.push(E[C]),y.length===z)return y;N=C=J}}return y.push(F.slice(C)),y}]},!h)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,
"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(a,G,q){G=a("../internals/export");q=a("../internals/object-get-own-property-descriptor").f;var x=a("../internals/to-length"),u=a("../internals/not-a-regexp"),r=a("../internals/require-object-coercible"),p=a("../internals/correct-is-regexp-logic");a=a("../internals/is-pure");var k="".startsWith,f=Math.min;p=p("startsWith");G({target:"String",
proto:!0,forced:!(!a&&!p&&(G=q(String.prototype,"startsWith"))&&!G.writable)&&!p},{startsWith:function(c){var b=String(r(this)),d=(u(c),x(f(1<arguments.length?arguments[1]:void 0,b.length)));c=String(c);return k?k.call(b,c,d):b.slice(d,d+c.length)===c}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],
208:[function(a,G,q){G=a("../internals/export");var x=a("../internals/create-html");G({target:"String",proto:!0,forced:a("../internals/string-html-forced")("sub")},{sub:function(){return x(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(a,G,q){G=a("../internals/export");var x=a("../internals/string-trim").trim;G({target:"String",proto:!0,forced:a("../internals/string-trim-forced")("trim")},{trim:function(){return x(this)}})},
{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(a,G,q){var x,u,r,p,k;G=a("../internals/export");q=a("../internals/descriptors");var f=a("../internals/global"),c=a("../internals/has"),b=a("../internals/is-object"),d=a("../internals/object-define-property").f;a=a("../internals/copy-constructor-properties");var l=f.Symbol;!q||"function"!=typeof l||"description"in l.prototype&&void 0===l().description||(x={},a(u=function(){var h=1>arguments.length||
void 0===arguments[0]?void 0:String(arguments[0]),g=this instanceof u?new l(h):void 0===h?l():l(h);return""===h&&(x[g]=!0),g},l),(f=u.prototype=l.prototype).constructor=u,r=f.toString,p="Symbol(test)"==String(l("test")),k=/^Symbol\((.*)\)[^)]+$/,d(f,"description",{configurable:!0,get:function(){var h=b(this)?this.valueOf():this,g=r.call(h);return c(x,h)?"":""===(h=p?g.slice(7,-1):g.replace(k,"$1"))?void 0:h}}),G({global:!0,forced:!0},{Symbol:u}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,
"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(a,G,q){a("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(a,G,q){function x(Y,aa){var Z=Ga[Y]=F(xa[qa]);return fa(Z,{type:ja,tag:Y,description:aa}),c||(Z.description=aa),Z}function u(Y,aa){t(Y);var Z=w(aa);aa=D(Z).concat(mb(Z));return da(aa,function(ka){c&&!Sa.call(Z,ka)||Wa(Y,ka,
Z[ka])}),Y}function r(Y,aa){var Z;Y=w(Y);aa=z(aa,!0);if(Y!==sa||!h(Ga,aa)||h(Oa,aa))return!(Z=ra(Y,aa))||!h(Ga,aa)||h(Y,ba)&&Y[ba][aa]||(Z.enumerable=!0),Z}function p(Y){Y=ua(w(Y));var aa=[];return da(Y,function(Z){h(Ga,Z)||h(K,Z)||aa.push(Z)}),aa}G=a("../internals/export");q=a("../internals/global");var k=a("../internals/get-built-in"),f=a("../internals/is-pure"),c=a("../internals/descriptors"),b=a("../internals/native-symbol"),d=a("../internals/use-symbol-as-uid"),l=a("../internals/fails"),h=a("../internals/has"),
g=a("../internals/is-array"),m=a("../internals/is-object"),t=a("../internals/an-object"),v=a("../internals/to-object"),w=a("../internals/to-indexed-object"),z=a("../internals/to-primitive"),y=a("../internals/create-property-descriptor"),F=a("../internals/object-create"),D=a("../internals/object-keys"),C=a("../internals/object-get-own-property-names"),N=a("../internals/object-get-own-property-names-external"),J=a("../internals/object-get-own-property-symbols"),E=a("../internals/object-get-own-property-descriptor"),
M=a("../internals/object-define-property"),Q=a("../internals/object-property-is-enumerable"),V=a("../internals/create-non-enumerable-property"),W=a("../internals/redefine"),R=a("../internals/shared"),S=a("../internals/shared-key"),K=a("../internals/hidden-keys"),O=a("../internals/uid"),I=a("../internals/well-known-symbol"),P=a("../internals/well-known-symbol-wrapped"),X=a("../internals/define-well-known-symbol"),ca=a("../internals/set-to-string-tag"),ia=a("../internals/internal-state"),da=a("../internals/array-iteration").forEach,
ba=S("hidden"),ja="Symbol",qa="prototype";a=I("toPrimitive");var fa=ia.set,ma=ia.getterFor(ja),sa=Object[qa],xa=q.Symbol,pa=k("JSON","stringify"),ra=E.f,wa=M.f,ua=N.f,ta=Q.f,Ga=R("symbols"),Oa=R("op-symbols"),Ya=R("string-to-symbol-registry"),$a=R("symbol-to-string-registry");S=R("wks");ia=q.QObject;var Za=!ia||!ia[qa]||!ia[qa].findChild,ib=c&&l(function(){return 7!=F(wa({},"a",{get:function(){return wa(this,"a",{value:7}).a}})).a})?function(Y,aa,Z){var ka=ra(sa,aa);ka&&delete sa[aa];wa(Y,aa,Z);ka&&
Y!==sa&&wa(sa,aa,ka)}:wa,jb=d?function(Y){return"symbol"==typeof Y}:function(Y){return Object(Y)instanceof xa},Wa=function(Y,aa,Z){Y===sa&&Wa(Oa,aa,Z);t(Y);aa=z(aa,!0);return t(Z),(h(Ga,aa)?(Z.enumerable?(h(Y,ba)&&Y[ba][aa]&&(Y[ba][aa]=!1),Z=F(Z,{enumerable:y(0,!1)})):(h(Y,ba)||wa(Y,ba,y(1,{})),Y[ba][aa]=!0),ib):wa)(Y,aa,Z)},Sa=function(Y){Y=z(Y,!0);var aa=ta.call(this,Y);return!(this===sa&&h(Ga,Y)&&!h(Oa,Y))&&(!(aa||!h(this,Y)||!h(Ga,Y)||h(this,ba)&&this[ba][Y])||aa)},mb=function(Y){var aa=Y===sa;
Y=ua(aa?Oa:w(Y));var Z=[];return da(Y,function(ka){!h(Ga,ka)||aa&&!h(sa,ka)||Z.push(Ga[ka])}),Z};b||(W((xa=function(){if(this instanceof xa)throw TypeError("Symbol is not a constructor");var Y=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,aa=O(Y),Z=function(ka){this===sa&&Z.call(Oa,ka);h(this,ba)&&h(this[ba],aa)&&(this[ba][aa]=!1);ib(this,aa,y(1,ka))};return c&&Za&&ib(sa,aa,{configurable:!0,set:Z}),x(aa,Y)})[qa],"toString",function(){return ma(this).tag}),W(xa,"withoutSetter",
function(Y){return x(O(Y),Y)}),Q.f=Sa,M.f=Wa,E.f=r,C.f=N.f=p,J.f=mb,P.f=function(Y){return x(I(Y),Y)},c&&(wa(xa[qa],"description",{configurable:!0,get:function(){return ma(this).description}}),f||W(sa,"propertyIsEnumerable",Sa,{unsafe:!0})));G({global:!0,wrap:!0,forced:!b,sham:!b},{Symbol:xa});da(D(S),function(Y){X(Y)});G({target:ja,stat:!0,forced:!b},{for:function(Y){var aa;Y=String(Y);return h(Ya,Y)?Ya[Y]:(aa=xa(Y),Ya[Y]=aa,$a[aa]=Y,aa)},keyFor:function(Y){if(!jb(Y))throw TypeError(Y+" is not a symbol");
if(h($a,Y))return $a[Y]},useSetter:function(){Za=!0},useSimple:function(){Za=!1}});G({target:"Object",stat:!0,forced:!b,sham:!c},{create:function(Y,aa){return void 0===aa?F(Y):u(F(Y),aa)},defineProperty:Wa,defineProperties:u,getOwnPropertyDescriptor:r});G({target:"Object",stat:!0,forced:!b},{getOwnPropertyNames:p,getOwnPropertySymbols:mb});G({target:"Object",stat:!0,forced:l(function(){J.f(1)})},{getOwnPropertySymbols:function(Y){return J.f(v(Y))}});pa&&G({target:"JSON",stat:!0,forced:!b||l(function(){var Y=
xa();return"[null]"!=pa([Y])||"{}"!=pa({a:Y})||"{}"!=pa(Object(Y))})},{stringify:function(Y,aa,Z){for(var ka,va=[Y],Aa=1;Aa<arguments.length;)va.push(arguments[Aa++]);if((m(ka=aa)||void 0!==Y)&&!jb(Y))return g(aa)||(aa=function(Fa,Pa){if("function"==typeof ka&&(Pa=ka.call(this,Fa,Pa)),!jb(Pa))return Pa}),va[1]=aa,pa.apply(null,va)}});xa[qa][a]||V(xa[qa],a,xa[qa].valueOf);ca(xa,ja);K[ba]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,
"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,
"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,
"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(a,G,q){G=a("../internals/array-buffer-view-core");var x=a("../internals/array-copy-within"),u=G.aTypedArray;(0,G.exportTypedArrayMethod)("copyWithin",function(r,p){return x.call(u(this),r,p,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(a,G,q){G=a("../internals/array-buffer-view-core");var x=a("../internals/array-iteration").every,
u=G.aTypedArray;(0,G.exportTypedArrayMethod)("every",function(r){return x(u(this),r,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(a,G,q){G=a("../internals/array-buffer-view-core");var x=a("../internals/array-fill"),u=G.aTypedArray;(0,G.exportTypedArrayMethod)("fill",function(r){return x.apply(u(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(a,G,q){G=
a("../internals/array-buffer-view-core");var x=a("../internals/array-iteration").filter,u=a("../internals/species-constructor"),r=G.aTypedArray,p=G.aTypedArrayConstructor;(0,G.exportTypedArrayMethod)("filter",function(k){var f=x(r(this),k,1<arguments.length?arguments[1]:void 0);k=u(this,this.constructor);for(var c=0,b=f.length,d=new (p(k))(b);c<b;)d[c]=f[c++];return d})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(a,
G,q){G=a("../internals/array-buffer-view-core");var x=a("../internals/array-iteration").findIndex,u=G.aTypedArray;(0,G.exportTypedArrayMethod)("findIndex",function(r){return x(u(this),r,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(a,G,q){G=a("../internals/array-buffer-view-core");var x=a("../internals/array-iteration").find,u=G.aTypedArray;(0,G.exportTypedArrayMethod)("find",function(r){return x(u(this),r,1<
arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(a,G,q){a("../internals/typed-array-constructor")("Float32",function(x){return function(u,r,p){return x(this,u,r,p)}})},{"../internals/typed-array-constructor":144}],220:[function(a,G,q){a("../internals/typed-array-constructor")("Float64",function(x){return function(u,r,p){return x(this,u,r,p)}})},{"../internals/typed-array-constructor":144}],221:[function(a,G,q){G=a("../internals/array-buffer-view-core");
var x=a("../internals/array-iteration").forEach,u=G.aTypedArray;(0,G.exportTypedArrayMethod)("forEach",function(r){x(u(this),r,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(a,G,q){G=a("../internals/array-buffer-view-core");var x=a("../internals/array-includes").includes,u=G.aTypedArray;(0,G.exportTypedArrayMethod)("includes",function(r){return x(u(this),r,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,
"../internals/array-includes":18}],223:[function(a,G,q){G=a("../internals/array-buffer-view-core");var x=a("../internals/array-includes").indexOf,u=G.aTypedArray;(0,G.exportTypedArrayMethod)("indexOf",function(r){return x(u(this),r,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(a,G,q){a("../internals/typed-array-constructor")("Int16",function(x){return function(u,r,p){return x(this,u,r,p)}})},{"../internals/typed-array-constructor":144}],
225:[function(a,G,q){a("../internals/typed-array-constructor")("Int32",function(x){return function(u,r,p){return x(this,u,r,p)}})},{"../internals/typed-array-constructor":144}],226:[function(a,G,q){function x(){return r.call(f(this))}G=a("../internals/global");q=a("../internals/array-buffer-view-core");var u=a("../modules/es.array.iterator");a=a("../internals/well-known-symbol")("iterator");G=G.Uint8Array;var r=u.values,p=u.keys,k=u.entries,f=q.aTypedArray;u=q.exportTypedArrayMethod;q=G&&G.prototype[a];
G=!!q&&("values"==q.name||null==q.name);u("entries",function(){return k.call(f(this))});u("keys",function(){return p.call(f(this))});u("values",x,!G);u(a,x,!G)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(a,G,q){a=a("../internals/array-buffer-view-core");var x=a.aTypedArray;a=a.exportTypedArrayMethod;var u=[].join;a("join",function(r){return u.apply(x(this),arguments)})},{"../internals/array-buffer-view-core":12}],
228:[function(a,G,q){G=a("../internals/array-buffer-view-core");var x=a("../internals/array-last-index-of"),u=G.aTypedArray;(0,G.exportTypedArrayMethod)("lastIndexOf",function(r){return x.apply(u(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(a,G,q){G=a("../internals/array-buffer-view-core");var x=a("../internals/array-iteration").map,u=a("../internals/species-constructor"),r=G.aTypedArray,p=G.aTypedArrayConstructor;(0,G.exportTypedArrayMethod)("map",
function(k){return x(r(this),k,1<arguments.length?arguments[1]:void 0,function(f,c){return new (p(u(f,f.constructor)))(c)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(a,G,q){G=a("../internals/array-buffer-view-core");var x=a("../internals/array-reduce").right,u=G.aTypedArray;(0,G.exportTypedArrayMethod)("reduceRight",function(r){return x(u(this),r,arguments.length,1<arguments.length?arguments[1]:void 0)})},
{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(a,G,q){G=a("../internals/array-buffer-view-core");var x=a("../internals/array-reduce").left,u=G.aTypedArray;(0,G.exportTypedArrayMethod)("reduce",function(r){return x(u(this),r,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(a,G,q){a=a("../internals/array-buffer-view-core");var x=a.aTypedArray;a=a.exportTypedArrayMethod;
var u=Math.floor;a("reverse",function(){for(var r,p=x(this).length,k=u(p/2),f=0;f<k;)r=this[f],this[f++]=this[--p],this[p]=r;return this})},{"../internals/array-buffer-view-core":12}],233:[function(a,G,q){G=a("../internals/array-buffer-view-core");var x=a("../internals/to-length"),u=a("../internals/to-offset"),r=a("../internals/to-object");a=a("../internals/fails");var p=G.aTypedArray;(0,G.exportTypedArrayMethod)("set",function(k){p(this);var f=u(1<arguments.length?arguments[1]:void 0,1),c=this.length,
b=r(k),d=x(b.length),l=0;if(c<d+f)throw RangeError("Wrong length");for(;l<d;)this[f+l]=b[l++]},a(function(){(new Int8Array(1)).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(a,G,q){G=a("../internals/array-buffer-view-core");var x=a("../internals/species-constructor");a=a("../internals/fails");var u=G.aTypedArray,r=G.aTypedArrayConstructor;G=G.exportTypedArrayMethod;
var p=[].slice;G("slice",function(k,f){f=p.call(u(this),k,f);k=x(this,this.constructor);var c=0,b=f.length;for(k=new (r(k))(b);c<b;)k[c]=f[c++];return k},a(function(){(new Int8Array(1)).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(a,G,q){G=a("../internals/array-buffer-view-core");var x=a("../internals/array-iteration").some,u=G.aTypedArray;(0,G.exportTypedArrayMethod)("some",function(r){return x(u(this),r,1<arguments.length?
arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(a,G,q){a=a("../internals/array-buffer-view-core");var x=a.aTypedArray;a=a.exportTypedArrayMethod;var u=[].sort;a("sort",function(r){return u.call(x(this),r)})},{"../internals/array-buffer-view-core":12}],237:[function(a,G,q){G=a("../internals/array-buffer-view-core");var x=a("../internals/to-length"),u=a("../internals/to-absolute-index"),r=a("../internals/species-constructor"),p=G.aTypedArray;
(0,G.exportTypedArrayMethod)("subarray",function(k,f){var c=p(this),b=c.length;k=u(k,b);return new (r(c,c.constructor))(c.buffer,c.byteOffset+k*c.BYTES_PER_ELEMENT,x((void 0===f?b:u(f,b))-k))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(a,G,q){G=a("../internals/global");q=a("../internals/array-buffer-view-core");a=a("../internals/fails");var x=G.Int8Array,u=q.aTypedArray;G=q.exportTypedArrayMethod;
var r=[].toLocaleString,p=[].slice,k=!!x&&a(function(){r.call(new x(1))});G("toLocaleString",function(){return r.apply(k?p.call(u(this)):u(this),arguments)},a(function(){return[1,2].toLocaleString()!=(new x([1,2])).toLocaleString()})||!a(function(){x.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(a,G,q){G=a("../internals/array-buffer-view-core").exportTypedArrayMethod;q=a("../internals/fails");a=(a=
a("../internals/global").Uint8Array)&&a.prototype||{};var x=[].toString,u=[].join;q=(q(function(){x.call({})})&&(x=function(){return u.call(this)}),a.toString!=x);G("toString",x,q)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(a,G,q){a("../internals/typed-array-constructor")("Uint16",function(x){return function(u,r,p){return x(this,u,r,p)}})},{"../internals/typed-array-constructor":144}],241:[function(a,G,q){a("../internals/typed-array-constructor")("Uint32",
function(x){return function(u,r,p){return x(this,u,r,p)}})},{"../internals/typed-array-constructor":144}],242:[function(a,G,q){a("../internals/typed-array-constructor")("Uint8",function(x){return function(u,r,p){return x(this,u,r,p)}})},{"../internals/typed-array-constructor":144}],243:[function(a,G,q){a("../internals/typed-array-constructor")("Uint8",function(x){return function(u,r,p){return x(this,u,r,p)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(a,G,q){function x(t){return function(){return t(this,
arguments.length?arguments[0]:void 0)}}var u,r,p,k,f;q=a("../internals/global");var c=a("../internals/redefine-all"),b=a("../internals/internal-metadata"),d=a("../internals/collection"),l=a("../internals/collection-weak"),h=a("../internals/is-object"),g=a("../internals/internal-state").enforce;a=a("../internals/native-weak-map");q=!q.ActiveXObject&&"ActiveXObject"in q;var m=Object.isExtensible;G=G.exports=d("WeakMap",x,l);a&&q&&(u=l.getConstructor(x,"WeakMap",!0),b.REQUIRED=!0,d=G.prototype,r=d.delete,
p=d.has,k=d.get,f=d.set,c(d,{delete:function(t){var v;return h(t)&&!m(t)?((v=g(this)).frozen||(v.frozen=new u),r.call(this,t)||v.frozen.delete(t)):r.call(this,t)},has:function(t){var v;return h(t)&&!m(t)?((v=g(this)).frozen||(v.frozen=new u),p.call(this,t)||v.frozen.has(t)):p.call(this,t)},get:function(t){var v;return!h(t)||m(t)||((v=g(this)).frozen||(v.frozen=new u),p.call(this,t))?k.call(this,t):v.frozen.get(t)},set:function(t,v){var w;return!h(t)||m(t)||((w=g(this)).frozen||(w.frozen=new u),p.call(this,
t))?f.call(this,t,v):w.frozen.set(t,v),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(a,G,q){var x;G=a("../internals/global");var u=a("../internals/dom-iterables");q=a("../internals/array-for-each");a=a("../internals/create-non-enumerable-property");for(x in u)if((u=(u=
G[x])&&u.prototype)&&u.forEach!==q)try{a(u,"forEach",q)}catch(r){u.forEach=q}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(a,G,q){var x;G=a("../internals/global");q=a("../internals/dom-iterables");var u=a("../modules/es.array.iterator"),r=a("../internals/create-non-enumerable-property");a=a("../internals/well-known-symbol");var p=a("iterator");a=a("toStringTag");var k=u.values;for(x in q){var f=
G[x];if(f=f&&f.prototype){if(f[p]!==k)try{r(f,p,k)}catch(b){f[p]=k}if(f[a]||r(f,a,x),q[x])for(var c in u)if(f[c]!==u[c])try{r(f,c,u[c])}catch(b){f[c]=u[c]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(a,G,q){function x(ia){try{return decodeURIComponent(ia)}catch(da){return ia}}function u(ia){return P[ia]}function r(ia){this.entries.length=0;X(this.entries,
ia)}function p(ia,da){if(ia<da)throw TypeError("Not enough arguments");}function k(){m(this,k,M);var ia,da,ba,ja,qa;var fa=0<arguments.length?arguments[0]:void 0;var ma=[];if(V(this,{type:M,entries:ma,updateURL:function(){},updateSearchParams:r}),void 0!==fa)if(y(fa))if("function"==typeof(ia=N(fa)))for(da=(ia=ia.call(fa)).next;!(fa=da.call(ia)).done;){if((ja=(ba=(fa=C(z(fa.value))).next).call(fa)).done||(qa=ba.call(fa)).done||!ba.call(fa).done)throw TypeError("Expected sequence with length 2");ma.push({key:ja.value+
"",value:qa.value+""})}else for(da in fa)t(fa,da)&&ma.push({key:da,value:fa[da]+""});else X(ma,"string"==typeof fa?"?"===fa.charAt(0)?fa.slice(1):fa:fa+"")}a("../modules/es.array.iterator");q=a("../internals/export");var f=a("../internals/get-built-in"),c=a("../internals/native-url"),b=a("../internals/redefine"),d=a("../internals/redefine-all"),l=a("../internals/set-to-string-tag"),h=a("../internals/create-iterator-constructor"),g=a("../internals/internal-state"),m=a("../internals/an-instance"),t=
a("../internals/has"),v=a("../internals/function-bind-context"),w=a("../internals/classof"),z=a("../internals/an-object"),y=a("../internals/is-object"),F=a("../internals/object-create"),D=a("../internals/create-property-descriptor"),C=a("../internals/get-iterator"),N=a("../internals/get-iterator-method");a=a("../internals/well-known-symbol");var J=f("fetch"),E=f("Headers");f=a("iterator");var M="URLSearchParams",Q=M+"Iterator",V=g.set,W=g.getterFor(M),R=g.getterFor(Q),S=/\+/g,K=Array(4),O=function(ia){var da;
ia=ia.replace(S," ");var ba=4;try{return decodeURIComponent(ia)}catch(ja){for(;ba;)ia=ia.replace((da=ba--,K[da-1]||(K[da-1]=RegExp("((?:%[\\da-f]{2}){"+da+"})","gi"))),x);return ia}},I=/[!'()~]|%20/g,P={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},X=function(ia,da){if(da){var ba;da=da.split("\x26");for(var ja=0;ja<da.length;)(ba=da[ja++]).length&&(ba=ba.split("\x3d"),ia.push({key:O(ba.shift()),value:O(ba.join("\x3d"))}))}},ca=h(function(ia,da){V(this,{type:Q,iterator:C(W(ia).entries),
kind:da})},"Iterator",function(){var ia=R(this),da=ia.kind;ia=ia.iterator.next();var ba=ia.value;return ia.done||(ia.value="keys"===da?ba.key:"values"===da?ba.value:[ba.key,ba.value]),ia});a=k.prototype;d(a,{append:function(ia,da){p(arguments.length,2);var ba=W(this);ba.entries.push({key:ia+"",value:da+""});ba.updateURL()},delete:function(ia){p(arguments.length,1);for(var da=W(this),ba=da.entries,ja=ia+"",qa=0;qa<ba.length;)ba[qa].key===ja?ba.splice(qa,1):qa++;da.updateURL()},get:function(ia){p(arguments.length,
1);for(var da=W(this).entries,ba=ia+"",ja=0;ja<da.length;ja++)if(da[ja].key===ba)return da[ja].value;return null},getAll:function(ia){p(arguments.length,1);for(var da=W(this).entries,ba=ia+"",ja=[],qa=0;qa<da.length;qa++)da[qa].key===ba&&ja.push(da[qa].value);return ja},has:function(ia){p(arguments.length,1);for(var da=W(this).entries,ba=ia+"",ja=0;ja<da.length;)if(da[ja++].key===ba)return!0;return!1},set:function(ia,da){p(arguments.length,1);for(var ba,ja=W(this),qa=ja.entries,fa=!1,ma=ia+"",sa=
da+"",xa=0;xa<qa.length;xa++)(ba=qa[xa]).key===ma&&(fa?qa.splice(xa--,1):(fa=!0,ba.value=sa));fa||qa.push({key:ma,value:sa});ja.updateURL()},sort:function(){for(var ia,da,ba=W(this),ja=ba.entries,qa=ja.slice(),fa=ja.length=0;fa<qa.length;fa++){ia=qa[fa];for(da=0;da<fa;da++)if(ja[da].key>ia.key){ja.splice(da,0,ia);break}da===fa&&ja.push(ia)}ba.updateURL()},forEach:function(ia){for(var da,ba=W(this).entries,ja=v(ia,1<arguments.length?arguments[1]:void 0,3),qa=0;qa<ba.length;)ja((da=ba[qa++]).value,
da.key,this)},keys:function(){return new ca(this,"keys")},values:function(){return new ca(this,"values")},entries:function(){return new ca(this,"entries")}},{enumerable:!0});b(a,f,a.entries);b(a,"toString",function(){for(var ia,da=W(this).entries,ba=[],ja=0;ja<da.length;)ia=da[ja++],ba.push(encodeURIComponent(ia.key).replace(I,u)+"\x3d"+encodeURIComponent(ia.value).replace(I,u));return ba.join("\x26")},{enumerable:!0});l(k,M);q({global:!0,forced:!c},{URLSearchParams:k});c||"function"!=typeof J||"function"!=
typeof E||q({global:!0,enumerable:!0,forced:!0},{fetch:function(ia){var da,ba,ja;ia=[ia];return 1<arguments.length&&(y(da=arguments[1])&&(ba=da.body,w(ba)===M&&((ja=da.headers?new E(da.headers):new E).has("content-type")||ja.set("content-type","application/x-www-form-urlencoded;charset\x3dUTF-8"),da=F(da,{body:D(0,String(ba)),headers:D(0,ja)}))),ia.push(da)),J.apply(this,ia)}});G.exports={URLSearchParams:k,getState:W}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,
"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,
"../modules/es.array.iterator":165}],248:[function(a,G,q){function x(la){var Da,Ka;if("number"==typeof la){var La=[];for(Da=0;4>Da;Da++)La.unshift(la%256),la=Q(la/256);return La.join(".")}if("object"!=typeof la)return la;La="";Da=null;var Ba=1;for(var Ia=null,ab=0,Ma=0;8>Ma;Ma++)0!==la[Ma]?(Ba<ab&&(Da=Ia,Ba=ab),Ia=null,ab=0):(null===Ia&&(Ia=Ma),++ab);Ba=(Ba<ab&&(Da=Ia),Da);for(Da=0;8>Da;Da++)Ka&&0===la[Da]||(Ka=Ka&&!1,Ba===Da?(La+=Da?":":"::",Ka=!0):(La+=la[Da].toString(16),7>Da&&(La+=":")));return"["+
La+"]"}function u(la){return!la.host||la.cannotBeABaseURL||"file"==la.scheme}function r(la,Da,Ka,La){var Ba;var Ia=Ka||$a;var ab=0,Ma="",xb=!1,hb=!1,ub=!1;Ka||(la.scheme="",la.username="",la.password="",la.host=null,la.port=null,la.path=[],la.query=null,la.fragment=null,la.cannotBeABaseURL=!1,Da=Da.replace(qa,""));Da=Da.replace(fa,"");for(Da=w(Da);ab<=Da.length;){switch(Ba=Da[ab],Ia){case $a:if(!Ba||!O.test(Ba)){if(Ka)return R;Ia=ib;continue}Ma+=Ba.toLowerCase();Ia=Za;break;case Za:if(Ba&&(I.test(Ba)||
"+"==Ba||"-"==Ba||"."==Ba))Ma+=Ba.toLowerCase();else{if(":"!=Ba){if(Ka)return R;Ma="";Ia=ib;ab=0;continue}if(Ka&&(ta(la)!=t(ua,Ma)||"file"==Ma&&(""!=la.username||""!=la.password||null!==la.port)||"file"==la.scheme&&!la.host))return;if(la.scheme=Ma,Ka)return void(ta(la)&&ua[la.scheme]==la.port&&(la.port=null));Ma="";"file"==la.scheme?Ia=Fa:ta(la)&&La&&La.scheme==la.scheme?Ia=jb:ta(la)?Ia=Y:"/"==Da[ab+1]?(Ia=Wa,ab++):(la.cannotBeABaseURL=!0,la.path.push(""),Ia=wb)}break;case ib:if(!La||La.cannotBeABaseURL&&
"#"!=Ba)return R;if(La.cannotBeABaseURL&&"#"==Ba){la.scheme=La.scheme;la.path=La.path.slice();la.query=La.query;la.fragment="";la.cannotBeABaseURL=!0;Ia=Ra;break}Ia="file"==La.scheme?Fa:Sa;continue;case jb:if("/"!=Ba||"/"!=Da[ab+1]){Ia=Sa;continue}Ia=aa;ab++;break;case Wa:if("/"==Ba){Ia=Z;break}Ia=bb;continue;case Sa:if(la.scheme=La.scheme,Ba==f)la.username=La.username,la.password=La.password,la.host=La.host,la.port=La.port,la.path=La.path.slice(),la.query=La.query;else if("/"==Ba||"\\"==Ba&&ta(la))Ia=
mb;else if("?"==Ba)la.username=La.username,la.password=La.password,la.host=La.host,la.port=La.port,la.path=La.path.slice(),la.query="",Ia=fb;else{if("#"!=Ba){la.username=La.username;la.password=La.password;la.host=La.host;la.port=La.port;la.path=La.path.slice();la.path.pop();Ia=bb;continue}la.username=La.username;la.password=La.password;la.host=La.host;la.port=La.port;la.path=La.path.slice();la.query=La.query;la.fragment="";Ia=Ra}break;case mb:if(!ta(la)||"/"!=Ba&&"\\"!=Ba){if("/"!=Ba){la.username=
La.username;la.password=La.password;la.host=La.host;la.port=La.port;Ia=bb;continue}Ia=Z}else Ia=aa;break;case Y:if(Ia=aa,"/"!=Ba||"/"!=Ma.charAt(ab+1))continue;ab++;break;case aa:if("/"==Ba||"\\"==Ba)break;Ia=Z;continue;case Z:if("@"==Ba){xb&&(Ma="%40"+Ma);xb=!0;Ma=w(Ma);for(Ba=0;Ba<Ma.length;Ba++){var ob=Ma[Ba];":"!=ob||ub?(ob=wa(ob,ra),ub?la.password+=ob:la.username+=ob):ub=!0}Ma=""}else if(Ba==f||"/"==Ba||"?"==Ba||"#"==Ba||"\\"==Ba&&ta(la)){if(xb&&""==Ma)return W;ab-=w(Ma).length+1;Ma="";Ia=ka}else Ma+=
Ba;break;case ka:case va:if(Ka&&"file"==la.scheme){Ia=Qa;continue}if(":"!=Ba||hb){if(Ba==f||"/"==Ba||"?"==Ba||"#"==Ba||"\\"==Ba&&ta(la)){if(ta(la)&&""==Ma)return S;if(Ka&&""==Ma&&(""!=la.username||""!=la.password||null!==la.port))return;if(Ia=ma(la,Ma))return Ia;if(Ma="",Ia=db,Ka)return;continue}"["==Ba?hb=!0:"]"==Ba&&(hb=!1);Ma+=Ba}else{if(""==Ma)return S;if(Ia=ma(la,Ma))return Ia;if(Ma="",Ia=Aa,Ka==va)return}break;case Aa:if(!P.test(Ba)){if(Ba==f||"/"==Ba||"?"==Ba||"#"==Ba||"\\"==Ba&&ta(la)||Ka){if(""!=
Ma){Ia=parseInt(Ma,10);if(65535<Ia)return K;la.port=ta(la)&&Ia===ua[la.scheme]?null:Ia;Ma=""}if(Ka)return;Ia=db;continue}return K}Ma+=Ba;break;case Fa:if(la.scheme="file","/"==Ba||"\\"==Ba)Ia=Pa;else{if(!La||"file"!=La.scheme){Ia=bb;continue}if(Ba==f)la.host=La.host,la.path=La.path.slice(),la.query=La.query;else if("?"==Ba)la.host=La.host,la.path=La.path.slice(),la.query="",Ia=fb;else{if("#"!=Ba){Oa(Da.slice(ab).join(""))||(la.host=La.host,la.path=La.path.slice(),Ya(la));Ia=bb;continue}la.host=La.host;
la.path=La.path.slice();la.query=La.query;la.fragment="";Ia=Ra}}break;case Pa:if("/"==Ba||"\\"==Ba){Ia=Qa;break}La&&"file"==La.scheme&&!Oa(Da.slice(ab).join(""))&&(Ga(La.path[0],!0)?la.path.push(La.path[0]):la.host=La.host);Ia=bb;continue;case Qa:if(Ba==f||"/"==Ba||"\\"==Ba||"?"==Ba||"#"==Ba){if(!Ka&&Ga(Ma))Ia=bb;else{if(""==Ma){if(la.host="",Ka)return}else{if(Ia=ma(la,Ma))return Ia;if("localhost"==la.host&&(la.host=""),Ka)return;Ma=""}Ia=db}continue}Ma+=Ba;break;case db:if(ta(la)){if(Ia=bb,"/"!=
Ba&&"\\"!=Ba)continue}else if(Ka||"?"!=Ba)if(Ka||"#"!=Ba){if(Ba!=f&&(Ia=bb,"/"!=Ba))continue}else la.fragment="",Ia=Ra;else la.query="",Ia=fb;break;case bb:if(Ba==f||"/"==Ba||"\\"==Ba&&ta(la)||!Ka&&("?"==Ba||"#"==Ba)){ob=Ma;if(".."===(ob=ob.toLowerCase())||"%2e."===ob||".%2e"===ob||"%2e%2e"===ob?(Ya(la),"/"==Ba||"\\"==Ba&&ta(la)||la.path.push("")):"."===Ma||"%2e"===Ma.toLowerCase()?"/"==Ba||"\\"==Ba&&ta(la)||la.path.push(""):("file"==la.scheme&&!la.path.length&&Ga(Ma)&&(la.host&&(la.host=""),Ma=Ma.charAt(0)+
":"),la.path.push(Ma)),Ma="","file"==la.scheme&&(Ba==f||"?"==Ba||"#"==Ba))for(;1<la.path.length&&""===la.path[0];)la.path.shift();"?"==Ba?(la.query="",Ia=fb):"#"==Ba&&(la.fragment="",Ia=Ra)}else Ma+=wa(Ba,pa);break;case wb:"?"==Ba?(la.query="",Ia=fb):"#"==Ba?(la.fragment="",Ia=Ra):Ba!=f&&(la.path[0]+=wa(Ba,sa));break;case fb:Ka||"#"!=Ba?Ba!=f&&("'"==Ba&&ta(la)?la.query+="%27":la.query+="#"==Ba?"%23":wa(Ba,sa)):(la.fragment="",Ia=Ra);break;case Ra:Ba!=f&&(la.fragment+=wa(Ba,xa))}ab++}}function p(la){var Da,
Ka=m(this,p,"URL"),La=1<arguments.length?arguments[1]:void 0;la=String(la);var Ba=E(Ka,{type:"URL"});if(void 0!==La)if(La instanceof p)var Ia=M(La);else if(Da=r(Ia={},String(La)))throw TypeError(Da);if(Da=r(Ba,la,null,Ia))throw TypeError(Da);var ab=Ba.searchParams=new N;(La=J(ab)).updateSearchParams(Ba.query);La.updateURL=function(){Ba.query=String(ab)||null};d||(Ka.href=nb.call(Ka),Ka.origin=rb.call(Ka),Ka.protocol=vb.call(Ka),Ka.username=zb.call(Ka),Ka.password=Db.call(Ka),Ka.host=Eb.call(Ka),Ka.hostname=
Cb.call(Ka),Ka.port=pb.call(Ka),Ka.pathname=Vb.call(Ka),Ka.search=Ib.call(Ka),Ka.searchParams=Kb.call(Ka),Ka.hash=bc.call(Ka))}function k(la,Da){return{get:la,set:Da,configurable:!0,enumerable:!0}}a("../modules/es.string.iterator");var f,c,b;G=a("../internals/export");var d=a("../internals/descriptors");q=a("../internals/native-url");var l=a("../internals/global"),h=a("../internals/object-define-properties"),g=a("../internals/redefine"),m=a("../internals/an-instance"),t=a("../internals/has"),v=a("../internals/object-assign"),
w=a("../internals/array-from"),z=a("../internals/string-multibyte").codeAt,y=a("../internals/string-punycode-to-ascii"),F=a("../internals/set-to-string-tag"),D=a("../modules/web.url-search-params");a=a("../internals/internal-state");var C=l.URL,N=D.URLSearchParams,J=D.getState,E=a.set,M=a.getterFor("URL"),Q=Math.floor,V=Math.pow,W="Invalid authority",R="Invalid scheme",S="Invalid host",K="Invalid port",O=/[A-Za-z]/,I=/[\d+-.A-Za-z]/,P=/\d/,X=/^(0x|0X)/,ca=/^[0-7]+$/,ia=/^\d+$/,da=/^[\dA-Fa-f]+$/,
ba=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ja=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,qa=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,fa=/[\u0009\u000A\u000D]/g,ma=function(la,Da){var Ka,La;if("["==Da.charAt(0))return"]"==Da.charAt(Da.length-1)&&(Ka=function(Ba){var Ia=[0,0,0,0,0,0,0,0],ab=0,Ma=null,xb=0,hb,ub;var ob=function(){return Ba.charAt(xb)};if(":"==ob()){if(":"!=Ba.charAt(1))return;xb+=2;ab++;Ma=ab}for(;ob();){if(8==ab)return;if(":"==ob()){if(null!==Ma)return;xb++;ab++;Ma=ab}else{for(hb=ub=0;4>
ub&&da.test(ob());)hb=16*hb+parseInt(ob(),16),xb++,ub++;if("."==ob()){if(0==ub)return;xb-=ub;if(6<ab)return;for(hb=0;ob();){ub=null;if(0<hb)if("."==ob()&&4>hb)xb++;else return;if(!P.test(ob()))return;for(;P.test(ob());){var ic=parseInt(ob(),10);if(null===ub)ub=ic;else{if(0==ub)return;ub=10*ub+ic}if(255<ub)return;xb++}Ia[ab]=256*Ia[ab]+ub;hb++;2!=hb&&4!=hb||ab++}if(4!=hb)return;break}else if(":"==ob()){if(xb++,!ob())return}else if(ob())return;Ia[ab++]=hb}}if(null!==Ma)for(ob=ab-Ma,ab=7;0!=ab&&0<ob;)hb=
Ia[ab],Ia[ab--]=Ia[Ma+ob-1],Ia[Ma+--ob]=hb;else if(8!=ab)return;return Ia}(Da.slice(1,-1)))?void(la.host=Ka):S;if(ta(la))return Da=y(Da),ba.test(Da)||null===(Ka=function(Ba){var Ia=Ba.split("."),ab,Ma;Ia.length&&""==Ia[Ia.length-1]&&Ia.pop();if(4<(ab=Ia.length))return Ba;var xb=[];for(Ma=0;Ma<ab;Ma++){var hb=Ia[Ma];if(""==hb)return Ba;var ub=10;1<hb.length&&"0"==hb.charAt(0)&&(ub=X.test(hb)?16:8,hb=hb.slice(8==ub?1:2));if(""===hb)hb=0;else{if(!(10==ub?ia:8==ub?ca:da).test(hb))return Ba;hb=parseInt(hb,
ub)}xb.push(hb)}for(Ma=0;Ma<ab;Ma++)if(hb=xb[Ma],Ma==ab-1){if(hb>=V(256,5-ab))return null}else if(255<hb)return null;Ba=xb.pop();for(Ma=0;Ma<xb.length;Ma++)Ba+=xb[Ma]*V(256,3-Ma);return Ba}(Da))?S:void(la.host=Ka);if(ja.test(Da))return S;Ka="";Da=w(Da);for(La=0;La<Da.length;La++)Ka+=wa(Da[La],sa);la.host=Ka},sa={},xa=v({},sa,{" ":1,'"':1,"\x3c":1,"\x3e":1,"`":1}),pa=v({},xa,{"#":1,"?":1,"{":1,"}":1}),ra=v({},pa,{"/":1,":":1,";":1,"\x3d":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),wa=function(la,Da){var Ka=
z(la,0);return 32<Ka&&127>Ka&&!t(Da,la)?la:encodeURIComponent(la)},ua={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ta=function(la){return t(ua,la.scheme)},Ga=function(la,Da){return 2==la.length&&O.test(la.charAt(0))&&(":"==(la=la.charAt(1))||!Da&&"|"==la)},Oa=function(la){return 1<la.length&&Ga(la.slice(0,2))&&(2==la.length||"/"===(la=la.charAt(2))||"\\"===la||"?"===la||"#"===la)},Ya=function(la){var Da=la.path,Ka=Da.length;!Ka||"file"==la.scheme&&1==Ka&&Ga(Da[0],!0)||Da.pop()},$a={},Za={},
ib={},jb={},Wa={},Sa={},mb={},Y={},aa={},Z={},ka={},va={},Aa={},Fa={},Pa={},Qa={},db={},bb={},wb={},fb={},Ra={};l=p.prototype;var nb=function(){var la=M(this),Da=la.scheme,Ka=la.username,La=la.password,Ba=la.host,Ia=la.port,ab=la.path,Ma=la.query,xb=la.fragment,hb=Da+":";return null!==Ba?(hb+="//",(""!=la.username||""!=la.password)&&(hb+=Ka+(La?":"+La:"")+"@"),hb+=x(Ba),null!==Ia&&(hb+=":"+Ia)):"file"==Da&&(hb+="//"),hb+=la.cannotBeABaseURL?ab[0]:ab.length?"/"+ab.join("/"):"",null!==Ma&&(hb+="?"+
Ma),null!==xb&&(hb+="#"+xb),hb},rb=function(){var la=M(this),Da=la.scheme,Ka=la.port;if("blob"==Da)try{return(new URL(Da.path[0])).origin}catch(La){return"null"}return"file"!=Da&&ta(la)?Da+"://"+x(la.host)+(null!==Ka?":"+Ka:""):"null"},vb=function(){return M(this).scheme+":"},zb=function(){return M(this).username},Db=function(){return M(this).password},Eb=function(){var la=M(this),Da=la.host;la=la.port;return null===Da?"":null===la?x(Da):x(Da)+":"+la},Cb=function(){var la=M(this).host;return null===
la?"":x(la)},pb=function(){var la=M(this).port;return null===la?"":String(la)},Vb=function(){var la=M(this),Da=la.path;return la.cannotBeABaseURL?Da[0]:Da.length?"/"+Da.join("/"):""},Ib=function(){var la=M(this).query;return la?"?"+la:""},Kb=function(){return M(this).searchParams},bc=function(){var la=M(this).fragment;return la?"#"+la:""};d&&h(l,{href:k(nb,function(la){var Da=M(this);la=String(la);if(la=r(Da,la))throw TypeError(la);J(Da.searchParams).updateSearchParams(Da.query)}),origin:k(rb),protocol:k(vb,
function(la){var Da=M(this);r(Da,String(la)+":",$a)}),username:k(zb,function(la){var Da=M(this);la=w(String(la));if(!u(Da)){Da.username="";for(var Ka=0;Ka<la.length;Ka++)Da.username+=wa(la[Ka],ra)}}),password:k(Db,function(la){var Da=M(this);la=w(String(la));if(!u(Da)){Da.password="";for(var Ka=0;Ka<la.length;Ka++)Da.password+=wa(la[Ka],ra)}}),host:k(Eb,function(la){var Da=M(this);Da.cannotBeABaseURL||r(Da,String(la),ka)}),hostname:k(Cb,function(la){var Da=M(this);Da.cannotBeABaseURL||r(Da,String(la),
va)}),port:k(pb,function(la){var Da=M(this);u(Da)||(""==(la=String(la))?Da.port=null:r(Da,la,Aa))}),pathname:k(Vb,function(la){var Da=M(this);Da.cannotBeABaseURL||(Da.path=[],r(Da,la+"",db))}),search:k(Ib,function(la){var Da=M(this);""==(la=String(la))?Da.query=null:("?"==la.charAt(0)&&(la=la.slice(1)),Da.query="",r(Da,la,fb));J(Da.searchParams).updateSearchParams(Da.query)}),searchParams:k(Kb),hash:k(bc,function(la){var Da=M(this);""==(la=String(la))?Da.fragment=null:("#"==la.charAt(0)&&(la=la.slice(1)),
Da.fragment="",r(Da,la,Ra))})});g(l,"toJSON",function(){return nb.call(this)},{enumerable:!0});g(l,"toString",function(){return nb.call(this)},{enumerable:!0});C&&(c=C.createObjectURL,b=C.revokeObjectURL,c&&g(p,"createObjectURL",function(la){return c.apply(C,arguments)}),b&&g(p,"revokeObjectURL",function(la){return b.apply(C,arguments)}));F(p,"URL");G({global:!0,forced:!q,sham:!d},{URL:p})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,
"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(a,G,q){G.exports=a("./").polyfill()},{"./":250}],250:[function(a,G,q){!function(x,
u){var r=function(){function p(){var fa=setTimeout;return function(){return fa(k,1)}}function k(){for(var fa=0;fa<J;fa+=2)(0,K[fa])(K[fa+1]),K[fa]=void 0,K[fa+1]=void 0;J=0}function f(){try{var fa=Function("return this")().require("vertx");return void 0!==(E=fa.runOnLoop||fa.runOnContext)?function(){E(k)}:p()}catch(ma){return p()}}function c(fa,ma){var sa,xa=this,pa=new this.constructor(d),ra=(void 0===pa[ca]&&F(pa),xa._state);return ra?(sa=arguments[ra-1],Q(function(){return y(ra,pa,sa,xa._result)})):
w(xa,pa,fa,ma),pa}function b(fa){var ma;return fa&&"object"==typeof fa&&fa.constructor===this?fa:(g(ma=new this(d),fa),ma)}function d(){}function l(fa,ma,sa){Q(function(xa){var pa=!1,ra=function(wa,ua,ta,Ga){try{wa.call(ua,ta,Ga)}catch(Oa){return Oa}}(sa,ma,function(wa){pa||(pa=!0,(ma!==wa?g:t)(xa,wa))},function(wa){pa||(pa=!0,v(xa,wa))},xa._label);!pa&&ra&&(pa=!0,v(xa,ra))},fa)}function h(fa,ma,sa){ma.constructor===fa.constructor&&sa===c&&ma.constructor.resolve===b?ma._state===da?t(fa,ma._result):
ma._state===ba?v(fa,ma._result):w(ma,void 0,function(xa){return g(fa,xa)},function(xa){return v(fa,xa)}):void 0!==sa&&"function"==typeof sa?l(fa,ma,sa):t(fa,ma)}function g(fa,ma){if(fa===ma)v(fa,new TypeError("You cannot resolve a promise with itself"));else if(sa=typeof ma,null===ma||"object"!=sa&&"function"!=sa)t(fa,ma);else{sa=void 0;try{sa=ma.then}catch(xa){return void v(fa,xa)}h(fa,ma,sa)}var sa}function m(fa){fa._onerror&&fa._onerror(fa._result);z(fa)}function t(fa,ma){fa._state===ia&&(fa._result=
ma,fa._state=da,0!==fa._subscribers.length&&Q(z,fa))}function v(fa,ma){fa._state===ia&&(fa._state=ba,fa._result=ma,Q(m,fa))}function w(fa,ma,sa,xa){var pa=fa._subscribers,ra=pa.length;fa._onerror=null;pa[ra]=ma;pa[ra+da]=sa;pa[ra+ba]=xa;0===ra&&fa._state&&Q(z,fa)}function z(fa){var ma=fa._subscribers,sa=fa._state;if(0!==ma.length){for(var xa,pa,ra=fa._result,wa=0;wa<ma.length;wa+=3)xa=ma[wa],pa=ma[wa+sa],xa?y(sa,xa,pa,ra):pa(ra);fa._subscribers.length=0}}function y(fa,ma,sa,xa){var pa="function"==
typeof sa,ra=void 0,wa=void 0,ua=!0;if(pa){try{ra=sa(xa)}catch(ta){ua=!1,wa=ta}if(ma===ra)return void v(ma,new TypeError("A promises callback cannot return that same promise."))}else ra=xa;ma._state===ia&&(pa&&ua?g(ma,ra):!1===ua?v(ma,wa):fa===da?t(ma,ra):fa===ba&&v(ma,ra))}function F(fa){fa[ca]=ja++;fa._state=void 0;fa._result=void 0;fa._subscribers=[]}function D(fa,ma){this._instanceConstructor=fa;this.promise=new fa(d);this.promise[ca]||F(this.promise);N(ma)?(this.length=ma.length,this._remaining=
ma.length,this._result=Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(ma),0!==this._remaining)||t(this.promise,this._result)):v(this.promise,Error("Array Methods must be provided an Array"))}function C(fa){if(this[ca]=ja++,this._result=this._state=void 0,this._subscribers=[],d!==fa){if("function"!=typeof fa)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof C))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
var ma=this;try{fa(function(sa){g(ma,sa)},function(sa){v(ma,sa)})}catch(sa){v(ma,sa)}}}var N=Array.isArray||function(fa){return"[object Array]"===Object.prototype.toString.call(fa)},J=0,E=void 0,M=void 0,Q=function(fa,ma){K[J]=fa;K[J+1]=ma;2===(J+=2)&&(M?M(k):X())},V="undefined"!=typeof window?window:void 0,W=V||{};W=W.MutationObserver||W.WebKitMutationObserver;var R="undefined"==typeof self&&void 0!==x&&"[object process]"==={}.toString.call(x),S="undefined"!=typeof Uint8ClampedArray&&"undefined"!=
typeof importScripts&&"undefined"!=typeof MessageChannel,K=Array(1E3),O,I,P,X=void 0;X=R?function(){return x.nextTick(k)}:W?(I=0,R=new W(k),P=document.createTextNode(""),R.observe(P,{characterData:!0}),function(){P.data=I=++I%2}):S?((O=new MessageChannel).port1.onmessage=k,function(){return O.port2.postMessage(0)}):(void 0===V&&"function"==typeof a?f:p)();var ca=Math.random().toString(36).substring(2),ia=void 0,da=1,ba=2,ja=0;D.prototype._enumerate=function(fa){for(var ma=0;this._state===ia&&ma<fa.length;ma++)this._eachEntry(fa[ma],
ma)};D.prototype._eachEntry=function(fa,ma){var sa=this._instanceConstructor,xa=sa.resolve;if(xa===b){var pa,ra=xa=void 0,wa=!1;try{xa=fa.then}catch(ua){wa=!0,ra=ua}xa===c&&fa._state!==ia?this._settledAt(fa._state,ma,fa._result):"function"!=typeof xa?(this._remaining--,this._result[ma]=fa):sa===qa?(pa=new sa(d),wa?v(pa,ra):h(pa,fa,xa),this._willSettleAt(pa,ma)):this._willSettleAt(new sa(function(ua){return ua(fa)}),ma)}else this._willSettleAt(xa(fa),ma)};D.prototype._settledAt=function(fa,ma,sa){var xa=
this.promise;xa._state===ia&&(this._remaining--,fa===ba?v(xa,sa):this._result[ma]=sa);0===this._remaining&&t(xa,this._result)};D.prototype._willSettleAt=function(fa,ma){var sa=this;w(fa,void 0,function(xa){return sa._settledAt(da,ma,xa)},function(xa){return sa._settledAt(ba,ma,xa)})};C.prototype.catch=function(fa){return this.then(null,fa)};C.prototype.finally=function(fa){var ma=this.constructor;return"function"==typeof fa?this.then(function(sa){return ma.resolve(fa()).then(function(){return sa})},
function(sa){return ma.resolve(fa()).then(function(){throw sa;})}):this.then(fa,fa)};var qa=C;return qa.prototype.then=c,qa.all=function(fa){return(new D(this,fa)).promise},qa.race=function(fa){var ma=this;return N(fa)?new ma(function(sa,xa){for(var pa=fa.length,ra=0;ra<pa;ra++)ma.resolve(fa[ra]).then(sa,xa)}):new ma(function(sa,xa){return xa(new TypeError("You must pass an array to race."))})},qa.resolve=b,qa.reject=function(fa){var ma=new this(d);return v(ma,fa),ma},qa._setScheduler=function(fa){M=
fa},qa._setAsap=function(fa){Q=fa},qa._asap=Q,qa.polyfill=function(){var fa=void 0;if(void 0!==u)fa=u;else if("undefined"!=typeof self)fa=self;else try{fa=Function("return this")()}catch(xa){throw Error("polyfill failed because global object is unavailable in this environment");}var ma=fa.Promise;if(ma){var sa=null;try{sa=Object.prototype.toString.call(ma.resolve())}catch(xa){}if("[object Promise]"===sa&&!ma.cast)return}fa.Promise=qa},qa.Promise=qa};"object"==typeof q&&void 0!==G?G.exports=r():this.ES6Promise=
r()}.call(this,a("_process"),"undefined"!=typeof Hb?Hb:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:259}],251:[function(a,G,q){a=function(x,u){function r(k){try{delete window[k]}catch(f){window[k]=void 0}}function p(k){(k=document.getElementById(k))&&document.getElementsByTagName("head")[0].removeChild(k)}u.exports=function(k){var f=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],c=k,b=f.timeout||5E3,d=f.jsonpCallback||"callback",l=void 0;return new Promise(function(h,
g){var m=f.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1E5*Math.random()),t=d+"_"+m,v=(window[m]=function(w){h({ok:!0,json:function(){return Promise.resolve(w)}});l&&clearTimeout(l);p(t);r(m)},c+=-1===c.indexOf("?")?"?":"\x26",document.createElement("script"));v.setAttribute("src",""+c+d+"\x3d"+m);f.charset&&v.setAttribute("charset",f.charset);v.id=t;document.getElementsByTagName("head")[0].appendChild(v);l=setTimeout(function(){g(Error("JSONP request to "+k+" timed out"));r(m);p(t);
window[m]=function(){r(m)}},b);v.onerror=function(){g(Error("JSONP request to "+k+" failed"));r(m);p(t);l&&clearTimeout(l)}})}};void 0!==q&&void 0!==G?a(0,G):(a(a={exports:{}},a),this.fetchJsonp=a.exports)},{}],252:[function(a,G,q){a=function(x){var u,r,p,k,f,c,b,d,l,h;if(!(void 0===x||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)))return h=x.document,u=function(){return x.URL||x.webkitURL||x},r=h.createElementNS("http://www.w3.org/1999/xhtml","a"),p="download"in r,k=/constructor/i.test(x.HTMLElement)||
x.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent),c=function(g){(x.setImmediate||x.setTimeout)(function(){throw g;},0)},b=function(g){setTimeout(function(){"string"==typeof g?u().revokeObjectURL(g):g.remove()},4E4)},d=function(g){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob([String.fromCharCode(65279),g],{type:g.type}):g},h=(l=function(g,m,t){t||(g=d(g));var v,w,z=this;t="application/octet-stream"===g.type;var y=function(){for(var F=["writestart",
"progress","write","writeend"],D=(F=[].concat(F)).length;D--;){var C=z["on"+F[D]];if("function"==typeof C)try{C.call(z,z)}catch(N){c(N)}}};z.readyState=z.INIT;p?(v=u().createObjectURL(g),setTimeout(function(){r.href=v;r.download=m;var F=new MouseEvent("click");r.dispatchEvent(F);y();b(v);z.readyState=z.DONE})):(f||t&&k)&&x.FileReader?((w=new FileReader).onloadend=function(){var F=f?w.result:w.result.replace(/^data:[^;]*;/,"data:attachment/file;");x.open(F,"_blank")||(x.location.href=F);z.readyState=
z.DONE;y()},w.readAsDataURL(g),z.readyState=z.INIT):(v=v||u().createObjectURL(g),!t&&x.open(v,"_blank")||(x.location.href=v),z.readyState=z.DONE,y(),b(v))}).prototype,"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(g,m,t){return m=m||g.name||"download",t||(g=d(g)),navigator.msSaveOrOpenBlob(g,m)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(g,m,t){return new l(g,m||g.name||
"download",t)})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==G&&G.exports&&(G.exports.saveAs=a)},{}],253:[function(a,G,q){function x(J=256){function E(V){var W=Q.length;V<=W||(V=Math.max(V,W*(1048576>W?2:1.125)>>>0),0!=W&&(V=Math.max(V,256)),W=Q,Q=new Uint8Array(V),0<M&&Q.set(W.subarray(0,M),0))}let M=0,Q=new Uint8Array(J);return{get buffer(){return Q.buffer},reset(){M=0},bytesView(){return Q.subarray(0,M)},bytes(){return Q.slice(0,M)},writeByte(V){E(M+
1);Q[M]=V;M++},writeBytes(V,W=0,R=V.length){E(M+R);for(let S=0;S<R;S++)Q[M++]=V[S+W]},writeBytesView(V,W=0,R=V.byteLength){E(M+R);Q.set(V.subarray(W,W+R),M);M+=R}}}function u(J,E,M){return J<<8&63488|E<<2&992|M>>3}function r(J,E,M){return J>>4<<8|240&E|M>>4}function p(J,E,M){return J<E?E:M<J?M:J}function k(J){return J*J}function f(J,E,M){var Q=0,V=1E100;E=J[E];for(var W=E.cnt,R=E.ac,S=E.rc,K=E.gc,O=E.bc,I=E.fw;0!=I;I=J[I].fw){var P,X=J[I],ca=X.cnt;ca=W*ca/(W+ca);V<=ca||(P=0,M&&V<=(P+=ca*k(X.ac-R))||
V<=(P+=ca*k(X.rc-S))||V<=(P+=ca*k(X.gc-K))||V<=(P+=ca*k(X.bc-O))||(V=P,Q=I))}E.err=V;E.nn=Q}function c(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function b(J,E){for(var M=0,Q=0;Q<J.length;Q++){var V=J[Q]-E[Q];M+=V*V}return M}function d(J,E){return 1<E?Math.round(J/E)*E:J}function l(J){return J*J}function h(J,E,M=b){let Q=1/0,V=-1;for(let R=0;R<J.length;R++){var W=M(E,J[R]);W<Q&&(Q=W,V=R)}return V}function g(J,E,M=b){let Q=1/0,V=-1;for(let R=0;R<J.length;R++){var W=M(E,J[R]);
W<Q&&(Q=W,V=R)}return[V,Q]}function m(J={}){function E(){w(V,"GIF89a")}const {initialCapacity:M=4096,auto:Q=!0}=J,V=x(M),W=new Uint8Array(256),R=new Int32Array(5003),S=new Int32Array(5003);let K=!1;return{reset(){V.reset();K=!1},finish(){V.writeByte(F.trailer)},bytes(){return V.bytes()},bytesView(){return V.bytesView()},get buffer(){return V.buffer},get stream(){return V},writeHeader:E,writeFrame(O,I,P,X={}){var {transparent:ca=!1,transparentIndex:ia=0,delay:da=0,palette:ba=null,repeat:ja=0,colorDepth:qa=
8,dispose:fa=-1}=X;let ma=!1;if(Q?K||(ma=!0,E(),K=!0):ma=!!X.first,I=Math.max(0,Math.floor(I)),P=Math.max(0,Math.floor(P)),ma){if(!ba)throw Error("First frame must include a { palette } option");var [X,sa,xa,pa,ra=8]=[V,I,P,ba,qa];pa=z(pa.length)-1;ra=128|ra-1<<4|pa;v(X,sa);v(X,xa);X.writeBytes([ra,0,0]);t(V,ba);0<=ja&&(pa=V,sa=ja,pa.writeByte(33),pa.writeByte(255),pa.writeByte(11),w(pa,"NETSCAPE2.0"),pa.writeByte(3),pa.writeByte(1),v(pa,sa),pa.writeByte(0))}var wa;xa=Math.round(da/10);X=V;ra=fa;
ja=xa;sa=ca;pa=ia;da=(X.writeByte(33),X.writeByte(249),X.writeByte(4),0>pa&&(pa=0,sa=!1),sa=sa?(wa=1,2):wa=0,0<=ra&&(sa=7&ra),sa<<=2,X.writeByte(0|sa|wa),v(X,ja),X.writeByte(pa||0),X.writeByte(0),!!ba&&!ma);fa=V;ca=I;ia=P;wa=da?ba:null;fa.writeByte(44);v(fa,0);v(fa,0);v(fa,ca);v(fa,ia);wa?(ca=z(wa.length)-1,fa.writeByte(128|ca)):fa.writeByte(0);da&&t(V,ba);[ja,X,ia,ca,fa=8,da,ba,O]=[V,O,I,P,qa,W,R,S];C(ia,ca,X,fa,ja,da,ba,O)}}}function t(J,E){var M=1<<z(E.length);for(let Q=0;Q<M;Q++){let V=[0,0,0];
Q<E.length&&(V=E[Q]);J.writeByte(V[0]);J.writeByte(V[1]);J.writeByte(V[2])}}function v(J,E){J.writeByte(255&E);J.writeByte(E>>8&255)}function w(J,E){for(var M=0;M<E.length;M++)J.writeByte(E.charCodeAt(M))}function z(J){return Math.max(Math.ceil(Math.log2(J)),1)}var y;a=Object.defineProperty;q=(a(q,"__esModule",{value:!0}),q);G={GIFEncoder:()=>m,applyPalette:()=>function(J,E,M="rgb565"){if(!J||!J.buffer)throw Error("quantize() expected RGBA Uint8Array data");if(!(J instanceof Uint8Array||J instanceof
Uint8ClampedArray))throw Error("quantize() expected RGBA Uint8Array data");if(256<E.length)throw Error("applyPalette() only works with 256 colors or less");J=new Uint32Array(J.buffer);const Q=J.length;var V="rgb444"===M?4096:65536;const W=new Uint8Array(Q);V=Array(V);if("rgba4444"===M)for(var R=0;R<Q;R++){M=J[R];var S=M>>24&255,K=M>>16&255,O=M>>8&255;M&=255;var I=M>>4|240&O|(240&K)<<4|(240&S)<<8;I=I in V?V[I]:V[I]=function(P,X,ca,ia,da){let ba=0,ja=1E100;for(let sa=0;sa<da.length;sa++){var qa,fa=
da[sa],ma=l(fa[3]-ia);ma>ja||(qa=fa[0],(ma+=l(qa-P))>ja||(qa=fa[1],(ma+=l(qa-X))>ja||(qa=fa[2],(ma+=l(qa-ca))>ja||(ja=ma,ba=sa))))}return ba}(M,O,K,S,E);W[R]=I}else for(I="rgb444"===M?r:u,R=0;R<Q;R++)M=J[R],S=M>>16&255,K=M>>8&255,M&=255,O=I(M,K,S),O=O in V?V[O]:V[O]=function(P,X,ca,ia){let da=0,ba=1E100;for(let ma=0;ma<ia.length;ma++){var ja,qa=ia[ma],fa=l(qa[0]-P);fa>ba||(ja=qa[1],(fa+=l(ja-X))>ba||(ja=qa[2],(fa+=l(ja-ca))>ba||(ba=fa,da=ma)))}return da}(M,K,S,E),W[R]=O;return W},default:()=>N,nearestColor:()=>
function(J,E,M=b){return J[h(J,E,M)]},nearestColorIndex:()=>h,nearestColorIndexWithDistance:()=>g,prequantize:()=>function(J,{roundRGB:E=5,roundAlpha:M=10,oneBitAlpha:Q=null}={}){J=new Uint32Array(J.buffer);for(let K=0;K<J.length;K++){var V=J[K];let O=V>>24&255;var W,R=V>>16&255,S=V>>8&255;V&=255;O=d(O,M);Q&&(W="number"==typeof Q?Q:127,O=O<=W?0:255);V=d(V,E);S=d(S,E);R=d(R,E);J[K]=O<<24|R<<16|S<<8|V<<0}},quantize:()=>function(J,E,M={}){var {format:Q="rgb565",clearAlpha:V=!0,clearAlphaColor:W=0,clearAlphaThreshold:R=
0,oneBitAlpha:S=!1}=M;if(!J||!J.buffer)throw Error("quantize() expected RGBA Uint8Array data");if(!(J instanceof Uint8Array||J instanceof Uint8ClampedArray))throw Error("quantize() expected RGBA Uint8Array data");J=new Uint32Array(J.buffer);var K=!1!==M.useSqrt;M="rgba4444"===Q;J=function(fa,ma){const sa=Array("rgb444"===ma?4096:65536),xa=fa.length;if("rgba4444"===ma)for(var pa=0;pa<xa;++pa){ma=fa[pa];var ra=ma>>24&255,wa=ma>>16&255,ua=ma>>8&255;ma&=255;var ta=ma>>4|240&ua|(240&wa)<<4|(240&ra)<<8;
ta=ta in sa?sa[ta]:sa[ta]=c();ta.rc+=ma;ta.gc+=ua;ta.bc+=wa;ta.ac+=ra;ta.cnt++}else if("rgb444"===ma)for(ua=0;ua<xa;++ua)ma=fa[ua],ra=ma>>16&255,wa=ma>>8&255,ma&=255,pa=r(ma,wa,ra),pa=pa in sa?sa[pa]:sa[pa]=c(),pa.rc+=ma,pa.gc+=wa,pa.bc+=ra,pa.cnt++;else for(ua=0;ua<xa;++ua)ma=fa[ua],ra=ma>>16&255,wa=ma>>8&255,ma&=255,pa=u(ma,wa,ra),pa=pa in sa?sa[pa]:sa[pa]=c(),pa.rc+=ma,pa.gc+=wa,pa.bc+=ra,pa.cnt++;return sa}(J,Q);for(var O=J.length,I=O-1,P=new Uint32Array(O+1),X=0,ca=0;ca<O;++ca){const fa=J[ca];
null!=fa&&(ja=1/fa.cnt,M&&(fa.ac*=ja),fa.rc*=ja,fa.gc*=ja,fa.bc*=ja,J[X++]=fa)}.022>E*E/X&&(K=!1);var ia,da;for(ca=0;ca<X-1;++ca)J[ca].fw=ca+1,J[ca+1].bk=ca,K&&(J[ca].cnt=Math.sqrt(J[ca].cnt));K&&(J[ca].cnt=Math.sqrt(J[ca].cnt));for(ca=0;ca<X;++ca){f(J,ca,!1);K=J[ca].err;for(ja=++P[0];1<ja&&(da=ja>>1,!(J[ia=P[da]].err<=K));ja=da)P[ja]=ia;P[ja]=ca}var ba;E=X-E;for(ca=0;ca<E;){for(;;){X=P[1];if((ba=J[X]).tm>=ba.mtm&&J[ba.nn].mtm<=ba.tm)break;ba.mtm==I?X=P[1]=P[P[0]--]:(f(J,X,!1),ba.tm=ca);K=J[X].err;
for(ja=1;(da=ja+ja)<=P[0]&&(da<P[0]&&J[P[da]].err>J[P[da+1]].err&&da++,!(K<=J[ia=P[da]].err));ja=da)P[ja]=ia;P[ja]=X}X=J[ba.nn];K=ba.cnt;O=X.cnt;var ja=1/(K+O);M&&(ba.ac=ja*(K*ba.ac+O*X.ac));ba.rc=ja*(K*ba.rc+O*X.rc);ba.gc=ja*(K*ba.gc+O*X.gc);ba.bc=ja*(K*ba.bc+O*X.bc);ba.cnt+=X.cnt;ba.mtm=++ca;J[X.bk].fw=X.fw;J[X.fw].bk=X.bk;X.mtm=I}ia=[];for(ca=0;;0){da=p(Math.round(J[ca].rc),0,255);ba=p(Math.round(J[ca].gc),0,255);I=p(Math.round(J[ca].bc),0,255);P=255;M&&(P=p(Math.round(J[ca].ac),0,255),S&&(qa=
"number"==typeof S?S:127,P=P<=qa?0:255),V&&P<=R&&(da=ba=I=W,P=0));var qa=M?[da,ba,I,P]:[da,ba,I];if(function(fa,ma){for(let pa=0;pa<fa.length;pa++){var sa=fa[pa],xa=sa[0]===ma[0]&&sa[1]===ma[1]&&sa[2]===ma[2];sa=!(4<=sa.length&&4<=ma.length)||sa[3]===ma[3];if(xa&&sa)return!0}return!1}(ia,qa)||ia.push(qa),0==(ca=J[ca].fw))break}return ia},snapColorsToPalette:()=>function(J,E,M=5){if(J.length&&E.length){var Q=J.map(S=>S.slice(0,3));M*=M;var V=J[0].length;for(let S=0;S<E.length;S++){let K=E[S];K=K.length<
V?[K[0],K[1],K[2],255]:K.length>V?K.slice(0,3):K.slice();var W=g(Q,K.slice(0,3),b),R=W[0];W=W[1];0<W&&W<=M&&(J[R]=K)}}}};for(y in G)a(q,y,{get:G[y],enumerable:!0});var F={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,
userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7},D=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],C=function(J,E,M,Q,V=x(512),W=new Uint8Array(256),R=new Int32Array(5003),S=new Int32Array(5003)){function K(pa){O&=D[I];0<I?O|=pa<<I:O=pa;for(I+=ca;8<=I;)W[ja++]=255&O,254<=ja&&(V.writeByte(ja),V.writeBytesView(W,0,ja),ja=0),O>>=8,I-=8;if((ba>ia||X)&&(X?(ca=P,ia=(1<<ca)-1,X=!1):(++ca,ia=12===
ca?1<<ca:(1<<ca)-1)),pa==da){for(;0<I;)W[ja++]=255&O,254<=ja&&(V.writeByte(ja),V.writeBytesView(W,0,ja),ja=0),O>>=8,I-=8;0<ja&&(V.writeByte(ja),V.writeBytesView(W,0,ja),ja=0)}}J=R.length;Q=Math.max(2,Q);W.fill(0);S.fill(0);R.fill(-1);let O=0,I=0;const P=E=Q+1;let X=!1,ca=P,ia=(1<<ca)-1;E=1<<E-1;const da=1+E;let ba=2+E,ja=0,qa=M[0],fa=0;for(var ma=J;65536>ma;ma*=2)++fa;fa=8-fa;V.writeByte(Q);K(E);Q=M.length;for(let pa=1;pa<Q;pa++)a:{ma=M[pa];var sa=(ma<<12)+qa;let ra=ma<<fa^qa;if(R[ra]===sa)qa=S[ra];
else{for(var xa=0===ra?1:J-ra;0<=R[ra];)if(0>(ra-=xa)&&(ra+=J),R[ra]===sa){qa=S[ra];break a}K(qa);qa=ma;4096>ba?(S[ra]=ba++,R[ra]=sa):(R.fill(-1),ba=2+E,X=!0,K(E))}}return K(qa),K(da),V.writeByte(0),V.bytesView()},N=m},{}],254:[function(a,G,q){q.read=function(x,u,r,p,k){var f=8*k-p-1;var c=(1<<f)-1,b=c>>1,d=-7,l=r?k-1:0,h=r?-1:1;k=x[u+l];l+=h;r=k&(1<<-d)-1;k>>=-d;for(d+=f;0<d;r=256*r+x[u+l],l+=h,d-=8);f=r&(1<<-d)-1;r>>=-d;for(d+=p;0<d;f=256*f+x[u+l],l+=h,d-=8);if(0===r)r=1-b;else{if(r===c)return f?
NaN:1/0*(k?-1:1);f+=Math.pow(2,p);r-=b}return(k?-1:1)*f*Math.pow(2,r-p)};q.write=function(x,u,r,p,k,f){var c,b,d=8*f-k-1,l=(1<<d)-1,h=l>>1,g=23===k?Math.pow(2,-24)-Math.pow(2,-77):0,m=p?0:f-1,t=p?1:-1;f=0>u||0===u&&0>1/u?1:0;u=Math.abs(u);for(isNaN(u)||u===1/0?(b=isNaN(u)?1:0,c=l):(c=Math.floor(Math.log(u)/Math.LN2),1>u*(p=Math.pow(2,-c))&&(c--,p*=2),2<=(u+=1<=c+h?g/p:g*Math.pow(2,1-h))*p&&(c++,p/=2),l<=c+h?(b=0,c=l):1<=c+h?(b=(u*p-1)*Math.pow(2,k),c+=h):(b=u*Math.pow(2,h-1)*Math.pow(2,k),c=0));8<=
k;x[r+m]=255&b,m+=t,b/=256,k-=8);c=c<<k|b;for(d+=k;0<d;x[r+m]=255&c,m+=t,c/=256,d-=8);x[r+m-t]|=128*f}},{}],255:[function(a,G,q){function x(Y,aa){return Y.b===aa.b&&Y.a===aa.a}function u(Y,aa){return Y.b<aa.b||Y.b===aa.b&&Y.a<=aa.a}function r(Y,aa,Z){var ka=aa.b-Y.b,va=Z.b-aa.b;return 0<ka+va?ka<va?aa.a-Y.a+ka/(ka+va)*(Y.a-Z.a):aa.a-Z.a+va/(ka+va)*(Z.a-Y.a):0}function p(Y,aa,Z){var ka=aa.b-Y.b,va=Z.b-aa.b;return 0<ka+va?(aa.a-Z.a)*ka+(aa.a-Y.a)*va:0}function k(Y,aa){return Y.a<aa.a||Y.a===aa.a&&Y.b<=
aa.b}function f(Y,aa,Z){var ka=aa.a-Y.a,va=Z.a-aa.a;return 0<ka+va?ka<va?aa.b-Y.b+ka/(ka+va)*(Y.b-Z.b):aa.b-Z.b+va/(ka+va)*(Z.b-Y.b):0}function c(Y,aa,Z){var ka=aa.a-Y.a,va=Z.a-aa.a;return 0<ka+va?(aa.b-Z.b)*ka+(aa.b-Y.b)*va:0}function b(Y,aa,Z,ka){return(Y=0>Y?0:Y)<=(Z=0>Z?0:Z)?0===Z?(aa+ka)/2:aa+Y/(Y+Z)*(ka-aa):ka+Z/(Y+Z)*(aa-ka)}function d(Y){var aa=t(Y.b);return w(aa,Y.c),w(aa.b,Y.c),z(aa,Y.a),aa}function l(Y,aa){var Z=!1,ka=!1;Y!==aa&&(aa.a!==Y.a&&(ka=!0,F(aa.a,Y.a)),aa.d!==Y.d&&(Z=!0,D(aa.d,
Y.d)),v(aa,Y),ka||(w(aa,Y.a),Y.a.c=Y),Z||(z(aa,Y.d),Y.d.a=Y))}function h(Y){var aa=Y.b,Z=!1;Y.d!==Y.b.d&&(Z=!0,D(Y.d,Y.b.d));Y.c===Y?F(Y.a,null):(Y.b.d.a=Y.b.e,Y.a.c=Y.c,v(Y,Y.b.e),Z||z(Y,Y.d));aa.c===aa?(F(aa.a,null),D(aa.d,null)):(Y.d.a=aa.b.e,aa.a.c=aa.c,v(aa,aa.b.e));y(Y)}function g(Y){var aa=t(Y),Z=aa.b;return v(aa,Y.e),aa.a=Y.b.a,w(Z,aa.a),aa.d=Z.d=Y.d,aa=aa.b,v(Y.b,Y.b.b.e),v(Y.b,aa),Y.b.a=aa.a,aa.b.a.c=aa.b,aa.b.d=Y.b.d,aa.f=Y.f,aa.b.f=Y.b.f,aa}function m(Y,aa){var Z=!1,ka=t(Y),va=ka.b;return aa.d!==
Y.d&&(Z=!0,D(aa.d,Y.d)),v(ka,Y.e),v(va,aa),ka.a=Y.b.a,va.a=aa.a,ka.d=va.d=Y.d,Y.d.a=va,Z||z(ka,Y.d),ka}function t(Y){var aa=new pa,Z=new pa;return(((Z.h=Y.b.h).b.h=aa).h=Y).b.h=Z,aa.b=Z,((aa.c=aa).e=Z).b=aa,(Z.c=Z).e=aa}function v(Y,aa){var Z=Y.c,ka=aa.c;Z.b.e=aa;(ka.b.e=Y).c=ka;aa.c=Z}function w(Y,aa){var Z=aa.f,ka=new wa(aa,Z);Z.e=ka;for(Z=(aa.f=ka).c=Y;Z.a=ka,(Z=Z.c)!==Y;);}function z(Y,aa){var Z=aa.d,ka=new xa(aa,Z);Z.b=ka;(aa.d=ka).a=Y;ka.c=aa.c;for(Z=Y;Z.d=ka,(Z=Z.e)!==Y;);}function y(Y){var aa=
Y.h;Y=Y.b.h;(aa.b.h=Y).b.h=aa}function F(Y,aa){for(var Z=Y.c,ka=Z;ka.a=aa,(ka=ka.c)!==Z;);Z=Y.f;((ka=Y.e).f=Z).e=ka}function D(Y,aa){for(var Z=Y.a,ka=Z;ka.d=aa,(ka=ka.e)!==Z;);Z=Y.d;((ka=Y.b).d=Z).b=ka}function C(Y){var aa=0;return Math.abs(Y[1])>Math.abs(Y[0])&&(aa=1),Math.abs(Y[2])>Math.abs(Y[aa])?2:aa}function N(Y,aa){Y.f+=aa.f;Y.b.f+=aa.b.f}function J(Y,aa,Z){return Y=Y.a,aa=aa.a,Z=Z.a,aa.b.a===Y?Z.b.a===Y?u(aa.a,Z.a)?0>=p(Z.b.a,aa.a,Z.a):0<=p(aa.b.a,Z.a,aa.a):0>=p(Z.b.a,Y,Z.a):Z.b.a===Y?0<=p(aa.b.a,
Y,aa.a):(aa=r(aa.b.a,Y,aa.a),r(Z.b.a,Y,Z.a)<=aa)}function E(Y){Y.a.i=null;var aa=Y.e;aa.a.c=aa.c;aa.c.a=aa.a;Y.e=null}function M(Y,aa){h(Y.a);Y.c=!1;(Y.a=aa).i=Y}function Q(Y){for(var aa=Y.a.a;(Y=mb(Y)).a.a===aa;);return Y.c&&(M(Y,m(Sa(Y).a.b,Y.a.e)),Y=mb(Y)),Y}function V(Y,aa,Z){var ka=new Wa;return ka.a=Z,ka.e=ja(Y.f,aa.e,ka),Z.i=ka}function W(Y,aa){switch(Y.s){case 100130:return 0!=(1&aa);case 100131:return 0!==aa;case 100132:return 0<aa;case 100133:return 0>aa;case 100134:return 2<=aa||-2>=aa}return!1}
function R(Y){var aa=Y.a,Z=aa.d;Z.c=Y.d;Z.a=aa;E(Y)}function S(Y,aa,Z){for(aa=(Y=aa).a;Y!==Z;){Y.c=!1;var ka=Sa(Y),va=ka.a;if(va.a!==aa.a){if(!ka.c){R(Y);break}M(ka,va=m(aa.c.b,va.b))}aa.c!==va&&(l(va.b.e,va),l(aa,va));R(Y);aa=ka.a;Y=ka}return aa}function K(Y,aa,Z,ka,va,Aa){for(var Fa=!0;V(Y,aa,Z.b),(Z=Z.c)!==ka;);for(null===va&&(va=Sa(aa).a.b.c);(Z=(ka=Sa(aa)).a.b).a===va.a;)Z.c!==va&&(l(Z.b.e,Z),l(va.b.e,Z)),ka.f=aa.f-Z.f,ka.d=W(Y,ka.f),aa.b=!0,!Fa&&X(Y,aa)&&(N(Z,va),E(aa),h(va)),Fa=!1,aa=ka,va=
Z;aa.b=!0;Aa&&ia(Y,aa)}function O(Y,aa,Z,ka,va){var Aa=[aa.g[0],aa.g[1],aa.g[2]];aa.d=null;aa.d=Y.o&&Y.o(Aa,Z,ka,Y.c)||null;null===aa.d&&(va?Y.n||(sa(Y,100156),Y.n=!0):aa.d=Z[0])}function I(Y,aa,Z){var ka=[null,null,null,null];ka[0]=aa.a.d;ka[1]=Z.a.d;O(Y,aa.a,ka,[.5,.5,0,0],!1);l(aa,Z)}function P(Y,aa,Z,ka,va){var Aa=Math.abs(aa.b-Y.b)+Math.abs(aa.a-Y.a),Fa=Math.abs(Z.b-Y.b)+Math.abs(Z.a-Y.a),Pa=va+1;ka[va]=.5*Fa/(Aa+Fa);ka[Pa]=.5*Aa/(Aa+Fa);Y.g[0]+=ka[va]*aa.g[0]+ka[Pa]*Z.g[0];Y.g[1]+=ka[va]*aa.g[1]+
ka[Pa]*Z.g[1];Y.g[2]+=ka[va]*aa.g[2]+ka[Pa]*Z.g[2]}function X(Y,aa){var Z=Sa(aa),ka=aa.a,va=Z.a;if(u(ka.a,va.a)){if(0<p(va.b.a,ka.a,va.a))return;if(x(ka.a,va.a)){if(ka.a!==va.a){Z=Y.e;aa=ka.a.h;if(0<=aa){var Aa=(Z=Z.b).d,Fa=Z.e,Pa=Z.c,Qa=Pa[aa];Aa[Qa]=Aa[Z.a];(Pa[Aa[Qa]]=Qa)<=--Z.a&&(1>=Qa||u(Fa[Aa[Qa>>1]],Fa[Aa[Qa]])?ib:jb)(Z,Qa);Fa[aa]=null;Pa[aa]=Z.b;Z.b=aa}else for(Z.c[-(aa+1)]=null;0<Z.a&&null===Z.c[Z.d[Z.a-1]];)--Z.a;I(Y,va.b.e,ka)}}else g(va.b),l(ka,va.b.e),aa.b=Z.b=!0}else{if(0>p(ka.b.a,va.a,
ka.a))return;mb(aa).b=aa.b=!0;g(ka.b);l(va.b.e,ka)}return 1}function ca(Y,aa){var Z=Sa(aa),ka=aa.a,va=Z.a,Aa=ka.a,Fa=va.a,Pa=ka.b.a,Qa=va.b.a,db=new wa;if(p(Pa,Y.a,Aa),p(Qa,Y.a,Fa),!(Aa===Fa||Math.min(Aa.a,Pa.a)>Math.max(Fa.a,Qa.a))){if(u(Aa,Fa)){if(0<p(Qa,Aa,Fa))return}else if(0>p(Pa,Fa,Aa))return;var bb,wb,fb=Pa,Ra=Aa,nb=Qa,rb=Fa;if(u(fb,Ra)||(bb=fb,fb=Ra,Ra=bb),u(nb,rb)||(bb=nb,nb=rb,rb=bb),u(fb,nb)||(bb=fb,fb=nb,nb=bb,bb=Ra,Ra=rb,rb=bb),u(nb,Ra)?u(Ra,rb)?(0>(bb=r(fb,nb,Ra))+(wb=r(nb,Ra,rb))&&
(bb=-bb,wb=-wb),db.b=b(bb,nb.b,wb,Ra.b)):(0>(bb=p(fb,nb,Ra))+(wb=-p(fb,rb,Ra))&&(bb=-bb,wb=-wb),db.b=b(bb,nb.b,wb,rb.b)):db.b=(nb.b+Ra.b)/2,k(fb,Ra)||(bb=fb,fb=Ra,Ra=bb),k(nb,rb)||(bb=nb,nb=rb,rb=bb),k(fb,nb)||(bb=fb,fb=nb,nb=bb,bb=Ra,Ra=rb,rb=bb),k(nb,Ra)?k(Ra,rb)?(0>(bb=f(fb,nb,Ra))+(wb=f(nb,Ra,rb))&&(bb=-bb,wb=-wb),db.a=b(bb,nb.a,wb,Ra.a)):(0>(bb=c(fb,nb,Ra))+(wb=-c(fb,rb,Ra))&&(bb=-bb,wb=-wb),db.a=b(bb,nb.a,wb,rb.a)):db.a=(nb.a+Ra.a)/2,u(db,Y.a)&&(db.b=Y.a.b,db.a=Y.a.a),fb=u(Aa,Fa)?Aa:Fa,u(fb,
db)&&(db.b=fb.b,db.a=fb.a),x(db,Aa)||x(db,Fa))return X(Y,aa),0;if(!x(Pa,Y.a)&&0<=p(Pa,Y.a,db)||!x(Qa,Y.a)&&0>=p(Qa,Y.a,db)){if(Qa===Y.a)g(ka.b),l(va.b,ka),ka=Sa(aa=Q(aa)).a,S(Y,Sa(aa),Z),K(Y,aa,ka.b.e,ka,ka,!0);else{if(Pa!==Y.a)return 0<=p(Pa,Y.a,db)&&(mb(aa).b=aa.b=!0,g(ka.b),ka.a.b=Y.a.b,ka.a.a=Y.a.a),void(0>=p(Qa,Y.a,db)&&(aa.b=Z.b=!0,g(va.b),va.a.b=Y.a.b,va.a.a=Y.a.a));g(va.b);l(ka.e,va.b.e);for(Fa=(Aa=Z=aa).a.b.a;(Aa=mb(Aa)).a.b.a===Fa;);Aa=Sa(aa=Aa).a.b.c;Z.a=va.b.e;K(Y,aa,S(Y,Z,null).c,ka.b.c,
Aa,!0)}return 1}g(ka.b);g(va.b);l(va.b.e,ka);ka.a.b=db.b;ka.a.a=db.a;ka.a.h=ta(Y.e,ka.a);ka=ka.a;va=[0,0,0,0];db=[Aa.d,Pa.d,Fa.d,Qa.d];ka.g[0]=ka.g[1]=ka.g[2]=0;P(ka,Aa,Pa,va,0);P(ka,Fa,Qa,va,2);O(Y,ka,db,va,!0);mb(aa).b=aa.b=Z.b=!0}}function ia(Y,aa){for(var Z=Sa(aa);;){for(;Z.b;)Z=Sa(aa=Z);if(!(aa.b||null!==(aa=mb(Z=aa))&&aa.b))break;aa.b=!1;var ka=aa.a,va=Z.a;if(Aa=ka.b.a!==va.b.a)a:{var Aa,Fa=Sa(Aa=aa),Pa=Aa.a,Qa=Fa.a;if(u(Pa.b.a,Qa.b.a)){if(0>p(Pa.b.a,Qa.b.a,Pa.a)){Aa=!1;break a}mb(Aa).b=Aa.b=
!0;Fa=g(Pa);l(Qa.b,Fa);Fa.d.c=Aa.d}else{if(0<p(Qa.b.a,Pa.b.a,Qa.a)){Aa=!1;break a}Aa.b=Fa.b=!0;Fa=g(Qa);l(Pa.e,Qa.b);Fa.b.d.c=Aa.d}Aa=!0}if(Aa&&(Z.c?(E(Z),h(va),va=(Z=Sa(aa)).a):aa.c&&(E(aa),h(ka),ka=(aa=mb(Z)).a)),ka.a!==va.a)if(ka.b.a===va.b.a||aa.c||Z.c||ka.b.a!==Y.a&&va.b.a!==Y.a)X(Y,aa);else if(ca(Y,aa))break;ka.a===va.a&&ka.b.a===va.b.a&&(N(va,ka),E(aa),h(ka),aa=mb(Z))}}function da(Y,aa){var Z=new Wa,ka=d(Y.b);ka.a.b=4E150;ka.a.a=aa;ka.b.a.b=-4E150;ka.b.a.a=aa;Y.a=ka.b.a;Z.a=ka;Z.f=0;Z.d=!1;
Z.c=!1;Z.h=!0;Z.b=!1;ka=ja(ka=Y.f,ka.a,Z);Z.e=ka}function ba(Y){this.a=new qa;this.b=Y;this.c=J}function ja(Y,aa,Z){for(;null!==(aa=aa.c).b&&!Y.c(Y.b,aa.b,Z););return Y=new qa(Z,aa.a,aa),aa.a.c=Y,aa.a=Y}function qa(Y,aa,Z){this.b=Y||null;this.a=aa||this;this.c=Z||this}function fa(){this.d=0;this.p=this.b=this.q=null;this.j=[0,0,0];this.s=100130;this.n=!1;this.o=this.a=this.e=this.f=null;this.m=!1;this.c=this.r=this.i=this.k=this.l=this.h=null}function ma(Y,aa){if(Y.d!==aa)for(;Y.d!==aa;)if(Y.d<aa)switch(Y.d){case 0:sa(Y,
100151);Y.u(null);break;case 1:sa(Y,100152),Y.t()}else switch(Y.d){case 2:sa(Y,100154);Y.v();break;case 1:sa(Y,100153),Y.w()}}function sa(Y,aa){Y.p&&Y.p(aa,Y.c)}function xa(Y,aa){this.b=Y||this;this.d=aa||this;this.a=null;this.c=!1}function pa(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null;this.f=0}function ra(){this.c=new wa;this.a=new xa;this.b=new pa;this.d=new pa;this.b.b=this.d;this.d.b=this.b}function wa(Y,aa){this.e=Y||this;this.f=aa||this;this.d=this.c=null;this.g=[0,0,0];this.h=
this.a=this.b=0}function ua(){this.c=[];this.d=null;this.a=0;this.e=!1;this.b=new Oa}function ta(Y,aa){var Z,ka,va;return Y.e?(2*(ka=++(Z=Y.b).a)>Z.f&&(Z.f*=2,Z.c=Ya(Z.c,Z.f+1)),0===Z.b?va=ka:(va=Z.b,Z.b=Z.c[Z.b]),Z.e[va]=aa,Z.c[va]=ka,Z.d[ka]=va,Z.h&&jb(Z,ka),va):(Z=Y.a++,Y.c[Z]=aa,-(Z+1))}function Ga(Y){if(0===Y.a)return Za(Y.b);var aa=Y.c[Y.d[Y.a-1]];if(0!==Y.b.a&&u($a(Y.b),aa))return Za(Y.b);for(;--Y.a,0<Y.a&&null===Y.c[Y.d[Y.a-1]];);return aa}function Oa(){this.d=Ya([0],33);this.e=[null,null];
this.c=[0,0];this.a=0;this.f=32;this.b=0;this.h=!1;this.d[1]=1}function Ya(Y,aa){for(var Z=Array(aa),ka=0;ka<Y.length;ka++)Z[ka]=Y[ka];for(;ka<aa;ka++)Z[ka]=0;return Z}function $a(Y){return Y.e[Y.d[1]]}function Za(Y){var aa=Y.d,Z=Y.e,ka=Y.c,va=aa[1],Aa=Z[va];return 0<Y.a&&(aa[1]=aa[Y.a],ka[aa[1]]=1,Z[va]=null,ka[va]=Y.b,Y.b=va,0<--Y.a&&ib(Y,1)),Aa}function ib(Y,aa){for(var Z=Y.d,ka=Y.e,va=Y.c,Aa=Z[aa];;){var Fa=aa<<1,Pa=(Fa<Y.a&&u(ka[Z[Fa+1]],ka[Z[Fa]])&&(Fa+=1),Z[Fa]);if(Fa>Y.a||u(ka[Aa],ka[Pa])){va[Z[aa]=
Aa]=aa;break}va[Z[aa]=Pa]=aa;aa=Fa}}function jb(Y,aa){var Z=Y.d,ka=Y.e;Y=Y.c;for(var va=Z[aa];;){var Aa=aa>>1,Fa=Z[Aa];if(0==Aa||u(ka[Fa],ka[va])){Y[Z[aa]=va]=aa;break}Y[Z[aa]=Fa]=aa;aa=Aa}}function Wa(){this.e=this.a=null;this.f=0;this.c=this.b=this.h=this.d=!1}function Sa(Y){return Y.e.c.b}function mb(Y){return Y.e.a.b}(a=fa.prototype).x=function(){ma(this,0)};a.B=function(Y,aa){switch(Y){case 100142:return;case 100140:switch(aa){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=
aa)}break;case 100141:return void(this.m=!!aa);default:return void sa(this,100900)}sa(this,100901)};a.y=function(Y){switch(Y){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:sa(this,100900)}return!1};a.A=function(Y,aa,Z){this.j[0]=Y;this.j[1]=aa;this.j[2]=Z};a.z=function(Y,aa){aa=aa||null;switch(Y){case 100100:case 100106:this.h=aa;break;case 100104:case 100110:this.l=aa;break;case 100101:case 100107:this.k=aa;break;case 100102:case 100108:this.i=aa;break;case 100103:case 100109:this.p=
aa;break;case 100105:case 100111:this.o=aa;break;case 100112:this.r=aa;break;default:sa(this,100900)}};a.C=function(Y,aa){var Z=!1,ka=[0,0,0];ma(this,2);for(var va=0;3>va;++va){var Aa=Y[va];-1E150>Aa&&(Aa=-1E150,Z=!0);1E150<Aa&&(Aa=1E150,Z=!0);ka[va]=Aa}Z&&sa(this,100155);null===(Z=this.q)?l(Z=d(this.b),Z.b):(g(Z),Z=Z.e);Z.a.d=aa;Z.a.g[0]=ka[0];Z.a.g[1]=ka[1];Z.a.g[2]=ka[2];Z.f=1;Z.b.f=-1;this.q=Z};a.u=function(Y){ma(this,0);this.d=1;this.b=new ra;this.c=Y};a.t=function(){ma(this,1);this.d=2;this.q=
null};a.v=function(){ma(this,2);this.d=1};a.w=function(){ma(this,1);this.d=0;var Y,aa,Z=this.j[0],ka=this.j[1],va=this.j[2],Aa=!1,Fa=[Z,ka,va];if(0===Z&&0===ka&&0===va){ka=[-2E150,-2E150,-2E150];var Pa=[2E150,2E150,2E150];va=[];var Qa=[];for(Z=(Aa=this.b.c).e;Z!==Aa;Z=Z.e)for(var db=0;3>db;++db){var bb=Z.g[db];bb<Pa[db]&&(Pa[db]=bb,Qa[db]=Z);bb>ka[db]&&(ka[db]=bb,va[db]=Z)}if(ka[1]-Pa[1]>ka[Z=0]-Pa[0]&&(Z=1),Pa[Z=ka[2]-Pa[2]>ka[Z]-Pa[Z]?2:Z]>=ka[Z])Fa[0]=0,Fa[1]=0,Fa[2]=1;else{Pa=Qa[Z];va=va[Z];Qa=
[ka=0,0,0];Pa=[Pa.g[0]-va.g[0],Pa.g[1]-va.g[1],Pa.g[2]-va.g[2]];db=[0,0,0];for(Z=Aa.e;Z!==Aa;Z=Z.e)db[0]=Z.g[0]-va.g[0],db[1]=Z.g[1]-va.g[1],db[2]=Z.g[2]-va.g[2],Qa[0]=Pa[1]*db[2]-Pa[2]*db[1],Qa[1]=Pa[2]*db[0]-Pa[0]*db[2],Qa[2]=Pa[0]*db[1]-Pa[1]*db[0],ka<(bb=Qa[0]*Qa[0]+Qa[1]*Qa[1]+Qa[2]*Qa[2])&&(ka=bb,Fa[0]=Qa[0],Fa[1]=Qa[1],Fa[2]=Qa[2]);0>=ka&&(Fa[0]=Fa[1]=Fa[2]=0,Fa[C(Pa)]=1)}Aa=!0}Qa=C(Fa);Z=this.b.c;ka=(Qa+1)%3;va=(Qa+2)%3;Qa=0<Fa[Qa]?1:-1;for(Fa=Z.e;Fa!==Z;Fa=Fa.e)Fa.b=Fa.g[ka],Fa.a=Qa*Fa.g[va];
if(Aa){Fa=0;for(Z=(Aa=this.b.a).b;Z!==Aa;Z=Z.b)if(!(0>=(ka=Z.a).f))for(;Fa+=(ka.a.b-ka.b.a.b)*(ka.a.a+ka.b.a.a),(ka=ka.e)!==Z.a;);if(0>Fa)for(Aa=(Fa=this.b.c).e;Aa!==Fa;Aa=Aa.e)Aa.a=-Aa.a}this.n=!1;Fa=this.b.b;for(Z=Fa.h;Z!==Fa;Z=Aa)Aa=Z.h,ka=Z.e,x(Z.a,Z.b.a)&&Z.e.e!==Z&&(I(this,ka,Z),h(Z),ka=(Z=ka).e),ka.e===Z&&(ka!==Z&&(ka!==Aa&&ka!==Aa.b||(Aa=Aa.h),h(ka)),Z!==Aa&&Z!==Aa.b||(Aa=Aa.h),h(Z));this.e=Fa=new ua;Aa=this.b.c;for(Z=Aa.e;Z!==Aa;Z=Z.e)Z.h=ta(Fa,Z);Z=Fa;Z.d=[];for(ka=0;ka<Z.a;ka++)Z.d[ka]=
ka;Z.d.sort(function(wb){return function(fb,Ra){return u(wb[fb],wb[Ra])?1:-1}}(Z.c));Z.e=!0;Z=Z.b;for(ka=Z.a;1<=ka;--ka)ib(Z,ka);Z.h=!0;this.f=new ba(this);da(this,-4E150);for(da(this,4E150);null!==(Fa=Ga(this.e));){for(;;){if(0===(Z=this.e).a)Aa=$a(Z.b);else if(Aa=Z.c[Z.d[Z.a-1]],0!==Z.b.a&&u(Z=$a(Z.b),Aa))Aa=Z;if(null===Aa||!x(Aa,Fa))break;Aa=Ga(this.e);I(this,Fa.c,Aa.c)}!function nb(fb,Ra){for(var rb,vb=(fb.a=Ra).c;null===vb.i;)if((vb=vb.c)===Ra.c){vb=fb;var zb=Ra;(pb=new Wa).a=zb.c.b;for(var Db=
(Ra=vb.f).a;null!==(Db=Db.a).b&&!Ra.c(Ra.b,pb,Db.b););var Eb,Cb=Sa(Ra=Db.b),pb=Ra.a;Db=Cb.a;return void(0===p(pb.b.a,zb,pb.a)?x((pb=Ra.a).a,zb)||x(pb.b.a,zb)||(g(pb.b),Ra.c&&(h(pb.c),Ra.c=!1),l(zb.c,pb),nb(vb,zb)):(Eb=u(Db.b.a,pb.b.a)?Ra:Cb,Ra.d||Eb.c?(Cb=Eb===Ra?m(zb.c.b,pb.e):m(Db.b.c.b,zb.c).b,Eb.c?M(Eb,Cb):((Ra=V(pb=vb,Ra,Cb)).f=mb(Ra).f+Ra.a.f,Ra.d=W(pb,Ra.f)),nb(vb,zb)):K(vb,Ra,zb.c,zb.c,null,!0)))}Ra=(pb=Sa(vb=Q(vb.i))).a;(pb=S(fb,pb,null)).c===Ra?(pb=(Ra=pb).c,Db=Sa(vb),Cb=vb.a,Eb=Db.a,rb=
!1,Cb.b.a!==Eb.b.a&&ca(fb,vb),x(Cb.a,fb.a)&&(l(pb.b.e,Cb),pb=Sa(vb=Q(vb)).a,S(fb,Sa(vb),Db),rb=!0),x(Eb.a,fb.a)&&(l(Ra,Eb.b.e),Ra=S(fb,Db,null),rb=!0),rb?K(fb,vb,Ra.c,pb,pb,!0):(zb=u(Eb.a,Cb.a)?Eb.b.e:Cb,K(fb,vb,zb=m(Ra.c.b,zb),zb.c,zb.c,!1),zb.b.i.c=!0,ia(fb,vb))):K(fb,vb,pb.c,Ra,Ra,!0)}(this,Fa)}this.a=this.f.a.a.b.a.a;for(Fa=0;null!==(Aa=this.f.a.a.b);)Aa.h||++Fa,E(Aa);this.f=null;(Fa=this.e).b=null;Fa.d=null;this.e=Fa.c=null;Fa=this.b;for(Z=Fa.a.b;Z!==Fa.a;Z=Aa)Aa=Z.b,(Z=Z.a).e.e===Z&&(N(Z.c,
Z),h(Z));if(!this.n){if(Fa=this.b,this.m)for(Z=Fa.b.h;Z!==Fa.b;Z=Aa)Aa=Z.h,Z.b.d.c!==Z.d.c?Z.f=Z.d.c?1:-1:h(Z);else for(Z=Fa.a.b;Z!==Fa.a;Z=Aa)if(Aa=Z.b,Z.c){for(Z=Z.a;u(Z.b.a,Z.a);Z=Z.c.b);for(;u(Z.a,Z.b.a);Z=Z.e);ka=Z.c.b;for(va=void 0;Z.e!==ka;)if(u(Z.b.a,ka.a)){for(;ka.e!==Z&&(u((aa=ka.e).b.a,aa.a)||0>=p(ka.a,ka.b.a,ka.e.b.a));)ka=(va=m(ka.e,ka)).b;ka=ka.c.b}else{for(;ka.e!==Z&&(u((Y=Z.c.b).a,Y.b.a)||0<=p(Z.b.a,Z.a,Z.c.b.a));)Z=(va=m(Z,Z.c.b)).b;Z=Z.e}for(;ka.e.e!==Z;)va=m(ka.e,ka),ka=va.b}if(this.h||
this.i||this.k||this.l)if(this.m)for(Aa=(Fa=this.b).a.b;Aa!==Fa.a;Aa=Aa.b){if(Aa.c){this.h&&this.h(2,this.c);for(Z=Aa.a;this.k&&this.k(Z.a.d,this.c),(Z=Z.e)!==Aa.a;);this.i&&this.i(this.c)}}else{Fa=this.b;Aa=!!this.l;Z=!1;ka=-1;for(va=Fa.a.d;va!==Fa.a;va=va.d)if(va.c)for(Z||(this.h&&this.h(4,this.c),Z=!0),Qa=va.a;Aa&&(Pa=Qa.b.d.c?0:1,ka!==Pa&&(ka=Pa,this.l&&this.l(!!ka,this.c))),this.k&&this.k(Qa.a.d,this.c),(Qa=Qa.e)!==va.a;);Z&&this.i&&this.i(this.c)}if(this.r){Fa=this.b;for(Z=Fa.a.b;Z!==Fa.a;Z=
Aa)if(Aa=Z.b,!Z.c){va=(ka=Z.a).e;for(Qa=void 0;va=(Qa=va).e,(Qa.d=null)===Qa.b.d&&(Qa.c===Qa?F(Qa.a,null):(Qa.a.c=Qa.c,v(Qa,Qa.b.e)),(Pa=Qa.b).c===Pa?F(Pa.a,null):(Pa.a.c=Pa.c,v(Pa,Pa.b.e)),y(Qa)),Qa!==ka;);ka=Z.d;((Z=Z.b).d=ka).b=Z}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null};this.libtess={GluTesselator:fa,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},
primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,
GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}};fa.prototype.gluDeleteTess=fa.prototype.x;fa.prototype.gluTessProperty=fa.prototype.B;fa.prototype.gluGetTessProperty=fa.prototype.y;fa.prototype.gluTessNormal=fa.prototype.A;fa.prototype.gluTessCallback=fa.prototype.z;fa.prototype.gluTessVertex=
fa.prototype.C;fa.prototype.gluTessBeginPolygon=fa.prototype.u;fa.prototype.gluTessBeginContour=fa.prototype.t;fa.prototype.gluTessEndContour=fa.prototype.v;fa.prototype.gluTessEndPolygon=fa.prototype.w;void 0!==G&&(G.exports=this.libtess)},{}],256:[function(a,G,q){function x(r,p,k,f){function c(v){v=v.length;if(2>v||256<v||v&v-1)throw Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return v}var b=0,d=void 0===(f=void 0===f?{}:f).loop?null:f.loop,l=void 0===f.palette?null:f.palette;
if(0>=p||0>=k||65535<p||65535<k)throw Error("Width/Height invalid.");r[b++]=71;r[b++]=73;r[b++]=70;r[b++]=56;r[b++]=57;r[b++]=97;var h=0,g=0;if(null!==l){for(var m=c(l);m>>=1;)++h;if(m=1<<h,--h,void 0!==f.background){if(m<=(g=f.background))throw Error("Background index out of range.");if(0===g)throw Error("Background index explicitly passed as 0.");}}if(r[b++]=255&p,r[b++]=p>>8&255,r[b++]=255&k,r[b++]=k>>8&255,r[b++]=(null!==l?128:0)|h,r[b++]=g,r[b++]=0,null!==l)for(p=0,k=l.length;p<k;++p)f=l[p],
r[b++]=f>>16&255,r[b++]=f>>8&255,r[b++]=255&f;if(null!==d){if(0>d||65535<d)throw Error("Loop count invalid.");r[b++]=33;r[b++]=255;r[b++]=11;r[b++]=78;r[b++]=69;r[b++]=84;r[b++]=83;r[b++]=67;r[b++]=65;r[b++]=80;r[b++]=69;r[b++]=50;r[b++]=46;r[b++]=48;r[b++]=3;r[b++]=1;r[b++]=255&d;r[b++]=d>>8&255;r[b++]=0}var t=!1;this.addFrame=function(v,w,z,y,F,D){if(!0===t&&(--b,t=!1),D=void 0===D?{}:D,0>v||0>w||65535<v||65535<w)throw Error("x/y invalid.");if(0>=z||0>=y||65535<z||65535<y)throw Error("Width/Height invalid.");
if(F.length<z*y)throw Error("Not enough pixels for the frame size.");var C=!0,N=D.palette;if(null==N&&(C=!1,N=l),null==N)throw Error("Must supply either a local or global palette.");for(var J=c(N),E=0;J>>=1;)++E;J=void 0===D.delay?0:D.delay;var M=void 0===D.disposal?0:D.disposal;if(0>M||3<M)throw Error("Disposal out of range.");var Q=!1,V=0;if(void 0!==D.transparent&&null!==D.transparent&&(Q=!0,0>(V=D.transparent)||1<<E<=V))throw Error("Transparent color index.");if(0===M&&!Q&&0===J||(r[b++]=33,r[b++]=
249,r[b++]=4,r[b++]=M<<2|(!0===Q?1:0),r[b++]=255&J,r[b++]=J>>8&255,r[b++]=V,r[b++]=0),r[b++]=44,r[b++]=255&v,r[b++]=v>>8&255,r[b++]=255&w,r[b++]=w>>8&255,r[b++]=255&z,r[b++]=z>>8&255,r[b++]=255&y,r[b++]=y>>8&255,r[b++]=!0===C?128|E-1:0,!0===C)for(v=0,w=N.length;v<w;++v)z=N[v],r[b++]=z>>16&255,r[b++]=z>>8&255,r[b++]=255&z;return b=function(W,R,S,K){function O(ua){for(;ua<=ja;)W[R++]=255&qa,qa>>=8,ja-=8,R===P+256&&(W[P]=255,P=R++)}function I(ua){qa|=ua<<ja;ja+=ba;O(8)}W[R++]=S;var P=R++,X=1<<S,ca=X-
1,ia=1+X,da=1+ia,ba=S+1,ja=0,qa=0,fa=K[0]&ca,ma={};I(X);for(var sa=1,xa=K.length;sa<xa;++sa){var pa=K[sa]&ca,ra=fa<<8|pa,wa=ma[ra];if(void 0===wa){qa|=fa<<ja;for(ja+=ba;8<=ja;)W[R++]=255&qa,qa>>=8,ja-=8,R===P+256&&(W[P]=255,P=R++);4096===da?(I(X),da=1+ia,ba=S+1,ma={}):(1<<ba<=da&&++ba,ma[ra]=da++);fa=pa}else fa=wa}I(fa);I(ia);O(1);P+1===R?W[P]=0:(W[P]=R-P-1,W[R++]=0);return R}(r,b,2>E?2:E,F)};this.end=function(){return!1===t&&(r[b++]=59,t=!0),b};this.getOutputBuffer=function(){return r};this.setOutputBuffer=
function(v){r=v};this.getOutputBufferPosition=function(){return b};this.setOutputBufferPosition=function(v){b=v}}function u(r,p,k,f){for(var c=r[p++],b=1<<c,d=1+b,l=1+d,h=c+1,g=(1<<h)-1,m=0,t=0,v=0,w=r[p++],z=new Int32Array(4096),y=null;;){for(;16>m&&0!==w;)t|=r[p++]<<m,m+=8,1===w?w=r[p++]:--w;if(m<h)break;var F=t&g;if(t>>=h,m-=h,F==b)l=1+d,g=(1<<(h=c+1))-1,y=null;else{if(F==d)break;for(var D=F<l?F:y,C=0,N=D;b<N;)N=z[N]>>8,++C;var J=N;if(f<v+C+(D!==F?1:0))return void console.log("Warning, gif stream longer than expected.");
k[v++]=J;var E=v+=C;D!==F&&(k[v++]=J);for(N=D;C--;)N=z[N],k[--E]=255&N,N>>=8;null!==y&&4096>l&&(z[l++]=y<<8|J,g+1<=l&&12>h&&(++h,g=g<<1|1));y=F}}v!==f&&console.log("Warning, gif stream shorter than expected.")}try{q.GifWriter=x,q.GifReader=function(r){var p=0;if(71!==r[p++]||73!==r[p++]||70!==r[p++]||56!==r[p++]||56!=(r[p++]+1&253)||97!==r[p++])throw Error("Invalid GIF 87a/89a header.");var k=r[p++]|r[p++]<<8,f=r[p++]|r[p++]<<8,c=r[p++],b=1<<1+(7&c),d=(r[p++],r[p++],null),l=null;c=(c>>7&&(d=p,p+=
3*(l=b)),!0);var h=[];b=0;var g=null,m=0,t=null;this.width=k;for(this.height=f;c&&p<r.length;)switch(r[p++]){case 33:switch(r[p++]){case 255:if(11!==r[p]||78==r[p+1]&&69==r[p+2]&&84==r[p+3]&&83==r[p+4]&&67==r[p+5]&&65==r[p+6]&&80==r[p+7]&&69==r[p+8]&&50==r[p+9]&&46==r[p+10]&&48==r[p+11]&&3==r[p+12]&&1==r[p+13]&&0==r[p+16])p+=14,t=r[p++]|r[p++]<<8,p++;else for(p+=12;;){if(!(0<=(v=r[p++])))throw Error("Invalid block size");if(0===v)break;p+=v}break;case 249:if(4!==r[p++]||0!==r[p+4])throw Error("Invalid graphics extension block.");
m=r[p++];b=r[p++]|r[p++]<<8;g=r[p++];0==(1&m)&&(g=null);m=m>>2&7;p++;break;case 254:for(;;){if(!(0<=(v=r[p++])))throw Error("Invalid block size");if(0===v)break;p+=v}break;default:throw Error("Unknown graphic control label: 0x"+r[p-1].toString(16));}break;case 44:var v;f=r[p++]|r[p++]<<8;var w=r[p++]|r[p++]<<8,z=r[p++]|r[p++]<<8,y=r[p++]|r[p++]<<8,F=r[p++],D=F>>6&1;v=1<<1+(7&F);var C=d,N=l,J=!1;F=(F>>7&&(J=!0,C=p,p+=3*(N=v)),p);for(p++;;){if(!(0<=(v=r[p++])))throw Error("Invalid block size");if(0===
v)break;p+=v}h.push({x:f,y:w,width:z,height:y,has_local_palette:J,palette_offset:C,palette_size:N,data_offset:F,data_length:p-F,transparent_index:g,interlaced:!!D,delay:b,disposal:m});break;case 59:c=!1;break;default:throw Error("Unknown gif block: 0x"+r[p-1].toString(16));}this.numFrames=function(){return h.length};this.loopCount=function(){return t};this.frameInfo=function(E){if(0>E||E>=h.length)throw Error("Frame index out of range.");return h[E]};this.decodeAndBlitFrameBGRA=function(E,M){E=this.frameInfo(E);
var Q=E.width*E.height,V=new Uint8Array(Q);Q=(u(r,E.data_offset,V,Q),E.palette_offset);var W=E.transparent_index,R=(null===W&&(W=256),E.width),S=k-R,K=R,O=4*(E.y*k+E.x),I=4*((E.y+E.height)*k+E.x),P=O,X=4*S;E=(!0===E.interlaced&&(X+=28*k),8);for(var ca=0,ia=V.length;ca<ia;++ca){var da,ba,ja=V[ca];0===K&&(K=R,I<=(P+=X)&&(X=4*S+4*k*(E-1),P=O+(R+S)*(E<<1),E>>=1));ja===W?P+=4:(da=r[Q+3*ja],ba=r[Q+3*ja+1],ja=r[Q+3*ja+2],M[P++]=ja,M[P++]=ba,M[P++]=da,M[P++]=255);--K}};this.decodeAndBlitFrameRGBA=function(E,
M){E=this.frameInfo(E);var Q=E.width*E.height,V=new Uint8Array(Q);Q=(u(r,E.data_offset,V,Q),E.palette_offset);var W=E.transparent_index,R=(null===W&&(W=256),E.width),S=k-R,K=R,O=4*(E.y*k+E.x),I=4*((E.y+E.height)*k+E.x),P=O,X=4*S;E=(!0===E.interlaced&&(X+=28*k),8);for(var ca=0,ia=V.length;ca<ia;++ca){var da,ba,ja=V[ca];0===K&&(K=R,I<=(P+=X)&&(X=4*S+4*k*(E-1),P=O+(R+S)*(E<<1),E>>=1));ja===W?P+=4:(da=r[Q+3*ja],ba=r[Q+3*ja+1],ja=r[Q+3*ja+2],M[P++]=da,M[P++]=ba,M[P++]=ja,M[P++]=255);--K}}}}catch(r){}},
{}],257:[function(a,G,q){!function(x){var u=function(r){function p(n){if(null==this)throw TypeError();var A,B=String(this),H=B.length;n=n?Number(n):0;if(!(0>(n=n!=n?0:n)||H<=n))return 55296<=(A=B.charCodeAt(n))&&56319>=A&&n+1<H&&56320<=(H=B.charCodeAt(n+1))&&57343>=H?1024*(A-55296)+H-56320+65536:A}function k(){this.table=new Uint16Array(16);this.trans=new Uint16Array(288)}function f(n,A){this.source=n;this.bitcount=this.tag=this.sourceIndex=0;this.dest=A;this.destLen=0;this.ltree=new k;this.dtree=
new k}function c(n,A,B,H){for(var L=0;L<B;++L)n[L]=0;for(L=0;L<30-B;++L)n[L+B]=L/B|0;B=H;for(L=0;30>L;++L)A[L]=B,B+=1<<n[L]}function b(n,A,B,H){for(var L,T=0;16>T;++T)n.table[T]=0;for(T=0;T<H;++T)n.table[A[B+T]]++;for(T=L=n.table[0]=0;16>T;++T)Cc[T]=L,L+=n.table[T];for(T=0;T<H;++T)A[B+T]&&(n.trans[Cc[A[B+T]]++]=T)}function d(n,A,B){if(!A)return B;for(;24>n.bitcount;)n.tag|=n.source[n.sourceIndex++]<<n.bitcount,n.bitcount+=8;var H=n.tag&65535>>>16-A;return n.tag>>>=A,n.bitcount-=A,H+B}function l(n,
A){for(;24>n.bitcount;)n.tag|=n.source[n.sourceIndex++]<<n.bitcount,n.bitcount+=8;for(var B=0,H=0,L=0,T=n.tag;H=2*H+(1&T),T>>>=1,B+=A.table[++L],0<=(H-=A.table[L]););return n.tag=T,n.bitcount-=L,A.trans[B+H]}function h(n,A,B){for(;;){var H=l(n,A);if(256===H)return 0;if(256>H)n.dest[n.destLen++]=H;else{var L=d(n,uc[H-=257],vc[H]);H=l(n,B);for(var T=H=n.destLen-d(n,Dc[H],Ec[H]);T<H+L;++T)n.dest[n.destLen++]=n.dest[T]}}}function g(n,A,B,H,L){return Math.pow(1-L,3)*n+3*Math.pow(1-L,2)*L*A+3*(1-L)*Math.pow(L,
2)*B+Math.pow(L,3)*H}function m(){this.y2=this.x2=this.y1=this.x1=Number.NaN}function t(){this.commands=[];this.fill="black";this.stroke=null;this.strokeWidth=1}function v(n){throw Error(n);}function w(n,A){n||v(A)}function z(n){return function(){return n}}function y(n,A,B){for(var H=0;H<A.length;H+=1){var L=A[H];this[L.name]=L.value}if(this.tableName=n,this.fields=A,B)for(n=Object.keys(B),A=0;A<n.length;A+=1)H=n[A],L=B[H],void 0!==this[H]&&(this[H]=L)}function F(n,A,B){void 0===B&&(B=A.length);var H=
Array(A.length+1);H[0]={name:n+"Count",type:"USHORT",value:B};for(B=0;B<A.length;B++)H[B+1]={name:n+B,type:"USHORT",value:A[B]};return H}function D(n,A,B){var H=A.length,L=Array(H+1);L[0]={name:n+"Count",type:"USHORT",value:H};for(var T=0;T<H;T++)L[T+1]={name:n+T,type:"TABLE",value:B(A[T],T)};return L}function C(n,A,B){var H=A.length,L=[];L[0]={name:n+"Count",type:"USHORT",value:H};for(n=0;n<H;n++)L=L.concat(B(A[n],n));return L}function N(n){1===n.format?y.call(this,"coverageTable",[{name:"coverageFormat",
type:"USHORT",value:1}].concat(F("glyph",n.glyphs))):kb.assert(!1,"Can't create coverage table format 2 yet.")}function J(n){y.call(this,"scriptListTable",C("scriptRecord",n,function(A,B){var H=A.script,L=H.defaultLangSys;return kb.assert(!!L,"Unable to write GSUB: script "+A.tag+" has no default language system."),[{name:"scriptTag"+B,type:"TAG",value:A.tag},{name:"script"+B,type:"TABLE",value:new y("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new y("defaultLangSys",[{name:"lookupOrder",
type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:L.reqFeatureIndex}].concat(F("featureIndex",L.featureIndexes)))}].concat(C("langSys",H.langSysRecords,function(T,U){var ea=T.langSys;return[{name:"langSysTag"+U,type:"TAG",value:T.tag},{name:"langSys"+U,type:"TABLE",value:new y("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ea.reqFeatureIndex}].concat(F("featureIndex",ea.featureIndexes)))}]})))}]}))}function E(n){y.call(this,"featureListTable",
C("featureRecord",n,function(A,B){var H=A.feature;return[{name:"featureTag"+B,type:"TAG",value:A.tag},{name:"feature"+B,type:"TABLE",value:new y("featureTable",[{name:"featureParams",type:"USHORT",value:H.featureParams}].concat(F("lookupListIndex",H.lookupListIndexes)))}]}))}function M(n,A){y.call(this,"lookupListTable",D("lookup",n,function(B){var H=A[B.lookupType];return kb.assert(!!H,"Unable to write GSUB lookup type "+B.lookupType+" tables."),new y("lookupTable",[{name:"lookupType",type:"USHORT",
value:B.lookupType},{name:"lookupFlag",type:"USHORT",value:B.lookupFlag}].concat(D("subtable",B.subtables,H)))}))}function Q(n,A){return n.getUint8(A)}function V(n,A){return n.getUint16(A,!1)}function W(n,A){return n.getUint32(A,!1)}function R(n,A){return n.getInt16(A,!1)+n.getUint16(A+2,!1)/65535}function S(n,A){this.data=n;this.offset=A;this.relativeOffset=0}function K(n){this.font=n}function O(n){this.cmap=n}function I(n,A){this.encoding=n;this.charset=A}function P(n){switch(n.version){case 1:this.names=
cc.slice();break;case 2:this.names=Array(n.numberOfGlyphs);for(var A=0;A<n.numberOfGlyphs;A++)n.glyphNameIndex[A]<cc.length?this.names[A]=cc[n.glyphNameIndex[A]]:this.names[A]=n.names[n.glyphNameIndex[A]-cc.length];break;case 2.5:this.names=Array(n.numberOfGlyphs);for(A=0;A<n.numberOfGlyphs;A++)this.names[A]=cc[A+n.glyphNameIndex[A]];break;default:this.names=[]}}function X(n){this.bindConstructorValues(n)}function ca(n,A,B){Object.defineProperty(n,A,{get:function(){return n.path,n[B]},set:function(H){n[B]=
H},enumerable:!0,configurable:!0})}function ia(n,A){if(this.font=n,this.glyphs={},Array.isArray(A))for(n=0;n<A.length;n++)this.glyphs[n]=A[n];this.length=A&&A.length||0}function da(n){return n=1240>n.length?107:33900>n.length?1131:32768}function ba(n,A,B){var H=[],L=[];var T=Xa.getCard16(n,A);if(0!==T){for(var U=Xa.getByte(n,A+2),ea=A+(T+1)*U+2,ha=A+3,na=0;na<T+1;na+=1)H.push(Xa.getOffset(n,ha,U)),ha+=U;T=ea+H[T]}else T=A+2;for(U=0;U<H.length-1;U+=1)ha=Xa.getBytes(n,ea+H[U],ea+H[U+1]),B&&(ha=B(ha)),
L.push(ha);return{objects:L,startOffset:A,endOffset:T}}function ja(n,A){if(28===A)return n.parseByte()<<8|n.parseByte();if(29===A)return n.parseByte()<<24|n.parseByte()<<16|n.parseByte()<<8|n.parseByte();if(30===A){A="";for(var B=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var H=n.parseByte(),L=H>>4;H&=15;if(15==L)break;if(A+=B[L],15==H)break;A+=B[H]}return parseFloat(A)}if(32<=A&&246>=A)return A-139;if(247<=A&&250>=A)return 256*(A-247)+n.parseByte()+108;if(251<=A&&254>=A)return 256*
-(A-251)-n.parseByte()-108;throw Error("Invalid b0 "+A);}function qa(n,A,B){var H=new Xa.Parser(n,void 0!==A?A:0);A=[];var L=[];for(B=void 0!==B?B:n.length;H.relativeOffset<B;)n=H.parseByte(),21>=n?(12===n&&(n=1200+H.parseByte()),A.push([n,L]),L=[]):L.push(ja(H,n));B={};for(n=0;n<A.length;n+=1){H=A[n][0];L=A[n][1];L=1===L.length?L[0]:L;if(B.hasOwnProperty(H)&&!isNaN(B[H]))throw Error("Object "+B+" already has key "+H);B[H]=L}return B}function fa(n,A){return 390>=A?kc[A]:n[A-391]}function ma(n,A,B){for(var H,
L={},T=0;T<A.length;T+=1){var U=A[T];if(Array.isArray(U.type)){var ea=[];ea.length=U.type.length;for(var ha=0;ha<U.type.length;ha++)void 0===(H=void 0!==n[U.op]?n[U.op][ha]:void 0)&&(H=void 0!==U.value&&void 0!==U.value[ha]?U.value[ha]:null),"SID"===U.type[ha]&&(H=fa(B,H)),ea[ha]=H;L[U.name]=ea}else void 0===(H=n[U.op])&&(H=void 0!==U.value?U.value:null),"SID"===U.type&&(H=fa(B,H)),L[U.name]=H}return L}function sa(n,A,B,H){return ma(qa(n,A,B),Fc,H)}function xa(n,A,B,H){for(var L=[],T=0;T<B.length;T+=
1){var U=new DataView((new Uint8Array(B[T])).buffer);U=(ea=H,ma(qa(U,0,U.byteLength),Gc,ea));var ea=(U._subrs=[],U._subrsBias=0,U.private[0]),ha=U.private[1];0!==ea&&0!==ha&&(ea=sa(n,ha+A,ea,H),U._defaultWidthX=ea.defaultWidthX,U._nominalWidthX=ea.nominalWidthX,0!==ea.subrs&&(ha=ba(n,ha+ea.subrs+A),U._subrs=ha.objects,U._subrsBias=da(U._subrs)),U._privateDict=ea);L.push(U)}return L}function pa(n,A,B){function H(lc,Fb){yb&&Ha.closePath();Ha.moveTo(lc,Fb);yb=!0}function L(){0==oa.length%2||lb||(Sb=
oa.shift()+Ja);cb+=oa.length>>1;oa.length=0;lb=!0}var T,U,ea,ha,na,ya,Ca,Ea,Ja,Ha=new t,oa=[],cb=0,lb=!1,yb=!1,Ta=0,Va=0,Sb=(Ja=(n.isCIDFont?(na=n.tables.cff.topDict._fdSelect[A.index],na=n.tables.cff.topDict._fdArray[na],ya=na._subrs,Ca=na._subrsBias,Ea=na._defaultWidthX,na):(ya=n.tables.cff.topDict._subrs,Ca=n.tables.cff.topDict._subrsBias,Ea=n.tables.cff.topDict._defaultWidthX,n.tables.cff.topDict))._nominalWidthX,Ea);return function Hc(Fb){for(var Wb,mc,Ic,Jc,sb,nc,Pb,Jb,Lb,Gb,Mb,Bb=0;Bb<Fb.length;)switch(sb=
Fb[Bb],Bb+=1,sb){case 1:case 3:L();break;case 4:1<oa.length&&!lb&&(Sb=oa.shift()+Ja,lb=!0);Va+=oa.pop();H(Ta,Va);break;case 5:for(;0<oa.length;)Ta+=oa.shift(),Va+=oa.shift(),Ha.lineTo(Ta,Va);break;case 6:for(;0<oa.length&&(Ta+=oa.shift(),Ha.lineTo(Ta,Va),0!==oa.length);)Va+=oa.shift(),Ha.lineTo(Ta,Va);break;case 7:for(;0<oa.length&&(Va+=oa.shift(),Ha.lineTo(Ta,Va),0!==oa.length);)Ta+=oa.shift(),Ha.lineTo(Ta,Va);break;case 8:for(;0<oa.length;)T=Ta+oa.shift(),U=Va+oa.shift(),ea=T+oa.shift(),ha=U+oa.shift(),
Ta=ea+oa.shift(),Va=ha+oa.shift(),Ha.curveTo(T,U,ea,ha,Ta,Va);break;case 10:sb=oa.pop()+Ca;(nc=ya[sb])&&Hc(nc);break;case 11:return;case 12:switch(sb=Fb[Bb],Bb+=1,sb){case 35:T=Ta+oa.shift();U=Va+oa.shift();ea=T+oa.shift();ha=U+oa.shift();sb=ea+oa.shift();Pb=ha+oa.shift();Jb=sb+oa.shift();Lb=Pb+oa.shift();Gb=Jb+oa.shift();Mb=Lb+oa.shift();Ta=Gb+oa.shift();Va=Mb+oa.shift();oa.shift();Ha.curveTo(T,U,ea,ha,sb,Pb);Ha.curveTo(Jb,Lb,Gb,Mb,Ta,Va);break;case 34:T=Ta+oa.shift();U=Va;ea=T+oa.shift();ha=U+oa.shift();
sb=ea+oa.shift();Pb=ha;Jb=sb+oa.shift();Lb=ha;Gb=Jb+oa.shift();Mb=Va;Ta=Gb+oa.shift();Ha.curveTo(T,U,ea,ha,sb,Pb);Ha.curveTo(Jb,Lb,Gb,Mb,Ta,Va);break;case 36:T=Ta+oa.shift();U=Va+oa.shift();ea=T+oa.shift();ha=U+oa.shift();sb=ea+oa.shift();Pb=ha;Jb=sb+oa.shift();Lb=ha;Gb=Jb+oa.shift();Mb=Lb+oa.shift();Ta=Gb+oa.shift();Ha.curveTo(T,U,ea,ha,sb,Pb);Ha.curveTo(Jb,Lb,Gb,Mb,Ta,Va);break;case 37:T=Ta+oa.shift();U=Va+oa.shift();ea=T+oa.shift();ha=U+oa.shift();sb=ea+oa.shift();Pb=ha+oa.shift();Jb=sb+oa.shift();
Lb=Pb+oa.shift();Gb=Jb+oa.shift();Mb=Lb+oa.shift();Math.abs(Gb-Ta)>Math.abs(Mb-Va)?Ta=Gb+oa.shift():Va=Mb+oa.shift();Ha.curveTo(T,U,ea,ha,sb,Pb);Ha.curveTo(Jb,Lb,Gb,Mb,Ta,Va);break;default:console.log("Glyph "+A.index+": unknown operator 1200"+sb),oa.length=0}break;case 14:0<oa.length&&!lb&&(Sb=oa.shift()+Ja,lb=!0);yb&&(Ha.closePath(),yb=!1);break;case 18:L();break;case 19:case 20:L();Bb+=cb+7>>3;break;case 21:2<oa.length&&!lb&&(Sb=oa.shift()+Ja,lb=!0);Va+=oa.pop();H(Ta+=oa.pop(),Va);break;case 22:1<
oa.length&&!lb&&(Sb=oa.shift()+Ja,lb=!0);H(Ta+=oa.pop(),Va);break;case 23:L();break;case 24:for(;2<oa.length;)T=Ta+oa.shift(),U=Va+oa.shift(),ea=T+oa.shift(),ha=U+oa.shift(),Ta=ea+oa.shift(),Va=ha+oa.shift(),Ha.curveTo(T,U,ea,ha,Ta,Va);Ta+=oa.shift();Va+=oa.shift();Ha.lineTo(Ta,Va);break;case 25:for(;6<oa.length;)Ta+=oa.shift(),Va+=oa.shift(),Ha.lineTo(Ta,Va);T=Ta+oa.shift();U=Va+oa.shift();ea=T+oa.shift();ha=U+oa.shift();Ta=ea+oa.shift();Va=ha+oa.shift();Ha.curveTo(T,U,ea,ha,Ta,Va);break;case 26:for(oa.length%
2&&(Ta+=oa.shift());0<oa.length;)T=Ta,U=Va+oa.shift(),ea=T+oa.shift(),ha=U+oa.shift(),Ta=ea,Va=ha+oa.shift(),Ha.curveTo(T,U,ea,ha,Ta,Va);break;case 27:for(oa.length%2&&(Va+=oa.shift());0<oa.length;)T=Ta+oa.shift(),U=Va,ea=T+oa.shift(),ha=U+oa.shift(),Ta=ea+oa.shift(),Va=ha,Ha.curveTo(T,U,ea,ha,Ta,Va);break;case 28:Wb=Fb[Bb];mc=Fb[Bb+1];oa.push((Wb<<24|mc<<16)>>16);Bb+=2;break;case 29:sb=oa.pop()+n.gsubrsBias;(nc=n.gsubrs[sb])&&Hc(nc);break;case 30:for(;0<oa.length&&(T=Ta,U=Va+oa.shift(),ea=T+oa.shift(),
ha=U+oa.shift(),Ta=ea+oa.shift(),Va=ha+(1===oa.length?oa.shift():0),Ha.curveTo(T,U,ea,ha,Ta,Va),0!==oa.length);)T=Ta+oa.shift(),U=Va,ea=T+oa.shift(),ha=U+oa.shift(),Va=ha+oa.shift(),Ta=ea+(1===oa.length?oa.shift():0),Ha.curveTo(T,U,ea,ha,Ta,Va);break;case 31:for(;0<oa.length&&(T=Ta+oa.shift(),U=Va,ea=T+oa.shift(),ha=U+oa.shift(),Va=ha+oa.shift(),Ta=ea+(1===oa.length?oa.shift():0),Ha.curveTo(T,U,ea,ha,Ta,Va),0!==oa.length);)T=Ta,U=Va+oa.shift(),ea=T+oa.shift(),ha=U+oa.shift(),Ta=ea+oa.shift(),Va=ha+
(1===oa.length?oa.shift():0),Ha.curveTo(T,U,ea,ha,Ta,Va);break;default:32>sb?console.log("Glyph "+A.index+": unknown operator "+sb):247>sb?oa.push(sb-139):251>sb?(Wb=Fb[Bb],Bb+=1,oa.push(256*(sb-247)+Wb+108)):255>sb?(Wb=Fb[Bb],Bb+=1,oa.push(256*-(sb-251)-Wb-108)):(Wb=Fb[Bb],mc=Fb[Bb+1],Ic=Fb[Bb+2],Jc=Fb[Bb+3],Bb+=4,oa.push((Wb<<24|mc<<16|Ic<<8|Jc)/65536))}}(B),A.advanceWidth=Sb,Ha}function ra(n,A){var B,H=kc.indexOf(n);return 0<=(H=A.indexOf(n))?B=H+kc.length:(B=kc.length+A.length,A.push(n)),B}function wa(n,
A,B){for(var H={},L=0;L<n.length;L+=1){var T=n[L],U=A[T.name];void 0===U||function ya(ha,na){if(ha===na)return 1;if(Array.isArray(ha)&&Array.isArray(na)&&ha.length===na.length){for(var Ca=0;Ca<ha.length;Ca+=1)if(!ya(ha[Ca],na[Ca]))return;return 1}}(U,T.value)||("SID"===T.type&&(U=ra(U,B)),H[T.op]={name:T.name,type:T.type,value:U})}return H}function ua(n,A){var B=new eb.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return B.dict=wa(Gc,n,A),B}function ta(n){var A=new eb.Record("Top DICT INDEX",
[{name:"topDicts",type:"INDEX",value:[]}]);return A.topDicts=[{name:"topDict_0",type:"TABLE",value:n}],A}function Ga(n){for(var A=new eb.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),B=0;B<n.length;B+=1){var H=n.get(B);var L=[];for(var T=H.path,U=(L.push({name:"width",type:"NUMBER",value:H.advanceWidth}),0),ea=0,ha=0;ha<T.commands.length;ha+=1){var na,ya,Ca,Ea,Ja=void 0,Ha=void 0,oa=T.commands[ha];"M"===(oa="Q"===oa.type?{type:"C",x:oa.x,y:oa.y,x1:1/3*U+2/3*oa.x1,y1:1/3*
ea+2/3*oa.y1,x2:1/3*oa.x+2/3*oa.x1,y2:1/3*oa.y+2/3*oa.y1}:oa).type?(Ja=Math.round(oa.x-U),Ha=Math.round(oa.y-ea),L.push({name:"dx",type:"NUMBER",value:Ja}),L.push({name:"dy",type:"NUMBER",value:Ha}),L.push({name:"rmoveto",type:"OP",value:21}),U=Math.round(oa.x),ea=Math.round(oa.y)):"L"===oa.type?(Ja=Math.round(oa.x-U),Ha=Math.round(oa.y-ea),L.push({name:"dx",type:"NUMBER",value:Ja}),L.push({name:"dy",type:"NUMBER",value:Ha}),L.push({name:"rlineto",type:"OP",value:5}),U=Math.round(oa.x),ea=Math.round(oa.y)):
"C"===oa.type&&(na=Math.round(oa.x1-U),ya=Math.round(oa.y1-ea),Ca=Math.round(oa.x2-oa.x1),Ea=Math.round(oa.y2-oa.y1),Ja=Math.round(oa.x-oa.x2),Ha=Math.round(oa.y-oa.y2),L.push({name:"dx1",type:"NUMBER",value:na}),L.push({name:"dy1",type:"NUMBER",value:ya}),L.push({name:"dx2",type:"NUMBER",value:Ca}),L.push({name:"dy2",type:"NUMBER",value:Ea}),L.push({name:"dx",type:"NUMBER",value:Ja}),L.push({name:"dy",type:"NUMBER",value:Ha}),L.push({name:"rrcurveto",type:"OP",value:8}),U=Math.round(oa.x),ea=Math.round(oa.y))}L=
(L.push({name:"endchar",type:"OP",value:14}),L);A.charStrings.push({name:H.name,type:"CHARSTRING",value:L})}return A}function Oa(n,A,B){switch(n){case 0:return"utf-16";case 1:return id[B]||jd[A];case 3:if(1===A||10===A)return"utf-16"}}function Ya(n){var A,B={};for(A in n)B[n[A]]=parseInt(A);return B}function $a(n,A,B,H,L,T){return new eb.Record("NameRecord",[{name:"platformID",type:"USHORT",value:n},{name:"encodingID",type:"USHORT",value:A},{name:"languageID",type:"USHORT",value:B},{name:"nameID",
type:"USHORT",value:H},{name:"length",type:"USHORT",value:L},{name:"offset",type:"USHORT",value:T}])}function Za(n,A){a:{var B=n.length;var H=A.length-B+1,L=0;b:for(;L<H;L++)for(;L<H;){for(var T=0;T<B;T++)if(A[L+T]!==n[T])continue b;B=L;break a}B=-1}if(0>B)for(B=A.length,H=0,L=n.length;H<L;++H)A.push(n[H]);return B}function ib(n){for(;0!=n.length%4;)n.push(0);for(var A=0,B=0;B<n.length;B+=4)A+=(n[B]<<24)+(n[B+1]<<16)+(n[B+2]<<8)+n[B+3];return A%Math.pow(2,32)}function jb(n,A,B,H){return new eb.Record("Table Record",
[{name:"tag",type:"TAG",value:void 0!==n?n:""},{name:"checkSum",type:"ULONG",value:void 0!==A?A:0},{name:"offset",type:"ULONG",value:void 0!==B?B:0},{name:"length",type:"ULONG",value:void 0!==H?H:0}])}function Wa(n){var A=new eb.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),B=(A.tables=n,A.numTables=n.length,Math.pow(2,
Math.log(A.numTables)/Math.log(2)|0));B=(A.searchRange=16*B,A.entrySelector=Math.log(B)/Math.log(2)|0,A.rangeShift=16*A.numTables-A.searchRange,[]);for(var H=[],L=A.sizeOf()+jb().sizeOf()*A.numTables;0!=L%4;)L+=1,H.push({name:"padding",type:"BYTE",value:0});for(var T=0;T<n.length;T+=1){var U=n[T],ea=(kb.argument(4===U.tableName.length,"Table name"+U.tableName+" is invalid."),U.sizeOf()),ha=jb(U.tableName,ib(U.encode()),L,ea);B.push({name:ha.tag+" Table Record",type:"RECORD",value:ha});H.push({name:U.tableName+
" table",type:"RECORD",value:U});L+=ea;for(kb.argument(!isNaN(L),"Something went wrong calculating the offset.");0!=L%4;)L+=1,H.push({name:"padding",type:"BYTE",value:0})}return B.sort(function(na,ya){return na.value.tag>ya.value.tag?1:-1}),A.fields=A.fields.concat(B),A.fields=A.fields.concat(H),A}function Sa(n,A,B){for(var H=0;H<A.length;H+=1){var L=n.charToGlyphIndex(A[H]);if(0<L)return n.glyphs.get(L).getMetrics()}return B}function mb(n,A){for(var B=0,H=n.length-1;B<=H;){var L=B+H>>>1,T=n[L].tag;
if(T===A)return L;T<A?B=1+L:H=L-1}return-B-1}function Y(n,A){for(var B=0,H=n.length-1;B<=H;){var L=B+H>>>1,T=n[L];if(T===A)return L;T<A?B=1+L:H=L-1}return-B-1}function aa(n,A){for(var B=0,H=n.length-1;B<=H;){var L,T=B+H>>>1,U=(L=n[T]).start;if(U===A)return L;U<A?B=1+T:H=T-1}if(0<B)return A>(L=n[B-1]).end?0:L}function Z(n,A){this.font=n;this.tableName=A}function ka(n){Z.call(this,n,"gpos")}function va(n){Z.call(this,n,"gsub")}function Aa(n,A,B){n=n.subtables;for(var H=0;H<n.length;H++){var L=n[H];
if(L.substFormat===A)return L}if(B)return n.push(B),B}function Fa(n){for(var A=new ArrayBuffer(n.length),B=new Uint8Array(A),H=0;H<n.length;++H)B[H]=n[H];return A}function Pa(n,A){if(!n)throw A;}function Qa(n,A,B,H,L){var T=0<(A&H)?(T=n.parseByte(),B+(T=0==(A&L)?-T:T)):0<(A&L)?B:B+n.parseShort();return T}function db(n,A,B){var H;A=new Xa.Parser(A,B);if(n.numberOfContours=A.parseShort(),n._xMin=A.parseShort(),n._yMin=A.parseShort(),n._xMax=A.parseShort(),n._yMax=A.parseShort(),0<n.numberOfContours){for(var L=
n.endPointIndices=[],T=0;T<n.numberOfContours;T+=1)L.push(A.parseUShort());n.instructionLength=A.parseUShort();n.instructions=[];for(T=0;T<n.instructionLength;T+=1)n.instructions.push(A.parseByte());B=L[L.length-1]+1;T=[];for(var U=0;U<B;U+=1)if(H=A.parseByte(),T.push(H),0<(8&H))for(var ea=A.parseByte(),ha=0;ha<ea;ha+=1)T.push(H),U+=1;if(kb.argument(T.length===B,"Bad flags."),0<L.length){ea=[];if(0<B){for(ha=0;ha<B;ha+=1)H=T[ha],(U={}).onCurve=!!(1&H),U.lastPointOfContour=0<=L.indexOf(ha),ea.push(U);
for(ha=L=0;ha<B;ha+=1)H=T[ha],(U=ea[ha]).x=Qa(A,H,L,2,16),L=U.x;for(ha=L=0;ha<B;ha+=1)H=T[ha],(U=ea[ha]).y=Qa(A,H,L,4,32),L=U.y}n.points=ea}else n.points=[]}else if(0===n.numberOfContours)n.points=[];else{n.isComposite=!0;n.points=[];n.components=[];for(H=!0;H;)T=A.parseUShort(),H={glyphIndex:A.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0},0<(1&T)?0<(2&T)?(H.dx=A.parseShort(),H.dy=A.parseShort()):H.matchedPoints=[A.parseUShort(),A.parseUShort()]:0<(2&T)?(H.dx=A.parseChar(),H.dy=A.parseChar()):
H.matchedPoints=[A.parseByte(),A.parseByte()],0<(8&T)?H.xScale=H.yScale=A.parseF2Dot14():0<(64&T)?(H.xScale=A.parseF2Dot14(),H.yScale=A.parseF2Dot14()):0<(128&T)&&(H.xScale=A.parseF2Dot14(),H.scale01=A.parseF2Dot14(),H.scale10=A.parseF2Dot14(),H.yScale=A.parseF2Dot14()),n.components.push(H),H=!!(32&T);if(256&T)for(n.instructionLength=A.parseUShort(),n.instructions=[],H=0;H<n.instructionLength;H+=1)n.instructions.push(A.parseByte())}}function bb(n,A){for(var B=[],H=0;H<n.length;H+=1){var L=n[H];L=
{x:A.xScale*L.x+A.scale01*L.y+A.dx,y:A.scale10*L.x+A.yScale*L.y+A.dy,onCurve:L.onCurve,lastPointOfContour:L.lastPointOfContour};B.push(L)}return B}function wb(n){var A=new t;if(n){for(var B=[],H=[],L=0;L<n.length;L+=1){var T=n[L];H.push(T);T.lastPointOfContour&&(B.push(H),H=[])}n=(kb.argument(0===H.length,"There are still points left in the current contour."),B);for(B=0;B<n.length;++B){var U;H=n[B];L=H[H.length-1];T=H[0];L.onCurve?A.moveTo(L.x,L.y):T.onCurve?A.moveTo(T.x,T.y):(U={x:.5*(L.x+T.x),y:.5*
(L.y+T.y)},A.moveTo(U.x,U.y));for(var ea=0;ea<H.length;++ea){var ha,na=L;L=T;T=H[(ea+1)%H.length];L.onCurve?A.lineTo(L.x,L.y):(ha=T,na.onCurve||(L.x,na.x,L.y,na.y),T.onCurve||(ha={x:.5*(L.x+T.x),y:.5*(L.y+T.y)}),A.quadraticCurveTo(L.x,L.y,ha.x,ha.y))}A.closePath()}}return A}function fb(n,A){if(A.isComposite)for(var B=0;B<A.components.length;B+=1){var H=A.components[B],L=n.get(H.glyphIndex);if(L.getPath(),L.points){if(void 0!==H.matchedPoints){if(H.matchedPoints[0]>A.points.length-1||H.matchedPoints[1]>
L.points.length-1)throw Error("Matched points out of range in "+A.name);var T=A.points[H.matchedPoints[0]],U=L.points[H.matchedPoints[1]];H={xScale:H.xScale,scale01:H.scale01,scale10:H.scale10,yScale:H.yScale,dx:0,dy:0};U=bb([U],H)[0];H.dx=T.x-U.x;H.dy=T.y-U.y}H=bb(L.points,H);A.points=A.points.concat(H)}}return wb(A.points)}function Ra(n){this.font=n;this.getCommands=function(A){return Kc.getPath(A).commands};this._fpgmState=this._prepState=void 0;this._errorState=0}function nb(n){return n}function rb(n){return Math.sign(n)*
Math.round(Math.abs(n))}function vb(n){return Math.sign(n)*Math.round(Math.abs(2*n))/2}function zb(n){return Math.sign(n)*(Math.round(Math.abs(n)+.5)-.5)}function Db(n){return Math.sign(n)*Math.ceil(Math.abs(n))}function Eb(n){return Math.sign(n)*Math.floor(Math.abs(n))}function Cb(n){var A=this.srPeriod,B=this.srPhase,H=1;return 0>n&&(n=-n,H=-1),n+=this.srThreshold-B,n=Math.trunc(n/A)*A,0>(n+=B)?B*H:n*H}function pb(n,A){this.x=n;this.y=A;this.axis=void 0;this.slope=A/n;this.normalSlope=-n/A;Object.freeze(this)}
function Vb(n,A){var B=Math.sqrt(n*n+A*A);return A/=B,1===(n/=B)&&0===A?Qb:0===n&&1===A?Tb:new pb(n,A)}function Ib(n,A,B,H){this.x=this.xo=Math.round(64*n)/64;this.y=this.yo=Math.round(64*A)/64;this.lastPointOfContour=B;this.onCurve=H;this.nextPointOnContour=this.prevPointOnContour=void 0;this.yTouched=this.xTouched=!1;Object.preventExtensions(this)}function Kb(n,A){switch(this.env=n,this.stack=[],this.prog=A,n){case "glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case "prep":this.fv=
this.pv=this.dpv=Qb,this.round=rb}}function bc(n){n=n.tZone=Array(n.gZone.length);for(var A=0;A<n.length;A++)n[A]=new Ib(0,0)}function la(n,A){var B,H=n.prog,L=n.ip,T=1;do if(88===(B=H[++L]))T++;else if(89===B)T--;else if(64===B)L+=H[L+1]+1;else if(65===B)L+=2*H[L+1]+1;else if(176<=B&&183>=B)L+=B-176+1;else if(184<=B&&191>=B)L+=2*(B-184+1);else if(A&&1===T&&27===B)break;while(0<T);n.ip=L}function Da(n,A){r.DEBUG&&console.log(A.step,"SVTCA["+n.axis+"]");A.fv=A.pv=A.dpv=n}function Ka(n,A){r.DEBUG&&
console.log(A.step,"SPVTCA["+n.axis+"]");A.pv=A.dpv=n}function La(n,A){r.DEBUG&&console.log(A.step,"SFVTCA["+n.axis+"]");A.fv=n}function Ba(n,A){var B,H=A.stack,L=H.pop();H=H.pop();var T=A.z2[L],U=A.z1[H];r.DEBUG&&console.log("SPVTL["+n+"]",L,H);L=n?(B=T.y-U.y,U.x-T.x):(B=U.x-T.x,U.y-T.y);A.pv=A.dpv=Vb(B,L)}function Ia(n,A){var B,H=A.stack,L=H.pop();H=H.pop();var T=A.z2[L],U=A.z1[H];r.DEBUG&&console.log("SFVTL["+n+"]",L,H);L=n?(B=T.y-U.y,U.x-T.x):(B=U.x-T.x,U.y-T.y);A.fv=Vb(B,L)}function ab(n){r.DEBUG&&
console.log(n.step,"POP[]");n.stack.pop()}function Ma(n,A){var B=A.stack.pop(),H=A.z0[B],L=A.fv,T=A.pv,U=(r.DEBUG&&console.log(A.step,"MDAP["+n+"]",B),T.distance(H,jc));n&&(U=A.round(U));L.setRelative(H,jc,U,T);L.touch(H);A.rp0=A.rp1=B}function xb(n,A){var B,H,L=A.z2,T=L.length-2;r.DEBUG&&console.log(A.step,"IUP["+n.axis+"]");for(var U=0;U<T;U++)A=L[U],n.touched(A)||(B=A.prevTouched(n))!==A&&(B===(H=A.nextTouched(n))&&n.setRelative(A,A,n.distance(B,B,!1,!0),n,!0),n.interpolate(A,B,H,n))}function hb(n,
A){for(var B=A.stack,H=(n?A.z0:A.z1)[n?A.rp1:A.rp2],L=A.fv,T=A.pv,U=A.loop,ea=A.z2;U--;){var ha=B.pop(),na=ea[ha],ya=T.distance(H,H,!1,!0);L.setRelative(na,na,ya,T);L.touch(na);r.DEBUG&&console.log(A.step,(1<A.loop?"loop "+(A.loop-U)+": ":"")+"SHP["+(n?"rp1":"rp2")+"]",ha)}A.loop=1}function ub(n,A){var B=n?A.rp1:A.rp2,H=(n?A.z0:A.z1)[B],L=A.fv,T=A.pv;B=A.stack.pop();var U=A.z2[A.contours[B]],ea=U;for(n=(r.DEBUG&&console.log(A.step,"SHC["+n+"]",B),T.distance(H,H,!1,!0));ea!==H&&L.setRelative(ea,ea,
n,T),(ea=ea.nextPointOnContour)!==U;);}function ob(n,A){var B=A.stack;var H=n?A.rp1:A.rp2;H=(n?A.z0:A.z1)[H];var L=A.fv,T=A.pv;B=B.pop();switch(r.DEBUG&&console.log(A.step,"SHZ["+n+"]",B),B){case 0:n=A.tZone;break;case 1:n=A.gZone;break;default:throw Error("Invalid zone");}A=T.distance(H,H,!1,!0);B=n.length-2;for(var U=0;U<B;U++)H=n[U],L.setRelative(H,H,A,T)}function ic(n,A){var B=A.stack,H=B.pop()/64;B=B.pop();var L=A.z1[B],T=A.fv;T.setRelative(L,A.z0[A.rp0],H,A.pv);T.touch(L);r.DEBUG&&console.log(A.step,
"MSIRP["+n+"]",H,B);A.rp1=A.rp0;A.rp2=B;n&&(A.rp0=B)}function Lc(n,A){var B=A.stack,H=B.pop();B=B.pop();var L=A.z0[B],T=A.fv,U=A.pv,ea=A.cvt[H];H=(r.DEBUG&&console.log(A.step,"MIAP["+n+"]",H,"(",ea,")",B),U.distance(L,jc));n&&(Math.abs(H-ea)<A.cvCutIn&&(H=ea),H=A.round(H));T.setRelative(L,jc,H,U);0===A.zp0&&(L.xo=L.x,L.yo=L.y);T.touch(L);A.rp0=A.rp1=B}function Mc(n,A){var B=A.stack,H=B.pop(),L=A.z2[H];r.DEBUG&&console.log(A.step,"GC["+n+"]",H);B.push(64*A.dpv.distance(L,jc,n,!1))}function Nc(n,A){var B=
A.stack,H=B.pop();B=B.pop();var L=A.z0[B];L=A.dpv.distance(L,A.z1[H],n,n);r.DEBUG&&console.log(A.step,"MD["+n+"]",H,B,"-\x3e",L);A.stack.push(Math.round(64*L))}function wc(n,A){var B=A.stack,H=B.pop(),L=A.fv,T=A.pv,U=A.ppem,ea=A.deltaBase+16*(n-1),ha=A.deltaShift,na=A.z0;r.DEBUG&&console.log(A.step,"DELTAP["+n+"]",H,B);for(n=0;n<H;n++){var ya=B.pop(),Ca=B.pop();ea+((240&Ca)>>4)===U&&(0<=(Ca=(15&Ca)-8)&&Ca++,r.DEBUG&&console.log(A.step,"DELTAPFIX",ya,"by",Ca*ha),ya=na[ya],L.setRelative(ya,ya,Ca*ha,
T))}}function oc(n,A){n=A.stack;var B=n.pop();r.DEBUG&&console.log(A.step,"ROUND[]");n.push(64*A.round(B/64))}function xc(n,A){var B=A.stack,H=B.pop(),L=A.ppem,T=A.deltaBase+16*(n-1),U=A.deltaShift;r.DEBUG&&console.log(A.step,"DELTAC["+n+"]",H,B);for(n=0;n<H;n++){var ea=B.pop(),ha=B.pop();T+((240&ha)>>4)===L&&(0<=(ha=(15&ha)-8)&&ha++,ha*=U,r.DEBUG&&console.log(A.step,"DELTACFIX",ea,"by",ha),A.cvt[ea]+=ha)}}function Oc(n,A){var B,H=A.stack,L=H.pop();H=H.pop();var T=A.z2[L],U=A.z1[H];r.DEBUG&&console.log(A.step,
"SDPVTL["+n+"]",L,H);L=n?(B=T.y-U.y,U.x-T.x):(B=U.x-T.x,U.y-T.y);A.dpv=Vb(B,L)}function Xb(n,A){var B=A.stack,H=A.prog,L=A.ip;r.DEBUG&&console.log(A.step,"PUSHB["+n+"]");for(var T=0;T<n;T++)B.push(H[++L]);A.ip=L}function Yb(n,A){var B=A.ip,H=A.prog,L=A.stack;r.DEBUG&&console.log(A.ip,"PUSHW["+n+"]");for(var T=0;T<n;T++){var U=H[++B]<<8|H[++B];32768&U&&(U=-(1+(65535^U)));L.push(U)}A.ip=B}function Ua(n,A,B,H,L,T){var U,ea,ha=T.stack,na=n&&ha.pop();ha=ha.pop();var ya=T.rp0;ya=T.z0[ya];var Ca=T.z1[ha],
Ea=T.minDis,Ja=T.fv,Ha=T.dpv,oa=U=Ha.distance(Ca,ya,!0,!0),cb=0<=oa?1:-1;oa=Math.abs(oa);n&&(ea=T.cvt[na],H&&Math.abs(oa-ea)<T.cvCutIn&&(oa=ea));B&&oa<Ea&&(oa=Ea);H&&(oa=T.round(oa));Ja.setRelative(Ca,ya,cb*oa,Ha);Ja.touch(Ca);r.DEBUG&&console.log(T.step,(n?"MIRP[":"MDRP[")+(A?"M":"m")+(B?"\x3e":"_")+(H?"R":"_")+(0===L?"Gr":1===L?"Bl":2===L?"Wh":"")+"]",n?na+"("+T.cvt[na]+","+ea+")":"",ha,"(d \x3d",U,"-\x3e",cb*oa,")");T.rp1=T.rp0;T.rp2=ha;A&&(T.rp0=ha)}function tb(n){(n=n||{}).empty||(Pa(n.familyName,
"When creating a new Font object, familyName is required."),Pa(n.styleName,"When creating a new Font object, styleName is required."),Pa(n.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Pa(n.ascender,"When creating a new Font object, ascender is required."),Pa(n.descender,"When creating a new Font object, descender is required."),Pa(0>n.descender,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:n.familyName||" "},fontSubfamily:{en:n.styleName||" "},fullName:{en:n.fullName||
n.familyName+" "+n.styleName},postScriptName:{en:n.postScriptName||(n.familyName+n.styleName).replace(/\s/g,"")},designer:{en:n.designer||" "},designerURL:{en:n.designerURL||" "},manufacturer:{en:n.manufacturer||" "},manufacturerURL:{en:n.manufacturerURL||" "},license:{en:n.license||" "},licenseURL:{en:n.licenseURL||" "},version:{en:n.version||"Version 0.1"},description:{en:n.description||" "},copyright:{en:n.copyright||" "},trademark:{en:n.trademark||" "}},this.unitsPerEm=n.unitsPerEm||1E3,this.ascender=
n.ascender,this.descender=n.descender,this.createdTimestamp=n.createdTimestamp,this.tables={os2:{usWeightClass:n.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:n.widthClass||this.usWidthClasses.MEDIUM,fsSelection:n.fsSelection||this.fsSelectionValues.REGULAR}});this.supported=!0;this.glyphs=new ec.GlyphSet(this,n.glyphs||[]);this.encoding=new K(this);this.position=new ka(this);this.substitution=new va(this);this.tables=this.tables||{};Object.defineProperty(this,"hinting",{get:function(){return this._hinting||
("truetype"===this.outlinesFormat?this._hinting=new Ra(this):void 0)}})}function Pc(n,A){var B,H=JSON.stringify(n),L=256;for(B in A){var T=parseInt(B);if(T&&!(256>T)){if(JSON.stringify(A[B])===H)return T;L<=T&&(L=T+1)}}return A[L]=n,L}function kd(n,A){a("fs").readFile(n,function(B,H){if(B)return A(B.message);A(null,Fa(H))})}function ld(n,A){var B=new XMLHttpRequest;B.open("get",n,!0);B.responseType="arraybuffer";B.onload=function(){return B.response?A(null,B.response):A("Font could not be loaded: "+
B.statusText)};B.onerror=function(){A("Font could not be loaded")};B.send()}function Qc(n,A){for(var B=[],H=12,L=0;L<A;L+=1){var T=Xa.getTag(n,H),U=Xa.getULong(n,H+4),ea=Xa.getULong(n,H+8),ha=Xa.getULong(n,H+12);B.push({tag:T,checksum:U,offset:ea,length:ha,compression:!1});H+=16}return B}function Ab(n,A){if("WOFF"!==A.compression)return{data:n,offset:A.offset};n=new Uint8Array(n.buffer,A.offset+2,A.compressedLength-2);var B=new Uint8Array(A.length),H,L,T;n=new f(n,B);do{switch(T=void 0,(L=n).bitcount--||
(L.tag=L.source[L.sourceIndex++],L.bitcount=7),T=1&L.tag,L.tag>>>=1,L=T,d(n,2,0)){case 0:var U;for(H=n;8<H.bitcount;)H.sourceIndex--,H.bitcount-=8;if((U=256*H.source[H.sourceIndex+1]+H.source[H.sourceIndex])!==(65535&~(256*H.source[H.sourceIndex+3]+H.source[H.sourceIndex+2])))H=-3;else{for(H.sourceIndex+=4;U;--U)H.dest[H.destLen++]=H.source[H.sourceIndex++];H=(H.bitcount=0,0)}break;case 1:H=h(n,Ub,pc);break;case 2:H=n;U=n.ltree;var ea=n.dtree,ha=d(H,5,257),na=d(H,5,1);var ya=d(H,4,4);for(var Ca=0;19>
Ca;++Ca)Rb[Ca]=0;for(Ca=0;Ca<ya;++Ca){var Ea=d(H,3,0);Rb[md[Ca]]=Ea}b(Rc,Rb,0,19);for(ya=0;ya<ha+na;)switch(Ca=l(H,Rc),Ca){case 16:Ca=Rb[ya-1];for(Ea=d(H,2,3);Ea;--Ea)Rb[ya++]=Ca;break;case 17:for(Ea=d(H,3,3);Ea;--Ea)Rb[ya++]=0;break;case 18:for(Ea=d(H,7,11);Ea;--Ea)Rb[ya++]=0;break;default:Rb[ya++]=Ca}b(U,Rb,0,ha);b(ea,Rb,ha,na);H=h(n,n.ltree,n.dtree);break;default:H=-3}if(0!==H)throw Error("Data error");}while(!L);n.destLen<n.dest.length&&("function"==typeof n.dest.slice?n.dest.slice(0,n.destLen):
n.dest.subarray(0,n.destLen));if(B.byteLength!==A.length)throw Error("Decompression error: "+A.tag+" decompressed length doesn't match recorded length");return{data:new DataView(B.buffer,0),offset:0}}function yc(n){var A,B=new tb({empty:!0}),H=new DataView(n,0);n=Xa.getTag(H,0);if(n===String.fromCharCode(0,1,0,0)||"true"===n||"typ1"===n){B.outlinesFormat="truetype";var L=Qc(H,n=Xa.getUShort(H,4))}else if("OTTO"===n)B.outlinesFormat="cff",L=Qc(H,n=Xa.getUShort(H,4));else{if("wOFF"!==n)throw Error("Unsupported OpenType signature "+
n);L=Xa.getTag(H,4);if(L===String.fromCharCode(0,1,0,0))B.outlinesFormat="truetype";else{if("OTTO"!==L)throw Error("Unsupported OpenType flavor "+n);B.outlinesFormat="cff"}L=n=Xa.getUShort(H,12);var T=[],U=44;for(A=0;A<L;A+=1){var ea=Xa.getTag(H,U),ha=Xa.getULong(H,U+4),na=Xa.getULong(H,U+8),ya=Xa.getULong(H,U+12);T.push({tag:ea,offset:ha,compression:na<ya&&"WOFF",compressedLength:na,length:ya});U+=20}L=T}for(T=0;T<n;T+=1)switch(U=L[T],U.tag){case "cmap":A=Ab(H,U);B.tables.cmap=Sc.parse(A.data,A.offset);
B.encoding=new O(B.tables.cmap);break;case "cvt ":A=Ab(H,U);A=new Xa.Parser(A.data,A.offset);B.tables.cvt=A.parseShortList(U.length/2);break;case "fvar":var Ca=U;break;case "fpgm":A=Ab(H,U);A=new Xa.Parser(A.data,A.offset);B.tables.fpgm=A.parseByteList(U.length);break;case "head":A=Ab(H,U);B.tables.head=Tc.parse(A.data,A.offset);B.unitsPerEm=B.tables.head.unitsPerEm;var Ea=B.tables.head.indexToLocFormat;break;case "hhea":A=Ab(H,U);B.tables.hhea=Uc.parse(A.data,A.offset);B.ascender=B.tables.hhea.ascender;
B.descender=B.tables.hhea.descender;B.numberOfHMetrics=B.tables.hhea.numberOfHMetrics;break;case "hmtx":var Ja=U;break;case "ltag":A=Ab(H,U);var Ha=Vc.parse(A.data,A.offset);break;case "maxp":A=Ab(H,U);B.tables.maxp=Wc.parse(A.data,A.offset);B.numGlyphs=B.tables.maxp.numGlyphs;break;case "name":var oa=U;break;case "OS/2":A=Ab(H,U);B.tables.os2=zc.parse(A.data,A.offset);break;case "post":A=Ab(H,U);B.tables.post=Xc.parse(A.data,A.offset);B.glyphNames=new P(B.tables.post);break;case "prep":A=Ab(H,U);
A=new Xa.Parser(A.data,A.offset);B.tables.prep=A.parseByteList(U.length);break;case "glyf":var cb=U;break;case "loca":var lb=U;break;case "CFF ":var yb=U;break;case "kern":var Ta=U;break;case "GPOS":var Va=U;break;case "GSUB":var Sb=U;break;case "meta":var lc=U}L=Ab(H,oa);if(B.tables.name=Yc.parse(L.data,L.offset,Ha),B.names=B.tables.name,cb&&lb)n=0===Ea,L=Ab(H,lb),L=nd.parse(L.data,L.offset,B.numGlyphs,n),n=Ab(H,cb),B.glyphs=Kc.parse(n.data,n.offset,L,B);else{if(!yb)throw Error("Font doesn't contain TrueType or CFF outlines.");
n=Ab(H,yb);Zc.parse(n.data,n.offset,B)}L=Ab(H,Ja);Ea=($c.parse(L.data,L.offset,B.numberOfHMetrics,B.numGlyphs,B.glyphs),B);Ha=Ea.tables.cmap.glyphIndexMap;yb=Object.keys(Ha);for(cb=0;cb<yb.length;cb+=1)Ja=yb[cb],Ea.glyphs.get(Ha[Ja]).addUnicode(parseInt(Ja));for(yb=0;yb<Ea.glyphs.length;yb+=1)Ha=Ea.glyphs.get(yb),Ea.cffEncoding?Ea.isCIDFont?Ha.name="gid"+yb:Ha.name=Ea.cffEncoding.charset[yb]:Ea.glyphNames.names&&(Ha.name=Ea.glyphNames.glyphIndexToName(yb));return Ta?(n=Ab(H,Ta),B.kerningPairs=od.parse(n.data,
n.offset)):B.kerningPairs={},Va&&(L=Ab(H,Va),B.tables.gpos=pd.parse(L.data,L.offset),B.position.init()),Sb&&(n=Ab(H,Sb),B.tables.gsub=ad.parse(n.data,n.offset)),Ca&&(L=Ab(H,Ca),B.tables.fvar=qd.parse(L.data,L.offset,B.names)),lc&&(n=Ab(H,lc),B.tables.meta=bd.parse(n.data,n.offset),B.metas=B.tables.meta),B}String.prototype.codePointAt||((cd=function(){try{var n={},A=Object.defineProperty,B=A(n,n,n)&&A}catch(H){}return B}())?cd(String.prototype,"codePointAt",{value:p,configurable:!0,writable:!0}):String.prototype.codePointAt=
p);for(var cd,Ub=new k,pc=new k,uc=new Uint8Array(30),vc=new Uint16Array(30),Dc=new Uint8Array(30),Ec=new Uint16Array(30),md=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Rc=new k,Rb=new Uint8Array(320),Cc=new Uint16Array(16),qb=0;7>qb;++qb)Ub.table[qb]=0;Ub.table[7]=24;Ub.table[8]=152;Ub.table[9]=112;for(qb=0;24>qb;++qb)Ub.trans[qb]=256+qb;for(qb=0;144>qb;++qb)Ub.trans[24+qb]=qb;for(qb=0;8>qb;++qb)Ub.trans[168+qb]=280+qb;for(qb=0;112>qb;++qb)Ub.trans[176+qb]=144+qb;for(qb=0;5>
qb;++qb)pc.table[qb]=0;pc.table[5]=32;for(qb=0;32>qb;++qb)pc.trans[qb]=qb;c(uc,vc,4,3);c(Dc,Ec,2,1);uc[28]=0;vc[28]=258;m.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};m.prototype.addPoint=function(n,A){"number"==typeof n&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=n,this.x2=n),n<this.x1&&(this.x1=n),n>this.x2&&(this.x2=n));"number"==typeof A&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=A,this.y2=A),A<this.y1&&(this.y1=A),A>this.y2&&(this.y2=
A))};m.prototype.addX=function(n){this.addPoint(n,null)};m.prototype.addY=function(n){this.addPoint(null,n)};m.prototype.addBezier=function(n,A,B,H,L,T,U,ea){var ha=[n,A];B=[B,H];L=[L,T];T=[U,ea];this.addPoint(n,A);this.addPoint(U,ea);for(n=0;1>=n;n++){var na;A=6*ha[n]-12*B[n]+6*L[n];U=-3*ha[n]+9*B[n]-9*L[n]+3*T[n];ea=3*B[n]-3*ha[n];0==U?0==A||0<(na=-ea/A)&&1>na&&(0===n&&this.addX(g(ha[n],B[n],L[n],T[n],na)),1===n&&this.addY(g(ha[n],B[n],L[n],T[n],na))):0>(na=Math.pow(A,2)-4*ea*U)||(0<(ea=(-A+Math.sqrt(na))/
(2*U))&&1>ea&&(0===n&&this.addX(g(ha[n],B[n],L[n],T[n],ea)),1===n&&this.addY(g(ha[n],B[n],L[n],T[n],ea))),0<(ea=(-A-Math.sqrt(na))/(2*U))&&1>ea&&(0===n&&this.addX(g(ha[n],B[n],L[n],T[n],ea)),1===n&&this.addY(g(ha[n],B[n],L[n],T[n],ea))))}};m.prototype.addQuad=function(n,A,B,H,L,T){B=n+2/3*(B-n);H=A+2/3*(H-A);this.addBezier(n,A,B,H,B+1/3*(L-n),H+1/3*(T-A),L,T)};t.prototype.moveTo=function(n,A){this.commands.push({type:"M",x:n,y:A})};t.prototype.lineTo=function(n,A){this.commands.push({type:"L",x:n,
y:A})};t.prototype.curveTo=t.prototype.bezierCurveTo=function(n,A,B,H,L,T){this.commands.push({type:"C",x1:n,y1:A,x2:B,y2:H,x:L,y:T})};t.prototype.quadTo=t.prototype.quadraticCurveTo=function(n,A,B,H){this.commands.push({type:"Q",x1:n,y1:A,x:B,y:H})};t.prototype.close=t.prototype.closePath=function(){this.commands.push({type:"Z"})};t.prototype.extend=function(n){var A;if(n.commands)n=n.commands;else if(n instanceof m)return A=n,this.moveTo(A.x1,A.y1),this.lineTo(A.x2,A.y1),this.lineTo(A.x2,A.y2),
this.lineTo(A.x1,A.y2),void this.close();Array.prototype.push.apply(this.commands,n)};t.prototype.getBoundingBox=function(){for(var n=new m,A=0,B=0,H=0,L=0,T=0;T<this.commands.length;T++){var U=this.commands[T];switch(U.type){case "M":n.addPoint(U.x,U.y);A=H=U.x;B=L=U.y;break;case "L":n.addPoint(U.x,U.y);H=U.x;L=U.y;break;case "Q":n.addQuad(H,L,U.x1,U.y1,U.x,U.y);H=U.x;L=U.y;break;case "C":n.addBezier(H,L,U.x1,U.y1,U.x2,U.y2,U.x,U.y);H=U.x;L=U.y;break;case "Z":H=A;L=B;break;default:throw Error("Unexpected path command "+
U.type);}}return n.isEmpty()&&n.addPoint(0,0),n};t.prototype.draw=function(n){n.beginPath();for(var A=0;A<this.commands.length;A+=1){var B=this.commands[A];"M"===B.type?n.moveTo(B.x,B.y):"L"===B.type?n.lineTo(B.x,B.y):"C"===B.type?n.bezierCurveTo(B.x1,B.y1,B.x2,B.y2,B.x,B.y):"Q"===B.type?n.quadraticCurveTo(B.x1,B.y1,B.x,B.y):"Z"===B.type&&n.closePath()}this.fill&&(n.fillStyle=this.fill,n.fill());this.stroke&&(n.strokeStyle=this.stroke,n.lineWidth=this.strokeWidth,n.stroke())};t.prototype.toPathData=
function(n){function A(){for(var T=arguments,U="",ea=0;ea<arguments.length;ea+=1){var ha=T[ea];0<=ha&&0<ea&&(U+=" ");U+=Math.round(ha)===ha?""+Math.round(ha):ha.toFixed(n)}return U}n=void 0!==n?n:2;for(var B="",H=0;H<this.commands.length;H+=1){var L=this.commands[H];"M"===L.type?B+="M"+A(L.x,L.y):"L"===L.type?B+="L"+A(L.x,L.y):"C"===L.type?B+="C"+A(L.x1,L.y1,L.x2,L.y2,L.x,L.y):"Q"===L.type?B+="Q"+A(L.x1,L.y1,L.x,L.y):"Z"===L.type&&(B+="Z")}return B};t.prototype.toSVG=function(n){var A=(A='\x3cpath d\x3d"')+
this.toPathData(n)+'"';return this.fill&&"black"!==this.fill&&(null===this.fill?A+=' fill\x3d"none"':A+=' fill\x3d"'+this.fill+'"'),this.stroke&&(A+=' stroke\x3d"'+this.stroke+'" stroke-width\x3d"'+this.strokeWidth+'"'),A+"/\x3e"};t.prototype.toDOMElement=function(n){n=this.toPathData(n);var A=document.createElementNS("http://www.w3.org/2000/svg","path");return A.setAttribute("d",n),A};var kb={fail:v,argument:w,assert:w},fc={},Na={},gb={};Na.BYTE=function(n){return kb.argument(0<=n&&255>=n,"Byte value should be between 0 and 255."),
[n]};gb.BYTE=z(1);Na.CHAR=function(n){return[n.charCodeAt(0)]};gb.CHAR=z(1);Na.CHARARRAY=function(n){for(var A=[],B=0;B<n.length;B+=1)A[B]=n.charCodeAt(B);return A};gb.CHARARRAY=function(n){return n.length};Na.USHORT=function(n){return[n>>8&255,255&n]};gb.USHORT=z(2);Na.SHORT=function(n){return[(n=32768<=n?-(65536-n):n)>>8&255,255&n]};gb.SHORT=z(2);Na.UINT24=function(n){return[n>>16&255,n>>8&255,255&n]};gb.UINT24=z(3);Na.ULONG=function(n){return[n>>24&255,n>>16&255,n>>8&255,255&n]};gb.ULONG=z(4);
Na.LONG=function(n){return[(n=2147483648<=n?-(4294967296-n):n)>>24&255,n>>16&255,n>>8&255,255&n]};gb.LONG=z(4);Na.FIXED=Na.ULONG;gb.FIXED=gb.ULONG;Na.FWORD=Na.SHORT;gb.FWORD=gb.SHORT;Na.UFWORD=Na.USHORT;gb.UFWORD=gb.USHORT;Na.LONGDATETIME=function(n){return[0,0,0,0,n>>24&255,n>>16&255,n>>8&255,255&n]};gb.LONGDATETIME=z(8);Na.TAG=function(n){return kb.argument(4===n.length,"Tag should be exactly 4 ASCII characters."),[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]};gb.TAG=z(4);Na.Card8=
Na.BYTE;gb.Card8=gb.BYTE;Na.Card16=Na.USHORT;gb.Card16=gb.USHORT;Na.OffSize=Na.BYTE;gb.OffSize=gb.BYTE;Na.SID=Na.USHORT;gb.SID=gb.USHORT;Na.NUMBER=function(n){return-107<=n&&107>=n?[n+139]:108<=n&&1131>=n?[247+((n-=108)>>8),255&n]:-1131<=n&&-108>=n?[251+((n=-n-108)>>8),255&n]:-32768<=n&&32767>=n?Na.NUMBER16(n):Na.NUMBER32(n)};gb.NUMBER=function(n){return Na.NUMBER(n).length};Na.NUMBER16=function(n){return[28,n>>8&255,255&n]};gb.NUMBER16=z(3);Na.NUMBER32=function(n){return[29,n>>24&255,n>>16&255,n>>
8&255,255&n]};gb.NUMBER32=z(5);Na.REAL=function(n){var A=n.toString(),B=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(A),H=(B&&(B=parseFloat("1e"+((B[2]?+B[2]:0)+B[1].length)),A=(Math.round(n*B)/B).toString()),"");n=0;for(B=A.length;n<B;n+=1){var L=A[n];H+="e"===L?"-"===A[++n]?"c":"b":"."===L?"a":"-"===L?"e":L}A=[30];n=0;for(B=(H+=1&H.length?"f":"ff").length;n<B;n+=2)A.push(parseInt(H.substr(n,2),16));return A};gb.REAL=function(n){return Na.REAL(n).length};Na.NAME=Na.CHARARRAY;gb.NAME=gb.CHARARRAY;
Na.STRING=Na.CHARARRAY;gb.STRING=gb.CHARARRAY;fc.UTF8=function(n,A,B){for(var H=[],L=0;L<B;L++,A+=1)H[L]=n.getUint8(A);return String.fromCharCode.apply(null,H)};fc.UTF16=function(n,A,B){var H=[];B/=2;for(var L=0;L<B;L++,A+=2)H[L]=n.getUint16(A);return String.fromCharCode.apply(null,H)};Na.UTF16=function(n){for(var A=[],B=0;B<n.length;B+=1){var H=n.charCodeAt(B);A[A.length]=H>>8&255;A[A.length]=255&H}return A};gb.UTF16=function(n){return 2*n.length};var qc,Ac={"x-mac-croatian":"",
"x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"",
"x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"",
"x-mac-turkish":""},rc=(fc.MACSTRING=function(n,A,B,H){H=Ac[H];if(void 0!==H){for(var L="",T=0;T<B;T++){var U=n.getUint8(A+T);L+=127>=U?String.fromCharCode(U):H[127&U]}return L}},"function"==typeof WeakMap&&new WeakMap);Na.MACSTRING=function(n,A){a:{if(!qc)for(B in qc={},Ac)qc[B]=new String(B);var B=qc[A];if(void 0!==B){if(rc){var H=rc.get(B);if(void 0!==H){B=H;break a}}A=
Ac[A];if(void 0!==A){H={};for(var L=0;L<A.length;L++)H[A.charCodeAt(L)]=L+128;B=(rc&&rc.set(B,H),H);break a}}B=void 0}if(void 0!==B){A=[];for(H=0;H<n.length;H++){L=n.charCodeAt(H);if(128<=L&&void 0===(L=B[L]))return;A[H]=L}return A}};gb.MACSTRING=function(n,A){n=Na.MACSTRING(n,A);return void 0!==n?n.length:0};Na.VARDELTAS=function(n){for(var A=0,B=[];A<n.length;){var H=n[A];A=(0===H?function(L,T,U){for(var ea=0,ha=L.length;T<ha&&64>ea&&0===L[T];)++T,++ea;return U.push(128|ea-1),T}:-128<=H&&127>=H?
function(L,T,U){for(var ea=0,ha=L.length,na=T;na<ha&&64>ea;){var ya=L[na];if(!(-128<=ya&&127>=ya))break;if(0===ya&&na+1<ha&&0===L[na+1])break;++na;++ea}for(U.push(ea-1);T<na;++T)U.push(L[T]+256&255);return na}:function(L,T,U){for(var ea=0,ha=L.length,na=T;na<ha&&64>ea;){var ya=L[na];if(0===ya)break;if(ya=-128<=ya&&127>=ya&&na+1<ha)ya=L[na+1],ya=-128<=ya&&127>=ya;if(ya)break;++na;++ea}for(U.push(64|ea-1);T<na;++T)ea=L[T],U.push(ea+65536>>8&255,ea+256&255);return na})(n,A,B)}return B};Na.INDEX=function(n){for(var A=
1,B=[A],H=[],L=0;L<n.length;L+=1){var T=Na.OBJECT(n[L]);Array.prototype.push.apply(H,T);A+=T.length;B.push(A)}if(0===H.length)return[0,0];L=[];A=1+Math.floor(Math.log(A)/Math.log(2))/8|0;T=[void 0,Na.BYTE,Na.USHORT,Na.UINT24,Na.ULONG][A];for(var U=0;U<B.length;U+=1){var ea=T(B[U]);Array.prototype.push.apply(L,ea)}return Array.prototype.concat(Na.Card16(n.length),Na.OffSize(A),L,H)};gb.INDEX=function(n){return Na.INDEX(n).length};Na.DICT=function(n){for(var A=[],B=Object.keys(n),H=B.length,L=0;L<H;L+=
1){var T=parseInt(B[L],0),U=n[T];A=(A=A.concat(Na.OPERAND(U.value,U.type))).concat(Na.OPERATOR(T))}return A};gb.DICT=function(n){return Na.DICT(n).length};Na.OPERATOR=function(n){return 1200>n?[n]:[12,n-1200]};Na.OPERAND=function(n,A){var B=[];if(Array.isArray(A))for(var H=0;H<A.length;H+=1)kb.argument(n.length===A.length,"Not enough arguments given for type"+A),B=B.concat(Na.OPERAND(n[H],A[H]));else if("SID"===A)B=B.concat(Na.NUMBER(n));else if("offset"===A)B=B.concat(Na.NUMBER32(n));else if("number"===
A)B=B.concat(Na.NUMBER(n));else{if("real"!==A)throw Error("Unknown operand type "+A);B=B.concat(Na.REAL(n))}return B};Na.OP=Na.BYTE;gb.OP=gb.BYTE;var sc="function"==typeof WeakMap&&new WeakMap;Na.CHARSTRING=function(n){if(sc){var A=sc.get(n);if(void 0!==A)return A}A=[];for(var B=n.length,H=0;H<B;H+=1){var L=n[H];A=A.concat(Na[L.type](L.value))}return sc&&sc.set(n,A),A};gb.CHARSTRING=function(n){return Na.CHARSTRING(n).length};Na.OBJECT=function(n){var A=Na[n.type];return kb.argument(void 0!==A,"No encoding function for type "+
n.type),A(n.value)};gb.OBJECT=function(n){var A=gb[n.type];return kb.argument(void 0!==A,"No sizeOf function for type "+n.type),A(n.value)};Na.TABLE=function(n){for(var A=[],B=n.fields.length,H=[],L=[],T=0;T<B;T+=1){var U=n.fields[T],ea=Na[U.type],ha=(kb.argument(void 0!==ea,"No encoding function for field type "+U.type+" ("+U.name+")"),n[U.name]);ea=ea(void 0===ha?U.value:ha);"TABLE"===U.type?(L.push(A.length),A=A.concat([0,0]),H.push(ea)):A=A.concat(ea)}for(B=0;B<H.length;B+=1)T=L[B],U=A.length,
kb.argument(65536>U,"Table "+n.tableName+" too big."),A[T]=U>>8,A[T+1]=255&U,A=A.concat(H[B]);return A};gb.TABLE=function(n){for(var A=0,B=n.fields.length,H=0;H<B;H+=1){var L=n.fields[H],T=gb[L.type],U=(kb.argument(void 0!==T,"No sizeOf function for field type "+L.type+" ("+L.name+")"),n[L.name]);A+=T(void 0===U?L.value:U);"TABLE"===L.type&&(A+=2)}return A};Na.RECORD=Na.TABLE;gb.RECORD=gb.TABLE;Na.LITERAL=function(n){return n};gb.LITERAL=function(n){return n.length};y.prototype.encode=function(){return Na.TABLE(this)};
y.prototype.sizeOf=function(){return gb.TABLE(this)};var eb={Table:y,Record:y,Coverage:(N.prototype=Object.create(y.prototype)).constructor=N,ScriptList:(J.prototype=Object.create(y.prototype)).constructor=J,FeatureList:(E.prototype=Object.create(y.prototype)).constructor=E,LookupList:(M.prototype=Object.create(y.prototype)).constructor=M,ushortList:F,tableList:D,recordList:C},rd={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};S.prototype.parseByte=function(){var n=this.data.getUint8(this.offset+
this.relativeOffset);return this.relativeOffset+=1,n};S.prototype.parseChar=function(){var n=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,n};S.prototype.parseCard8=S.prototype.parseByte;S.prototype.parseCard16=S.prototype.parseUShort=function(){var n=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,n};S.prototype.parseSID=S.prototype.parseUShort;S.prototype.parseOffset16=S.prototype.parseUShort;S.prototype.parseShort=function(){var n=
this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,n};S.prototype.parseF2Dot14=function(){var n=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,n};S.prototype.parseOffset32=S.prototype.parseULong=function(){var n=W(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,n};S.prototype.parseFixed=function(){var n=R(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,n};S.prototype.parseString=
function(n){var A=this.data,B=this.offset+this.relativeOffset,H="";this.relativeOffset+=n;for(var L=0;L<n;L++)H+=String.fromCharCode(A.getUint8(B+L));return H};S.prototype.parseTag=function(){return this.parseString(4)};S.prototype.parseLongDateTime=function(){var n=W(this.data,this.offset+this.relativeOffset+4);return n-=2082844800,this.relativeOffset+=8,n};S.prototype.parseVersion=function(n){var A=V(this.data,this.offset+this.relativeOffset),B=V(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=
4,A+B/(void 0===n?4096:n)/10};S.prototype.skip=function(n,A){this.relativeOffset+=rd[n]*(void 0===A?1:A)};S.prototype.parseULongList=function(n){void 0===n&&(n=this.parseULong());for(var A=Array(n),B=this.data,H=this.offset+this.relativeOffset,L=0;L<n;L++)A[L]=B.getUint32(H),H+=4;return this.relativeOffset+=4*n,A};S.prototype.parseOffset16List=S.prototype.parseUShortList=function(n){void 0===n&&(n=this.parseUShort());for(var A=Array(n),B=this.data,H=this.offset+this.relativeOffset,L=0;L<n;L++)A[L]=
B.getUint16(H),H+=2;return this.relativeOffset+=2*n,A};S.prototype.parseShortList=function(n){for(var A=Array(n),B=this.data,H=this.offset+this.relativeOffset,L=0;L<n;L++)A[L]=B.getInt16(H),H+=2;return this.relativeOffset+=2*n,A};S.prototype.parseByteList=function(n){for(var A=Array(n),B=this.data,H=this.offset+this.relativeOffset,L=0;L<n;L++)A[L]=B.getUint8(H++);return this.relativeOffset+=n,A};S.prototype.parseList=function(n,A){A||(A=n,n=this.parseUShort());for(var B=Array(n),H=0;H<n;H++)B[H]=
A.call(this);return B};S.prototype.parseList32=function(n,A){A||(A=n,n=this.parseULong());for(var B=Array(n),H=0;H<n;H++)B[H]=A.call(this);return B};S.prototype.parseRecordList=function(n,A){A||(A=n,n=this.parseUShort());for(var B=Array(n),H=Object.keys(A),L=0;L<n;L++){for(var T={},U=0;U<H.length;U++){var ea=H[U];T[ea]=A[ea].call(this)}B[L]=T}return B};S.prototype.parseRecordList32=function(n,A){A||(A=n,n=this.parseULong());for(var B=Array(n),H=Object.keys(A),L=0;L<n;L++){for(var T={},U=0;U<H.length;U++){var ea=
H[U];T[ea]=A[ea].call(this)}B[L]=T}return B};S.prototype.parseStruct=function(n){if("function"==typeof n)return n.call(this);for(var A=Object.keys(n),B={},H=0;H<A.length;H++){var L=A[H];B[L]=n[L].call(this)}return B};S.prototype.parseValueRecord=function(n){var A;if(0!==(n=void 0===n?this.parseUShort():n))return A={},1&n&&(A.xPlacement=this.parseShort()),2&n&&(A.yPlacement=this.parseShort()),4&n&&(A.xAdvance=this.parseShort()),8&n&&(A.yAdvance=this.parseShort()),16&n&&(A.xPlaDevice=void 0,this.parseShort()),
32&n&&(A.yPlaDevice=void 0,this.parseShort()),64&n&&(A.xAdvDevice=void 0,this.parseShort()),128&n&&(A.yAdvDevice=void 0,this.parseShort()),A};S.prototype.parseValueRecordList=function(){for(var n=this.parseUShort(),A=this.parseUShort(),B=Array(A),H=0;H<A;H++)B[H]=this.parseValueRecord(n);return B};S.prototype.parsePointer=function(n){var A=this.parseOffset16();if(0<A)return(new S(this.data,this.offset+A)).parseStruct(n)};S.prototype.parsePointer32=function(n){var A=this.parseOffset32();if(0<A)return(new S(this.data,
this.offset+A)).parseStruct(n)};S.prototype.parseListOfLists=function(n){for(var A=this.parseOffset16List(),B=A.length,H=this.relativeOffset,L=Array(B),T=0;T<B;T++){var U=A[T];if(0===U)L[T]=void 0;else if(this.relativeOffset=U,n){for(var ea=this.parseOffset16List(),ha=Array(ea.length),na=0;na<ea.length;na++)this.relativeOffset=U+ea[na],ha[na]=n.call(this);L[T]=ha}else L[T]=this.parseUShortList()}return this.relativeOffset=H,L};S.prototype.parseCoverage=function(){var n=this.offset+this.relativeOffset,
A=this.parseUShort(),B=this.parseUShort();if(1===A)return{format:1,glyphs:this.parseUShortList(B)};if(2!==A)throw Error("0x"+n.toString(16)+": Coverage format must be 1 or 2.");n=Array(B);for(A=0;A<B;A++)n[A]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:n}};S.prototype.parseClassDef=function(){var n=this.offset+this.relativeOffset,A=this.parseUShort();if(1===A)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===
A)return{format:2,ranges:this.parseRecordList({start:S.uShort,end:S.uShort,classId:S.uShort})};throw Error("0x"+n.toString(16)+": ClassDef format must be 1 or 2.");};S.list=function(n,A){return function(){return this.parseList(n,A)}};S.list32=function(n,A){return function(){return this.parseList32(n,A)}};S.recordList=function(n,A){return function(){return this.parseRecordList(n,A)}};S.recordList32=function(n,A){return function(){return this.parseRecordList32(n,A)}};S.pointer=function(n){return function(){return this.parsePointer(n)}};
S.pointer32=function(n){return function(){return this.parsePointer32(n)}};S.tag=S.prototype.parseTag;S.byte=S.prototype.parseByte;S.uShort=S.offset16=S.prototype.parseUShort;S.uShortList=S.prototype.parseUShortList;S.uLong=S.offset32=S.prototype.parseULong;S.uLongList=S.prototype.parseULongList;S.struct=S.prototype.parseStruct;S.coverage=S.prototype.parseCoverage;S.classDef=S.prototype.parseClassDef;var dd={reserved:S.uShort,reqFeatureIndex:S.uShort,featureIndexes:S.uShortList},Xa=(S.prototype.parseScriptList=
function(){return this.parsePointer(S.recordList({tag:S.tag,script:S.pointer({defaultLangSys:S.pointer(dd),langSysRecords:S.recordList({tag:S.tag,langSys:S.pointer(dd)})})}))||[]},S.prototype.parseFeatureList=function(){return this.parsePointer(S.recordList({tag:S.tag,feature:S.pointer({featureParams:S.offset16,lookupListIndexes:S.uShortList})}))||[]},S.prototype.parseLookupList=function(n){return this.parsePointer(S.list(S.pointer(function(){var A=this.parseUShort(),B=(kb.argument(1<=A&&9>=A,"GPOS/GSUB lookup type "+
A+" unknown."),this.parseUShort()),H=16&B;return{lookupType:A,lookupFlag:B,subtables:this.parseList(S.pointer(n[A])),markFilteringSet:H?this.parseUShort():void 0}})))||[]},S.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var n=this.parseUShort(),A=this.parseUShort();return kb.argument(1===n&&1>A,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:S.offset32,featureTableSubstitutionOffset:S.offset32})})||[]},{getByte:Q,getCard8:Q,
getUShort:V,getCard16:V,getShort:function(n,A){return n.getInt16(A,!1)},getULong:W,getFixed:R,getTag:function(n,A){for(var B="",H=A;H<A+4;H+=1)B+=String.fromCharCode(n.getInt8(H));return B},getOffset:function(n,A,B){for(var H=0,L=0;L<B;L+=1)H=(H<<=8)+n.getUint8(A+L);return H},getBytes:function(n,A,B){for(var H=[];A<B;A+=1)H.push(n.getUint8(A));return H},bytesToString:function(n){for(var A="",B=0;B<n.length;B+=1)A+=String.fromCharCode(n[B]);return A},Parser:S}),Sc={parse:function(n,A){for(var B={},
H=(B.version=Xa.getUShort(n,A),kb.argument(0===B.version,"cmap table version should be 0."),B.numTables=Xa.getUShort(n,A+2),-1),L=B.numTables-1;0<=L;--L){var T=Xa.getUShort(n,A+4+8*L),U=Xa.getUShort(n,A+4+8*L+2);if(3===T&&(0===U||1===U||10===U)||0===T&&(0===U||1===U||2===U||3===U||4===U)){H=Xa.getULong(n,A+4+8*L+4);break}}if(-1===H)throw Error("No valid cmap sub-tables found.");L=new Xa.Parser(n,A+H);if(B.format=L.parseUShort(),12===B.format)for(L.parseUShort(),B.length=L.parseULong(),B.language=
L.parseULong(),B.groupCount=n=L.parseULong(),B.glyphIndexMap={},H=0;H<n;H+=1){var ea=L.parseULong();T=L.parseULong();for(U=L.parseULong();ea<=T;ea+=1)B.glyphIndexMap[ea]=U,U++}else{if(4!==B.format)throw Error("Only format 4 and 12 cmap tables are supported (found format "+B.format+").");var ha=H;B.length=L.parseUShort();B.language=L.parseUShort();B.segCount=H=L.parseUShort()>>1;L.skip("uShort",3);B.glyphIndexMap={};L=new Xa.Parser(n,A+ha+14);T=new Xa.Parser(n,A+ha+16+2*H);U=new Xa.Parser(n,A+ha+16+
4*H);ea=new Xa.Parser(n,A+ha+16+6*H);A=A+ha+16+8*H;for(ha=0;ha<H-1;ha+=1)for(var na=void 0,ya=L.parseUShort(),Ca=T.parseUShort(),Ea=U.parseShort(),Ja=ea.parseUShort(),Ha=Ca;Ha<=ya;Ha+=1)0!==Ja?(A=(A=ea.offset+ea.relativeOffset-2)+Ja+2*(Ha-Ca),0!==(na=Xa.getUShort(n,A))&&(na=na+Ea&65535)):na=Ha+Ea&65535,B.glyphIndexMap[Ha]=na}return B},make:function(n){for(var A=!0,B=n.length-1;0<B;--B)if(65535<n.get(B).unicode){console.log("Adding CMAP format 12 (needed!)");A=!1;break}var H=[{name:"version",type:"USHORT",
value:0},{name:"numTables",type:"USHORT",value:A?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:A?12:20}],L=(H=(H=A?H:H.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",
value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new eb.Table("cmap",H));L.segments=[];for(B=0;B<n.length;B+=1){for(var T=n.get(B),U=0;U<T.unicodes.length;U+=1){var ea=T.unicodes[U];var ha=B;L.segments.push({end:ea,start:ea,delta:-(ea-ha),offset:0,glyphIndex:ha})}L.segments=L.segments.sort(function(Ja,Ha){return Ja.start-Ha.start})}L.segments.push({end:65535,start:65535,delta:1,offset:0});n=L.segments.length;
ea=0;ha=[];T=[];U=[];var na=[],ya=[],Ca=[];for(B=0;B<n;B+=1){var Ea=L.segments[B];65535>=Ea.end&&65535>=Ea.start?(ha=ha.concat({name:"end_"+B,type:"USHORT",value:Ea.end}),T=T.concat({name:"start_"+B,type:"USHORT",value:Ea.start}),U=U.concat({name:"idDelta_"+B,type:"SHORT",value:Ea.delta}),na=na.concat({name:"idRangeOffset_"+B,type:"USHORT",value:Ea.offset}),void 0!==Ea.glyphId&&(ya=ya.concat({name:"glyph_"+B,type:"USHORT",value:Ea.glyphId}))):ea+=1;A||void 0===Ea.glyphIndex||(Ca=(Ca=(Ca=Ca.concat({name:"cmap12Start_"+
B,type:"ULONG",value:Ea.start})).concat({name:"cmap12End_"+B,type:"ULONG",value:Ea.end})).concat({name:"cmap12Glyph_"+B,type:"ULONG",value:Ea.glyphIndex}))}return L.segCountX2=2*(n-ea),L.searchRange=2*Math.pow(2,Math.floor(Math.log(n-ea)/Math.log(2))),L.entrySelector=Math.log(L.searchRange/2)/Math.log(2),L.rangeShift=L.segCountX2-L.searchRange,L.fields=L.fields.concat(ha),L.fields.push({name:"reservedPad",type:"USHORT",value:0}),L.fields=L.fields.concat(T),L.fields=L.fields.concat(U),L.fields=L.fields.concat(na),
L.fields=L.fields.concat(ya),L.cmap4Length=2*ha.length+16+2*T.length+2*U.length+2*na.length+2*ya.length,A||(H=16+4*Ca.length,L.cmap12Offset=20+L.cmap4Length,L.fields=L.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:H},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ca.length/3}]),L.fields=L.fields.concat(Ca)),L}},kc=".notdef;space;exclam;quotedbl;numbersign;dollar;percent;ampersand;quoteright;parenleft;parenright;asterisk;plus;comma;hyphen;period;slash;zero;one;two;three;four;five;six;seven;eight;nine;colon;semicolon;less;equal;greater;question;at;A;B;C;D;E;F;G;H;I;J;K;L;M;N;O;P;Q;R;S;T;U;V;W;X;Y;Z;bracketleft;backslash;bracketright;asciicircum;underscore;quoteleft;a;b;c;d;e;f;g;h;i;j;k;l;m;n;o;p;q;r;s;t;u;v;w;x;y;z;braceleft;bar;braceright;asciitilde;exclamdown;cent;sterling;fraction;yen;florin;section;currency;quotesingle;quotedblleft;guillemotleft;guilsinglleft;guilsinglright;fi;fl;endash;dagger;daggerdbl;periodcentered;paragraph;bullet;quotesinglbase;quotedblbase;quotedblright;guillemotright;ellipsis;perthousand;questiondown;grave;acute;circumflex;tilde;macron;breve;dotaccent;dieresis;ring;cedilla;hungarumlaut;ogonek;caron;emdash;AE;ordfeminine;Lslash;Oslash;OE;ordmasculine;ae;dotlessi;lslash;oslash;oe;germandbls;onesuperior;logicalnot;mu;trademark;Eth;onehalf;plusminus;Thorn;onequarter;divide;brokenbar;degree;thorn;threequarters;twosuperior;registered;minus;eth;multiply;threesuperior;copyright;Aacute;Acircumflex;Adieresis;Agrave;Aring;Atilde;Ccedilla;Eacute;Ecircumflex;Edieresis;Egrave;Iacute;Icircumflex;Idieresis;Igrave;Ntilde;Oacute;Ocircumflex;Odieresis;Ograve;Otilde;Scaron;Uacute;Ucircumflex;Udieresis;Ugrave;Yacute;Ydieresis;Zcaron;aacute;acircumflex;adieresis;agrave;aring;atilde;ccedilla;eacute;ecircumflex;edieresis;egrave;iacute;icircumflex;idieresis;igrave;ntilde;oacute;ocircumflex;odieresis;ograve;otilde;scaron;uacute;ucircumflex;udieresis;ugrave;yacute;ydieresis;zcaron;exclamsmall;Hungarumlautsmall;dollaroldstyle;dollarsuperior;ampersandsmall;Acutesmall;parenleftsuperior;parenrightsuperior;266 ff;onedotenleader;zerooldstyle;oneoldstyle;twooldstyle;threeoldstyle;fouroldstyle;fiveoldstyle;sixoldstyle;sevenoldstyle;eightoldstyle;nineoldstyle;commasuperior;threequartersemdash;periodsuperior;questionsmall;asuperior;bsuperior;centsuperior;dsuperior;esuperior;isuperior;lsuperior;msuperior;nsuperior;osuperior;rsuperior;ssuperior;tsuperior;ff;ffi;ffl;parenleftinferior;parenrightinferior;Circumflexsmall;hyphensuperior;Gravesmall;Asmall;Bsmall;Csmall;Dsmall;Esmall;Fsmall;Gsmall;Hsmall;Ismall;Jsmall;Ksmall;Lsmall;Msmall;Nsmall;Osmall;Psmall;Qsmall;Rsmall;Ssmall;Tsmall;Usmall;Vsmall;Wsmall;Xsmall;Ysmall;Zsmall;colonmonetary;onefitted;rupiah;Tildesmall;exclamdownsmall;centoldstyle;Lslashsmall;Scaronsmall;Zcaronsmall;Dieresissmall;Brevesmall;Caronsmall;Dotaccentsmall;Macronsmall;figuredash;hypheninferior;Ogoneksmall;Ringsmall;Cedillasmall;questiondownsmall;oneeighth;threeeighths;fiveeighths;seveneighths;onethird;twothirds;zerosuperior;foursuperior;fivesuperior;sixsuperior;sevensuperior;eightsuperior;ninesuperior;zeroinferior;oneinferior;twoinferior;threeinferior;fourinferior;fiveinferior;sixinferior;seveninferior;eightinferior;nineinferior;centinferior;dollarinferior;periodinferior;commainferior;Agravesmall;Aacutesmall;Acircumflexsmall;Atildesmall;Adieresissmall;Aringsmall;AEsmall;Ccedillasmall;Egravesmall;Eacutesmall;Ecircumflexsmall;Edieresissmall;Igravesmall;Iacutesmall;Icircumflexsmall;Idieresissmall;Ethsmall;Ntildesmall;Ogravesmall;Oacutesmall;Ocircumflexsmall;Otildesmall;Odieresissmall;OEsmall;Oslashsmall;Ugravesmall;Uacutesmall;Ucircumflexsmall;Udieresissmall;Yacutesmall;Thornsmall;Ydieresissmall;001.000;001.001;001.002;001.003;Black;Bold;Book;Light;Medium;Regular;Roman;Semibold".split(";"),
sd="                                space exclam quotedbl numbersign dollar percent ampersand quoteright parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore quoteleft a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde                                   exclamdown cent sterling fraction yen florin section currency quotesingle quotedblleft guillemotleft guilsinglleft guilsinglright fi fl  endash dagger daggerdbl periodcentered  paragraph bullet quotesinglbase quotedblbase quotedblright guillemotright ellipsis perthousand  questiondown  grave acute circumflex tilde macron breve dotaccent dieresis  ring cedilla  hungarumlaut ogonek caron emdash                 AE  ordfeminine     Lslash Oslash OE ordmasculine      ae    dotlessi   lslash oslash oe germandbls".split(" "),
td="                                space exclamsmall Hungarumlautsmall  dollaroldstyle dollarsuperior ampersandsmall Acutesmall parenleftsuperior parenrightsuperior twodotenleader onedotenleader comma hyphen period fraction zerooldstyle oneoldstyle twooldstyle threeoldstyle fouroldstyle fiveoldstyle sixoldstyle sevenoldstyle eightoldstyle nineoldstyle colon semicolon commasuperior threequartersemdash periodsuperior questionsmall  asuperior bsuperior centsuperior dsuperior esuperior   isuperior   lsuperior msuperior nsuperior osuperior   rsuperior ssuperior tsuperior  ff fi fl ffi ffl parenleftinferior  parenrightinferior Circumflexsmall hyphensuperior Gravesmall Asmall Bsmall Csmall Dsmall Esmall Fsmall Gsmall Hsmall Ismall Jsmall Ksmall Lsmall Msmall Nsmall Osmall Psmall Qsmall Rsmall Ssmall Tsmall Usmall Vsmall Wsmall Xsmall Ysmall Zsmall colonmonetary onefitted rupiah Tildesmall                                   exclamdownsmall centoldstyle Lslashsmall   Scaronsmall Zcaronsmall Dieresissmall Brevesmall Caronsmall  Dotaccentsmall   Macronsmall   figuredash hypheninferior   Ogoneksmall Ringsmall Cedillasmall    onequarter onehalf threequarters questiondownsmall oneeighth threeeighths fiveeighths seveneighths onethird twothirds   zerosuperior onesuperior twosuperior threesuperior foursuperior fivesuperior sixsuperior sevensuperior eightsuperior ninesuperior zeroinferior oneinferior twoinferior threeinferior fourinferior fiveinferior sixinferior seveninferior eightinferior nineinferior centinferior dollarinferior periodinferior commainferior Agravesmall Aacutesmall Acircumflexsmall Atildesmall Adieresissmall Aringsmall AEsmall Ccedillasmall Egravesmall Eacutesmall Ecircumflexsmall Edieresissmall Igravesmall Iacutesmall Icircumflexsmall Idieresissmall Ethsmall Ntildesmall Ogravesmall Oacutesmall Ocircumflexsmall Otildesmall Odieresissmall OEsmall Oslashsmall Ugravesmall Uacutesmall Ucircumflexsmall Udieresissmall Yacutesmall Thornsmall Ydieresissmall".split(" "),
cc=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(" ");
K.prototype.charToGlyphIndex=function(n){n=n.codePointAt(0);var A=this.font.glyphs;if(A)for(var B=0;B<A.length;B+=1)for(var H=A.get(B),L=0;L<H.unicodes.length;L+=1)if(H.unicodes[L]===n)return B;return null};O.prototype.charToGlyphIndex=function(n){return this.cmap.glyphIndexMap[n.codePointAt(0)]||0};I.prototype.charToGlyphIndex=function(n){n=n.codePointAt(0);n=this.encoding[n];return this.charset.indexOf(n)};P.prototype.nameToGlyphIndex=function(n){return this.names.indexOf(n)};P.prototype.glyphIndexToName=
function(n){return this.names[n]};var dc={line:function(n,A,B,H,L){n.beginPath();n.moveTo(A,B);n.lineTo(H,L);n.stroke()}};X.prototype.bindConstructorValues=function(n){var A;this.index=n.index||0;this.name=n.name||null;this.unicode=n.unicode||void 0;this.unicodes=n.unicodes||void 0!==n.unicode?[n.unicode]:[];n.xMin&&(this.xMin=n.xMin);n.yMin&&(this.yMin=n.yMin);n.xMax&&(this.xMax=n.xMax);n.yMax&&(this.yMax=n.yMax);n.advanceWidth&&(this.advanceWidth=n.advanceWidth);Object.defineProperty(this,"path",
(n=n.path,A=n||new t,{configurable:!0,get:function(){return A="function"==typeof A?A():A},set:function(B){A=B}}))};X.prototype.addUnicode=function(n){0===this.unicodes.length&&(this.unicode=n);this.unicodes.push(n)};X.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};X.prototype.getPath=function(n,A,B,H,L){n=void 0!==n?n:0;A=void 0!==A?A:0;B=void 0!==B?B:72;var T,U,ea=(H=H||{}).xScale,ha=H.yScale,na=((T=H.hinting&&L&&L.hinting?this.path&&L.hinting.exec(this,B):T)?(U=L.hinting.getCommands(T),
n=Math.round(n),A=Math.round(A),ea=ha=1):(U=this.path.commands,H=1/this.path.unitsPerEm*B,void 0===ea&&(ea=H),void 0===ha&&(ha=H)),new t);for(B=0;B<U.length;B+=1)H=U[B],"M"===H.type?na.moveTo(n+H.x*ea,A+-H.y*ha):"L"===H.type?na.lineTo(n+H.x*ea,A+-H.y*ha):"Q"===H.type?na.quadraticCurveTo(n+H.x1*ea,A+-H.y1*ha,n+H.x*ea,A+-H.y*ha):"C"===H.type?na.curveTo(n+H.x1*ea,A+-H.y1*ha,n+H.x2*ea,A+-H.y2*ha,n+H.x*ea,A+-H.y*ha):"Z"===H.type&&na.closePath();return na};X.prototype.getContours=function(){if(void 0===
this.points)return[];for(var n=[],A=[],B=0;B<this.points.length;B+=1){var H=this.points[B];A.push(H);H.lastPointOfContour&&(n.push(A),A=[])}return kb.argument(0===A.length,"There are still points left in the current contour."),n};X.prototype.getMetrics=function(){for(var n=this.path.commands,A=[],B=[],H=0;H<n.length;H+=1){var L=n[H];"Z"!==L.type&&(A.push(L.x),B.push(L.y));"Q"!==L.type&&"C"!==L.type||(A.push(L.x1),B.push(L.y1));"C"===L.type&&(A.push(L.x2),B.push(L.y2))}n={xMin:Math.min.apply(null,
A),yMin:Math.min.apply(null,B),xMax:Math.max.apply(null,A),yMax:Math.max.apply(null,B),leftSideBearing:this.leftSideBearing};return isFinite(n.xMin)||(n.xMin=0),isFinite(n.xMax)||(n.xMax=this.advanceWidth),isFinite(n.yMin)||(n.yMin=0),isFinite(n.yMax)||(n.yMax=0),n.rightSideBearing=this.advanceWidth-n.leftSideBearing-(n.xMax-n.xMin),n};X.prototype.draw=function(n,A,B,H,L){this.getPath(A,B,H,L).draw(n)};X.prototype.drawPoints=function(n,A,B,H){function L(ya,Ca,Ea,Ja){var Ha=2*Math.PI;n.beginPath();
for(var oa=0;oa<ya.length;oa+=1)n.moveTo(Ca+ya[oa].x*Ja,Ea+ya[oa].y*Ja),n.arc(Ca+ya[oa].x*Ja,Ea+ya[oa].y*Ja,2,0,Ha,!1);n.closePath();n.fill()}A=void 0!==A?A:0;B=void 0!==B?B:0;H=1/this.path.unitsPerEm*(H=void 0!==H?H:24);for(var T=[],U=[],ea=this.path,ha=0;ha<ea.commands.length;ha+=1){var na=ea.commands[ha];void 0!==na.x&&T.push({x:na.x,y:-na.y});void 0!==na.x1&&U.push({x:na.x1,y:-na.y1});void 0!==na.x2&&U.push({x:na.x2,y:-na.y2})}n.fillStyle="blue";L(T,A,B,H);n.fillStyle="red";L(U,A,B,H)};X.prototype.drawMetrics=
function(n,A,B,H){A=void 0!==A?A:0;B=void 0!==B?B:0;H=1/this.path.unitsPerEm*(H=void 0!==H?H:24);n.lineWidth=1;n.strokeStyle="black";dc.line(n,A,-1E4,A,1E4);dc.line(n,-1E4,B,1E4,B);var L=this.xMin||0,T=this.yMin||0,U=this.xMax||0,ea=this.yMax||0,ha=this.advanceWidth||0;n.strokeStyle="blue";dc.line(n,A+L*H,-1E4,A+L*H,1E4);dc.line(n,A+U*H,-1E4,A+U*H,1E4);dc.line(n,-1E4,B+-T*H,1E4,B+-T*H);dc.line(n,-1E4,B+-ea*H,1E4,B+-ea*H);n.strokeStyle="green";dc.line(n,A+ha*H,-1E4,A+ha*H,1E4)};ia.prototype.get=function(n){return"function"==
typeof this.glyphs[n]&&(this.glyphs[n]=this.glyphs[n]()),this.glyphs[n]};ia.prototype.push=function(n,A){this.glyphs[n]=A;this.length++};var ec={GlyphSet:ia,glyphLoader:function(n,A){return new X({index:A,font:n})},ttfGlyphLoader:function(n,A,B,H,L,T){return function(){var U=new X({index:A,font:n});return U.path=function(){B(U,H,L);var ea=T(n.glyphs,U);return ea.unitsPerEm=n.unitsPerEm,ea},ca(U,"xMin","_xMin"),ca(U,"xMax","_xMax"),ca(U,"yMin","_yMin"),ca(U,"yMax","_yMax"),U}},cffGlyphLoader:function(n,
A,B,H){return function(){var L=new X({index:A,font:n});return L.path=function(){var T=B(n,L,H);return T.unitsPerEm=n.unitsPerEm,T},L}}},Gc=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},
{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:"real real real real real real".split(" "),value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",
value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},
{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Fc=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}],Zc={parse:function(n,A,B){B.tables.cff={};H=n;L=A;(T={}).formatMajor=Xa.getCard8(H,L);T.formatMinor=Xa.getCard8(H,L+1);T.size=Xa.getCard8(H,L+2);T.offsetSize=Xa.getCard8(H,L+3);T.startOffset=L;T.endOffset=L+4;var H=ba(n,T.endOffset,Xa.bytesToString),L=ba(n,H.endOffset),T=ba(n,
L.endOffset,Xa.bytesToString);H=ba(n,T.endOffset);if(B.gsubrs=H.objects,B.gsubrsBias=da(B.gsubrs),1!==(H=xa(n,A,L.objects,T.objects)).length)throw Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length \x3d "+H.length);if(L=H[0],(B.tables.cff.topDict=L)._privateDict&&(B.defaultWidthX=L._privateDict.defaultWidthX,B.nominalWidthX=L._privateDict.nominalWidthX),void 0!==L.ros[0]&&void 0!==L.ros[1]&&(B.isCIDFont=!0),B.isCIDFont){H=L.fdArray;var U=L.fdSelect;if(0===H||0===U)throw Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");
H=xa(n,A,ba(n,H+=A).objects,T.objects);L._fdArray=H;L._fdSelect=function(ha,na,ya,Ca){var Ea,Ja=[];na=new Xa.Parser(ha,na);if(0===(ha=na.parseCard8()))for(var Ha=0;Ha<ya;Ha++){if(Ca<=(Ea=na.parseCard8()))throw Error("CFF table CID Font FDSelect has bad FD index value "+Ea+" (FD count "+Ca+")");Ja.push(Ea)}else{if(3!==ha)throw Error("CFF Table CID Font FDSelect table has unsupported format "+ha);ha=na.parseCard16();var oa=na.parseCard16();if(0!==oa)throw Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+
oa);for(var cb=0;cb<ha;cb++){if(Ea=na.parseCard8(),Ha=na.parseCard16(),Ca<=Ea)throw Error("CFF table CID Font FDSelect has bad FD index value "+Ea+" (FD count "+Ca+")");if(ya<Ha)throw Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Ha);for(;oa<Ha;oa++)Ja.push(Ea);oa=Ha}if(Ha!==ya)throw Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Ha);}return Ja}(n,U+=A,B.numGlyphs,H.length)}U=A+L.private[1];H=sa(n,U,L.private[0],T.objects);var ea=(B.defaultWidthX=H.defaultWidthX,
B.nominalWidthX=H.nominalWidthX,0!==H.subrs?(U=ba(n,U+H.subrs),B.subrs=U.objects,B.subrsBias=da(B.subrs)):(B.subrs=[],B.subrsBias=0),ba(n,A+L.charStrings));H=(B.nGlyphs=ea.objects.length,function(ha,na,ya,Ca){na=new Xa.Parser(ha,na);var Ea=(--ya,[".notdef"]);if(0===(ha=na.parseCard8()))for(var Ja=0;Ja<ya;Ja+=1)ha=na.parseSID(),Ea.push(fa(Ca,ha));else if(1===ha)for(;Ea.length<=ya;){ha=na.parseSID();Ja=na.parseCard8();for(var Ha=0;Ha<=Ja;Ha+=1)Ea.push(fa(Ca,ha)),ha+=1}else{if(2!==ha)throw Error("Unknown charset format "+
ha);for(;Ea.length<=ya;)for(ha=na.parseSID(),Ja=na.parseCard16(),Ha=0;Ha<=Ja;Ha+=1)Ea.push(fa(Ca,ha)),ha+=1}return Ea}(n,A+L.charset,B.nGlyphs,T.objects));0===L.encoding?B.cffEncoding=new I(sd,H):1===L.encoding?B.cffEncoding=new I(td,H):B.cffEncoding=function(ha,na,ya){var Ca={};na=new Xa.Parser(ha,na);if(0===(ha=na.parseCard8()))for(var Ea=na.parseCard8(),Ja=0;Ja<Ea;Ja+=1)Ca[ha=na.parseCard8()]=Ja;else{if(1!==ha)throw Error("Unknown encoding format "+ha);Ea=na.parseCard8();ha=1;for(Ja=0;Ja<Ea;Ja+=
1)for(var Ha=na.parseCard8(),oa=na.parseCard8(),cb=Ha;cb<=Ha+oa;cb+=1)Ca[cb]=ha,ha+=1}return new I(Ca,ya)}(n,A+L.encoding,H);B.encoding=B.encoding||B.cffEncoding;B.glyphs=new ec.GlyphSet(B);for(n=0;n<B.nGlyphs;n+=1)B.glyphs.push(n,ec.cffGlyphLoader(B,n,pa,ea.objects[n]))},make:function(n,A){var B=new eb.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",
type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),H=1/A.unitsPerEm;H={version:A.version,fullName:A.fullName,familyName:A.familyName,weight:A.weightName,fontBBox:A.fontBBox||[0,0,0,0],fontMatrix:[H,0,0,H,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]};for(var L=[],T=1;T<n.length;T+=1){var U=n.get(T);L.push(U.name)}var ea;U=[];A=(B.header=new eb.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",
type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),B.nameIndex=function(na){var ya=new eb.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);ya.names=[];for(var Ca=0;Ca<na.length;Ca+=1)ya.names.push({name:"name_"+Ca,type:"NAME",value:na[Ca]});return ya}([A.postScriptName]),ua(H,U));var ha=(B.topDictIndex=ta(A),B.globalSubrIndex=new eb.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),B.charsets=function(na,ya){for(var Ca=new eb.Record("Charsets",[{name:"format",
type:"Card8",value:0}]),Ea=0;Ea<na.length;Ea+=1){var Ja=ra(na[Ea],ya);Ca.fields.push({name:"glyph_"+Ea,type:"SID",value:Ja})}return Ca}(L,U),B.charStringsIndex=Ga(n),B.privateDict=(ha={},(ea=new eb.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=wa(Fc,ha,U),ea),B.stringIndex=function(na){var ya=new eb.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);ya.strings=[];for(var Ca=0;Ca<na.length;Ca+=1)ya.strings.push({name:"string_"+Ca,type:"STRING",value:na[Ca]});return ya}(U),
B.header.sizeOf()+B.nameIndex.sizeOf()+B.topDictIndex.sizeOf()+B.stringIndex.sizeOf()+B.globalSubrIndex.sizeOf());return H.charset=ha,H.encoding=0,H.charStrings=H.charset+B.charsets.sizeOf(),H.private[1]=H.charStrings+B.charStringsIndex.sizeOf(),A=ua(H,U),B.topDictIndex=ta(A),B}},Tc={parse:function(n,A){var B={};n=new Xa.Parser(n,A);return B.version=n.parseVersion(),B.fontRevision=Math.round(1E3*n.parseFixed())/1E3,B.checkSumAdjustment=n.parseULong(),B.magicNumber=n.parseULong(),kb.argument(1594834165===
B.magicNumber,"Font header has wrong magic number."),B.flags=n.parseUShort(),B.unitsPerEm=n.parseUShort(),B.created=n.parseLongDateTime(),B.modified=n.parseLongDateTime(),B.xMin=n.parseShort(),B.yMin=n.parseShort(),B.xMax=n.parseShort(),B.yMax=n.parseShort(),B.macStyle=n.parseUShort(),B.lowestRecPPEM=n.parseUShort(),B.fontDirectionHint=n.parseShort(),B.indexToLocFormat=n.parseShort(),B.glyphDataFormat=n.parseShort(),B},make:function(n){var A=Math.round((new Date).getTime()/1E3)+2082844800,B=A;return n.createdTimestamp&&
(B=n.createdTimestamp+2082844800),new eb.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1E3},{name:"created",type:"LONGDATETIME",value:B},{name:"modified",type:"LONGDATETIME",value:A},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",
value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],n)}},Uc={parse:function(n,A){var B={};n=new Xa.Parser(n,A);return B.version=n.parseVersion(),B.ascender=n.parseShort(),B.descender=n.parseShort(),B.lineGap=n.parseShort(),B.advanceWidthMax=n.parseUShort(),B.minLeftSideBearing=n.parseShort(),
B.minRightSideBearing=n.parseShort(),B.xMaxExtent=n.parseShort(),B.caretSlopeRise=n.parseShort(),B.caretSlopeRun=n.parseShort(),B.caretOffset=n.parseShort(),n.relativeOffset+=8,B.metricDataFormat=n.parseShort(),B.numberOfHMetrics=n.parseUShort(),B},make:function(n){return new eb.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",
type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],n)}},
$c={parse:function(n,A,B,H,L){var T,U;n=new Xa.Parser(n,A);for(A=0;A<H;A+=1){A<B&&(T=n.parseUShort(),U=n.parseShort());var ea=L.get(A);ea.advanceWidth=T;ea.leftSideBearing=U}},make:function(n){for(var A=new eb.Table("hmtx",[]),B=0;B<n.length;B+=1){var H=n.get(B),L=H.advanceWidth||0;H=H.leftSideBearing||0;A.fields.push({name:"advanceWidth_"+B,type:"USHORT",value:L});A.fields.push({name:"leftSideBearing_"+B,type:"SHORT",value:H})}return A}},Vc={make:function(n){for(var A=new eb.Table("ltag",[{name:"version",
type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:n.length}]),B="",H=12+4*n.length,L=0;L<n.length;++L){var T=B.indexOf(n[L]);0>T&&(T=B.length,B+=n[L]);A.fields.push({name:"offset "+L,type:"USHORT",value:H+T});A.fields.push({name:"length "+L,type:"USHORT",value:n[L].length})}return A.fields.push({name:"stringPool",type:"CHARARRAY",value:B}),A},parse:function(n,A){var B=new Xa.Parser(n,A),H=B.parseULong();H=(kb.argument(1===H,"Unsupported ltag table version."),
B.skip("uLong",1),B.parseULong());for(var L=[],T=0;T<H;T++){for(var U="",ea=A+B.parseUShort(),ha=B.parseUShort(),na=ea;na<ea+ha;++na)U+=String.fromCharCode(n.getInt8(na));L.push(U)}return L}},Wc={parse:function(n,A){var B={};n=new Xa.Parser(n,A);return B.version=n.parseVersion(),B.numGlyphs=n.parseUShort(),1===B.version&&(B.maxPoints=n.parseUShort(),B.maxContours=n.parseUShort(),B.maxCompositePoints=n.parseUShort(),B.maxCompositeContours=n.parseUShort(),B.maxZones=n.parseUShort(),B.maxTwilightPoints=
n.parseUShort(),B.maxStorage=n.parseUShort(),B.maxFunctionDefs=n.parseUShort(),B.maxInstructionDefs=n.parseUShort(),B.maxStackElements=n.parseUShort(),B.maxSizeOfInstructions=n.parseUShort(),B.maxComponentElements=n.parseUShort(),B.maxComponentDepth=n.parseUShort()),B},make:function(n){return new eb.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:n}])}},ed="copyright fontFamily fontSubfamily uniqueID fullName version postScriptName trademark manufacturer designer description manufacturerURL designerURL license licenseURL reserved preferredFamily preferredSubfamily compatibleFullName sampleText postScriptFindFontName wwsFamily wwsSubfamily".split(" "),
fd={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",
61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},
ud={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,
129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},gd={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",
5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",
6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",
1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",
9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},jd={0:"macintosh",
1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",
31:"x-mac-extarabic"},id={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"},Yc={parse:function(n,A,B){var H={},L=new Xa.Parser(n,A);A=L.parseUShort();for(var T=L.parseUShort(),U=L.offset+L.parseUShort(),ea=0;ea<T;ea++){var ha=L.parseUShort(),na=L.parseUShort(),ya=L.parseUShort(),Ca=L.parseUShort();Ca=
ed[Ca]||Ca;var Ea=L.parseUShort(),Ja=L.parseUShort();a:{switch(ha){case 0:if(65535===ya){var Ha="und";break a}if(B){Ha=B[ya];break a}break;case 1:Ha=fd[ya];break a;case 3:Ha=gd[ya];break a}Ha=void 0}ha=Oa(ha,na,ya);void 0!==ha&&void 0!==Ha&&(na="utf-16"===ha?fc.UTF16(n,U+Ja,Ea):fc.MACSTRING(n,U+Ja,Ea,ha))&&((ya=void 0===(ya=H[Ca])?H[Ca]={}:ya)[Ha]=na)}return 1===A&&L.parseUShort(),H},make:function(n,A){var B=[],H={},L=Ya(ed);for(U in n){var T=L[U];if(void 0===T&&(T=U),ha=parseInt(T),isNaN(ha))throw Error('Name table entry "'+
U+'" does not exist, see nameTableNames for complete list.');H[ha]=n[U];B.push(ha)}L=Ya(fd);T=Ya(gd);n=[];var U=[];for(var ea=0;ea<B.length;ea++){var ha,na,ya=H[ha=B[ea]];for(na in ya){var Ca=ya[na],Ea=1,Ja=L[na],Ha=ud[Ja],oa=Oa(Ea,Ha,Ja);oa=Na.MACSTRING(Ca,oa);var cb=(void 0===oa&&(Ea=0,0>(Ja=A.indexOf(na))&&(Ja=A.length,A.push(na)),Ha=4,oa=Na.UTF16(Ca)),Za(oa,U));Ea=(n.push($a(Ea,Ha,Ja,ha,oa.length,cb)),T[na]);void 0!==Ea&&(Ja=Za(Ha=Na.UTF16(Ca),U),n.push($a(3,1,Ea,ha,Ha.length,Ja)))}}n.sort(function(lb,
yb){return lb.platformID-yb.platformID||lb.encodingID-yb.encodingID||lb.languageID-yb.languageID||lb.nameID-yb.nameID});A=new eb.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:n.length},{name:"stringOffset",type:"USHORT",value:6+12*n.length}]);for(B=0;B<n.length;B++)A.fields.push({name:"record_"+B,type:"RECORD",value:n[B]});return A.fields.push({name:"strings",type:"LITERAL",value:U}),A}},Bc=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,
end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,
end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,
end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,
end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,
end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},
{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66E3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],zc={parse:function(n,A){var B={};n=new Xa.Parser(n,A);B.version=n.parseUShort();B.xAvgCharWidth=n.parseShort();B.usWeightClass=n.parseUShort();B.usWidthClass=n.parseUShort();B.fsType=n.parseUShort();B.ySubscriptXSize=n.parseShort();B.ySubscriptYSize=n.parseShort();B.ySubscriptXOffset=
n.parseShort();B.ySubscriptYOffset=n.parseShort();B.ySuperscriptXSize=n.parseShort();B.ySuperscriptYSize=n.parseShort();B.ySuperscriptXOffset=n.parseShort();B.ySuperscriptYOffset=n.parseShort();B.yStrikeoutSize=n.parseShort();B.yStrikeoutPosition=n.parseShort();B.sFamilyClass=n.parseShort();B.panose=[];for(A=0;10>A;A++)B.panose[A]=n.parseByte();return B.ulUnicodeRange1=n.parseULong(),B.ulUnicodeRange2=n.parseULong(),B.ulUnicodeRange3=n.parseULong(),B.ulUnicodeRange4=n.parseULong(),B.achVendID=String.fromCharCode(n.parseByte(),
n.parseByte(),n.parseByte(),n.parseByte()),B.fsSelection=n.parseUShort(),B.usFirstCharIndex=n.parseUShort(),B.usLastCharIndex=n.parseUShort(),B.sTypoAscender=n.parseShort(),B.sTypoDescender=n.parseShort(),B.sTypoLineGap=n.parseShort(),B.usWinAscent=n.parseUShort(),B.usWinDescent=n.parseUShort(),1<=B.version&&(B.ulCodePageRange1=n.parseULong(),B.ulCodePageRange2=n.parseULong()),2<=B.version&&(B.sxHeight=n.parseShort(),B.sCapHeight=n.parseShort(),B.usDefaultChar=n.parseUShort(),B.usBreakChar=n.parseUShort(),
B.usMaxContent=n.parseUShort()),B},make:function(n){return new eb.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",
type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",
value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",
type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},
{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],n)},unicodeRanges:Bc,getUnicodeRange:function(n){for(var A=0;A<Bc.length;A+=1){var B=Bc[A];if(n>=B.begin&&n<B.end)return A}return-1}},Xc={parse:function(n,A){var B={};n=new Xa.Parser(n,A);switch(B.version=n.parseVersion(),B.italicAngle=n.parseFixed(),B.underlinePosition=n.parseShort(),B.underlineThickness=n.parseShort(),B.isFixedPitch=n.parseULong(),B.minMemType42=n.parseULong(),B.maxMemType42=n.parseULong(),B.minMemType1=
n.parseULong(),B.maxMemType1=n.parseULong(),B.version){case 1:B.names=cc.slice();break;case 2:B.numberOfGlyphs=n.parseUShort();B.glyphNameIndex=Array(B.numberOfGlyphs);for(A=0;A<B.numberOfGlyphs;A++)B.glyphNameIndex[A]=n.parseUShort();B.names=[];var H;for(A=0;A<B.numberOfGlyphs;A++)B.glyphNameIndex[A]>=cc.length&&(H=n.parseChar(),B.names.push(n.parseString(H)));break;case 2.5:for(B.numberOfGlyphs=n.parseUShort(),B.offset=Array(B.numberOfGlyphs),H=0;H<B.numberOfGlyphs;H++)B.offset[H]=n.parseChar()}return B},
make:function(){return new eb.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Nb=Array(9),gc=(Nb[1]=function(){var n=this.offset+this.relativeOffset,
A=this.parseUShort();return 1===A?{substFormat:1,coverage:this.parsePointer(S.coverage),deltaGlyphId:this.parseUShort()}:2===A?{substFormat:2,coverage:this.parsePointer(S.coverage),substitute:this.parseOffset16List()}:void kb.assert(!1,"0x"+n.toString(16)+": lookup type 1 format must be 1 or 2.")},Nb[2]=function(){var n=this.parseUShort();return kb.argument(1===n,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:n,coverage:this.parsePointer(S.coverage),sequences:this.parseListOfLists()}},
Nb[3]=function(){var n=this.parseUShort();return kb.argument(1===n,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:n,coverage:this.parsePointer(S.coverage),alternateSets:this.parseListOfLists()}},Nb[4]=function(){var n=this.parseUShort();return kb.argument(1===n,"GSUB ligature table identifier-format must be 1"),{substFormat:n,coverage:this.parsePointer(S.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-
1)}})}},{sequenceIndex:S.uShort,lookupListIndex:S.uShort});Nb[5]=function(){var n,A,B=this.offset+this.relativeOffset,H=this.parseUShort();return 1===H?{substFormat:H,coverage:this.parsePointer(S.coverage),ruleSets:this.parseListOfLists(function(){var L=this.parseUShort(),T=this.parseUShort();return{input:this.parseUShortList(L-1),lookupRecords:this.parseRecordList(T,gc)}})}:2===H?{substFormat:H,coverage:this.parsePointer(S.coverage),classDef:this.parsePointer(S.classDef),classSets:this.parseListOfLists(function(){var L=
this.parseUShort(),T=this.parseUShort();return{classes:this.parseUShortList(L-1),lookupRecords:this.parseRecordList(T,gc)}})}:3===H?(n=this.parseUShort(),A=this.parseUShort(),{substFormat:H,coverages:this.parseList(n,S.pointer(S.coverage)),lookupRecords:this.parseRecordList(A,gc)}):void kb.assert(!1,"0x"+B.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};Nb[6]=function(){var n=this.offset+this.relativeOffset,A=this.parseUShort();return 1===A?{substFormat:1,coverage:this.parsePointer(S.coverage),
chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(gc)}})}:2===A?{substFormat:2,coverage:this.parsePointer(S.coverage),backtrackClassDef:this.parsePointer(S.classDef),inputClassDef:this.parsePointer(S.classDef),lookaheadClassDef:this.parsePointer(S.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-
1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(gc)}})}:3===A?{substFormat:3,backtrackCoverage:this.parseList(S.pointer(S.coverage)),inputCoverage:this.parseList(S.pointer(S.coverage)),lookaheadCoverage:this.parseList(S.pointer(S.coverage)),lookupRecords:this.parseRecordList(gc)}:void kb.assert(!1,"0x"+n.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};Nb[7]=function(){var n=this.parseUShort();n=(kb.argument(1===n,"GSUB Extension Substitution subtable identifier-format must be 1"),
this.parseUShort());var A=new S(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:Nb[n].call(A)}};Nb[8]=function(){var n=this.parseUShort();return kb.argument(1===n,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:n,coverage:this.parsePointer(S.coverage),backtrackCoverage:this.parseList(S.pointer(S.coverage)),lookaheadCoverage:this.parseList(S.pointer(S.coverage)),substitutes:this.parseUShortList()}};var tc=
Array(9);tc[1]=function(n){return 1===n.substFormat?new eb.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new eb.Coverage(n.coverage)},{name:"deltaGlyphID",type:"USHORT",value:n.deltaGlyphId}]):new eb.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new eb.Coverage(n.coverage)}].concat(eb.ushortList("substitute",n.substitute)))};tc[3]=function(n){return kb.assert(1===n.substFormat,"Lookup type 3 substFormat must be 1."),
new eb.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new eb.Coverage(n.coverage)}].concat(eb.tableList("altSet",n.alternateSets,function(A){return new eb.Table("alternateSetTable",eb.ushortList("alternate",A))})))};tc[4]=function(n){return kb.assert(1===n.substFormat,"Lookup type 4 substFormat must be 1."),new eb.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new eb.Coverage(n.coverage)}].concat(eb.tableList("ligSet",
n.ligatureSets,function(A){return new eb.Table("ligatureSetTable",eb.tableList("ligature",A,function(B){return new eb.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:B.ligGlyph}].concat(eb.ushortList("component",B.components,B.components.length+1)))}))})))};var ad={parse:function(n,A){return A=(n=new S(n,A=A||0)).parseVersion(1),kb.argument(1===A||1.1===A,"Unsupported GSUB table version."),1===A?{version:A,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Nb)}:
{version:A,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Nb),variations:n.parseFeatureVariationsList()}},make:function(n){return new eb.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new eb.ScriptList(n.scripts)},{name:"features",type:"TABLE",value:new eb.FeatureList(n.features)},{name:"lookups",type:"TABLE",value:new eb.LookupList(n.lookups,tc)}])}},bd={parse:function(n,A){var B=new Xa.Parser(n,A),H=B.parseULong();
H=(kb.argument(1===H,"Unsupported META table version."),B.parseULong(),B.parseULong(),B.parseULong());for(var L={},T=0;T<H;T++){var U=B.parseTag(),ea=B.parseULong(),ha=B.parseULong();ea=fc.UTF8(n,A+ea,ha);L[U]=ea}return L},make:function(n){var A,B=Object.keys(n).length,H="",L=16+12*B;B=new eb.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:L},{name:"numTags",type:"ULONG",value:B}]);for(A in n){var T=H.length;H+=n[A];B.fields.push({name:"tag "+
A,type:"TAG",value:A});B.fields.push({name:"offset "+A,type:"ULONG",value:L+T});B.fields.push({name:"length "+A,type:"ULONG",value:n[A].length})}return B.fields.push({name:"stringPool",type:"CHARARRAY",value:H}),B}},vd={make:Wa,fontToTable:function(n){for(var A,B=[],H=[],L=[],T=[],U=[],ea=[],ha=[],na=0,ya=0,Ca=0,Ea=0,Ja=0,Ha=0;Ha<n.glyphs.length;Ha+=1){var oa=n.glyphs.get(Ha),cb=0|oa.unicode;if(isNaN(oa.advanceWidth))throw Error("Glyph "+oa.name+" ("+Ha+"): advanceWidth is not a number.");(cb<A||
void 0===A)&&0<cb&&(A=cb);na<cb&&(na=cb);cb=zc.getUnicodeRange(cb);if(32>cb)ya|=1<<cb;else if(64>cb)Ca|=1<<cb-32;else if(96>cb)Ea|=1<<cb-64;else{if(!(123>cb))throw Error("Unicode ranges bits \x3e 123 are reserved for internal usage");Ja|=1<<cb-96}".notdef"!==oa.name&&(cb=oa.getMetrics(),B.push(cb.xMin),H.push(cb.yMin),L.push(cb.xMax),T.push(cb.yMax),ea.push(cb.leftSideBearing),ha.push(cb.rightSideBearing),U.push(oa.advanceWidth))}B=Math.min.apply(null,B);H=Math.min.apply(null,H);L=Math.max.apply(null,
L);T=Math.max.apply(null,T);Ha=Math.max.apply(null,U);for(cb=oa=0;cb<U.length;cb+=1)oa+=U[cb];U={xMin:B,yMin:H,xMax:L,yMax:T,advanceWidthMax:Ha,advanceWidthAvg:oa/U.length,minLeftSideBearing:Math.min.apply(null,ea),maxLeftSideBearing:Math.max.apply(null,ea),minRightSideBearing:Math.min.apply(null,ha)};ea=(U.ascender=n.ascender,U.descender=n.descender,Tc.make({flags:3,unitsPerEm:n.unitsPerEm,xMin:U.xMin,yMin:U.yMin,xMax:U.xMax,yMax:U.yMax,lowestRecPPEM:3,createdTimestamp:n.createdTimestamp}));ha=Uc.make({ascender:U.ascender,
descender:U.descender,advanceWidthMax:U.advanceWidthMax,minLeftSideBearing:U.minLeftSideBearing,minRightSideBearing:U.minRightSideBearing,xMaxExtent:U.maxLeftSideBearing+(U.xMax-U.xMin),numberOfHMetrics:n.glyphs.length});T=Wc.make(n.glyphs.length);na=zc.make({xAvgCharWidth:Math.round(U.advanceWidthAvg),usWeightClass:n.tables.os2.usWeightClass,usWidthClass:n.tables.os2.usWidthClass,usFirstCharIndex:A,usLastCharIndex:na,ulUnicodeRange1:ya,ulUnicodeRange2:Ca,ulUnicodeRange3:Ea,ulUnicodeRange4:Ja,fsSelection:n.tables.os2.fsSelection,
sTypoAscender:U.ascender,sTypoDescender:U.descender,sTypoLineGap:0,usWinAscent:U.yMax,usWinDescent:Math.abs(U.yMin),ulCodePageRange1:1,sxHeight:Sa(n,"xyvw",{yMax:Math.round(U.ascender/2)}).yMax,sCapHeight:Sa(n,"HIKLEFJMNTZBDPRAGOQSUVWXY",U).yMax,usDefaultChar:n.hasChar(" ")?32:0,usBreakChar:n.hasChar(" ")?32:0});ya=$c.make(n.glyphs);Ca=Sc.make(n.glyphs);Ea=n.getEnglishName("fontFamily");Ja=n.getEnglishName("fontSubfamily");B=Ea+" "+Ja;A=(A=n.getEnglishName("postScriptName"))||Ea.replace(/\s/g,"")+
"-"+Ja;L={};for(lb in n.names)L[lb]=n.names[lb];L.uniqueID||(L.uniqueID={en:n.getEnglishName("manufacturer")+":"+B});L.postScriptName||(L.postScriptName={en:A});L.preferredFamily||(L.preferredFamily=n.names.fontFamily);L.preferredSubfamily||(L.preferredSubfamily=n.names.fontSubfamily);var lb=[];L=Yc.make(L,lb);lb=0<lb.length?Vc.make(lb):void 0;H=Xc.make();B=Zc.make(n.glyphs,{version:n.getEnglishName("version"),fullName:B,familyName:Ea,weightName:Ja,postScriptName:A,unitsPerEm:n.unitsPerEm,fontBBox:[0,
U.yMin,U.ascender,U.advanceWidthMax]});Ea=n.metas&&0<Object.keys(n.metas).length?bd.make(n.metas):void 0;Ja=[ea,ha,T,na,L,Ca,H,B,ya];lb&&Ja.push(lb);n.tables.gsub&&Ja.push(ad.make(n.tables.gsub));Ea&&Ja.push(Ea);n=ib((A=Wa(Ja)).encode());lb=A.fields;na=!1;for(ya=0;ya<lb.length;ya+=1)if("head table"===lb[ya].name){lb[ya].value.checkSumAdjustment=2981146554-n;na=!0;break}if(na)return A;throw Error("Could not find head table with checkSum to adjust.");},computeCheckSum:ib};(ka.prototype=Z.prototype=
{searchTag:mb,binSearch:Y,getTable:function(n){var A=this.font.tables[this.tableName];return!A&&n?this.font.tables[this.tableName]=this.createDefaultTable():A},getScriptNames:function(){var n=this.getTable();return n?n.scripts.map(function(A){return A.tag}):[]},getDefaultScriptName:function(){var n=this.getTable();if(n){for(var A=!1,B=0;B<n.scripts.length;B++){var H=n.scripts[B].tag;if("DFLT"===H)return H;"latn"===H&&(A=!0)}return A?"latn":void 0}},getScriptTable:function(n,A){var B,H=this.getTable(A);
if(H)return B=H.scripts,0<=(H=mb(H.scripts,n=n||"DFLT"))?B[H].script:A?(B.splice(-1-H,0,A={tag:n,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),A.script):void 0},getLangSysTable:function(n,A,B){var H;if(n=this.getScriptTable(n,B))return A&&"dflt"!==A&&"DFLT"!==A?0<=(H=mb(n.langSysRecords,A))?n.langSysRecords[H].langSys:B?(n.langSysRecords.splice(-1-H,0,B={tag:A,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),B.langSys):void 0:n.defaultLangSys},
getFeatureTable:function(n,A,B,H){if(n=this.getLangSysTable(n,A,H)){var L;n=n.featureIndexes;for(var T=this.font.tables[this.tableName].features,U=0;U<n.length;U++)if((L=T[n[U]]).tag===B)return L.feature;if(H)return A=T.length,kb.assert(0===A||B>=T[A-1].tag,"Features must be added in alphabetical order."),T.push(L={tag:B,feature:{params:0,lookupListIndexes:[]}}),n.push(A),L.feature}},getLookupTables:function(n,A,B,H,L){n=this.getFeatureTable(n,A,B,L);B=[];if(n){var T;n=n.lookupListIndexes;for(var U=
this.font.tables[this.tableName].lookups,ea=0;ea<n.length;ea++)(T=U[n[ea]]).lookupType===H&&B.push(T);if(0===B.length&&L)return A=U.length,U.push(T={lookupType:H,lookupFlag:0,subtables:[],markFilteringSet:void 0}),n.push(A),[T]}return B},getGlyphClass:function(n,A){switch(n.format){case 1:return n.startGlyph<=A&&A<n.startGlyph+n.classes.length?n.classes[A-n.startGlyph]:0;case 2:return(n=aa(n.ranges,A))?n.classId:0}},getCoverageIndex:function(n,A){switch(n.format){case 1:return n=Y(n.glyphs,A),0<=
n?n:-1;case 2:return(n=aa(n.ranges,A))?n.index+A-n.start:-1}},expandCoverage:function(n){if(1===n.format)return n.glyphs;var A=[];n=n.ranges;for(var B=0;B<n.length;B++){var H=n[B],L=H.end;for(H=H.start;H<=L;H++)A.push(H)}return A}}).init=function(){var n=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(n)};ka.prototype.getKerningValue=function(n,A,B){for(var H=0;H<n.length;H++)for(var L=n[H].subtables,T=0;T<L.length;T++){var U=L[T],ea=this.getCoverageIndex(U.coverage,A);
if(!(0>ea))switch(U.posFormat){case 1:U=U.pairSets[ea];for(ea=0;ea<U.length;ea++){var ha=U[ea];if(ha.secondGlyph===B)return ha.value1&&ha.value1.xAdvance||0}break;case 2:return n=this.getGlyphClass(U.classDef1,A),B=this.getGlyphClass(U.classDef2,B),n=U.classRecords[n][B],n.value1&&n.value1.xAdvance||0}}return 0};ka.prototype.getKerningTables=function(n,A){if(this.font.tables.gpos)return this.getLookupTables(n,A,"kern",2)};(va.prototype=Z.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",
script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};va.prototype.getSingle=function(n,A,B){var H=[];n=this.getLookupTables(A,B,n,1);for(A=0;A<n.length;A++){B=n[A].subtables;for(var L=0;L<B.length;L++){var T=B[L],U=this.expandCoverage(T.coverage);if(1===T.substFormat){var ea=T.deltaGlyphId;for(T=0;T<U.length;T++){var ha=U[T];H.push({sub:ha,by:ha+ea})}}else for(ea=T.substitute,T=0;T<U.length;T++)H.push({sub:U[T],by:ea[T]})}}return H};
va.prototype.getAlternates=function(n,A,B){var H=[];n=this.getLookupTables(A,B,n,3);for(A=0;A<n.length;A++){B=n[A].subtables;for(var L=0;L<B.length;L++){var T=B[L],U=this.expandCoverage(T.coverage);T=T.alternateSets;for(var ea=0;ea<U.length;ea++)H.push({sub:U[ea],by:T[ea]})}}return H};va.prototype.getLigatures=function(n,A,B){var H=[];n=this.getLookupTables(A,B,n,4);for(A=0;A<n.length;A++){B=n[A].subtables;for(var L=0;L<B.length;L++){var T=B[L],U=this.expandCoverage(T.coverage);T=T.ligatureSets;for(var ea=
0;ea<U.length;ea++)for(var ha=U[ea],na=T[ea],ya=0;ya<na.length;ya++){var Ca=na[ya];H.push({sub:[ha].concat(Ca.components),by:Ca.ligGlyph})}}}return H};va.prototype.addSingle=function(n,A,B,H){B=Aa(this.getLookupTables(B,H,n,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});kb.assert(1===B.coverage.format,"Ligature: unable to modify coverage table format "+B.coverage.format);H=A.sub;n=this.binSearch(B.coverage.glyphs,H);0>n&&(B.coverage.glyphs.splice(n=-1-n,0,H),B.substitute.splice(n,
0,0));B.substitute[n]=A.by};va.prototype.addAlternate=function(n,A,B,H){B=Aa(this.getLookupTables(B,H,n,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});kb.assert(1===B.coverage.format,"Ligature: unable to modify coverage table format "+B.coverage.format);H=A.sub;n=this.binSearch(B.coverage.glyphs,H);0>n&&(B.coverage.glyphs.splice(n=-1-n,0,H),B.alternateSets.splice(n,0,0));B.alternateSets[n]=A.by};va.prototype.addLigature=function(n,A,B,H){B=this.getLookupTables(B,H,n,4,
!0)[0];H=B.subtables[0];n=(H||(B.subtables[0]=H={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),kb.assert(1===H.coverage.format,"Ligature: unable to modify coverage table format "+H.coverage.format),A.sub[0]);var L=A.sub.slice(1);B={ligGlyph:A.by,components:L};A=this.binSearch(H.coverage.glyphs,n);if(0<=A){n=H.ligatureSets[A];for(A=0;A<n.length;A++){a:{H=n[A].components;var T=H.length;if(T===L.length){for(var U=0;U<T;U++)if(H[U]!==L[U]){H=void 0;break a}H=1}else H=void 0}if(H)return}n.push(B)}else H.coverage.glyphs.splice(A=
-1-A,0,n),H.ligatureSets.splice(A,0,[B])};va.prototype.getFeature=function(n,A,B){if(/ss\d\d/.test(n))return this.getSingle(n,A,B);switch(n){case "aalt":case "salt":return this.getSingle(n,A,B).concat(this.getAlternates(n,A,B));case "dlig":case "liga":case "rlig":return this.getLigatures(n,A,B)}};va.prototype.add=function(n,A,B,H){if(/ss\d\d/.test(n))return this.addSingle(n,A,B,H);switch(n){case "aalt":case "salt":return"number"==typeof A.by?this.addSingle(n,A,B,H):this.addAlternate(n,A,B,H);case "dlig":case "liga":case "rlig":return this.addLigature(n,
A,B,H)}};var Kc={getPath:wb,parse:function(n,A,B,H){for(var L=new ec.GlyphSet(H),T=0;T<B.length-1;T+=1){var U=B[T];U!==B[T+1]?L.push(T,ec.ttfGlyphLoader(H,T,db,n,A+U,fb)):L.push(T,ec.glyphLoader(H,T))}return L}},Qb={x:1,y:0,axis:"x",distance:function(n,A,B,H){return(B?n.xo:n.x)-(H?A.xo:A.x)},interpolate:function(n,A,B,H){var L,T,U,ea,ha,na,ya;if(!H||H===this)return L=n.xo-A.xo,T=n.xo-B.xo,ha=A.x-A.xo,na=B.x-B.xo,0===(ya=(U=Math.abs(L))+(ea=Math.abs(T)))?void(n.x=n.xo+(ha+na)/2):void(n.x=n.xo+(ha*
ea+na*U)/ya);L=H.distance(n,A,!0,!0);T=H.distance(n,B,!0,!0);ha=H.distance(A,A,!1,!0);na=H.distance(B,B,!1,!0);0===(ya=(U=Math.abs(L))+(ea=Math.abs(T)))?Qb.setRelative(n,n,(ha+na)/2,H,!0):Qb.setRelative(n,n,(ha*ea+na*U)/ya,H,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(n,A,B,H,L){var T,U;H&&H!==this?(T=L?A.xo:A.x,U=L?A.yo:A.y,T+=B*H.x,U+=B*H.y,n.x=T+(n.y-U)/H.normalSlope):n.x=(L?A.xo:A.x)+B},slope:0,touch:function(n){n.xTouched=!0},touched:function(n){return n.xTouched},untouch:function(n){n.xTouched=
!1}},Tb={x:0,y:1,axis:"y",distance:function(n,A,B,H){return(B?n.yo:n.y)-(H?A.yo:A.y)},interpolate:function(n,A,B,H){var L,T,U,ea,ha,na,ya;if(!H||H===this)return L=n.yo-A.yo,T=n.yo-B.yo,ha=A.y-A.yo,na=B.y-B.yo,0===(ya=(U=Math.abs(L))+(ea=Math.abs(T)))?void(n.y=n.yo+(ha+na)/2):void(n.y=n.yo+(ha*ea+na*U)/ya);L=H.distance(n,A,!0,!0);T=H.distance(n,B,!0,!0);ha=H.distance(A,A,!1,!0);na=H.distance(B,B,!1,!0);0===(ya=(U=Math.abs(L))+(ea=Math.abs(T)))?Tb.setRelative(n,n,(ha+na)/2,H,!0):Tb.setRelative(n,n,
(ha*ea+na*U)/ya,H,!0)},normalSlope:0,setRelative:function(n,A,B,H,L){var T,U;H&&H!==this?(T=L?A.xo:A.x,U=L?A.yo:A.y,T+=B*H.x,U+=B*H.y,n.y=U+H.normalSlope*(n.x-T)):n.y=(L?A.yo:A.y)+B},slope:Number.POSITIVE_INFINITY,touch:function(n){n.yTouched=!0},touched:function(n){return n.yTouched},untouch:function(n){n.yTouched=!1}};Object.freeze(Qb);Object.freeze(Tb);pb.prototype.distance=function(n,A,B,H){return this.x*Qb.distance(n,A,B,H)+this.y*Tb.distance(n,A,B,H)};pb.prototype.interpolate=function(n,A,B,
H){var L=H.distance(n,A,!0,!0),T=H.distance(n,B,!0,!0);A=H.distance(A,A,!1,!0);B=H.distance(B,B,!1,!0);L=Math.abs(L);T=Math.abs(T);var U=L+T;0===U?this.setRelative(n,n,(A+B)/2,H,!0):this.setRelative(n,n,(A*T+B*L)/U,H,!0)};pb.prototype.setRelative=function(n,A,B,H,L){var T=L?A.xo:A.x;L=L?A.yo:A.y;A=T+B*(H=H||this).x;T=L+B*H.y;L=H.normalSlope;B=this.slope;H=n.x;var U=n.y;n.x=(B*H-L*A+T-U)/(B-L);n.y=B*(n.x-H)+U};pb.prototype.touch=function(n){n.xTouched=!0;n.yTouched=!0};Ib.prototype.nextTouched=function(n){for(var A=
this.nextPointOnContour;!n.touched(A)&&A!==this;)A=A.nextPointOnContour;return A};Ib.prototype.prevTouched=function(n){for(var A=this.prevPointOnContour;!n.touched(A)&&A!==this;)A=A.prevPointOnContour;return A};var jc=Object.freeze(new Ib(0,0)),wd={cvCutIn:1.0625,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};Ra.prototype.exec=function(n,A){if("number"!=typeof A)throw Error("Point size is not a number!");if(!(2<this._errorState)){var B=this.font,H=this._prepState;if(!H||H.ppem!==A){H=this._fpgmState;
if(!H){Kb.prototype=wd;(H=this._fpgmState=new Kb("fpgm",B.tables.fpgm)).funcs=[];H.font=B;r.DEBUG&&(console.log("---EXEC FPGM---"),H.step=-1);try{hc(H)}catch(Ta){return console.log("Hinting error in FPGM:"+Ta),void(this._errorState=3)}}Kb.prototype=H;(H=this._prepState=new Kb("prep",B.tables.prep)).ppem=A;var L=B.tables.cvt;if(L){var T=H.cvt=Array(L.length);A/=B.unitsPerEm;for(B=0;B<L.length;B++)T[B]=L[B]*A}else H.cvt=[];r.DEBUG&&(console.log("---EXEC PREP---"),H.step=-1);try{hc(H)}catch(Ta){2>this._errorState&&
console.log("Hinting error in PREP:"+Ta),this._errorState=2}}if(!(1<this._errorState))try{var U=H.ppem/H.font.unitsPerEm,ea=n.components;if(Kb.prototype=H,ea){var ha=H.font,na=[];H=[];for(L=0;L<ea.length;L++){var ya=ea[L],Ca=ha.glyphs.get(ya.glyphIndex),Ea=new Kb("glyf",Ca.instructions);r.DEBUG&&(console.log("---EXEC COMP "+L+"---"),Ea.step=-1);hd(Ca,Ea,U,U);var Ja=Math.round(ya.dx*U),Ha=Math.round(ya.dy*U),oa=Ea.gZone,cb=Ea.contours;for(T=0;T<oa.length;T++){var lb=oa[T];lb.xTouched=lb.yTouched=!1;
lb.xo=lb.x+=Ja;lb.yo=lb.y+=Ha}var yb=na.length;na.push.apply(na,oa);for(T=0;T<cb.length;T++)H.push(cb[T]+yb)}n.instructions&&!Ea.inhibitGridFit&&((Ea=new Kb("glyf",n.instructions)).gZone=Ea.z0=Ea.z1=Ea.z2=na,Ea.contours=H,na.push(new Ib(0,0),new Ib(Math.round(n.advanceWidth*U),0)),r.DEBUG&&(console.log("---EXEC COMPOSITE---"),Ea.step=-1),hc(Ea),na.length-=2)}else Ea=new Kb("glyf",n.instructions),r.DEBUG&&(console.log("---EXEC GLYPH---"),Ea.step=-1),hd(n,Ea,U,U),na=Ea.gZone;return na}catch(Ta){1>this._errorState&&
(console.log("Hinting error:"+Ta),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var hd=function(n,A,B,H){for(var L,T,U,ea=n.points||[],ha=ea.length,na=A.gZone=A.z0=A.z1=A.z2=[],ya=A.contours=[],Ca=0;Ca<ha;Ca++)L=ea[Ca],na[Ca]=new Ib(L.x*B,L.y*H,L.lastPointOfContour,L.onCurve);for(H=0;H<ha;H++)L=na[H],T||(T=L,ya.push(H)),L.lastPointOfContour?((L.nextPointOnContour=T).prevPointOnContour=L,T=void 0):(U=na[H+1],(L.nextPointOnContour=U).prevPointOnContour=L);if(!A.inhibitGridFit){if(r.DEBUG)for(console.log("PROCESSING GLYPH",
A.stack),L=0;L<ha;L++)console.log(L,na[L].x,na[L].y);if(na.push(new Ib(0,0),new Ib(Math.round(n.advanceWidth*B),0)),hc(A),na.length-=2,r.DEBUG)for(console.log("FINISHED GLYPH",A.stack),n=0;n<ha;n++)console.log(n,na[n].x,na[n].y)}},hc=function(n){var A=n.prog;if(A){var B,H=A.length;for(n.ip=0;n.ip<H;n.ip++){if(r.DEBUG&&n.step++,!(B=xd[A[n.ip]]))throw Error("unknown instruction: 0x"+Number(A[n.ip]).toString(16));B(n)}}},xd=[Da.bind(void 0,Tb),Da.bind(void 0,Qb),Ka.bind(void 0,Tb),Ka.bind(void 0,Qb),
La.bind(void 0,Tb),La.bind(void 0,Qb),Ba.bind(void 0,0),Ba.bind(void 0,1),Ia.bind(void 0,0),Ia.bind(void 0,1),function(n){var A=(B=n.stack).pop(),B=B.pop();r.DEBUG&&console.log(n.step,"SPVFS[]",A,B);n.pv=n.dpv=Vb(B,A)},function(n){var A=(B=n.stack).pop(),B=B.pop();r.DEBUG&&console.log(n.step,"SPVFS[]",A,B);n.fv=Vb(B,A)},function(n){var A=n.stack,B=n.pv;r.DEBUG&&console.log(n.step,"GPV[]");A.push(16384*B.x);A.push(16384*B.y)},function(n){var A=n.stack,B=n.fv;r.DEBUG&&console.log(n.step,"GFV[]");A.push(16384*
B.x);A.push(16384*B.y)},function(n){n.fv=n.pv;r.DEBUG&&console.log(n.step,"SFVTPV[]")},function(n){var A=(T=n.stack).pop(),B=T.pop(),H=T.pop(),L=T.pop(),T=T.pop(),U=n.z0,ea=n.z1,ha=U[A];U=U[B];var na=ea[H];ea=ea[L];n=n.z2[T];A=(r.DEBUG&&console.log("ISECT[], ",A,B,H,L,T),ha.x);B=ha.y;H=U.x;L=U.y;T=na.x;ha=na.y;U=ea.x;na=ea.y;ea=(A-H)*(ha-na)-(B-L)*(T-U);var ya=A*L-B*H,Ca=T*na-ha*U;n.x=(ya*(T-U)-Ca*(A-H))/ea;n.y=(ya*(ha-na)-Ca*(B-L))/ea},function(n){n.rp0=n.stack.pop();r.DEBUG&&console.log(n.step,
"SRP0[]",n.rp0)},function(n){n.rp1=n.stack.pop();r.DEBUG&&console.log(n.step,"SRP1[]",n.rp1)},function(n){n.rp2=n.stack.pop();r.DEBUG&&console.log(n.step,"SRP2[]",n.rp2)},function(n){var A=n.stack.pop();switch(r.DEBUG&&console.log(n.step,"SZP0[]",A),n.zp0=A){case 0:n.tZone||bc(n);n.z0=n.tZone;break;case 1:n.z0=n.gZone;break;default:throw Error("Invalid zone pointer");}},function(n){var A=n.stack.pop();switch(r.DEBUG&&console.log(n.step,"SZP1[]",A),n.zp1=A){case 0:n.tZone||bc(n);n.z1=n.tZone;break;
case 1:n.z1=n.gZone;break;default:throw Error("Invalid zone pointer");}},function(n){var A=n.stack.pop();switch(r.DEBUG&&console.log(n.step,"SZP2[]",A),n.zp2=A){case 0:n.tZone||bc(n);n.z2=n.tZone;break;case 1:n.z2=n.gZone;break;default:throw Error("Invalid zone pointer");}},function(n){var A=n.stack.pop();switch(r.DEBUG&&console.log(n.step,"SZPS[]",A),n.zp0=n.zp1=n.zp2=A){case 0:n.tZone||bc(n);n.z0=n.z1=n.z2=n.tZone;break;case 1:n.z0=n.z1=n.z2=n.gZone;break;default:throw Error("Invalid zone pointer");
}},function(n){n.loop=n.stack.pop();r.DEBUG&&console.log(n.step,"SLOOP[]",n.loop)},function(n){r.DEBUG&&console.log(n.step,"RTG[]");n.round=rb},function(n){r.DEBUG&&console.log(n.step,"RTHG[]");n.round=zb},function(n){var A=n.stack.pop();r.DEBUG&&console.log(n.step,"SMD[]",A);n.minDis=A/64},function(n){r.DEBUG&&console.log(n.step,"ELSE[]");la(n,!1)},function(n){var A=n.stack.pop();r.DEBUG&&console.log(n.step,"JMPR[]",A);n.ip+=A-1},function(n){var A=n.stack.pop();r.DEBUG&&console.log(n.step,"SCVTCI[]",
A);n.cvCutIn=A/64},void 0,void 0,function(n){var A=n.stack;r.DEBUG&&console.log(n.step,"DUP[]");A.push(A[A.length-1])},ab,function(n){r.DEBUG&&console.log(n.step,"CLEAR[]");n.stack.length=0},function(n){var A=n.stack,B=A.pop(),H=A.pop();r.DEBUG&&console.log(n.step,"SWAP[]");A.push(B);A.push(H)},function(n){var A=n.stack;r.DEBUG&&console.log(n.step,"DEPTH[]");A.push(A.length)},function(n){var A=n.stack,B=A.pop();r.DEBUG&&console.log(n.step,"CINDEX[]",B);A.push(A[A.length-B])},function(n){var A=n.stack,
B=A.pop();r.DEBUG&&console.log(n.step,"MINDEX[]",B);A.push(A.splice(A.length-B,1)[0])},void 0,void 0,void 0,function(n){var A=(H=n.stack).pop(),B=H.pop(),H=(r.DEBUG&&console.log(n.step,"LOOPCALL[]",A,B),n.ip),L=n.prog;n.prog=n.funcs[A];for(A=0;A<B;A++)hc(n),r.DEBUG&&console.log(++n.step,A+1<B?"next loopcall":"done loopcall",A);n.ip=H;n.prog=L},function(n){var A=n.stack.pop(),B=(r.DEBUG&&console.log(n.step,"CALL[]",A),n.ip),H=n.prog;n.prog=n.funcs[A];hc(n);n.ip=B;n.prog=H;r.DEBUG&&console.log(++n.step,
"returning from",A)},function(n){if("fpgm"!==n.env)throw Error("FDEF not allowed here");var A=n.stack,B=n.prog,H=n.ip;A=A.pop();var L=H;for(r.DEBUG&&console.log(n.step,"FDEF[]",A);45!==B[++H];);n.ip=H;n.funcs[A]=B.slice(L+1,H)},void 0,Ma.bind(void 0,0),Ma.bind(void 0,1),xb.bind(void 0,Tb),xb.bind(void 0,Qb),hb.bind(void 0,0),hb.bind(void 0,1),ub.bind(void 0,0),ub.bind(void 0,1),ob.bind(void 0,0),ob.bind(void 0,1),function(n){for(var A=n.stack,B=n.loop,H=n.fv,L=A.pop()/64,T=n.z2;B--;){var U=A.pop(),
ea=T[U];r.DEBUG&&console.log(n.step,(1<n.loop?"loop "+(n.loop-B)+": ":"")+"SHPIX[]",U,L);H.setRelative(ea,ea,L);H.touch(ea)}n.loop=1},function(n){for(var A=n.stack,B=n.rp1,H=n.rp2,L=n.loop,T=n.z0[B],U=n.z1[H],ea=n.fv,ha=n.dpv,na=n.z2;L--;){var ya=A.pop(),Ca=na[ya];r.DEBUG&&console.log(n.step,(1<n.loop?"loop "+(n.loop-L)+": ":"")+"IP[]",ya,B,"\x3c-\x3e",H);ea.interpolate(Ca,T,U,ha);ea.touch(Ca)}n.loop=1},ic.bind(void 0,0),ic.bind(void 0,1),function(n){for(var A=n.stack,B=n.z0[n.rp0],H=n.loop,L=n.fv,
T=n.pv,U=n.z1;H--;){var ea=A.pop(),ha=U[ea];r.DEBUG&&console.log(n.step,(1<n.loop?"loop "+(n.loop-H)+": ":"")+"ALIGNRP[]",ea);L.setRelative(ha,B,0,T);L.touch(ha)}n.loop=1},function(n){r.DEBUG&&console.log(n.step,"RTDG[]");n.round=vb},Lc.bind(void 0,0),Lc.bind(void 0,1),function(n){var A=n.prog,B=n.ip,H=n.stack,L=A[++B];r.DEBUG&&console.log(n.step,"NPUSHB[]",L);for(var T=0;T<L;T++)H.push(A[++B]);n.ip=B},function(n){var A=n.ip,B=n.prog,H=n.stack,L=B[++A];r.DEBUG&&console.log(n.step,"NPUSHW[]",L);for(var T=
0;T<L;T++){var U=B[++A]<<8|B[++A];32768&U&&(U=-(1+(65535^U)));H.push(U)}n.ip=A},function(n){var A=n.stack,B=(B=n.store)||(n.store=[]),H=A.pop();A=A.pop();r.DEBUG&&console.log(n.step,"WS",H,A);B[A]=H},function(n){var A=n.stack,B=n.store,H=A.pop();n=(r.DEBUG&&console.log(n.step,"RS",H),B&&B[H]||0);A.push(n)},function(n){var A=(B=n.stack).pop(),B=B.pop();r.DEBUG&&console.log(n.step,"WCVTP",A,B);n.cvt[B]=A/64},function(n){var A=n.stack,B=A.pop();r.DEBUG&&console.log(n.step,"RCVT",B);A.push(64*n.cvt[B])},
Mc.bind(void 0,0),Mc.bind(void 0,1),void 0,Nc.bind(void 0,0),Nc.bind(void 0,1),function(n){r.DEBUG&&console.log(n.step,"MPPEM[]");n.stack.push(n.ppem)},void 0,function(n){r.DEBUG&&console.log(n.step,"FLIPON[]");n.autoFlip=!0},void 0,void 0,function(n){var A=n.stack,B=A.pop(),H=A.pop();r.DEBUG&&console.log(n.step,"LT[]",B,H);A.push(H<B?1:0)},function(n){var A=n.stack,B=A.pop(),H=A.pop();r.DEBUG&&console.log(n.step,"LTEQ[]",B,H);A.push(H<=B?1:0)},function(n){var A=n.stack,B=A.pop(),H=A.pop();r.DEBUG&&
console.log(n.step,"GT[]",B,H);A.push(B<H?1:0)},function(n){var A=n.stack,B=A.pop(),H=A.pop();r.DEBUG&&console.log(n.step,"GTEQ[]",B,H);A.push(B<=H?1:0)},function(n){var A=n.stack,B=A.pop(),H=A.pop();r.DEBUG&&console.log(n.step,"EQ[]",B,H);A.push(B===H?1:0)},function(n){var A=n.stack,B=A.pop(),H=A.pop();r.DEBUG&&console.log(n.step,"NEQ[]",B,H);A.push(B!==H?1:0)},function(n){var A=n.stack,B=A.pop();r.DEBUG&&console.log(n.step,"ODD[]",B);A.push(Math.trunc(B)%2?1:0)},function(n){var A=n.stack,B=A.pop();
r.DEBUG&&console.log(n.step,"EVEN[]",B);A.push(Math.trunc(B)%2?0:1)},function(n){var A=n.stack.pop();r.DEBUG&&console.log(n.step,"IF[]",A);A||(la(n,!0),r.DEBUG&&console.log(n.step,"EIF[]"))},function(n){r.DEBUG&&console.log(n.step,"EIF[]")},function(n){var A=n.stack,B=A.pop(),H=A.pop();r.DEBUG&&console.log(n.step,"AND[]",B,H);A.push(B&&H?1:0)},function(n){var A=n.stack,B=A.pop(),H=A.pop();r.DEBUG&&console.log(n.step,"OR[]",B,H);A.push(B||H?1:0)},function(n){var A=n.stack,B=A.pop();r.DEBUG&&console.log(n.step,
"NOT[]",B);A.push(B?0:1)},wc.bind(void 0,1),function(n){var A=n.stack.pop();r.DEBUG&&console.log(n.step,"SDB[]",A);n.deltaBase=A},function(n){var A=n.stack.pop();r.DEBUG&&console.log(n.step,"SDS[]",A);n.deltaShift=Math.pow(.5,A)},function(n){var A=n.stack,B=A.pop(),H=A.pop();r.DEBUG&&console.log(n.step,"ADD[]",B,H);A.push(H+B)},function(n){var A=n.stack,B=A.pop(),H=A.pop();r.DEBUG&&console.log(n.step,"SUB[]",B,H);A.push(H-B)},function(n){var A=n.stack,B=A.pop(),H=A.pop();r.DEBUG&&console.log(n.step,
"DIV[]",B,H);A.push(64*H/B)},function(n){var A=n.stack,B=A.pop(),H=A.pop();r.DEBUG&&console.log(n.step,"MUL[]",B,H);A.push(H*B/64)},function(n){var A=n.stack,B=A.pop();r.DEBUG&&console.log(n.step,"ABS[]",B);A.push(Math.abs(B))},function(n){var A=n.stack,B=A.pop();r.DEBUG&&console.log(n.step,"NEG[]",B);A.push(-B)},function(n){var A=n.stack,B=A.pop();r.DEBUG&&console.log(n.step,"FLOOR[]",B);A.push(64*Math.floor(B/64))},function(n){var A=n.stack,B=A.pop();r.DEBUG&&console.log(n.step,"CEILING[]",B);A.push(64*
Math.ceil(B/64))},oc.bind(void 0,0),oc.bind(void 0,1),oc.bind(void 0,2),oc.bind(void 0,3),void 0,void 0,void 0,void 0,function(n){var A=(B=n.stack).pop(),B=B.pop();r.DEBUG&&console.log(n.step,"WCVTF[]",A,B);n.cvt[B]=A*n.ppem/n.font.unitsPerEm},wc.bind(void 0,2),wc.bind(void 0,3),xc.bind(void 0,1),xc.bind(void 0,2),xc.bind(void 0,3),function(n){var A=n.stack.pop();switch(r.DEBUG&&console.log(n.step,"SROUND[]",A),n.round=Cb,192&A){case 0:var B=.5;break;case 64:B=1;break;case 128:B=2;break;default:throw Error("invalid SROUND value");
}switch(n.srPeriod=B,48&A){case 0:n.srPhase=0;break;case 16:n.srPhase=.25*B;break;case 32:n.srPhase=.5*B;break;case 48:n.srPhase=.75*B;break;default:throw Error("invalid SROUND value");}n.srThreshold=0===(A&=15)?0:(A/8-.5)*B},function(n){var A=n.stack.pop();switch(r.DEBUG&&console.log(n.step,"S45ROUND[]",A),n.round=Cb,192&A){case 0:var B=Math.sqrt(2)/2;break;case 64:B=Math.sqrt(2);break;case 128:B=2*Math.sqrt(2);break;default:throw Error("invalid S45ROUND value");}switch(n.srPeriod=B,48&A){case 0:n.srPhase=
0;break;case 16:n.srPhase=.25*B;break;case 32:n.srPhase=.5*B;break;case 48:n.srPhase=.75*B;break;default:throw Error("invalid S45ROUND value");}n.srThreshold=0===(A&=15)?0:(A/8-.5)*B},void 0,void 0,function(n){r.DEBUG&&console.log(n.step,"ROFF[]");n.round=nb},void 0,function(n){r.DEBUG&&console.log(n.step,"RUTG[]");n.round=Db},function(n){r.DEBUG&&console.log(n.step,"RDTG[]");n.round=Eb},ab,ab,void 0,void 0,void 0,void 0,void 0,function(n){var A=n.stack.pop();r.DEBUG&&console.log(n.step,"SCANCTRL[]",
A)},Oc.bind(void 0,0),Oc.bind(void 0,1),function(n){var A=n.stack,B=A.pop(),H=0;r.DEBUG&&console.log(n.step,"GETINFO[]",B);1&B&&(H=35);32&B&&(H|=4096);A.push(H)},void 0,function(n){var A=n.stack,B=A.pop(),H=A.pop(),L=A.pop();r.DEBUG&&console.log(n.step,"ROLL[]");A.push(H);A.push(B);A.push(L)},function(n){var A=n.stack,B=A.pop(),H=A.pop();r.DEBUG&&console.log(n.step,"MAX[]",B,H);A.push(Math.max(H,B))},function(n){var A=n.stack,B=A.pop(),H=A.pop();r.DEBUG&&console.log(n.step,"MIN[]",B,H);A.push(Math.min(H,
B))},function(n){var A=n.stack.pop();r.DEBUG&&console.log(n.step,"SCANTYPE[]",A)},function(n){var A=n.stack.pop(),B=n.stack.pop();switch(r.DEBUG&&console.log(n.step,"INSTCTRL[]",A,B),A){case 1:return void(n.inhibitGridFit=!!B);case 2:return void(n.ignoreCvt=!!B);default:throw Error("invalid INSTCTRL[] selector");}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,
void 0,void 0,void 0,void 0,void 0,void 0,Xb.bind(void 0,1),Xb.bind(void 0,2),Xb.bind(void 0,3),Xb.bind(void 0,4),Xb.bind(void 0,5),Xb.bind(void 0,6),Xb.bind(void 0,7),Xb.bind(void 0,8),Yb.bind(void 0,1),Yb.bind(void 0,2),Yb.bind(void 0,3),Yb.bind(void 0,4),Yb.bind(void 0,5),Yb.bind(void 0,6),Yb.bind(void 0,7),Yb.bind(void 0,8),Ua.bind(void 0,0,0,0,0,0),Ua.bind(void 0,0,0,0,0,1),Ua.bind(void 0,0,0,0,0,2),Ua.bind(void 0,0,0,0,0,3),Ua.bind(void 0,0,0,0,1,0),Ua.bind(void 0,0,0,0,1,1),Ua.bind(void 0,
0,0,0,1,2),Ua.bind(void 0,0,0,0,1,3),Ua.bind(void 0,0,0,1,0,0),Ua.bind(void 0,0,0,1,0,1),Ua.bind(void 0,0,0,1,0,2),Ua.bind(void 0,0,0,1,0,3),Ua.bind(void 0,0,0,1,1,0),Ua.bind(void 0,0,0,1,1,1),Ua.bind(void 0,0,0,1,1,2),Ua.bind(void 0,0,0,1,1,3),Ua.bind(void 0,0,1,0,0,0),Ua.bind(void 0,0,1,0,0,1),Ua.bind(void 0,0,1,0,0,2),Ua.bind(void 0,0,1,0,0,3),Ua.bind(void 0,0,1,0,1,0),Ua.bind(void 0,0,1,0,1,1),Ua.bind(void 0,0,1,0,1,2),Ua.bind(void 0,0,1,0,1,3),Ua.bind(void 0,0,1,1,0,0),Ua.bind(void 0,0,1,1,0,
1),Ua.bind(void 0,0,1,1,0,2),Ua.bind(void 0,0,1,1,0,3),Ua.bind(void 0,0,1,1,1,0),Ua.bind(void 0,0,1,1,1,1),Ua.bind(void 0,0,1,1,1,2),Ua.bind(void 0,0,1,1,1,3),Ua.bind(void 0,1,0,0,0,0),Ua.bind(void 0,1,0,0,0,1),Ua.bind(void 0,1,0,0,0,2),Ua.bind(void 0,1,0,0,0,3),Ua.bind(void 0,1,0,0,1,0),Ua.bind(void 0,1,0,0,1,1),Ua.bind(void 0,1,0,0,1,2),Ua.bind(void 0,1,0,0,1,3),Ua.bind(void 0,1,0,1,0,0),Ua.bind(void 0,1,0,1,0,1),Ua.bind(void 0,1,0,1,0,2),Ua.bind(void 0,1,0,1,0,3),Ua.bind(void 0,1,0,1,1,0),Ua.bind(void 0,
1,0,1,1,1),Ua.bind(void 0,1,0,1,1,2),Ua.bind(void 0,1,0,1,1,3),Ua.bind(void 0,1,1,0,0,0),Ua.bind(void 0,1,1,0,0,1),Ua.bind(void 0,1,1,0,0,2),Ua.bind(void 0,1,1,0,0,3),Ua.bind(void 0,1,1,0,1,0),Ua.bind(void 0,1,1,0,1,1),Ua.bind(void 0,1,1,0,1,2),Ua.bind(void 0,1,1,0,1,3),Ua.bind(void 0,1,1,1,0,0),Ua.bind(void 0,1,1,1,0,1),Ua.bind(void 0,1,1,1,0,2),Ua.bind(void 0,1,1,1,0,3),Ua.bind(void 0,1,1,1,1,0),Ua.bind(void 0,1,1,1,1,1),Ua.bind(void 0,1,1,1,1,2),Ua.bind(void 0,1,1,1,1,3)],yd=Array.from||function(n){return n.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||
[]};tb.prototype.hasChar=function(n){return null!==this.encoding.charToGlyphIndex(n)};tb.prototype.charToGlyphIndex=function(n){return this.encoding.charToGlyphIndex(n)};tb.prototype.charToGlyph=function(n){n=this.charToGlyphIndex(n);return this.glyphs.get(n)||this.glyphs.get(0)};tb.prototype.stringToGlyphs=function(n,A){A=A||this.defaultRenderOptions;for(var B=yd(n),H=[],L=0;L<B.length;L+=1)H.push(this.charToGlyphIndex(B[L]));B=H.length;if(A.features)for(n=A.script||this.substitution.getDefaultScriptName(),
L=[],A.features.liga&&(L=L.concat(this.substitution.getFeature("liga",n,A.language))),A.features.rlig&&(L=L.concat(this.substitution.getFeature("rlig",n,A.language))),A=0;A<B;A+=1)for(n=0;n<L.length;n++){for(var T=L[n],U=T.sub,ea=U.length,ha=0;ha<ea&&U[ha]===H[A+ha];)ha++;ha===ea&&(H.splice(A,ea,T.by),B=B-ea+1)}L=Array(B);A=this.glyphs.get(0);for(n=0;n<B;n+=1)L[n]=this.glyphs.get(H[n])||A;return L};tb.prototype.nameToGlyphIndex=function(n){return this.glyphNames.nameToGlyphIndex(n)};tb.prototype.nameToGlyph=
function(n){n=this.nameToGlyphIndex(n);return this.glyphs.get(n)||this.glyphs.get(0)};tb.prototype.glyphIndexToName=function(n){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(n):""};tb.prototype.getKerningValue=function(n,A){n=n.index||n;A=A.index||A;var B=this.position.defaultKerningTables;return B?this.position.getKerningValue(B,n,A):this.kerningPairs[n+","+A]||0};tb.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}};tb.prototype.forEachGlyph=function(n,
A,B,H,L,T){A=void 0!==A?A:0;B=void 0!==B?B:0;L=L||this.defaultRenderOptions;var U,ea=1/this.unitsPerEm*(H=void 0!==H?H:72),ha=this.stringToGlyphs(n,L);L.kerning&&(n=L.script||this.position.getDefaultScriptName(),U=this.position.getKerningTables(n,L.language));for(n=0;n<ha.length;n+=1){var na=ha[n];T.call(this,na,A,B,H,L);na.advanceWidth&&(A+=na.advanceWidth*ea);L.kerning&&n<ha.length-1&&(A+=(U?this.position.getKerningValue(U,na.index,ha[n+1].index):this.getKerningValue(na,ha[n+1]))*ea);L.letterSpacing?
A+=L.letterSpacing*H:L.tracking&&(A+=L.tracking/1E3*H)}return A};tb.prototype.getPath=function(n,A,B,H,L){var T=new t;return this.forEachGlyph(n,A,B,H,L,function(U,ea,ha,na){U=U.getPath(ea,ha,na,L,this);T.extend(U)}),T};tb.prototype.getPaths=function(n,A,B,H,L){var T=[];return this.forEachGlyph(n,A,B,H,L,function(U,ea,ha,na){U=U.getPath(ea,ha,na,L,this);T.push(U)}),T};tb.prototype.getAdvanceWidth=function(n,A,B){return this.forEachGlyph(n,0,0,A,B,function(){})};tb.prototype.draw=function(n,A,B,H,
L,T){this.getPath(A,B,H,L,T).draw(n)};tb.prototype.drawPoints=function(n,A,B,H,L,T){this.forEachGlyph(A,B,H,L,T,function(U,ea,ha,na){U.drawPoints(n,ea,ha,na)})};tb.prototype.drawMetrics=function(n,A,B,H,L,T){this.forEachGlyph(A,B,H,L,T,function(U,ea,ha,na){U.drawMetrics(n,ea,ha,na)})};tb.prototype.getEnglishName=function(n){if(n=this.names[n])return n.en};tb.prototype.validate=function(){function n(B){(B=A.getEnglishName(B))&&B.trim().length}var A=this;n("fontFamily");n("weightName");n("manufacturer");
n("copyright");n("version");this.unitsPerEm};tb.prototype.toTables=function(){return vd.fontToTable(this)};tb.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};tb.prototype.toArrayBuffer=function(){for(var n=this.toTables().encode(),A=new ArrayBuffer(n.length),B=new Uint8Array(A),H=0;H<n.length;H++)B[H]=n[H];return A};tb.prototype.download=function(n){var A=this.getEnglishName("fontFamily"),B=this.getEnglishName("fontSubfamily"),
H=(n=n||A.replace(/\s/g,"")+"-"+B+".otf",this.toArrayBuffer());"undefined"!=typeof window?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,H.byteLength,function(L){L.root.getFile(n,{create:!0},function(T){T.createWriter(function(U){var ea=new DataView(H);ea=new Blob([ea],{type:"font/opentype"});U.write(ea);U.addEventListener("writeend",function(){location.href=T.toURL()},!1)})})},function(L){throw Error(L.name+": "+L.message);
})):(A=a("fs"),B=function(L){var T=new x(L.byteLength);L=new Uint8Array(L);for(var U=0;U<T.length;++U)T[U]=L[U];return T}(H),A.writeFileSync(n,B))};tb.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};tb.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};tb.prototype.usWeightClasses={THIN:100,
EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var qd={make:function(n,A){var B=new eb.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:n.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:n.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*n.axes.length}]);
B.offsetToData=B.sizeOf();for(var H,L,T,U=0;U<n.axes.length;U++)B.fields=B.fields.concat((H=U,L=n.axes[U],T=A,T=Pc(L.name,A),[{name:"tag_"+H,type:"TAG",value:L.tag},{name:"minValue_"+H,type:"FIXED",value:L.minValue<<16},{name:"defaultValue_"+H,type:"FIXED",value:L.defaultValue<<16},{name:"maxValue_"+H,type:"FIXED",value:L.maxValue<<16},{name:"flags_"+H,type:"USHORT",value:0},{name:"nameID_"+H,type:"USHORT",value:T}]));for(H=0;H<n.instances.length;H++){L=B.fields;T=L.concat;U=H;for(var ea=n.instances[H],
ha=n.axes,na=[{name:"nameID_"+U,type:"USHORT",value:Pc(ea.name,A)},{name:"flags_"+U,type:"USHORT",value:0}],ya=0;ya<ha.length;++ya){var Ca=ha[ya].tag;na.push({name:"axis_"+U+" "+Ca,type:"FIXED",value:ea.coordinates[Ca]<<16})}B.fields=T.call(L,na)}return B},parse:function(n,A,B){var H,L,T,U,ea=new Xa.Parser(n,A),ha=ea.parseULong(),na=(kb.argument(65536===ha,"Unsupported fvar table version."),ea.parseOffset16()),ya=(ea.skip("uShort",1),ea.parseUShort()),Ca=ea.parseUShort();ha=ea.parseUShort();ea=ea.parseUShort();
for(var Ea=[],Ja=0;Ja<ya;Ja++)Ea.push((H=n,L=A+na+Ja*Ca,T=B,U={},H=new Xa.Parser(H,L),U.tag=H.parseTag(),U.minValue=H.parseFixed(),U.defaultValue=H.parseFixed(),U.maxValue=H.parseFixed(),H.skip("uShort",1),U.name=T[H.parseUShort()]||{},U));H=[];A=A+na+ya*Ca;for(L=0;L<ha;L++){T=H;U=T.push;na=Ea;Ja=B;ya={};Ca=new Xa.Parser(n,A+L*ea);ya.name=Ja[Ca.parseUShort()]||{};Ca.skip("uShort",1);ya.coordinates={};for(Ja=0;Ja<na.length;++Ja)ya.coordinates[na[Ja].tag]=Ca.parseFixed();U.call(T,ya)}return{axes:Ea,
instances:H}}},Ob=Array(10);Ob[1]=function(){var n=this.offset+this.relativeOffset,A=this.parseUShort();return 1===A?{posFormat:1,coverage:this.parsePointer(S.coverage),value:this.parseValueRecord()}:2===A?{posFormat:2,coverage:this.parsePointer(S.coverage),values:this.parseValueRecordList()}:void kb.assert(!1,"0x"+n.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Ob[2]=function(){var n,A,B,H,L=this.offset+this.relativeOffset,T=this.parseUShort();L=(kb.assert(1===T||2===T,"0x"+L.toString(16)+
": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(S.coverage));var U=this.parseUShort(),ea=this.parseUShort();return 1===T?{posFormat:T,coverage:L,valueFormat1:U,valueFormat2:ea,pairSets:this.parseList(S.pointer(S.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(U),value2:this.parseValueRecord(ea)}})))}:2===T?(n=this.parsePointer(S.classDef),A=this.parsePointer(S.classDef),B=this.parseUShort(),H=this.parseUShort(),{posFormat:T,coverage:L,valueFormat1:U,
valueFormat2:ea,classDef1:n,classDef2:A,class1Count:B,class2Count:H,classRecords:this.parseList(B,S.list(H,function(){return{value1:this.parseValueRecord(U),value2:this.parseValueRecord(ea)}}))}):void 0};Ob[3]=function(){return{error:"GPOS Lookup 3 not supported"}};Ob[4]=function(){return{error:"GPOS Lookup 4 not supported"}};Ob[5]=function(){return{error:"GPOS Lookup 5 not supported"}};Ob[6]=function(){return{error:"GPOS Lookup 6 not supported"}};Ob[7]=function(){return{error:"GPOS Lookup 7 not supported"}};
Ob[8]=function(){return{error:"GPOS Lookup 8 not supported"}};Ob[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var zd=Array(10),pd={parse:function(n,A){return A=(n=new S(n,A=A||0)).parseVersion(1),kb.argument(1===A||1.1===A,"Unsupported GPOS table version "+A),1===A?{version:A,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Ob)}:{version:A,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Ob),variations:n.parseFeatureVariationsList()}},
make:function(n){return new eb.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new eb.ScriptList(n.scripts)},{name:"features",type:"TABLE",value:new eb.FeatureList(n.features)},{name:"lookups",type:"TABLE",value:new eb.LookupList(n.lookups,zd)}])}},od={parse:function(n,A){if(n=new Xa.Parser(n,A),0===(A=n.parseUShort())){A={};var B=(n.skip("uShort"),n.parseUShort());B=(kb.argument(0===B,"Unsupported kern sub-table version."),n.skip("uShort",2),n.parseUShort());
n.skip("uShort",3);for(var H=0;H<B;H+=1){var L=n.parseUShort(),T=n.parseUShort(),U=n.parseShort();A[L+","+T]=U}return A}if(1!==A)throw Error("Unsupported kern table version ("+A+").");A={};B=(n.skip("uShort"),1<n.parseULong()&&console.warn("Only the first kern subtable is supported."),n.skip("uLong"),255&n.parseUShort());if(n.skip("uShort"),0==B)for(B=n.parseUShort(),n.skip("uShort",3),H=0;H<B;H+=1)L=n.parseUShort(),T=n.parseUShort(),U=n.parseShort(),A[L+","+T]=U;return A}},nd={parse:function(n,A,
B,H){n=new Xa.Parser(n,A);A=H?n.parseUShort:n.parseULong;for(var L=[],T=0;T<B+1;T+=1){var U=A.call(n);H&&(U*=2);L.push(U)}return L}};r.Font=tb;r.Glyph=X;r.Path=t;r.BoundingBox=m;r._parse=Xa;r.parse=yc;r.load=function(n,A){("undefined"==typeof window?kd:ld)(n,function(B,H){if(B)return A(B);try{var L=yc(H)}catch(T){return A(T,null)}return A(null,L)})};r.loadSync=function(n){return yc(Fa(a("fs").readFileSync(n)))};Object.defineProperty(r,"__esModule",{value:!0})};"object"==typeof q&&void 0!==G?u(q):
u(this.opentype={})}.call(this,a("buffer").Buffer)},{buffer:4,fs:2}],258:[function(a,G,q){!function(x){function u(k,f){for(var c=0,b=k.length-1;0<=b;b--){var d=k[b];"."===d?k.splice(b,1):".."===d?(k.splice(b,1),c++):c&&(k.splice(b,1),c--)}if(f)for(;c--;)k.unshift("..");return k}function r(k,f){if(k.filter)return k.filter(f);for(var c=[],b=0;b<k.length;b++)f(k[b],b,k)&&c.push(k[b]);return c}q.resolve=function(){for(var k="",f=!1,c=arguments.length-1;-1<=c&&!f;c--){var b=0<=c?arguments[c]:x.cwd();if("string"!=
typeof b)throw new TypeError("Arguments to path.resolve must be strings");b&&(k=b+"/"+k,f="/"===b.charAt(0))}return(f?"/":"")+(k=u(r(k.split("/"),function(d){return!!d}),!f).join("/"))||"."};q.normalize=function(k){var f=q.isAbsolute(k),c="/"===p(k,-1);return(k=(k=u(r(k.split("/"),function(b){return!!b}),!f).join("/"))||f?k:".")&&c&&(k+="/"),(f?"/":"")+k};q.isAbsolute=function(k){return"/"===k.charAt(0)};q.join=function(){var k=Array.prototype.slice.call(arguments,0);return q.normalize(r(k,function(f,
c){if("string"!=typeof f)throw new TypeError("Arguments to path.join must be strings");return f}).join("/"))};q.relative=function(k,f){function c(h){for(var g=0;g<h.length&&""===h[g];g++);for(var m=h.length-1;0<=m&&""===h[m];m--);return m<g?[]:h.slice(g,m-g+1)}k=q.resolve(k).substr(1);f=q.resolve(f).substr(1);k=c(k.split("/"));f=c(f.split("/"));for(var b=Math.min(k.length,f.length),d=b,l=0;l<b;l++)if(k[l]!==f[l]){d=l;break}b=[];for(l=d;l<k.length;l++)b.push("..");return(b=b.concat(f.slice(d))).join("/")};
q.sep="/";q.delimiter=":";q.dirname=function(k){if("string"!=typeof k&&(k+=""),0===k.length)return".";for(var f=47===k.charCodeAt(0),c=-1,b=!0,d=k.length-1;1<=d;--d)if(47===k.charCodeAt(d)){if(!b){c=d;break}}else b=!1;return-1===c?f?"/":".":f&&1===c?"/":k.slice(0,c)};q.basename=function(k,f){"string"!=typeof k&&(k+="");for(var c=0,b=-1,d=!0,l=k.length-1;0<=l;--l)if(47===k.charCodeAt(l)){if(!d){c=l+1;break}}else-1===b&&(d=!1,b=l+1);k=-1===b?"":k.slice(c,b);return f&&k.substr(-1*f.length)===f?k.substr(0,
k.length-f.length):k};q.extname=function(k){"string"!=typeof k&&(k+="");for(var f=-1,c=0,b=-1,d=!0,l=0,h=k.length-1;0<=h;--h){var g=k.charCodeAt(h);if(47===g){if(d)continue;c=h+1;break}-1===b&&(d=!1,b=h+1);46===g?-1===f?f=h:1!==l&&(l=1):-1!==f&&(l=-1)}return-1===f||-1===b||0===l||1===l&&f===b-1&&f===c+1?"":k.slice(f,b)};var p="b"==="ab".substr(-1)?function(k,f,c){return k.substr(f,c)}:function(k,f,c){return 0>f&&(f=k.length+f),k.substr(f,c)}}.call(this,a("_process"))},{_process:259}],259:[function(a,
G,q){function x(){throw Error("setTimeout has not been defined");}function u(){throw Error("clearTimeout has not been defined");}function r(t){if(b===setTimeout)return setTimeout(t,0);if((b===x||!b)&&setTimeout)return(b=setTimeout)(t,0);try{return b(t,0)}catch(v){try{return b.call(null,t,0)}catch(w){return b.call(this,t,0)}}}function p(){g&&l&&(g=!1,l.length?h=l.concat(h):m=-1,h.length&&k())}function k(){if(!g){for(var t=r(p),v=(g=!0,h.length);v;){l=h;for(h=[];++m<v;)l&&l[m].run();m=-1;v=h.length}l=
null;g=!1;!function(w){if(d===clearTimeout)return clearTimeout(w);if((d===u||!d)&&clearTimeout)return(d=clearTimeout)(w);try{d(w)}catch(z){try{return d.call(null,w)}catch(y){return d.call(this,w)}}}(t)}}function f(t,v){this.fun=t;this.array=v}function c(){}G=G.exports={};try{var b="function"==typeof setTimeout?setTimeout:x}catch(t){b=x}try{var d="function"==typeof clearTimeout?clearTimeout:u}catch(t){d=u}var l,h=[],g=!1,m=-1;G.nextTick=function(t){var v=Array(arguments.length-1);if(1<arguments.length)for(var w=
1;w<arguments.length;w++)v[w-1]=arguments[w];h.push(new f(t,v));1!==h.length||g||r(k)};f.prototype.run=function(){this.fun.apply(null,this.array)};G.title="browser";G.browser=!0;G.env={};G.argv=[];G.version="";G.versions={};G.on=c;G.addListener=c;G.once=c;G.off=c;G.removeListener=c;G.removeAllListeners=c;G.emit=c;G.prependListener=c;G.prependOnceListener=c;G.listeners=function(t){return[]};G.binding=function(t){throw Error("process.binding is not supported");};G.cwd=function(){return"/"};G.chdir=
function(t){throw Error("process.chdir is not supported");};G.umask=function(){return 0}},{}],260:[function(a,G,q){G=function(x){function u(W,R,S,K){var O,I;R=R&&R.prototype instanceof p?R:p;R=Object.create(R.prototype);K=new h(K||[]);return R._invoke=(O=K,I=C,function(P,X){if(I===J)throw Error("Generator is already running");if(I===E){if("throw"===P)throw X;return m()}O.method=P;for(O.arg=X;;){if(P=O.delegate)if(P=function ba(ia,da){var ja=ia.iterator[da.method];if(ja===t){if(da.delegate=null,"throw"===
da.method){if(ia.iterator.return&&(da.method="return",da.arg=t,ba(ia,da),"throw"===da.method))return M;da.method="throw";da.arg=new TypeError("The iterator does not provide a 'throw' method")}return M}ja=r(ja,ia.iterator,da.arg);if("throw"===ja.type)return da.method="throw",da.arg=ja.arg,da.delegate=null,M;ja=ja.arg;if(!ja)return da.method="throw",da.arg=new TypeError("iterator result is not an object"),da.delegate=null,M;if(!ja.done)return ja;da[ia.resultName]=ja.value;da.next=ia.nextLoc;"return"!==
da.method&&(da.method="next",da.arg=t);da.delegate=null;return M}(P,O)){if(P===M)continue;return P}if("next"===O.method)O.sent=O._sent=O.arg;else if("throw"===O.method){if(I===C)throw I=E,O.arg;O.dispatchException(O.arg)}else"return"===O.method&&O.abrupt("return",O.arg);I=J;P=r(W,S,O);if("normal"===P.type){if(I=O.done?E:N,P.arg!==M)return{value:P.arg,done:O.done}}else"throw"===P.type&&(I=E,O.method="throw",O.arg=P.arg)}}),R}function r(W,R,S){try{return{type:"normal",arg:W.call(R,S)}}catch(K){return{type:"throw",
arg:K}}}function p(){}function k(){}function f(){}function c(W){["next","throw","return"].forEach(function(R){W[R]=function(S){return this._invoke(R,S)}})}function b(W){var R;this._invoke=function(S,K){function O(){return new Promise(function(I,P){!function ja(ca,ia,da,ba){var qa;ca=r(W[ca],W,ia);if("throw"!==ca.type)return(ia=(qa=ca.arg).value)&&"object"==typeof ia&&w.call(ia,"__await")?Promise.resolve(ia.__await).then(function(fa){ja("next",fa,da,ba)},function(fa){ja("throw",fa,da,ba)}):Promise.resolve(ia).then(function(fa){qa.value=
fa;da(qa)},function(fa){return ja("throw",fa,da,ba)});ba(ca.arg)}(S,K,I,P)})}return R=R?R.then(O,O):O()}}function d(W){var R={tryLoc:W[0]};1 in W&&(R.catchLoc=W[1]);2 in W&&(R.finallyLoc=W[2],R.afterLoc=W[3]);this.tryEntries.push(R)}function l(W){var R=W.completion||{};R.type="normal";delete R.arg;W.completion=R}function h(W){this.tryEntries=[{tryLoc:"root"}];W.forEach(d,this);this.reset(!0)}function g(W){if(W){var R,S=W[y];if(S)return S.call(W);if("function"==typeof W.next)return W;if(!isNaN(W.length))return R=
-1,(S=function O(){for(;++R<W.length;)if(w.call(W,R))return O.value=W[R],O.done=!1,O;return O.value=t,O.done=!0,O}).next=S}return{next:m}}function m(){return{value:t,done:!0}}var t,v=Object.prototype,w=v.hasOwnProperty,z="function"==typeof Symbol?Symbol:{},y=z.iterator||"@@iterator",F=z.asyncIterator||"@@asyncIterator",D=z.toStringTag||"@@toStringTag";x.wrap=u;var C="suspendedStart",N="suspendedYield",J="executing",E="completed",M={};z={};var Q=(z[y]=function(){return this},Object.getPrototypeOf);
Q=Q&&Q(Q(g([])));var V=(Q&&Q!==v&&w.call(Q,y)&&(z=Q),f.prototype=p.prototype=Object.create(z));return(k.prototype=V.constructor=f).constructor=k,f[D]=k.displayName="GeneratorFunction",x.isGeneratorFunction=function(W){W="function"==typeof W&&W.constructor;return!!W&&(W===k||"GeneratorFunction"===(W.displayName||W.name))},x.mark=function(W){return Object.setPrototypeOf?Object.setPrototypeOf(W,f):(W.__proto__=f,D in W||(W[D]="GeneratorFunction")),W.prototype=Object.create(V),W},x.awrap=function(W){return{__await:W}},
c(b.prototype),b.prototype[F]=function(){return this},x.AsyncIterator=b,x.async=function(W,R,S,K){var O=new b(u(W,R,S,K));return x.isGeneratorFunction(R)?O:O.next().then(function(I){return I.done?I.value:O.next()})},c(V),V[D]="Generator",V[y]=function(){return this},V.toString=function(){return"[object Generator]"},x.keys=function(W){var R,S=[];for(R in W)S.push(R);return S.reverse(),function O(){for(;S.length;){var I=S.pop();if(I in W)return O.value=I,O.done=!1,O}return O.done=!0,O}},x.values=g,
h.prototype={constructor:h,reset:function(W){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(l),!W)for(var R in this)"t"===R.charAt(0)&&w.call(this,R)&&!isNaN(+R.slice(1))&&(this[R]=t)},stop:function(){this.done=!0;var W=this.tryEntries[0].completion;if("throw"===W.type)throw W.arg;return this.rval},dispatchException:function(W){function R(ca,ia){return I.type="throw",I.arg=W,S.next=ca,ia&&(S.method="next",S.arg=
t),!!ia}if(this.done)throw W;for(var S=this,K=this.tryEntries.length-1;0<=K;--K){var O=this.tryEntries[K],I=O.completion;if("root"===O.tryLoc)return R("end");if(O.tryLoc<=this.prev){var P=w.call(O,"catchLoc"),X=w.call(O,"finallyLoc");if(P&&X){if(this.prev<O.catchLoc)return R(O.catchLoc,!0);if(this.prev<O.finallyLoc)return R(O.finallyLoc)}else if(P){if(this.prev<O.catchLoc)return R(O.catchLoc,!0)}else{if(!X)throw Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return R(O.finallyLoc)}}}},
abrupt:function(W,R){for(var S=this.tryEntries.length-1;0<=S;--S){var K=this.tryEntries[S];if(K.tryLoc<=this.prev&&w.call(K,"finallyLoc")&&this.prev<K.finallyLoc){var O=K;break}}S=(O=O&&("break"===W||"continue"===W)&&O.tryLoc<=R&&R<=O.finallyLoc?null:O)?O.completion:{};return S.type=W,S.arg=R,O?(this.method="next",this.next=O.finallyLoc,M):this.complete(S)},complete:function(W,R){if("throw"===W.type)throw W.arg;return"break"===W.type||"continue"===W.type?this.next=W.arg:"return"===W.type?(this.rval=
this.arg=W.arg,this.method="return",this.next="end"):"normal"===W.type&&R&&(this.next=R),M},finish:function(W){for(var R=this.tryEntries.length-1;0<=R;--R){var S=this.tryEntries[R];if(S.finallyLoc===W)return this.complete(S.completion,S.afterLoc),l(S),M}},catch:function(W){for(var R=this.tryEntries.length-1;0<=R;--R){var S,K,O=this.tryEntries[R];if(O.tryLoc===W)return"throw"===(S=O.completion).type&&(K=S.arg,l(O)),K}throw Error("illegal catch attempt");},delegateYield:function(W,R,S){return this.delegate=
{iterator:g(W),resultName:R,nextLoc:S},"next"===this.method&&(this.arg=t),M}},x}("object"==typeof G?G.exports:{});try{regeneratorRuntime=G}catch(x){Function("r","regeneratorRuntime \x3d r")(G)}},{}],261:[function(a,G,q){!function(x){function u(E){if("string"!=typeof E&&(E=String(E)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(E))throw new TypeError("Invalid character in header field name");return E.toLowerCase()}function r(E){var M={next:function(){var Q=E.shift();return{done:void 0===Q,value:Q}}};return y&&
(M[Symbol.iterator]=function(){return M}),M}function p(E){this.map={};E instanceof p?E.forEach(function(M,Q){this.append(Q,M)},this):Array.isArray(E)?E.forEach(function(M){this.append(M[0],M[1])},this):E&&Object.getOwnPropertyNames(E).forEach(function(M){this.append(M,E[M])},this)}function k(E){if(E.bodyUsed)return Promise.reject(new TypeError("Already read"));E.bodyUsed=!0}function f(E){return new Promise(function(M,Q){E.onload=function(){M(E.result)};E.onerror=function(){Q(E.error)}})}function c(E){var M=
new FileReader,Q=f(M);return M.readAsArrayBuffer(E),Q}function b(E){var M;return E.slice?E.slice(0):((M=new Uint8Array(E.byteLength)).set(new Uint8Array(E)),M.buffer)}function d(){return this.bodyUsed=!1,this._initBody=function(E){if(this._bodyInit=E)if("string"==typeof E)this._bodyText=E;else if(D&&Blob.prototype.isPrototypeOf(E))this._bodyBlob=E;else if(C&&FormData.prototype.isPrototypeOf(E))this._bodyFormData=E;else if(z&&URLSearchParams.prototype.isPrototypeOf(E))this._bodyText=E.toString();else if(m&&
D&&v(E))this._bodyArrayBuffer=b(E.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m||!ArrayBuffer.prototype.isPrototypeOf(E)&&!w(E))throw Error("unsupported BodyInit type");this._bodyArrayBuffer=b(E)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof E?this.headers.set("content-type","text/plain;charset\x3dUTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):z&&URLSearchParams.prototype.isPrototypeOf(E)&&this.headers.set("content-type",
"application/x-www-form-urlencoded;charset\x3dUTF-8"))},D&&(this.blob=function(){var E=k(this);if(E)return E;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?k(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(c)}),
this.text=function(){var E,M,Q=k(this);if(Q)return Q;if(this._bodyBlob)return Q=this._bodyBlob,E=new FileReader,M=f(E),E.readAsText(Q),M;if(this._bodyArrayBuffer){E=Promise;M=E.resolve;Q=new Uint8Array(this._bodyArrayBuffer);for(var V=Array(Q.length),W=0;W<Q.length;W++)V[W]=String.fromCharCode(Q[W]);Q=V.join("");return M.call(E,Q)}if(this._bodyFormData)throw Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},C&&(this.formData=function(){return this.text().then(h)}),
this.json=function(){return this.text().then(JSON.parse)},this}function l(E,M){var Q,V=(M=M||{}).body;if(E instanceof l){if(E.bodyUsed)throw new TypeError("Already read");this.url=E.url;this.credentials=E.credentials;M.headers||(this.headers=new p(E.headers));this.method=E.method;this.mode=E.mode;V||null==E._bodyInit||(V=E._bodyInit,E.bodyUsed=!0)}else this.url=String(E);if(this.credentials=M.credentials||this.credentials||"omit",!M.headers&&this.headers||(this.headers=new p(M.headers)),this.method=
(E=M.method||this.method||"GET",Q=E.toUpperCase(),-1<N.indexOf(Q)?Q:E),this.mode=M.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&V)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(V)}function h(E){var M=new FormData;return E.trim().split("\x26").forEach(function(Q){var V;Q&&(V=(Q=Q.split("\x3d")).shift().replace(/\+/g," "),Q=Q.join("\x3d").replace(/\+/g," "),M.append(decodeURIComponent(V),decodeURIComponent(Q)))}),M}function g(E,
M){M=M||{};this.type="default";this.status=void 0===M.status?200:M.status;this.ok=200<=this.status&&300>this.status;this.statusText="statusText"in M?M.statusText:"OK";this.headers=new p(M.headers);this.url=M.url||"";this._initBody(E)}var m,t,v,w;if(!x.fetch){var z="URLSearchParams"in x;var y="Symbol"in x&&"iterator"in Symbol;var F;if(F="FileReader"in x&&"Blob"in x)try{F=(new Blob,!0)}catch(E){F=!1}var D=F;var C="FormData"in x;(m="ArrayBuffer"in x)&&(t="[object Int8Array];[object Uint8Array];[object Uint8ClampedArray];[object Int16Array];[object Uint16Array];[object Int32Array];[object Uint32Array];[object Float32Array];[object Float64Array]".split(";"),
v=function(E){return E&&DataView.prototype.isPrototypeOf(E)},w=ArrayBuffer.isView||function(E){return E&&-1<t.indexOf(Object.prototype.toString.call(E))});p.prototype.append=function(E,M){E=u(E);M="string"!=typeof M?String(M):M;var Q=this.map[E];this.map[E]=Q?Q+","+M:M};p.prototype.delete=function(E){delete this.map[u(E)]};p.prototype.get=function(E){return E=u(E),this.has(E)?this.map[E]:null};p.prototype.has=function(E){return this.map.hasOwnProperty(u(E))};p.prototype.set=function(E,M){this.map[u(E)]=
"string"!=typeof M?String(M):M};p.prototype.forEach=function(E,M){for(var Q in this.map)this.map.hasOwnProperty(Q)&&E.call(M,this.map[Q],Q,this)};p.prototype.keys=function(){var E=[];return this.forEach(function(M,Q){E.push(Q)}),r(E)};p.prototype.values=function(){var E=[];return this.forEach(function(M){E.push(M)}),r(E)};p.prototype.entries=function(){var E=[];return this.forEach(function(M,Q){E.push([Q,M])}),r(E)};y&&(p.prototype[Symbol.iterator]=p.prototype.entries);var N="DELETE GET HEAD OPTIONS POST PUT".split(" ");
l.prototype.clone=function(){return new l(this,{body:this._bodyInit})};d.call(l.prototype);d.call(g.prototype);g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})};g.error=function(){var E=new g(null,{status:0,statusText:""});return E.type="error",E};var J=[301,302,303,307,308];g.redirect=function(E,M){if(-1===J.indexOf(M))throw new RangeError("Invalid status code");return new g(null,{status:M,headers:{location:E}})};
x.Headers=p;x.Request=l;x.Response=g;x.fetch=function(E,M){return new Promise(function(Q,V){var W=new l(E,M),R=new XMLHttpRequest;R.onload=function(){var S,K={status:R.status,statusText:R.statusText,headers:(K=R.getAllResponseHeaders()||"",S=new p,K.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(I){I=I.split(":");var P=I.shift().trim();P&&(I=I.join(":").trim(),S.append(P,I))}),S)},O=(K.url="responseURL"in R?R.responseURL:K.headers.get("X-Request-URL"),"response"in R?R.response:R.responseText);
Q(new g(O,K))};R.onerror=function(){V(new TypeError("Network request failed"))};R.ontimeout=function(){V(new TypeError("Network request failed"))};R.open(W.method,W.url,!0);"include"===W.credentials?R.withCredentials=!0:"omit"===W.credentials&&(R.withCredentials=!1);"responseType"in R&&D&&(R.responseType="blob");W.headers.forEach(function(S,K){R.setRequestHeader(K,S)});R.send(void 0===W._bodyInit?null:W._bodyInit)})};x.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},{}],262:[function(a,G,
q){function x(f){return f&&f.__esModule?f:{default:f}}a("core-js/modules/es.function.name");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.split");a("core-js/modules/es.function.name");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.split");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;
var u;G=x(a("../core/main"));var r=x(a("../color/color_conversion")),p=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],k=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},
{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},
{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},
{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,
name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},
{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,
s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];G.default.prototype._rgbColorName=function(f){var c;f=r.default._rgbaToHSBA(f);var b=[(u=f)[0],f[1],f[2]];0!==
b[0]&&(b[0]=Math.round(100*b[0]),(f=b[0].toString().split(""))[c=f.length-1]=parseInt(f[c]),2.5>f[c]?f[c]=0:2.5<=f[c]&&7.5>f[c]&&(f[c]=5),2===f.length?(f[0]=parseInt(f[0]),7.5<=f[c]&&(f[c]=0,f[0]+=1),b[0]=10*f[0]+f[1]):7.5<=f[c]?b[0]=10:b[0]=f[c]);b[2]/=255;for(f=b.length-1;1<=f;f--).25>=b[f]?b[f]=0:.25<b[f]&&.75>b[f]?b[f]=.5:b[f]=1;if(0===b[0]&&0===b[1]&&1===b[2]){for(b=2;0<=b;b--)u[b]=Math.round(1E4*u[b])/1E4;for(b=0;b<p.length;b++){if(p[b].h===u[0]&&p[b].s===u[1]&&p[b].b===u[2]){var d=p[b].name;
break}d="white"}}else for(f=0;f<k.length;f++)if(k[f].h===b[0]&&k[f].s===b[1]&&k[f].b===b[2]){d=k[f].name;break}return d};a=G.default;q.default=a},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(a,G,q){function x(r){if("label"===r||"fallback"===r)throw Error("description should not be LABEL or FALLBACK");
return r.endsWith(".")||r.endsWith(";")||r.endsWith(",")||r.endsWith("?")||r.endsWith("!")||(r+="."),r}a("core-js/modules/es.array.concat");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.ends-with");a("core-js/modules/es.string.replace");a("core-js/modules/es.array.concat");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.ends-with");a("core-js/modules/es.string.replace");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var u=(a=a("../core/main"))&&
a.__esModule?a:{default:a};u.default.prototype.describe=function(r,p){var k;u.default._validateParameters("describe",arguments);"string"==typeof r&&(k=this.canvas.id,r=x(r),this.dummyDOM||(this.dummyDOM=document.getElementById(k).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==r&&(this.descriptions.fallback.innerHTML=r):this._describeHTML("fallback",r),p===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==
r&&(this.descriptions.label.innerHTML=r):this._describeHTML("label",r)))};u.default.prototype.describeElement=function(r,p,k){u.default._validateParameters("describeElement",arguments);if("string"==typeof p&&"string"==typeof r){var f=this.canvas.id;p=x(p);var c=r;if("label"===c||"fallback"===c)throw Error("element name should not be LABEL or FALLBACK");c.endsWith(".")||c.endsWith(";")||c.endsWith(",")?c=c.replace(/.$/,":"):c.endsWith(":")||(c+=":");r=r.replace(/[^a-zA-Z0-9]/g,"");c='\x3cth scope\x3d"row"\x3e'.concat(c,
"\x3c/th\x3e\x3ctd\x3e").concat(p,"\x3c/td\x3e");this.dummyDOM||(this.dummyDOM=document.getElementById(f).parentNode);this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}};this.descriptions.fallbackElements[r]?this.descriptions.fallbackElements[r].innerHTML!==c&&(this.descriptions.fallbackElements[r].innerHTML=c):this._describeElementHTML("fallback",r,c);k===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements=
{}),this.descriptions.labelElements[r]?this.descriptions.labelElements[r].innerHTML!==c&&(this.descriptions.labelElements[r].innerHTML=c):this._describeElementHTML("label",r,c))}};u.default.prototype._describeHTML=function(r,p){var k,f=this.canvas.id;"fallback"===r?(this.dummyDOM.querySelector("#".concat(f+"_Description"))?this.dummyDOM.querySelector("#"+f+"_fallbackTable").insertAdjacentHTML("beforebegin",'\x3cp id\x3d"'.concat(f+"_fallbackDesc",'"\x3e\x3c/p\x3e')):(k='\x3cdiv id\x3d"'.concat(f).concat("_Description",
'" role\x3d"region" aria-label\x3d"Canvas Description"\x3e\x3cp id\x3d"').concat(f).concat("_fallbackDesc",'"\x3e\x3c/p\x3e\x3c/div\x3e'),this.dummyDOM.querySelector("#".concat(f,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(f,"accessibleOutput")).insertAdjacentHTML("beforebegin",k):this.dummyDOM.querySelector("#".concat(f)).innerHTML=k),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(f).concat("_fallbackDesc")),this.descriptions.fallback.innerHTML=p):"label"===r&&
(this.dummyDOM.querySelector("#".concat(f+"_Label"))?this.dummyDOM.querySelector("#".concat(f+"_labelTable"))&&this.dummyDOM.querySelector("#".concat(f+"_labelTable")).insertAdjacentHTML("beforebegin",'\x3cp id\x3d"'.concat(f).concat("_labelDesc",'"\x3e\x3c/p\x3e')):(k='\x3cdiv id\x3d"'.concat(f).concat("_Label",'" class\x3d"p5Label"\x3e\x3cp id\x3d"').concat(f).concat("_labelDesc",'"\x3e\x3c/p\x3e\x3c/div\x3e'),this.dummyDOM.querySelector("#".concat(f,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(f,
"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",k):this.dummyDOM.querySelector("#"+f).insertAdjacentHTML("afterend",k)),this.descriptions.label=this.dummyDOM.querySelector("#"+f+"_labelDesc"),this.descriptions.label.innerHTML=p)};u.default.prototype._describeElementHTML=function(r,p,k){var f,c=this.canvas.id;"fallback"===r?(this.dummyDOM.querySelector("#".concat(c+"_Description"))?this.dummyDOM.querySelector("#"+c+"_fallbackTable")||this.dummyDOM.querySelector("#"+c+"_fallbackDesc").insertAdjacentHTML("afterend",
'\x3ctable id\x3d"'.concat(c).concat("_fallbackTable",'"\x3e\x3ccaption\x3eCanvas elements and their descriptions\x3c/caption\x3e\x3c/table\x3e')):(f='\x3cdiv id\x3d"'.concat(c).concat("_Description",'" role\x3d"region" aria-label\x3d"Canvas Description"\x3e\x3ctable id\x3d"').concat(c).concat("_fallbackTable",'"\x3e\x3ccaption\x3eCanvas elements and their descriptions\x3c/caption\x3e\x3c/table\x3e\x3c/div\x3e'),this.dummyDOM.querySelector("#".concat(c,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(c,
"accessibleOutput")).insertAdjacentHTML("beforebegin",f):this.dummyDOM.querySelector("#"+c).innerHTML=f),(f=document.createElement("tr")).id=c+"_fte_"+p,this.dummyDOM.querySelector("#"+c+"_fallbackTable").appendChild(f),this.descriptions.fallbackElements[p]=this.dummyDOM.querySelector("#".concat(c).concat("_fte_").concat(p)),this.descriptions.fallbackElements[p].innerHTML=k):"label"===r&&(this.dummyDOM.querySelector("#".concat(c+"_Label"))?this.dummyDOM.querySelector("#".concat(c+"_labelTable"))||
this.dummyDOM.querySelector("#"+c+"_labelDesc").insertAdjacentHTML("afterend",'\x3ctable id\x3d"'.concat(c+"_labelTable",'"\x3e\x3c/table\x3e')):(f='\x3cdiv id\x3d"'.concat(c).concat("_Label",'" class\x3d"p5Label"\x3e\x3ctable id\x3d"').concat(c).concat("_labelTable",'"\x3e\x3c/table\x3e\x3c/div\x3e'),this.dummyDOM.querySelector("#".concat(c,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(c,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",f):this.dummyDOM.querySelector("#"+
c).insertAdjacentHTML("afterend",f)),(r=document.createElement("tr")).id=c+"_lte_"+p,this.dummyDOM.querySelector("#"+c+"_labelTable").appendChild(r),this.descriptions.labelElements[p]=this.dummyDOM.querySelector("#".concat(c).concat("_lte_").concat(p)),this.descriptions.labelElements[p].innerHTML=k)};a=u.default;q.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],
264:[function(a,G,q){a("core-js/modules/es.array.concat");a("core-js/modules/es.array.from");a("core-js/modules/es.array.map");a("core-js/modules/es.string.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.from");a("core-js/modules/es.array.map");a("core-js/modules/es.string.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var x=(a=a("../core/main"))&&a.__esModule?a:{default:a};x.default.prototype._updateGridOutput=function(u){var r,p,k,f;this._renderer&&
this._renderer instanceof x.default.RendererGL?this._didOutputGridWebGLMessage||(this._didOutputGridWebGLMessage=!0,console.error("gridOutput() does not yet work in WebGL mode.")):this.dummyDOM.querySelector("#".concat(u,"_summary"))&&(r=this._accessibleOutputs[u],k=function(c,b,d,l){b="".concat(b," canvas, ").concat(d," by ").concat(l," pixels, contains ").concat(c[0]);return b=(1===c[0]?"".concat(b," shape: "):"".concat(b," shapes: ")).concat(c[1])}((p=function(c,b){var d,l="",h="",g=0;for(d in b){var m,
t=0;for(m in b[d]){var v='\x3cli id\x3d"'.concat(c,"shape").concat(g,'"\x3e').concat(b[d][m].color," ").concat(d,",");"line"===d?v+=" location \x3d ".concat(b[d][m].pos,", length \x3d ").concat(b[d][m].length," pixels"):(v+=" location \x3d ".concat(b[d][m].pos),"point"!==d&&(v+=", area \x3d ".concat(b[d][m].area," %")),v+="\x3c/li\x3e");l+=v;t++;g++}h=1<t?"".concat(h," ").concat(t," ").concat(d,"s"):"".concat(h," ").concat(t," ").concat(d)}return{numShapes:[g,h],details:l}}(u,this.ingredients.shapes)).numShapes,
this.ingredients.colors.background,this.width,this.height),f=function(c,b){var d,l,h=0,g="",m=Array.from(Array(10),function(){return Array(10)});for(d in b)for(var t in b[d]){var v=void 0;v="line"!==d?'\x3ca href\x3d"#'.concat(c,"shape").concat(h,'"\x3e').concat(b[d][t].color," ").concat(d,"\x3c/a\x3e"):'\x3ca href\x3d"#'.concat(c,"shape").concat(h,'"\x3e').concat(b[d][t].color," ").concat(d," midpoint\x3c/a\x3e");b[d][t].loc.locY<m.length&&b[d][t].loc.locX<m[b[d][t].loc.locY].length&&(m[b[d][t].loc.locY][b[d][t].loc.locX]?
m[b[d][t].loc.locY][b[d][t].loc.locX]=m[b[d][t].loc.locY][b[d][t].loc.locX]+"  "+v:m[b[d][t].loc.locY][b[d][t].loc.locX]=v,h++)}for(l in m){var w;c="\x3ctr\x3e";for(w in m[l])c+="\x3ctd\x3e",void 0!==m[l][w]&&(c+=m[l][w]),c+="\x3c/td\x3e";g=g+c+"\x3c/tr\x3e"}return g}(u,this.ingredients.shapes),k!==r.summary.innerHTML&&(r.summary.innerHTML=k),f!==r.map.innerHTML&&(r.map.innerHTML=f),p.details!==r.shapeDetails.innerHTML&&(r.shapeDetails.innerHTML=p.details),this._accessibleOutputs[u]=r)};a=x.default;
q.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(a,G,q){function x(p){if(!(p=function(k){if(Array.isArray(k)){for(var f=0,c=Array(k.length);f<k.length;f++)c[f]=k[f];return c}}(p)||function(k){if(Symbol.iterator in Object(k)||"[object Arguments]"===Object.prototype.toString.call(k))return Array.from(k)}(p)))throw new TypeError("Invalid attempt to spread non-iterable instance");
return p}function u(p,k,f){var c=p[0];p=p[1];c=Math.floor(c/k*10);k=Math.floor(p/f*10);return{locX:Math.min(Math.max(c,0),9),locY:Math.min(Math.max(k,0),9)}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.from");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.number.to-fixed");a("core-js/modules/es.object.to-string");
a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.map");a("core-js/modules/es.number.to-fixed");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var r=(a=a("../core/main"))&&a.__esModule?a:{default:a};r.default.prototype.textOutput=function(p){r.default._validateParameters("textOutput",arguments);this._accessibleOutputs.text||
(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),p===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))};r.default.prototype.gridOutput=function(p){r.default._validateParameters("gridOutput",arguments);this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),p===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))};r.default.prototype._addAccsOutput=
function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text};r.default.prototype._createOutput=function(p,k){var f,c,b,d=this.canvas.id,l=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode),"");"Fallback"===k?(f=d+p,this.dummyDOM.querySelector("#".concat(c=
d+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(d,"_Description"))?this.dummyDOM.querySelector("#".concat(d,"_Description")).insertAdjacentHTML("afterend",'\x3cdiv id\x3d"'.concat(c,'" role\x3d"region" aria-label\x3d"Canvas Outputs"\x3e\x3c/div\x3e')):this.dummyDOM.querySelector("#".concat(d)).innerHTML='\x3cdiv id\x3d"'.concat(c,'" role\x3d"region" aria-label\x3d"Canvas Outputs"\x3e\x3c/div\x3e'))):"Label"===k&&(f=d+p+(l=k),this.dummyDOM.querySelector("#".concat(c=d+"accessibleOutput"+
k))||(this.dummyDOM.querySelector("#".concat(d,"_Label"))?this.dummyDOM.querySelector("#".concat(d,"_Label")):this.dummyDOM.querySelector("#".concat(d))).insertAdjacentHTML("afterend",'\x3cdiv id\x3d"'.concat(c,'"\x3e\x3c/div\x3e')));this._accessibleOutputs[f]={};"textOutput"===p?(l="#".concat(d,"gridOutput").concat(l),b='\x3cdiv id\x3d"'.concat(f,'"\x3eText Output\x3cdiv id\x3d"').concat(f,'Summary" aria-label\x3d"text output summary"\x3e\x3cp id\x3d"').concat(f,'_summary"\x3e\x3c/p\x3e\x3cul id\x3d"').concat(f,
'_list"\x3e\x3c/ul\x3e\x3c/div\x3e\x3ctable id\x3d"').concat(f,'_shapeDetails" summary\x3d"text output shape details"\x3e\x3c/table\x3e\x3c/div\x3e'),this.dummyDOM.querySelector(l)?this.dummyDOM.querySelector(l).insertAdjacentHTML("beforebegin",b):this.dummyDOM.querySelector("#".concat(c)).innerHTML=b,this._accessibleOutputs[f].list=this.dummyDOM.querySelector("#".concat(f,"_list"))):"gridOutput"===p&&(l="#".concat(d,"textOutput").concat(l),b='\x3cdiv id\x3d"'.concat(f,'"\x3eGrid Output\x3cp id\x3d"').concat(f,
'_summary" aria-label\x3d"grid output summary"\x3e\x3ctable id\x3d"').concat(f,'_map" summary\x3d"grid output content"\x3e\x3c/table\x3e\x3cul id\x3d"').concat(f,'_shapeDetails" aria-label\x3d"grid output shape details"\x3e\x3c/ul\x3e\x3c/div\x3e'),this.dummyDOM.querySelector(l)?this.dummyDOM.querySelector(l).insertAdjacentHTML("afterend",b):this.dummyDOM.querySelector("#".concat(c)).innerHTML=b,this._accessibleOutputs[f].map=this.dummyDOM.querySelector("#".concat(f,"_map")));this._accessibleOutputs[f].shapeDetails=
this.dummyDOM.querySelector("#".concat(f,"_shapeDetails"));this._accessibleOutputs[f].summary=this.dummyDOM.querySelector("#".concat(f,"_summary"))};r.default.prototype._updateAccsOutput=function(){var p=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(p+"textOutput"),this._accessibleOutputs.grid&&
this._updateGridOutput(p+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(p+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(p+"gridOutputLabel"))};r.default.prototype._accsBackground=function(p){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes);this.ingredients.pBackground=this.ingredients.colors.background;this.ingredients.shapes={};this.ingredients.colors.backgroundRGBA!==p&&(this.ingredients.colors.backgroundRGBA=p,this.ingredients.colors.background=
this._rgbColorName(p))};r.default.prototype._accsCanvasColors=function(p,k){"fill"===p?this.ingredients.colors.fillRGBA!==k&&(this.ingredients.colors.fillRGBA=k,this.ingredients.colors.fill=this._rgbColorName(k)):"stroke"===p&&this.ingredients.colors.strokeRGBA!==k&&(this.ingredients.colors.strokeRGBA=k,this.ingredients.colors.stroke=this._rgbColorName(k))};r.default.prototype._accsOutput=function(p,k){"ellipse"===p&&k[2]===k[3]?p="circle":"rectangle"===p&&k[2]===k[3]&&(p="square");var f,c,b={},d=
!0;var l=p;var h;l="rectangle"===l||"ellipse"===l||"arc"===l||"circle"===l||"square"===l?(h=Math.round(k[0]+k[2]/2),Math.round(k[1]+k[3]/2)):"triangle"===l?(h=(k[0]+k[2]+k[4])/3,(k[1]+k[3]+k[5])/3):"quadrilateral"===l?(h=(k[0]+k[2]+k[4]+k[6])/4,(k[1]+k[3]+k[5]+k[7])/4):"line"===l?(h=(k[0]+k[2])/2,(k[1]+k[3])/2):(h=k[0],k[1]);l=[h,l];if("line"===p?(b.color=this.ingredients.colors.stroke,b.length=Math.round(this.dist(k[0],k[1],k[2],k[3])),f=this._getPos(k[0],[1]),c=this._getPos(k[2],[3]),b.loc=u(l,
this.width,this.height),b.pos=f===c?"at ".concat(f):"from ".concat(f," to ").concat(c)):("point"===p?b.color=this.ingredients.colors.stroke:(b.color=this.ingredients.colors.fill,b.area=this._getArea(p,k)),b.pos=this._getPos.apply(this,x(l)),b.loc=u(l,this.width,this.height)),this.ingredients.shapes[p]){for(var g in this.ingredients.shapes[p])JSON.stringify(this.ingredients.shapes[p][g])===JSON.stringify(b)&&(d=!1);!0===d&&this.ingredients.shapes[p].push(b)}else this.ingredients.shapes[p]=[b]};r.default.prototype._getPos=
function(p,k){p=new DOMPointReadOnly(p,k);k=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform();p=p.matrixTransform(k);k=p.x;p=p.y;var f=this.width*this._pixelDensity,c=this.height*this._pixelDensity;return k<.4*f?p<.4*c?"top left":.6*c<p?"bottom left":"mid left":.6*f<k?p<.4*c?"top right":.6*c<p?"bottom right":"mid right":p<.4*c?"top middle":.6*c<p?"bottom middle":"middle"};r.default.prototype._getArea=function(p,k){var f,c,b=0,d=("arc"===p?(b=(f=((k[5]-
k[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*k[2]*k[3]/8,"open"!==k[6]&&"chord"!==k[6]||(c=k[0],m=k[1],d=k[0]+k[2]/2*Math.cos(k[4]).toFixed(2),t=k[1]+k[3]/2*Math.sin(k[4]).toFixed(2),h=k[0]+k[2]/2*Math.cos(k[5]).toFixed(2),l=k[1]+k[3]/2*Math.sin(k[5]).toFixed(2),c=Math.abs(c*(t-l)+d*(l-m)+h*(m-t))/2,f>Math.PI?b+=c:b-=c)):"ellipse"===p||"circle"===p?b=3.14*k[2]/2*k[3]/2:"line"===p||"point"===p?b=0:"quadrilateral"===p?b=Math.abs((k[6]+k[0])*(k[7]-k[1])+(k[0]+k[2])*(k[1]-k[3])+(k[2]+k[4])*(k[3]-k[5])+(k[4]+
k[6])*(k[5]-k[7]))/2:"rectangle"===p||"square"===p?b=k[2]*k[3]:"triangle"===p&&(b=Math.abs(k[0]*(k[3]-k[5])+k[2]*(k[5]-k[1])+k[4]*(k[1]-k[3]))/2),this.width*this._pixelDensity),l=this.height*this._pixelDensity,h=[new DOMPoint(0,0),new DOMPoint(d,0),new DOMPoint(d,l),new DOMPoint(0,l)],g=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),m=h.map(function(v){return v.matrixTransform(g)}),t=Math.abs((m[3].x+m[0].x)*(m[3].y-m[0].y)+(m[0].x+
m[1].x)*(m[0].y-m[1].y)+(m[1].x+m[2].x)*(m[1].y-m[2].y)+(m[2].x+m[3].x)*(m[2].y-m[3].y))/2;return Math.round(100*b/t)};a=r.default;q.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,
"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(a,G,q){a("core-js/modules/es.array.concat");a("core-js/modules/es.array.concat");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var x=(a=a("../core/main"))&&a.__esModule?a:{default:a};x.default.prototype._updateTextOutput=function(u){var r,p,k,f;this._renderer&&this._renderer instanceof x.default.RendererGL?
this._didOutputTextWebGLMessage||(this._didOutputTextWebGLMessage=!0,console.error("textOutput() does not yet work in WebGL mode.")):this.dummyDOM.querySelector("#".concat(u,"_summary"))&&(r=this._accessibleOutputs[u],k=function(c,b,d,l){d="Your output is a, ".concat(d," by ").concat(l," pixels, ").concat(b," canvas containing the following");return d=1===c?"".concat(d," shape:"):"".concat(d," ").concat(c," shapes:")}((p=function(c,b){var d,l="",h=0;for(d in b)for(var g in b[d]){var m='\x3cli\x3e\x3ca href\x3d"#'.concat(c,
"shape").concat(h,'"\x3e').concat(b[d][g].color," ").concat(d,"\x3c/a\x3e");"line"===d?m+=", ".concat(b[d][g].pos,", ").concat(b[d][g].length," pixels long.\x3c/li\x3e"):(m+=", at ".concat(b[d][g].pos),"point"!==d&&(m+=", covering ".concat(b[d][g].area,"% of the canvas")),m+=".\x3c/li\x3e");l+=m;h++}return{numShapes:h,listShapes:l}}(u,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),f=function(c,b){var d,l="",h=0;for(d in b)for(var g in b[d]){var m='\x3ctr id\x3d"'.concat(c,
"shape").concat(h,'"\x3e\x3cth\x3e').concat(b[d][g].color," ").concat(d,"\x3c/th\x3e");"line"===d?m+="\x3ctd\x3elocation \x3d ".concat(b[d][g].pos,"\x3c/td\x3e\x3ctd\x3elength \x3d ").concat(b[d][g].length," pixels\x3c/td\x3e\x3c/tr\x3e"):(m+="\x3ctd\x3elocation \x3d ".concat(b[d][g].pos,"\x3c/td\x3e"),"point"!==d&&(m+="\x3ctd\x3e area \x3d ".concat(b[d][g].area,"%\x3c/td\x3e")),m+="\x3c/tr\x3e");l+=m;h++}return l}(u,this.ingredients.shapes),k!==r.summary.innerHTML&&(r.summary.innerHTML=k),p.listShapes!==
r.list.innerHTML&&(r.list.innerHTML=p.listShapes),f!==r.shapeDetails.innerHTML&&(r.shapeDetails.innerHTML=f),this._accessibleOutputs[u]=r)};a=x.default;q.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(a,G,q){var x=(x=a("./core/main"))&&x.__esModule?x:{default:x};a("./core/constants");a("./core/environment");a("./core/friendly_errors/stacktrace");a("./core/friendly_errors/validate_params");a("./core/friendly_errors/file_errors");a("./core/friendly_errors/fes_core");
a("./core/friendly_errors/sketch_reader");a("./core/helpers");a("./core/legacy");a("./core/preload");a("./core/p5.Element");a("./core/p5.Graphics");a("./core/p5.Renderer");a("./core/p5.Renderer2D");a("./core/rendering");a("./core/shim");a("./core/structure");a("./core/transform");a("./core/shape/2d_primitives");a("./core/shape/attributes");a("./core/shape/curves");a("./core/shape/vertex");a("./accessibility/outputs");a("./accessibility/textOutput");a("./accessibility/gridOutput");a("./accessibility/color_namer");
a("./color/color_conversion");a("./color/creating_reading");a("./color/p5.Color");a("./color/setting");a("./data/p5.TypedDict");a("./data/local_storage.js");a("./dom/dom");a("./accessibility/describe");a("./events/acceleration");a("./events/keyboard");a("./events/mouse");a("./events/touch");a("./image/filters");a("./image/image");a("./image/loading_displaying");a("./image/p5.Image");a("./image/pixels");a("./io/files");a("./io/p5.Table");a("./io/p5.TableRow");a("./io/p5.XML");a("./math/calculation");
a("./math/math");a("./math/noise");a("./math/p5.Vector");a("./math/random");a("./math/trigonometry");a("./typography/attributes");a("./typography/loading_displaying");a("./typography/p5.Font");a("./utilities/array_functions");a("./utilities/conversion");a("./utilities/string_functions");a("./utilities/time_date");a("./webgl/3d_primitives");a("./webgl/interaction");a("./webgl/light");a("./webgl/loading");a("./webgl/material");a("./webgl/p5.Camera");a("./webgl/p5.DataArray");a("./webgl/p5.Geometry");
a("./webgl/p5.Matrix");a("./webgl/p5.Quat");a("./webgl/p5.RendererGL.Immediate");a("./webgl/p5.RendererGL");a("./webgl/p5.RendererGL.Retained");a("./webgl/p5.Framebuffer");a("./webgl/p5.Shader");a("./webgl/p5.RenderBuffer");a("./webgl/p5.Texture");a("./webgl/text");a("./core/init");G.exports=x.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,
"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,
"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,
"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,
"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(a,G,q){Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};a.default.ColorConversion=
{_hsbaToHSLA:function(x){var u=x[0],r=x[1],p=x[2],k=(2-r)*p/2;return 0!=k&&(1==k?r=0:.5>k?r/=2-r:r=r*p/(2-2*k)),[u,r,k,x[3]]},_hsbaToRGBA:function(x){var u,r,p,k,f,c=6*x[0],b=x[1],d=x[2];return 0===b?[d,d,d,x[3]]:(r=d*(1-b),p=d*(1-b*(c-(u=Math.floor(c)))),b=d*(1-b*(1+u-c)),c=1===u?(k=p,f=d,r):2===u?(k=r,f=d,b):3===u?(k=r,f=p,d):4===u?(k=b,f=r,d):5===u?(k=d,f=r,p):(k=d,f=b,r),[k,f,c,x[3]])},_hslaToHSBA:function(x){var u=x[1],r=x[2];u=.5>r?(1+u)*r:r+u-r*u;return[x[0],2*(u-r)/u,u,x[3]]},_hslaToRGBA:function(x){var u,
r=6*x[0],p=x[1],k=x[2];return 0===p?[k,k,k,x[3]]:[(u=function(f,c,b){return 0>f?f+=6:6<=f&&(f-=6),1>f?c+(b-c)*f:3>f?b:4>f?c+(b-c)*(4-f):c})(2+r,p=2*k-(k=.5>k?(1+p)*k:k+p-k*p),k),u(r,p,k),u(r-2,p,k),x[3]]},_rgbaToHSBA:function(x){var u,r,p=x[0],k=x[1],f=x[2],c=Math.max(p,k,f),b=c-Math.min(p,k,f);return 0==b?r=u=0:(r=b/c,p===c?u=(k-f)/b:k===c?u=2+(f-p)/b:f===c&&(u=4+(p-k)/b),0>u?u+=6:6<=u&&(u-=6)),[u/6,r,c,x[3]]},_rgbaToHSLA:function(x){var u,r,p=x[0],k=x[1],f=x[2],c=Math.max(p,k,f),b=Math.min(p,k,
f),d=c+b;b=c-b;return 0==b?r=u=0:(r=1>d?b/d:b/(2-d),p===c?u=(k-f)/b:k===c?u=2+(f-p)/b:f===c&&(u=4+(p-k)/b),0>u?u+=6:6<=u&&(u-=6)),[u/6,r,d/2,x[3]]}};a=a.default.ColorConversion;q.default=a},{"../core/main":283}],269:[function(a,G,q){function x(c){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(c)}function u(c){return(u="function"==typeof Symbol&&
"symbol"===x(Symbol.iterator)?function(b){return x(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":x(b)})(c)}function r(){var c;return"function"!=typeof WeakMap?null:(c=new WeakMap,r=function(){return c},c)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.object.get-own-property-descriptor");
a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.map");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var p=(f=a("../core/main"))&&f.__esModule?f:{default:f},k=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==u(c)&&"function"!=typeof c)return{default:c};var b=r();if(b&&b.has(c))return b.get(c);var d,l={},h=Object.defineProperty&&
Object.getOwnPropertyDescriptor;for(d in c){var g;Object.prototype.hasOwnProperty.call(c,d)&&((g=h?Object.getOwnPropertyDescriptor(c,d):null)&&(g.get||g.set)?Object.defineProperty(l,d,g):l[d]=c[d])}l.default=c;b&&b.set(c,l);return l}(a("../core/constants"));a("./p5.Color");a("../core/friendly_errors/validate_params");a("../core/friendly_errors/file_errors");a("../core/friendly_errors/fes_core");p.default.prototype.alpha=function(c){return p.default._validateParameters("alpha",arguments),this.color(c)._getAlpha()};
p.default.prototype.blue=function(c){return p.default._validateParameters("blue",arguments),this.color(c)._getBlue()};p.default.prototype.brightness=function(c){return p.default._validateParameters("brightness",arguments),this.color(c)._getBrightness()};p.default.prototype.color=function(){for(var c,b=arguments.length,d=Array(b),l=0;l<b;l++)d[l]=arguments[l];return p.default._validateParameters("color",d),d[0]instanceof p.default.Color?d[0]:(c=Array.isArray(d[0])?d[0]:d,new p.default.Color(this,c))};
p.default.prototype.green=function(c){return p.default._validateParameters("green",arguments),this.color(c)._getGreen()};p.default.prototype.hue=function(c){return p.default._validateParameters("hue",arguments),this.color(c)._getHue()};p.default.prototype.lerpColor=function(c,b,d){p.default._validateParameters("lerpColor",arguments);c instanceof p.default.Color||(c=color(c));b instanceof p.default.Color||(b=color(b));var l,h=this._colorMode,g=this._colorMaxes;if(h===k.RGB){var m=c.levels.map(function(v){return v/
255});var t=b.levels.map(function(v){return v/255})}else if(h===k.HSB)c._getBrightness(),b._getBrightness(),m=c.hsba,t=b.hsba;else{if(h!==k.HSL)throw Error("".concat(h," cannot be used for interpolation."));c._getLightness();b._getLightness();m=c.hsla;t=b.hsla}return d=Math.max(Math.min(d,1),0),void 0===this.lerp&&(this.lerp=function(v,w,z){return z*(w-v)+v}),h===k.RGB?l=this.lerp(m[0],t[0],d):(.5<Math.abs(m[0]-t[0])&&(m[0]>t[0]?t[0]+=1:m[0]+=1),1<=(l=this.lerp(m[0],t[0],d))&&--l),c=this.lerp(m[1],
t[1],d),b=this.lerp(m[2],t[2],d),m=this.lerp(m[3],t[3],d),l*=g[h][0],c*=g[h][1],b*=g[h][2],m*=g[h][3],this.color(l,c,b,m)};p.default.prototype.paletteLerp=function(c,b){var d=c[0];if(b<d[1])return this.color(d[0]);for(d=1;d<c.length;d++){var l,h=c[d];if(b<h[1])return l=c[d-1],this.lerpColor(this.color(l[0]),this.color(h[0]),(b-l[1])/(h[1]-l[1]))}return this.color(c[c.length-1][0])};p.default.prototype.lightness=function(c){return p.default._validateParameters("lightness",arguments),this.color(c)._getLightness()};
p.default.prototype.red=function(c){return p.default._validateParameters("red",arguments),this.color(c)._getRed()};p.default.prototype.saturation=function(c){return p.default._validateParameters("saturation",arguments),this.color(c)._getSaturation()};var f=p.default;q.default=f},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,
"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(a,G,q){function x(E){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:
function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(E)}function u(E){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(M){return x(M)}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":x(M)})(E)}function r(){var E;return"function"!=typeof WeakMap?null:(E=new WeakMap,r=function(){return E},E)}function p(E){return E&&E.__esModule?E:{default:E}}function k(E,M){for(var Q=
0;Q<M.length;Q++){var V=M[Q];V.enumerable=V.enumerable||!1;V.configurable=!0;"value"in V&&(V.writable=!0);Object.defineProperty(E,V.key,V)}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");
a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.trim");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.to-string");
a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.trim");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;G=p(a("../core/main"));var f=function(E){if(E&&E.__esModule)return E;if(null===E||"object"!==u(E)&&"function"!=typeof E)return{default:E};var M=r();if(M&&M.has(E))return M.get(E);var Q,V={},W=Object.defineProperty&&Object.getOwnPropertyDescriptor;
for(Q in E){var R;Object.prototype.hasOwnProperty.call(E,Q)&&((R=W?Object.getOwnPropertyDescriptor(E,Q):null)&&(R.get||R.set)?Object.defineProperty(V,Q,R):V[Q]=E[Q])}V.default=E;M&&M.set(E,V);return V}(a("../core/constants")),c=p(a("./color_conversion")),b={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",
chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",
darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",
lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",
mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",
peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",
violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};a=/\s*/;var d=/(\d{1,3})/,l=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,h=new RegExp("".concat(l.source,"%")),g=/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,m=/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,t=/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,v=/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,w=new RegExp(["^rgb\\(",d.source,",",d.source,",",d.source,"\\)$"].join(a.source),"i"),z=new RegExp(["^rgb\\(",
h.source,",",h.source,",",h.source,"\\)$"].join(a.source),"i"),y=new RegExp(["^rgba\\(",d.source,",",d.source,",",d.source,",",l.source,"\\)$"].join(a.source),"i"),F=new RegExp(["^rgba\\(",h.source,",",h.source,",",h.source,",",l.source,"\\)$"].join(a.source),"i"),D=new RegExp(["^hsl\\(",d.source,",",h.source,",",h.source,"\\)$"].join(a.source),"i"),C=new RegExp(["^hsla\\(",d.source,",",h.source,",",h.source,",",l.source,"\\)$"].join(a.source),"i"),N=new RegExp(["^hsb\\(",d.source,",",h.source,",",
h.source,"\\)$"].join(a.source),"i"),J=new RegExp(["^hsba\\(",d.source,",",h.source,",",h.source,",",l.source,"\\)$"].join(a.source),"i");d=(G.default.Color=function(){function E(V,W){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(V._colorMode,V._colorMaxes),![f.RGB,f.HSL,f.HSB].includes(this.mode))throw Error("".concat(this.mode," is an invalid colorMode."));this._array=E._parseInputs.apply(this,W);this._calculateLevels()}var M,Q;return Q=
[{key:"_parseInputs",value:function(V,W,R,S){var K=arguments.length;var O=this.mode,I=this.maxes[O],P=[];if(3<=K){P[0]=V/I[0];P[1]=W/I[1];P[2]=R/I[2];P[3]="number"==typeof S?S/I[3]:1;for(K=P.length-1;0<=K;--K)I=P[K],0>I?P[K]=0:1<I&&(P[K]=1);return O===f.HSL?c.default._hslaToRGBA(P):O===f.HSB?c.default._hsbaToRGBA(P):P}if(1===K&&"string"==typeof V){R=V.trim().toLowerCase();if(b[R])return E._parseInputs.call(this,b[R]);if(g.test(R))return(P=g.exec(R).slice(1).map(function(X){return parseInt(X+X,16)/
255}))[3]=1,P;if(t.test(R))return(P=t.exec(R).slice(1).map(function(X){return parseInt(X,16)/255}))[3]=1,P;if(m.test(R))return P=m.exec(R).slice(1).map(function(X){return parseInt(X+X,16)/255});if(v.test(R))return P=v.exec(R).slice(1).map(function(X){return parseInt(X,16)/255});if(w.test(R))return(P=w.exec(R).slice(1).map(function(X){return X/255}))[3]=1,P;if(z.test(R))return(P=z.exec(R).slice(1).map(function(X){return parseFloat(X)/100}))[3]=1,P;if(y.test(R))return P=y.exec(R).slice(1).map(function(X,
ca){return 3===ca?parseFloat(X):X/255});if(F.test(R))return P=F.exec(R).slice(1).map(function(X,ca){return 3===ca?parseFloat(X):parseFloat(X)/100});if(D.test(R)?(P=D.exec(R).slice(1).map(function(X,ca){return 0===ca?parseInt(X,10)/360:parseInt(X,10)/100}))[3]=1:C.test(R)&&(P=C.exec(R).slice(1).map(function(X,ca){return 0===ca?parseInt(X,10)/360:3===ca?parseFloat(X):parseInt(X,10)/100})),(P=P.map(function(X){return Math.max(Math.min(X,1),0)})).length)return c.default._hslaToRGBA(P);if(N.test(R)?(P=
N.exec(R).slice(1).map(function(X,ca){return 0===ca?parseInt(X,10)/360:parseInt(X,10)/100}))[3]=1:J.test(R)&&(P=J.exec(R).slice(1).map(function(X,ca){return 0===ca?parseInt(X,10)/360:3===ca?parseFloat(X):parseInt(X,10)/100})),P.length){for(K=P.length-1;0<=K;--K)P[K]=Math.max(Math.min(P[K],1),0);return c.default._hsbaToRGBA(P)}P=[1,1,1,1]}else{if(1!==K&&2!==K||"number"!=typeof V)throw Error("".concat(arguments,"is not a valid color representation."));P[0]=V/I[2];P[1]=V/I[2];P[2]=V/I[2];P[3]="number"==
typeof W?W/I[3]:1;P=P.map(function(X){return Math.max(Math.min(X,1),0)})}return P}}],M=[{key:"toString",value:function(V){var W=this.levels,R=this._array,S=R[3];switch(V){case "#rrggbb":return"#".concat(16>W[0]?"0".concat(W[0].toString(16)):W[0].toString(16),16>W[1]?"0".concat(W[1].toString(16)):W[1].toString(16),16>W[2]?"0".concat(W[2].toString(16)):W[2].toString(16));case "#rrggbbaa":return"#".concat(16>W[0]?"0".concat(W[0].toString(16)):W[0].toString(16),16>W[1]?"0".concat(W[1].toString(16)):W[1].toString(16),
16>W[2]?"0".concat(W[2].toString(16)):W[2].toString(16),16>W[3]?"0".concat(W[3].toString(16)):W[3].toString(16));case "#rgb":return"#".concat(Math.round(15*R[0]).toString(16),Math.round(15*R[1]).toString(16),Math.round(15*R[2]).toString(16));case "#rgba":return"#".concat(Math.round(15*R[0]).toString(16),Math.round(15*R[1]).toString(16),Math.round(15*R[2]).toString(16),Math.round(15*R[3]).toString(16));case "rgb":return"rgb(".concat(W[0],", ",W[1],", ",W[2],")");case "rgb%":return"rgb(".concat((100*
R[0]).toPrecision(3),"%, ",(100*R[1]).toPrecision(3),"%, ",(100*R[2]).toPrecision(3),"%)");case "rgba%":return"rgba(".concat((100*R[0]).toPrecision(3),"%, ",(100*R[1]).toPrecision(3),"%, ",(100*R[2]).toPrecision(3),"%, ",(100*R[3]).toPrecision(3),"%)");case "hsb":case "hsv":return this.hsba||(this.hsba=c.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[f.HSB][0],", ",this.hsba[1]*this.maxes[f.HSB][1],", ",this.hsba[2]*this.maxes[f.HSB][2],")");case "hsb%":case "hsv%":return this.hsba||
(this.hsba=c.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case "hsba":case "hsva":return this.hsba||(this.hsba=c.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[f.HSB][0],", ",this.hsba[1]*this.maxes[f.HSB][1],", ",this.hsba[2]*this.maxes[f.HSB][2],", ",S,")");case "hsba%":case "hsva%":return this.hsba||(this.hsba=c.default._rgbaToHSBA(this._array)),"hsba(".concat((100*
this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*S).toPrecision(3),"%)");case "hsl":return this.hsla||(this.hsla=c.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[f.HSL][0],", ",this.hsla[1]*this.maxes[f.HSL][1],", ",this.hsla[2]*this.maxes[f.HSL][2],")");case "hsl%":return this.hsla||(this.hsla=c.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),
"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case "hsla":return this.hsla||(this.hsla=c.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[f.HSL][0],", ",this.hsla[1]*this.maxes[f.HSL][1],", ",this.hsla[2]*this.maxes[f.HSL][2],", ",S,")");case "hsla%":return this.hsla||(this.hsla=c.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*S).toPrecision(3),"%)");
default:return"rgba(".concat(W[0],",",W[1],",",W[2],",",S,")")}}},{key:"setRed",value:function(V){this._array[0]=V/this.maxes[f.RGB][0];this._calculateLevels()}},{key:"setGreen",value:function(V){this._array[1]=V/this.maxes[f.RGB][1];this._calculateLevels()}},{key:"setBlue",value:function(V){this._array[2]=V/this.maxes[f.RGB][2];this._calculateLevels()}},{key:"setAlpha",value:function(V){this._array[3]=V/this.maxes[this.mode][3];this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var V=
this._array,W=this.levels=Array(V.length),R=V.length-1;0<=R;--R)W[R]=Math.round(255*V[R]);this.hsba=this.hsla=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(V,W){this.mode=V;this.maxes=W}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[f.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||
(this.hsba=c.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[f.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[f.RGB][1]}},{key:"_getHue",value:function(){return this.mode===f.HSB?(this.hsba||(this.hsba=c.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[f.HSB][0]):(this.hsla||(this.hsla=c.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[f.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=c.default._rgbaToHSLA(this._array)),
this.hsla[2]*this.maxes[f.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[f.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===f.HSB?(this.hsba||(this.hsba=c.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[f.HSB][1]):(this.hsla||(this.hsla=c.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[f.HSL][1])}}],k(E.prototype,M),Q&&k(E,Q),E}(),G.default.Color);q.default=d},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,
"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,
"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(a,G,q){function x(c){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(c)}function u(c){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?
function(b){return x(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":x(b)})(c)}function r(){var c;return"function"!=typeof WeakMap?null:(c=new WeakMap,r=function(){return c},c)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");
a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.fill");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var p=(f=a("../core/main"))&&f.__esModule?f:{default:f},k=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==u(c)&&"function"!=typeof c)return{default:c};var b=r();if(b&&b.has(c))return b.get(c);var d,l={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in c){var g;
Object.prototype.hasOwnProperty.call(c,d)&&((g=h?Object.getOwnPropertyDescriptor(c,d):null)&&(g.get||g.set)?Object.defineProperty(l,d,g):l[d]=c[d])}l.default=c;b&&b.set(c,l);return l}(a("../core/constants"));a("./p5.Color");p.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};p.default.prototype.endClip=function(){this._renderer.endClip()};p.default.prototype.clip=function(c,b){this._renderer.beginClip(b);c();this._renderer.endClip(b)};
p.default.prototype.background=function(){var c;return(c=this._renderer).background.apply(c,arguments),this};p.default.prototype.clear=function(){return this._renderer.clear((0>=arguments.length?void 0:arguments[0])||0,(1>=arguments.length?void 0:arguments[1])||0,(2>=arguments.length?void 0:arguments[2])||0,(3>=arguments.length?void 0:arguments[3])||0),this};p.default.prototype.colorMode=function(c,b,d,l,h){return p.default._validateParameters("colorMode",arguments),c!==k.RGB&&c!==k.HSB&&c!==k.HSL||
(this._colorMode=c,c=this._colorMaxes[c],2===arguments.length?(c[0]=b,c[1]=b,c[2]=b,c[3]=b):4===arguments.length?(c[0]=b,c[1]=d,c[2]=l):5===arguments.length&&(c[0]=b,c[1]=d,c[2]=l,c[3]=h)),this};p.default.prototype.fill=function(){var c;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(c=this._renderer).fill.apply(c,arguments),this};p.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this};p.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",
!1),this};p.default.prototype.stroke=function(){var c;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(c=this._renderer).stroke.apply(c,arguments),this};p.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this};p.default.prototype.noErase=function(){return this._renderer.noErase(),this};var f=p.default;q.default=f},{"../core/constants":272,
"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(a,G,q){Object.defineProperty(q,
"__esModule",{value:!0});q.QUADRATIC=q.LINEAR=q._CTX_MIDDLE=q._DEFAULT_LEADMULT=q._DEFAULT_TEXT_FILL=q.WORD=q.CHAR=q.BOLDITALIC=q.BOLD=q.ITALIC=q.NORMAL=q.BLUR=q.ERODE=q.DILATE=q.POSTERIZE=q.INVERT=q.OPAQUE=q.GRAY=q.THRESHOLD=q.BURN=q.DODGE=q.SOFT_LIGHT=q.HARD_LIGHT=q.OVERLAY=q.REPLACE=q.SCREEN=q.MULTIPLY=q.EXCLUSION=q.SUBTRACT=q.DIFFERENCE=q.LIGHTEST=q.DARKEST=q.ADD=q.REMOVE=q.BLEND=q.UP_ARROW=q.TAB=q.SHIFT=q.RIGHT_ARROW=q.RETURN=q.OPTION=q.LEFT_ARROW=q.ESCAPE=q.ENTER=q.DOWN_ARROW=q.DELETE=q.CONTROL=
q.BACKSPACE=q.ALT=q.AUTO=q.HSL=q.HSB=q.RGB=q.MITER=q.BEVEL=q.ROUND=q.SQUARE=q.PROJECT=q.PIE=q.CHORD=q.OPEN=q.CLOSE=q.TESS=q.QUAD_STRIP=q.QUADS=q.TRIANGLE_STRIP=q.TRIANGLE_FAN=q.TRIANGLES=q.LINE_LOOP=q.LINE_STRIP=q.LINES=q.POINTS=q.BASELINE=q.BOTTOM=q.TOP=q.CENTER=q.LEFT=q.RIGHT=q.RADIUS=q.CORNERS=q.CORNER=q.RAD_TO_DEG=q.DEG_TO_RAD=q.RADIANS=q.DEGREES=q.TWO_PI=q.TAU=q.QUARTER_PI=q.PI=q.HALF_PI=q.WAIT=q.TEXT=q.MOVE=q.HAND=q.CROSS=q.ARROW=q.WEBGL2=q.WEBGL=q.P2D=q.VERSION=void 0;q.RGBA=q.HALF_FLOAT=q.FLOAT=
q.UNSIGNED_INT=q.UNSIGNED_BYTE=q.COVER=q.CONTAIN=q.FALLBACK=q.LABEL=q.AXES=q.GRID=q._DEFAULT_FILL=q._DEFAULT_STROKE=q.PORTRAIT=q.LANDSCAPE=q.SMOOTH=q.FLAT=q.MIRROR=q.CLAMP=q.REPEAT=q.NEAREST=q.IMAGE=q.IMMEDIATE=q.TEXTURE=q.FILL=q.STROKE=q.CURVE=q.BEZIER=void 0;a=Math.PI;G=(q.VERSION="1.11.11",q.P2D="p2d",q.WEBGL="webgl",q.WEBGL2="webgl2",q.ARROW="default",q.CROSS="crosshair",q.HAND="pointer",q.MOVE="move",q.TEXT="text",q.WAIT="wait",a/2);G=(q.HALF_PI=G,a);G=(q.PI=G,a/4);G=(q.QUARTER_PI=G,2*a);G=(q.TAU=
G,2*a);G=(q.TWO_PI=G,q.DEGREES="degrees",q.RADIANS="radians",a/180);G=(q.DEG_TO_RAD=G,180/a);q.RAD_TO_DEG=G;q.CORNER="corner";q.CORNERS="corners";q.RADIUS="radius";q.RIGHT="right";q.LEFT="left";q.CENTER="center";q.TOP="top";q.BOTTOM="bottom";q.BASELINE="alphabetic";q.POINTS=0;q.LINES=1;q.LINE_STRIP=3;q.LINE_LOOP=2;q.TRIANGLES=4;q.TRIANGLE_FAN=6;q.TRIANGLE_STRIP=5;q.QUADS="quads";q.QUAD_STRIP="quad_strip";q.TESS="tess";q.CLOSE="close";q.OPEN="open";q.CHORD="chord";q.PIE="pie";q.PROJECT="square";q.SQUARE=
"butt";q.ROUND="round";q.BEVEL="bevel";q.MITER="miter";q.RGB="rgb";q.HSB="hsb";q.HSL="hsl";q.AUTO="auto";q.ALT=18;q.BACKSPACE=8;q.CONTROL=17;q.DELETE=46;q.DOWN_ARROW=40;q.ENTER=13;q.ESCAPE=27;q.LEFT_ARROW=37;q.OPTION=18;q.RETURN=13;q.RIGHT_ARROW=39;q.SHIFT=16;q.TAB=9;q.UP_ARROW=38;q.BLEND="source-over";q.REMOVE="destination-out";q.ADD="lighter";q.DARKEST="darken";q.LIGHTEST="lighten";q.DIFFERENCE="difference";q.SUBTRACT="subtract";q.EXCLUSION="exclusion";q.MULTIPLY="multiply";q.SCREEN="screen";q.REPLACE=
"copy";q.OVERLAY="overlay";q.HARD_LIGHT="hard-light";q.SOFT_LIGHT="soft-light";q.DODGE="color-dodge";q.BURN="color-burn";q.THRESHOLD="threshold";q.GRAY="gray";q.OPAQUE="opaque";q.INVERT="invert";q.POSTERIZE="posterize";q.DILATE="dilate";q.ERODE="erode";q.BLUR="blur";q.NORMAL="normal";q.ITALIC="italic";q.BOLD="bold";q.BOLDITALIC="bold italic";q.CHAR="CHAR";q.WORD="WORD";q._DEFAULT_TEXT_FILL="#000000";q._DEFAULT_LEADMULT=1.25;q._CTX_MIDDLE="middle";q.LINEAR="linear";q.QUADRATIC="quadratic";q.BEZIER=
"bezier";q.CURVE="curve";q.STROKE="stroke";q.FILL="fill";q.TEXTURE="texture";q.IMMEDIATE="immediate";q.IMAGE="image";q.NEAREST="nearest";q.REPEAT="repeat";q.CLAMP="clamp";q.MIRROR="mirror";q.FLAT="flat";q.SMOOTH="smooth";q.LANDSCAPE="landscape";q.PORTRAIT="portrait";q._DEFAULT_STROKE="#000000";q._DEFAULT_FILL="#FFFFFF";q.GRID="grid";q.AXES="axes";q.LABEL="label";q.FALLBACK="fallback";q.CONTAIN="contain";q.COVER="cover";q.UNSIGNED_BYTE="unsigned-byte";q.UNSIGNED_INT="unsigned-int";q.FLOAT="float";
q.HALF_FLOAT="half-float";q.RGBA="rgba"},{}],273:[function(a,G,q){function x(h){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function u(h){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(g){return x(g)}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":
x(g)})(h)}function r(){var h;return"function"!=typeof WeakMap?null:(h=new WeakMap,r=function(){return h},h)}function p(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function k(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");
a("core-js/modules/es.array.concat");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.search");a("core-js/modules/es.string.split");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.array.concat");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.includes");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.search");a("core-js/modules/es.string.split");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var f=(c=a("./main"))&&c.__esModule?c:{default:c},c=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==u(h)&&"function"!=typeof h)return{default:h};var g=r();
if(g&&g.has(h))return g.get(h);var m,t={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in h){var w;Object.prototype.hasOwnProperty.call(h,m)&&((w=v?Object.getOwnPropertyDescriptor(h,m):null)&&(w.get||w.set)?Object.defineProperty(t,m,w):t[m]=h[m])}t.default=h;g&&g.set(h,t);return t}(a("./constants")),b=[c.ARROW,c.CROSS,c.HAND,c.MOVE,c.TEXT,c.WAIT],d=(f.default.prototype._frameRate=0,f.default.prototype._lastFrameTime=window.performance.now(),f.default.prototype._targetFrameRate=60,
window.print),l=!1;f.default.prototype.print=function(){var h;arguments.length?(h=console).log.apply(h,arguments):l||(d(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(l=!0))};f.default.prototype.frameCount=0;f.default.prototype.deltaTime=0;f.default.prototype.focused=document.hasFocus();f.default.prototype.cursor=function(h,g,m){var t,v="auto",w=this._curElement.elt;b.includes(h)?v=h:"string"==typeof h&&(t="",g&&m&&"number"==typeof g&&"number"==
typeof m&&(t="".concat(g," ").concat(m)),v="http://"===h.substring(0,7)||"https://"===h.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(h)?"url(".concat(h,") ").concat(t,", auto"):h);w.style.cursor=v};f.default.prototype.frameRate=function(h){return f.default._validateParameters("frameRate",arguments),"number"!=typeof h||0>h?this._frameRate:(this._setProperty("_targetFrameRate",h),0===h&&this._setProperty("_frameRate",h),this)};f.default.prototype.getFrameRate=function(){return this.frameRate()};
f.default.prototype.setFrameRate=function(h){return this.frameRate(h)};f.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate};f.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"};f.default.prototype.webglVersion=c.P2D;f.default.prototype.displayWidth=screen.width;f.default.prototype.displayHeight=screen.height;f.default.prototype.windowWidth=0;f.default.prototype.windowHeight=0;f.default.prototype._onresize=function(h){this._setProperty("windowWidth",
p());this._setProperty("windowHeight",k());var g=this._isGlobal?window:this;"function"!=typeof g.windowResized||void 0===(g=g.windowResized(h))||g||h.preventDefault()};f.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",p());this._setProperty("windowHeight",k())};f.default.prototype.width=0;f.default.prototype.height=0;f.default.prototype.fullscreen=function(h){if(f.default._validateParameters("fullscreen",arguments),void 0===h)return document.fullscreenElement||document.webkitFullscreenElement||
document.mozFullScreenElement||document.msFullscreenElement;if(h){h=document.documentElement;if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw Error("Fullscreen not enabled in this browser.");h.requestFullscreen?h.requestFullscreen():h.mozRequestFullScreen?h.mozRequestFullScreen():h.webkitRequestFullscreen?h.webkitRequestFullscreen():h.msRequestFullscreen&&h.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():
document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()};f.default.prototype.pixelDensity=function(h){var g;return f.default._validateParameters("pixelDensity",arguments),"number"==typeof h?(h!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=h),(g=this).resizeCanvas(this.width,this.height,!0)):g=this._pixelDensity,g};f.default.prototype.displayDensity=function(){return window.devicePixelRatio};
f.default.prototype.getURL=function(){return location.href};f.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(h){return""!==h})};f.default.prototype.getURLParams=function(){for(var h,g=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,m={};null!=(h=g.exec(location.search));)h.index===g.lastIndex&&g.lastIndex++,m[h[1]]=h[2];return m};a=f.default;q.default=a},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,
"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],
274:[function(a,G,q){function x(c,b){b=b||console.log.bind(console);r||p();r.some(function(d){var l;if(c.message&&null!==c.message.match("\\W?".concat(d.name,"\\W")))return l="function"===d.type?"".concat(d.name,"()"):d.name,b("Did you just try to use p5.js's ".concat(l," ").concat(d.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(k)),!0})}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");
a("core-js/modules/es.array.concat");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.some");a("core-js/modules/es.function.name");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.get-own-property-names");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");
a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.match");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.string.starts-with");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");
a("core-js/modules/es.array.concat");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.some");a("core-js/modules/es.function.name");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.get-own-property-names");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");
a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.match");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.string.starts-with");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var u=(f=a("../main"))&&
f.__esModule?f:{default:f};a("../internationalization");var r=null,p=null,k=(u.default._friendlyError=u.default._checkForUserDefinedFunctions=u.default._fesErrorMonitor=function(){},r=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup");p=function(){function c(d){return Object.getOwnPropertyNames(d).filter(function(l){return"_"!==l[0]&&!(l in b)&&(b[l]=!0)}).map(function(l){var h="function"==typeof d[l]?"function":
l===l.toUpperCase()?"constant":"variable";return{name:l,type:h}})}var b={};(r=[].concat(c(u.default.prototype),c(a("../constants")))).sort(function(d,l){return l.name.length-d.name.length})};var f=(u.default.prototype._helpForMisusedAtTopLevelCode=x,"complete"!==document.readyState&&(window.addEventListener("error",x,!1),window.addEventListener("load",function(){window.removeEventListener("error",x,!1)})),u.default);q.default=f},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,
"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,
"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,
"core-js/modules/web.dom-collections.iterator":246}],275:[function(a,G,q){Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var x=(x=a("../main"))&&x.__esModule?x:{default:x};a("../internationalization");x.default._friendlyFileLoadError=function(){};a=x.default;q.default=a},{"../internationalization":281,"../main":283}],276:[function(a,G,q){function x(p){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"==
typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(p)}function u(p){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(k){return x(k)}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":x(k)})(p)}function r(){var p;return"function"!=typeof WeakMap?null:(p=new WeakMap,r=function(){return p},p)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");
a("core-js/modules/es.array.filter");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.from");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.constructor");
a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.match");a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.includes");
a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.keys");a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.match");a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");a("core-js/modules/web.dom-collections.for-each");Object.defineProperty(q,
"__esModule",{value:!0});q.default=void 0;G=function(p){return p&&p.__esModule?p:{default:p}}(a("../main"));a("../internationalization");(function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==u(p)&&"function"!=typeof p)return{default:p};var k=r();if(k&&k.has(p))return k.get(p);var f,c,b={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in p)Object.prototype.hasOwnProperty.call(p,f)&&((c=d?Object.getOwnPropertyDescriptor(p,f):null)&&(c.get||c.set)?Object.defineProperty(b,
f,c):b[f]=p[f]);return b.default=p,k&&k.set(p,b),b})(a("../constants"));G.default._fesCodeReader=function(){};q.default=G.default},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,
"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,
"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(a,G,q){function x(){var u=/(^|@)\S+:\d+/,r=/^\s*at .*(\S+:\d+|\(native\))/m,p=/^(eval@)?(\[native code])?$/;return{parse:function(k){return void 0!==k.stacktrace||void 0!==k["opera#sourceloc"]?this.parseOpera(k):k.stack&&k.stack.match(r)?this.parseV8OrIE(k):k.stack?this.parseFFOrSafari(k):void 0},extractLocation:function(k){return-1===
k.indexOf(":")?[k]:[(k=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(k.replace(/[()]/g,"")))[1],k[2]||void 0,k[3]||void 0]},parseV8OrIE:function(k){return k.stack.split("\n").filter(function(f){return!!f.match(r)},this).map(function(f){var c=(f=-1<f.indexOf("(eval ")?f.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):f).replace(/^\s+/,"").replace(/\(eval code/g,"("),b=c.match(/ (\((.+):(\d+):(\d+)\)$)/);c=(c=b?c.replace(b[0],""):c).split(/\s+/).slice(1);b=this.extractLocation(b?b[1]:
c.pop());return{functionName:c.join(" ")||void 0,fileName:-1<["eval","\x3canonymous\x3e"].indexOf(b[0])?void 0:b[0],lineNumber:b[1],columnNumber:b[2],source:f}},this)},parseFFOrSafari:function(k){return k.stack.split("\n").filter(function(f){return!f.match(p)},this).map(function(f){var c,b;return-1===(f=-1<f.indexOf(" \x3e eval")?f.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):f).indexOf("@")&&-1===f.indexOf(":")?{functionName:f}:{functionName:(b=f.match(c=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&
b[1]?b[1]:void 0,fileName:(b=this.extractLocation(f.replace(c,"")))[0],lineNumber:b[1],columnNumber:b[2],source:f}},this)},parseOpera:function(k){return!k.stacktrace||-1<k.message.indexOf("\n")&&k.message.split("\n").length>k.stacktrace.split("\n").length?this.parseOpera9(k):k.stack?this.parseOpera11(k):this.parseOpera10(k)},parseOpera9:function(k){var f=/Line (\d+).*script (?:in )?(\S+)/i;k=k.message.split("\n");for(var c=[],b=2,d=k.length;b<d;b+=2){var l=f.exec(k[b]);l&&c.push({fileName:l[2],lineNumber:l[1],
source:k[b]})}return c},parseOpera10:function(k){var f=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;k=k.stacktrace.split("\n");for(var c=[],b=0,d=k.length;b<d;b+=2){var l=f.exec(k[b]);l&&c.push({functionName:l[3]||void 0,fileName:l[2],lineNumber:l[1],source:k[b]})}return c},parseOpera11:function(k){return k.stack.split("\n").filter(function(f){return!!f.match(u)&&!f.match(/^Error created at/)},this).map(function(f){var c,b=f.split("@"),d=this.extractLocation(b.pop());b=b.shift()||
"";return{functionName:b.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(c=b.match(/\(([^)]*)\)/)?b.replace(/^[^(]+\(([^)]*)\)$/,"$1"):c)||"[arguments not available]"===c?void 0:c.split(","),fileName:d[0],lineNumber:d[1],columnNumber:d[2],source:f}},this)}}}a("core-js/modules/es.array.filter");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.regexp.exec");
a("core-js/modules/es.string.match");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.match");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");Object.defineProperty(q,"__esModule",{value:!0});q.default=
void 0;a=(a=a("../main"))&&a.__esModule?a:{default:a};a.default._getErrorStackParser=function(){return new x};a=a.default;q.default=a},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(a,
G,q){function x(k){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(k)}function u(){var k;return"function"!=typeof WeakMap?null:(k=new WeakMap,u=function(){return k},k)}function r(k){return(r="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(f){return x(f)}:function(f){return f&&"function"==typeof Symbol&&f.constructor===
Symbol&&f!==Symbol.prototype?"symbol":x(f)})(k)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.last-index-of");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");
a("core-js/modules/es.function.name");a("core-js/modules/es.map");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.set");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");
a("core-js/modules/es.string.split");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.last-index-of");
a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.function.name");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.set");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.split");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");
Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var p=(p=a("../main"))&&p.__esModule?p:{default:p};(function(k){if(!(k&&k.__esModule||null===k||"object"!==r(k)&&"function"!=typeof k)){var f=u();if(f&&f.has(k))return f.get(k);var c,b={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in k){var l;Object.prototype.hasOwnProperty.call(k,c)&&((l=d?Object.getOwnPropertyDescriptor(k,c):null)&&(l.get||l.set)?Object.defineProperty(b,c,l):b[c]=k[c])}b.default=k;f&&f.set(k,b)}})(a("../constants"));
a("../internationalization");p.default._validateParameters=p.default._clearValidateParamsCache=function(){};a=p.default;q.default=a},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,
"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,
"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(a,G,q){function x(k){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:
function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(k)}function u(k){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(f){return x(f)}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":x(f)})(k)}function r(){var k;return"function"!=typeof WeakMap?null:(k=new WeakMap,r=function(){return k},k)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");
a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var p=function(k){if(k&&k.__esModule)return k;if(null===k||"object"!==u(k)&&"function"!=typeof k)return{default:k};var f=r();if(f&&f.has(k))return f.get(k);
var c,b={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in k){var l;Object.prototype.hasOwnProperty.call(k,c)&&((l=d?Object.getOwnPropertyDescriptor(k,c):null)&&(l.get||l.set)?Object.defineProperty(b,c,l):b[c]=k[c])}b.default=k;f&&f.set(k,b);return b}(a("./constants"));q.default={modeAdjust:function(k,f,c,b,d){var l;return d===p.CORNER?l={x:k,y:f,w:Math.abs(c),h:Math.abs(b)}:d===p.CORNERS?l={x:Math.min(k,c),y:Math.min(f,b),w:Math.abs(c-k),h:Math.abs(b-f)}:d===p.RADIUS?l={x:k-(c=
Math.abs(c)),y:f-(b=Math.abs(b)),w:2*c,h:2*b}:d===p.CENTER&&(l={x:k-.5*(c=Math.abs(c)),y:f-.5*(b=Math.abs(b)),w:c,h:b}),l}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],
280:[function(a,G,q){a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");var x=(u=a("../core/main"))&&u.__esModule?u:{default:u};a("./internationalization");
var u=Promise.resolve();Promise.all([new Promise(function(r,p){"complete"===document.readyState?r():window.addEventListener("load",r,!1)}),u]).then(function(){var r;void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(r=new Event("p5Ready"),window.dispatchEvent(r),(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!x.default.instance&&new x.default)})},{"../core/main":283,
"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(a,G,q){function x(c){return c&&c.__esModule?c:{default:c}}function u(c,b){for(var d=0;d<b.length;d++){var l=b[d];l.enumerable=l.enumerable||!1;l.configurable=!0;"value"in l&&(l.writable=!0);Object.defineProperty(c,l.key,l)}}a("core-js/modules/es.array.includes");
a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");
a("core-js/modules/es.array.join");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.setTranslatorLanguage=q.currentTranslatorLanguage=
q.availableTranslatorLanguages=q.initialize=q.translator=void 0;var r=x(a("i18next")),p=x(a("i18next-browser-languagedetector")),k=a("./constants"),f=function(){function c(d,l){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.init(d,l)}var b;return b=[{key:"fetchWithTimeout",value:function(d,l){var h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2E3;return Promise.race([fetch(d,l),new Promise(function(g,m){return setTimeout(function(){return m(Error("timeout"))},
h)})])}},{key:"init",value:function(d){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=d;this.options=l}},{key:"read",value:function(d,l,h){var g=this.options.loadPath;d===this.options.fallback?h(null,(void 0)[d][l]):(void 0).includes(d)?(g=this.services.interpolator.interpolate(g,{lng:d,ns:l}),this.loadUrl(g,h)):h("Not found",!1)}},{key:"loadUrl",value:function(d,l){this.fetchWithTimeout(d).then(function(h){if(h.ok)return h.json();throw Error("failed loading ".concat(d));
},function(){throw Error("failed loading ".concat(d));}).then(function(h){return l(null,h)}).catch(l)}}],u(c.prototype,b),c}();f.type="backend";q.translator=function(c,b){console.debug("p5.js translator called before translations were loaded");r.default.t(c,b)};q.initialize=function(){return r.default.use(p.default).use(f).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring",
"navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5@".concat(k.VERSION.replace(/^(\d+\.\d+)\.\d+.*$/,"$1"),"/translations/{{lng}}/{{ns}}.json")},partialBundledLanguages:!0,resources:void 0}).then(function(c){q.translator=c},function(c){return console.debug("Translations failed to load (".concat(c,")"))})};q.availableTranslatorLanguages=function(){return r.default.languages};q.currentTranslatorLanguage=function(c){return r.default.language};
q.setTranslatorLanguage=function(c){return r.default.changeLanguage(c||void 0,function(b){return console.debug("Translations failed to load (".concat(b,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"./constants":272,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,
"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(a,G,q){Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;a=(a=a("./main"))&&a.__esModule?a:{default:a};a.default.prototype.pushStyle=function(){throw Error("pushStyle() not used, see push()");
};a.default.prototype.popStyle=function(){throw Error("popStyle() not used, see pop()");};a.default.prototype.popMatrix=function(){throw Error("popMatrix() not used, see pop()");};a.default.prototype.pushMatrix=function(){throw Error("pushMatrix() not used, see push()");};a=a.default;q.default=a},{"./main":283}],283:[function(a,G,q){function x(c){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===
Symbol&&b!==Symbol.prototype?"symbol":typeof b})(c)}function u(c){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(b){return x(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":x(b)})(c)}function r(){var c;return"function"!=typeof WeakMap?null:(c=new WeakMap,r=function(){return c},c)}function p(c,b){for(var d=0;d<b.length;d++){var l=b[d];l.enumerable=l.enumerable||!1;l.configurable=!0;"value"in l&&(l.writable=!0);Object.defineProperty(c,
l.key,l)}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.get-own-property-names");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");
a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.object.get-own-property-names");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.for-each");
a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;a("./shim");var k=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==u(c)&&"function"!=typeof c)return{default:c};var b=r();if(b&&b.has(c))return b.get(c);var d,l={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in c){var g;Object.prototype.hasOwnProperty.call(c,d)&&((g=h?Object.getOwnPropertyDescriptor(c,d):null)&&(g.get||g.set)?Object.defineProperty(l,
d,g):l[d]=c[d])}l.default=c;b&&b.set(c,l);return l}(a("./constants")),f;a=function(){function c(d,l){function h(){m._setProperty("focused",!0)}function g(){m._setProperty("focused",!1)}var m=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._isGlobal=!d;this._preloadDone=this._setupDone=!1;this._pixelDensity=Math.ceil(window.devicePixelRatio)||1;this._maxAllowedPixelDimensions=0;this._userNode=l;this._curElement=null;this._elements=[];this._glAttributes=null;
this._preloadCount=this._requestAnimId=0;this._loop=!0;this._startListener=null;this._initializeInstanceVariables();this._defaultCanvasSize={width:100,height:100};this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null};this._millisStart=-1;this.touchend=this.touchstart=this._recording=!1;this._lcg_random_state=null;
this._gaussian_previous=!1;this._events.wheel=null;this._loadingScreenId="p5_loading";this._registeredMethods={};l=Object.getOwnPropertyNames(c.prototype._registeredMethods);var t=!0,v=!1,w=void 0;try{for(var z,y=l[Symbol.iterator]();!(t=(z=y.next()).done);t=!0){var F=z.value;this._registeredMethods[F]=c.prototype._registeredMethods[F].slice()}}catch(E){v=!0,w=E}finally{try{t||null==y.return||y.return()}finally{if(v)throw w;}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null);window.DeviceMotionEvent&&
!window._isNodeWebkit&&(this._events.devicemotion=null);c.prototype.callRegisteredHooksFor=function(E){var M=this||c.prototype,Q=this._isGlobal?window:this;if(M._registeredMethods.hasOwnProperty(E)){M=M._registeredMethods[E];var V=!0;E=!1;var W=void 0;try{for(var R,S=M[Symbol.iterator]();!(V=(R=S.next()).done);V=!0){var K=R.value;"function"==typeof K&&K.call(Q)}}catch(O){E=!0,W=O}finally{try{V||null==S.return||S.return()}finally{if(E)throw W;}}}};this._start=function(){m._userNode&&"string"==typeof m._userNode&&
(m._userNode=document.getElementById(m._userNode));var E=m._isGlobal?window:m;if(E.preload){m.callRegisteredHooksFor("beforePreload");var M,Q=document.getElementById(m._loadingScreenId),V=(Q||((Q=document.createElement("div")).innerHTML="Loading...",Q.style.position="absolute",Q.id=m._loadingScreenId,(m._userNode||document.body).appendChild(Q)),m._preloadMethods);for(M in V)V[M]=V[M]||c,Q=V[M],Q!==c.prototype&&Q!==c||(m._isGlobal&&(window[M]=m._wrapPreload(m,M)),Q=m),m._registeredPreloadMethods[M]=
Q[M],Q[M]=m._wrapPreload(Q,M);E.preload();m._runIfPreloadsAreDone()}else m._setup(),m._recording||m._draw()};this._runIfPreloadsAreDone=function(){var E,M=this._isGlobal?window:this;0===M._preloadCount&&((E=document.getElementById(M._loadingScreenId))&&E.parentNode.removeChild(E),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),M._setup(),this._recording||M._draw()))};this._decrementPreload=
function(){var E=this._isGlobal?window:this;E._preloadDone||"function"!=typeof E.preload||(E._setProperty("_preloadCount",E._preloadCount-1),E._runIfPreloadsAreDone())};this._wrapPreload=function(E,M){var Q=this;return function(){Q._incrementPreload();for(var V=arguments.length,W=Array(V),R=0;R<V;R++)W[R]=arguments[R];return Q._registeredPreloadMethods[M].apply(E,W)}};this._incrementPreload=function(){var E=this._isGlobal?window:this;E._preloadDone||E._setProperty("_preloadCount",E._preloadCount+
1)};this._setup=function(){m.callRegisteredHooksFor("beforeSetup");m.createCanvas(m._defaultCanvasSize.width,m._defaultCanvasSize.height,"p2d");var E=m._isGlobal?window:m;if("function"==typeof E.preload)for(var M in m._preloadMethods)E[M]=m._preloadMethods[M][M],E[M]&&m&&(E[M]=E[M].bind(m));m._millisStart=window.performance.now();E._preloadDone=!0;"function"==typeof E.setup&&E.setup();E=document.getElementsByTagName("canvas");M=!0;var Q=!1,V=void 0;try{for(var W,R=E[Symbol.iterator]();!(M=(W=R.next()).done);M=
!0){var S=W.value;"true"===S.dataset.hidden&&(S.style.visibility="",delete S.dataset.hidden)}}catch(K){Q=!0,V=K}finally{try{M||null==R.return||R.return()}finally{if(Q)throw V;}}m._lastTargetFrameTime=window.performance.now();m._lastRealFrameTime=window.performance.now();m._setupDone=!0;(m._accessibleOutputs.grid||m._accessibleOutputs.text)&&m._updateAccsOutput();m.callRegisteredHooksFor("afterSetup")};this._draw=function(E){E=E||window.performance.now();var M=E-m._lastTargetFrameTime,Q=1E3/m._targetFrameRate;
(!m._loop||Q-5<=M)&&(m.deltaTime=E-m._lastRealFrameTime,m._setProperty("deltaTime",m.deltaTime),m._frameRate=1E3/m.deltaTime,m.redraw(),m._lastTargetFrameTime=Math.max(m._lastTargetFrameTime+Q,E),m._lastRealFrameTime=E,void 0!==m._updateMouseCoords&&(m._updateMouseCoords(),m._setProperty("movedX",0),m._setProperty("movedY",0)));m._loop&&(m._requestAnimId=window.requestAnimationFrame(m._draw))};this._setProperty=function(E,M){m[E]=M;m._isGlobal&&(window[E]=M)};this.remove=function(){m._startListener&&
window.removeEventListener("load",m._startListener,!1);var E=document.getElementById(m._loadingScreenId);if(E&&(E.parentNode.removeChild(E),m._incrementPreload()),m._curElement){for(var M in m._loop=!1,m._requestAnimId&&window.cancelAnimationFrame(m._requestAnimId),m._events)window.removeEventListener(M,m._events[M]);M=!0;E=!1;var Q=void 0;try{for(var V,W=m._elements[Symbol.iterator]();!(M=(V=W.next()).done);M=!0){var R,S=V.value;for(R in S.elt&&S.elt.parentNode&&S.elt.parentNode.removeChild(S.elt),
S._events)S.elt.removeEventListener(R,S._events[R])}}catch(P){E=!0,Q=P}finally{try{M||null==W.return||W.return()}finally{if(E)throw Q;}}var K=m;m._registeredMethods.remove.forEach(function(P){void 0!==P&&P.call(K)})}if(m._isGlobal){for(var O in c.prototype)try{delete window[O]}catch(P){window[O]=void 0}for(var I in m)if(m.hasOwnProperty(I))try{delete window[I]}catch(P){window[I]=void 0}c.instance=null}};var D,C;l=this._createFriendlyGlobalFunctionBinder();if(this._isGlobal){for(var N in c.instance=
this,c.prototype)"function"==typeof c.prototype[N]?(D=N.substring(2),this._events.hasOwnProperty(D)||(Math.hasOwnProperty(N)&&Math[N]===c.prototype[N]?l(N,c.prototype[N]):l(N,c.prototype[N].bind(this)))):l(N,c.prototype[N]);for(var J in this)this.hasOwnProperty(J)&&l(J,this[J])}else d(this),c._checkForUserDefinedFunctions(this);for(C in this._updateWindowSize(),this.callRegisteredHooksFor("init"),this._setupPromisePreloads(),this._events)(d=this["_on".concat(C)])&&(d=d.bind(this),window.addEventListener(C,
d,{passive:!1}),this._events[C]=d);window.addEventListener("focus",h);window.addEventListener("blur",g);this.registerMethod("remove",function(){window.removeEventListener("focus",h);window.removeEventListener("blur",g)});"complete"===document.readyState?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var b;return b=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1};
this._styles=[];this._curveDetail=this._bezierDetail=20;this._colorMode=k.RGB;this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]};this._downKeys={}}},{key:"registerPreloadMethod",value:function(d,l){c.prototype._preloadMethods.hasOwnProperty(d)||(c.prototype._preloadMethods[d]=l)}},{key:"registerMethod",value:function(d,l){var h=this||c.prototype;h._registeredMethods.hasOwnProperty(d)||(h._registeredMethods[d]=[]);h._registeredMethods[d].push(l)}},{key:"unregisterMethod",
value:function(d,l){var h=this||c.prototype;if(h._registeredMethods.hasOwnProperty(d)){d=h._registeredMethods[d];h=[];for(var g=0;g<d.length;g++)d[g]===l&&h.push(g);for(l=h.length-1;0<=l;l--)d.splice(h[l],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},l=d.globalObject||window;d.log||console.log.bind(console);return function(h,g){c.disableFriendlyErrors;l[h]=g}}}],p(c.prototype,b),c}();for(f in a.instance=null,a.disableFriendlyErrors=
!1,k)a.prototype[f]=k[f];a.VERSION=k.VERSION;a.prototype._preloadMethods={loadJSON:a.prototype,loadImage:a.prototype,loadStrings:a.prototype,loadXML:a.prototype,loadBytes:a.prototype,loadTable:a.prototype,loadFont:a.prototype,loadModel:a.prototype,loadShader:a.prototype};a.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]};a.prototype._registeredPreloadMethods={};q.default=a},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,
"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],
284:[function(a,G,q){function x(r,p){for(var k=0;k<p.length;k++){var f=p[k];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(r,f.key,f)}}Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var u=(a=a("./main"))&&a.__esModule?a:{default:a};u.default.Element=function(){function r(f,c){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.elt=f;this._pInst=this._pixelsState=c;this._events={};this.width=this.elt.offsetWidth;
this.height=this.elt.offsetHeight}var p,k;return k=[{key:"_adjustListener",value:function(f,c,b){return!1===c?u.default.Element._detachListener(f,b):u.default.Element._attachListener(f,c,b),this}},{key:"_attachListener",value:function(f,c,b){b._events[f]&&u.default.Element._detachListener(f,b);c=c.bind(b);b.elt.addEventListener(f,c,!1);b._events[f]=c}},{key:"_detachListener",value:function(f,c){c.elt.removeEventListener(f,c._events[f],!1);c._events[f]=null}}],p=[{key:"parent",value:function(f){return void 0===
f?this.elt.parentNode:("string"==typeof f?("#"===f[0]&&(f=f.substring(1)),f=document.getElementById(f)):f instanceof u.default.Element&&(f=f.elt),f.appendChild(this.elt),this)}},{key:"id",value:function(f){return void 0===f?this.elt.id:(this.elt.id=f,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(f){return void 0===f?this.elt.className:(this.elt.className=f,this)}},{key:"mousePressed",value:function(f){return u.default.Element._adjustListener("mousedown",
function(c){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(c),f.call(this,c)},this),this}},{key:"doubleClicked",value:function(f){return u.default.Element._adjustListener("dblclick",f,this),this}},{key:"mouseWheel",value:function(f){return u.default.Element._adjustListener("wheel",f,this),this}},{key:"mouseReleased",value:function(f){return u.default.Element._adjustListener("mouseup",f,this),this}},{key:"mouseClicked",value:function(f){return u.default.Element._adjustListener("click",
f,this),this}},{key:"mouseMoved",value:function(f){return u.default.Element._adjustListener("mousemove",f,this),this}},{key:"mouseOver",value:function(f){return u.default.Element._adjustListener("mouseover",f,this),this}},{key:"mouseOut",value:function(f){return u.default.Element._adjustListener("mouseout",f,this),this}},{key:"touchStarted",value:function(f){return u.default.Element._adjustListener("touchstart",f,this),this}},{key:"touchMoved",value:function(f){return u.default.Element._adjustListener("touchmove",
f,this),this}},{key:"touchEnded",value:function(f){return u.default.Element._adjustListener("touchend",f,this),this}},{key:"dragOver",value:function(f){return u.default.Element._adjustListener("dragover",f,this),this}},{key:"dragLeave",value:function(f){return u.default.Element._adjustListener("dragleave",f,this),this}},{key:"_setProperty",value:function(f,c){this[f]=c}}],x(r.prototype,p),k&&x(r,k),r}();a=u.default.Element;q.default=a},{"./main":283}],285:[function(a,G,q){function x(m){return(x="function"==
typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(m)}function u(m){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(t){return x(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":x(t)})(m)}function r(){var m;return"function"!=typeof WeakMap?null:(m=new WeakMap,r=function(){return m},
m)}function p(m,t){for(var v=0;v<t.length;v++){var w=t[v];w.enumerable=w.enumerable||!1;w.configurable=!0;"value"in w&&(w.writable=!0);Object.defineProperty(m,w.key,w)}}function k(m,t){return(k=Object.setPrototypeOf||function(v,w){return v.__proto__=w,v})(m,t)}function f(m){return function(){var t,v=d(m);return c(this,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,
[],function(){})),1}catch(w){}}}()?(t=d(this).constructor,Reflect.construct(v,arguments,t)):v.apply(this,arguments))}}function c(m,t){return!t||"object"!==u(t)&&"function"!=typeof t?b(m):t}function b(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function d(m){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(m)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");
a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.splice");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.splice");a("core-js/modules/es.object.get-prototype-of");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var l=(g=a("./main"))&&g.__esModule?g:{default:g},h=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==u(m)&&"function"!=typeof m)return{default:m};var t=r();if(t&&t.has(m))return t.get(m);var v,w={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in m){var y;Object.prototype.hasOwnProperty.call(m,
v)&&((y=z?Object.getOwnPropertyDescriptor(m,v):null)&&(y.get||y.set)?Object.defineProperty(w,v,y):w[v]=m[v])}w.default=m;t&&t.set(m,w);return w}(a("./constants"));l.default.Graphics=function(m){function t(z,y,F,D,C){var N;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");E=C||document.createElement("canvas");(N=w.call(this,E,D)).canvas=E;var J,E=F||h.P2D;F=D._userNode||document.body;for(J in C||F.appendChild(N.canvas),l.default.prototype)N[J]||("function"==typeof l.default.prototype[J]?
N[J]=l.default.prototype[J].bind(b(N)):N[J]=l.default.prototype[J]);return l.default.prototype._initializeInstanceVariables.apply(b(N)),N.width=z,N.height=y,N._pixelDensity=D._pixelDensity,E===h.WEBGL?(N._renderer=new l.default.RendererGL(N.canvas,b(N),!1),z=(C=N._renderer._adjustDimensions(z,y)).adjustedWidth,y=C.adjustedHeight):N._renderer=new l.default.Renderer2D(N.canvas,b(N),!1),D._elements.push(b(N)),Object.defineProperty(b(N),"deltaTime",{get:function(){return this._pInst.deltaTime}}),N._renderer.resize(z,
y),N._renderer._applyDefaults(),c(N,b(N))}var v=t;if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,writable:!0,configurable:!0}});m&&k(v,m);var w=f(t);return v=t,m=[{key:"reset",value:function(){this._renderer.resetMatrix();this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var z,y=this._pInst._elements.indexOf(this);
for(z in-1!==y&&this._pInst._elements.splice(y,1),this._events)this.elt.removeEventListener(z,this._events[z]);this.elt=this.canvas=this._renderer=void 0}},{key:"createFramebuffer",value:function(z){return new l.default.Framebuffer(this,z)}}],p(v.prototype,m),t}(l.default.Element);var g=l.default.Graphics;q.default=g},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,
"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(a,G,q){function x(m){return(x="function"==typeof Symbol&&"symbol"==
typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(m)}function u(){var m;return"function"!=typeof WeakMap?null:(m=new WeakMap,u=function(){return m},m)}function r(m){return(r="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(t){return x(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":x(t)})(m)}function p(m,t){for(var v=
0;v<t.length;v++){var w=t[v];w.enumerable=w.enumerable||!1;w.configurable=!0;"value"in w&&(w.writable=!0);Object.defineProperty(m,w.key,w)}}function k(m,t){return(k=Object.setPrototypeOf||function(v,w){return v.__proto__=w,v})(m,t)}function f(m){return function(){var t,v,w=b(m);return t=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(z){}}}()?
(t=b(this).constructor,Reflect.construct(w,arguments,t)):w.apply(this,arguments),w=this,!(v=t)||"object"!==r(v)&&"function"!=typeof v?c(w):v}}function c(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function b(m){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(m)}function d(m){var t=0,v=0;if(m.offsetParent)for(;t+=m.offsetLeft,v+=m.offsetTop,m=m.offsetParent;);else t+=
m.offsetLeft,v+=m.offsetTop;return[t,v]}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");
a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.replace");
a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var l=(g=a("./main"))&&g.__esModule?g:{default:g},h=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==r(m)&&"function"!=typeof m)return{default:m};var t=u();if(t&&t.has(m))return t.get(m);var v,w={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in m){var y;Object.prototype.hasOwnProperty.call(m,v)&&((y=z?Object.getOwnPropertyDescriptor(m,
v):null)&&(y.get||y.set)?Object.defineProperty(w,v,y):w[v]=m[v])}w.default=m;t&&t.set(m,w);return w}(a("../core/constants")),g=function(m){function t(z,y,F){var D;if(this instanceof t)return(D=w.call(this,z,y)).canvas=z,D._pixelsState=y,F?(D._isMainCanvas=!0,D._pInst._setProperty("_curElement",c(D)),D._pInst._setProperty("canvas",D.canvas),D._pInst._setProperty("width",D.width),D._pInst._setProperty("height",D.height)):(D.canvas.style.display="none",D._styles=[]),D._clipping=!1,D._clipInvert=!1,D._textSize=
12,D._textLeading=15,D._textFont="sans-serif",D._textStyle=h.NORMAL,D._textAscent=null,D._textDescent=null,D._textAlign=h.LEFT,D._textBaseline=h.BASELINE,D._textWrap=h.WORD,D._rectMode=h.CORNER,D._ellipseMode=h.CENTER,D._curveTightness=0,D._imageMode=h.CORNER,D._tint=null,D._doStroke=!0,D._doFill=!0,D._strokeSet=!1,D._fillSet=!1,D._leadingSet=!1,D._pushPopDepth=0,D;throw new TypeError("Cannot call a class as a function");}var v=t;if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");
v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,writable:!0,configurable:!0}});m&&k(v,m);var w=f(t);return v=t,m=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,
_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(z){this._pushPopDepth--;z.properties&&Object.assign(this,z.properties)}},{key:"beginClip",value:function(){var z=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this._clipping)throw Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0;this._clipInvert=z.invert}},{key:"endClip",
value:function(){if(!this._clipping)throw Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(z,y){this.width=z;this.height=y;this.elt.width=z*this._pInst._pixelDensity;this.elt.height=y*this._pInst._pixelDensity;this.elt.style.width="".concat(z,"px");this.elt.style.height="".concat(y,"px");this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},
{key:"get",value:function(z,y,F,D){var C=this._pixelsState,N=C._pixelDensity,J=this.canvas;if(void 0===z&&void 0===y)z=y=0,F=C.width,D=C.height;else if(z*=N,y*=N,void 0===F&&void 0===D)return 0>z||0>y||z>=J.width||y>=J.height?[0,0,0,0]:this._getPixel(z,y);C=new l.default.Image(F*N,D*N);return C.pixelDensity(N),C.canvas.getContext("2d").drawImage(J,z,y,F*N,D*N,0,0,F*N,D*N),C}},{key:"textLeading",value:function(z){return"number"==typeof z?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",
z),this._pInst):this._textLeading}},{key:"textStyle",value:function(z){return z?(z!==h.NORMAL&&z!==h.ITALIC&&z!==h.BOLD&&z!==h.BOLDITALIC||this._setProperty("_textStyle",z),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(z,y){return void 0!==z?
(this._setProperty("_textAlign",z),void 0!==y&&this._setProperty("_textBaseline",y),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(z){return this._setProperty("_textWrap",z),this._textWrap}},{key:"text",value:function(z,y,F,D,C){var N,J=this._pInst,E=this._textWrap,M=Number.MAX_VALUE,Q=F;if((this._doFill||this._doStroke)&&void 0!==z){if(N=(z=(z="string"!=typeof z?z.toString():z).replace(/(\t)/g,"  ")).split("\n"),void 0!==D){switch(this._rectMode===
h.CENTER&&(y-=D/2),this._textAlign){case h.CENTER:y+=D/2;break;case h.RIGHT:y+=D}if(void 0!==C){this._rectMode===h.CENTER&&(F-=C/2,Q-=C/2);z=F;var V=J.textAscent();switch(this._textBaseline){case h.BOTTOM:F=Math.max(F+C,F);Q+=V;break;case h.CENTER:F=Math.max(F+C/2,F),Q+=V/2}M=F+C-V;this._textBaseline===h.CENTER&&(M=z+C-V/2)}else this._textBaseline!==h.BOTTOM&&this._textBaseline!==h.CENTER||(Q=F-(z=J.textSize()*this._textLeading)/2,M=F+z/2);if(E===h.WORD){C=[];for(E=0;E<N.length;E++){var W="";var R=
N[E].split(" ");for(V=0;V<R.length;V++)z="".concat(W+R[V])+" ",W=D<this.textWidth(z)&&0<W.length?(C.push(W),"".concat(R[V])+" "):z;C.push(W)}E=0;this._textBaseline===h.CENTER?E=(C.length-1)*J.textLeading()/2:this._textBaseline===h.BOTTOM&&(E=(C.length-1)*J.textLeading());for(C=0;C<N.length;C++){W="";R=N[C].split(" ");for(V=0;V<R.length;V++)z="".concat(W+R[V])+" ",D<this.textWidth(z)&&0<W.length?(this._renderText(J,W.trim(),y,F-E,M,Q),W="".concat(R[V])+" ",F+=J.textLeading()):W=z;this._renderText(J,
W.trim(),y,F-E,M,Q);F+=J.textLeading()}}else{E=[];for(V=0;V<N.length;V++){C=N[V].split(W="");for(var S=0;S<C.length;S++)z="".concat(W+C[S]),(R=this.textWidth(z))<=D?W+=C[S]:D<R&&0<W.length&&(E.push(W),W="".concat(C[S]))}E.push(W);V=0;this._textBaseline===h.CENTER?V=(E.length-1)*J.textLeading()/2:this._textBaseline===h.BOTTOM&&(V=(E.length-1)*J.textLeading());for(E=0;E<N.length;E++)for(C=N[E].split(W=""),S=0;S<C.length;S++)z="".concat(W+C[S]),(R=this.textWidth(z))<=D?W+=C[S]:D<R&&0<W.length&&(this._renderText(J,
W.trim(),y,F-V,M,Q),F+=J.textLeading(),W="".concat(C[S]));this._renderText(J,W.trim(),y,F-V,M,Q);J.textLeading()}}else for(D=0,this._textBaseline===h.CENTER?D=(N.length-1)*J.textLeading()/2:this._textBaseline===h.BOTTOM&&(D=(N.length-1)*J.textLeading()),W=0;W<N.length;W++)this._renderText(J,N[W],y,F-D,M,Q-D),F+=J.textLeading();return J}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var z=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;
return"object"===r(z)&&z.font&&z.font.supported}},{key:"_updateTextMetrics",value:function(){var z,y,F,D,C,N;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((z=document.createElement("span")).style.fontFamily=this._textFont,z.style.fontSize="".concat(this._textSize,"px"),z.innerHTML="ABCjgq|",(N=document.createElement("div")).style.display="inline-block",N.style.width="1px",N.style.height="0px",
D=((y=document.createElement("div")).appendChild(z),y.appendChild(N),y.style.height="0px",y.style.overflow="hidden",document.body.appendChild(y),N.style.verticalAlign="baseline",d(N)),C=d(z),F=D[1]-C[1],D=(N.style.verticalAlign="bottom",d(N)),C=d(z),N=D[1]-C[1]-F,document.body.removeChild(y),this._setProperty("_textAscent",F),this._setProperty("_textDescent",N)),this}}],p(v.prototype,m),t}(l.default.Element);g.prototype.textSize=function(m){return"number"==typeof m?(this._setProperty("_textSize",
m),this._leadingSet||this._setProperty("_textLeading",m*h._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize};l.default.Renderer=g;a=l.default.Renderer;q.default=a},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,
"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(a,G,q){function x(g){return(x="function"==typeof Symbol&&
"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}function u(g){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(m){return x(m)}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":x(m)})(g)}function r(){var g;return"function"!=typeof WeakMap?null:(g=new WeakMap,r=function(){return g},g)}function p(g,
m){for(var t=0;t<m.length;t++){var v=m[t];v.enumerable=v.enumerable||!1;v.configurable=!0;"value"in v&&(v.writable=!0);Object.defineProperty(g,v.key,v)}}function k(g,m,t){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(v,w,z){for(;!Object.prototype.hasOwnProperty.call(v,w)&&null!==(v=b(v)););if(v)return(v=Object.getOwnPropertyDescriptor(v,w)).get?v.get.call(z):v.value})(g,m,t||g)}function f(g,m){return(f=Object.setPrototypeOf||function(t,v){return t.__proto__=v,t})(g,m)}function c(g){return function(){var m,
t=b(g);t=(m=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(v){}}}()?(m=b(this).constructor,Reflect.construct(t,arguments,m)):t.apply(this,arguments),this);if(!m||"object"!==u(m)&&"function"!=typeof m){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return m}}function b(g){return(b=
Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(g)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.slice");a("core-js/modules/es.function.name");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.get-prototype-of");
a("core-js/modules/es.object.to-string");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.reflect.get");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.join");a("core-js/modules/es.array.slice");a("core-js/modules/es.function.name");a("core-js/modules/es.object.get-prototype-of");
a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var d=(h=a("./main"))&&h.__esModule?h:{default:h},l=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==u(g)&&"function"!=typeof g)return{default:g};var m=r();if(m&&m.has(g))return m.get(g);var t,v={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in g){var z;Object.prototype.hasOwnProperty.call(g,
t)&&((z=w?Object.getOwnPropertyDescriptor(g,t):null)&&(z.get||z.set)?Object.defineProperty(v,t,z):v[t]=g[t])}v.default=g;m&&m.set(g,v);return v}(a("./constants"));a("./p5.Renderer");var h=function(g){function m(w,z,y){if(this instanceof m)return(w=v.call(this,w,z,y)).drawingContext=w.canvas.getContext("2d"),w._pInst._setProperty("drawingContext",w.drawingContext),w;throw new TypeError("Cannot call a class as a function");}var t=m;if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function");
t.prototype=Object.create(g&&g.prototype,{constructor:{value:t,writable:!0,configurable:!0}});g&&f(t,g);var v=c(m);return t=m,g=[{key:"getFilterGraphicsLayer",value:function(){var w;return this.filterGraphicsLayer||(w=(this._pInst instanceof d.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new d.default.Graphics(this.width,this.height,l.WEBGL,w)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,
this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0;this._cachedBlendMode=l.BLEND;this._setFill(l._DEFAULT_FILL);this._setStroke(l._DEFAULT_STROKE);this.drawingContext.lineCap=l.ROUND;this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(w,z){k(b(m.prototype),
"resize",this).call(this,w,z);this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var w,z;this.drawingContext.save();this.resetMatrix();(0>=arguments.length?void 0:arguments[0])instanceof d.default.Image?0<=(1>=arguments.length?void 0:arguments[1])?(w=0>=arguments.length?void 0:arguments[0],this.drawingContext.globalAlpha=(1>=arguments.length?NaN:arguments[1])/255,this._pInst.image(w,0,0,this.width,this.height)):this._pInst.image(0>=
arguments.length?void 0:arguments[0],0,0,this.width,this.height):(w=this._getFill(),z=(z=this._pInst).color.apply(z,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(z.levels),z=z.toString(),this._setFill(z),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(w),this._isErasing&&this._pInst.erase());this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save();this.resetMatrix();
this.drawingContext.clearRect(0,0,this.width,this.height);this.drawingContext.restore()}},{key:"fill",value:function(){var w=(w=this._pInst).color.apply(w,arguments);this._setFill(w.toString());this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",w.levels)}},{key:"stroke",value:function(){var w=(w=this._pInst).color.apply(w,arguments);this._setStroke(w.toString());this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",w.levels)}},{key:"erase",value:function(w,z){this._isErasing||
(this._cachedFillStyle=this.drawingContext.fillStyle,w=this._pInst.color(255,w).toString(),this.drawingContext.fillStyle=w,this._cachedStrokeStyle=this.drawingContext.strokeStyle,w=this._pInst.color(255,z).toString(),this.drawingContext.strokeStyle=w,z=this._cachedBlendMode,this.blendMode(l.REMOVE),this._cachedBlendMode=z,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,
this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var w=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};w=(k(b(m.prototype),"beginClip",this).call(this,w),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString());w=(this.drawingContext.fillStyle=w,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString());w=(this.drawingContext.strokeStyle=w,this._cachedBlendMode);this.blendMode(l.BLEND);
this._cachedBlendMode=w;this.drawingContext.beginPath();this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose();this.drawingContext.clip();k(b(m.prototype),"endClip",this).call(this);this.drawingContext.fillStyle=this._cachedFillStyle;
this.drawingContext.strokeStyle=this._cachedStrokeStyle;this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(w,z,y,F,D,C,N,J,E){w.gifProperties&&w._animateGif(this._pInst);try{d.default.MediaElement&&w instanceof d.default.MediaElement&&w._ensureCanvas();var M=(M=this._tint&&w.canvas?this._getTintedImageCanvas(w):M)||w.canvas||w.elt,Q=1;w.width&&0<w.width&&(Q=M.width/w.width);this._isErasing&&this.blendMode(this._cachedBlendMode);this.drawingContext.drawImage(M,Q*z,Q*y,Q*F,Q*D,C,N,
J,E);this._isErasing&&this._pInst.erase()}catch(V){if("NS_ERROR_NOT_AVAILABLE"!==V.name)throw V;}}},{key:"_getTintedImageCanvas",value:function(w){if(!w.canvas)return w;w.tintCanvas||(w.tintCanvas=document.createElement("canvas"));w.tintCanvas.width!==w.canvas.width&&(w.tintCanvas.width=w.canvas.width);w.tintCanvas.height!==w.canvas.height&&(w.tintCanvas.height=w.canvas.height);var z=w.tintCanvas.getContext("2d");return z.save(),z.clearRect(0,0,w.canvas.width,w.canvas.height),(255>this._tint[0]||
255>this._tint[1]||255>this._tint[2])&&(z.drawImage(w.canvas,0,0),z.globalCompositeOperation="luminosity",z.drawImage(w.canvas,0,0),z.globalCompositeOperation="color",z.drawImage(w.canvas,0,0),z.globalCompositeOperation="multiply",z.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),z.fillRect(0,0,w.canvas.width,w.canvas.height),z.globalCompositeOperation="destination-in"),z.globalAlpha=this._tint[3]/255,z.drawImage(w.canvas,0,0),z.restore(),w.tintCanvas}},{key:"blendMode",value:function(w){if(w===
l.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(w!==l.BLEND&&w!==l.REMOVE&&w!==l.DARKEST&&w!==l.LIGHTEST&&w!==l.DIFFERENCE&&w!==l.MULTIPLY&&w!==l.EXCLUSION&&w!==l.SCREEN&&w!==l.REPLACE&&w!==l.OVERLAY&&w!==l.HARD_LIGHT&&w!==l.SOFT_LIGHT&&w!==l.DODGE&&w!==l.BURN&&w!==l.ADD)throw Error("Mode ".concat(w," not recognized."));this._cachedBlendMode=w;this.drawingContext.globalCompositeOperation=w}}},{key:"blend",value:function(){for(var w=this.drawingContext.globalCompositeOperation,
z=arguments.length,y=Array(z),F=0;F<z;F++)y[F]=arguments[F];z=y[y.length-1];y=Array.prototype.slice.call(y,0,y.length-1);this.drawingContext.globalCompositeOperation=z;d.default.prototype.copy.apply(this,y);this.drawingContext.globalCompositeOperation=w}},{key:"_getPixel",value:function(w,z){w=this.drawingContext.getImageData(w,z,1,1).data;return[w[0],w[1],w[2],w[3]]}},{key:"loadPixels",value:function(){var w=this._pixelsState,z=w._pixelDensity,y=this.width*z;z*=this.height;y=this.drawingContext.getImageData(0,
0,y,z);w._setProperty("imageData",y);w._setProperty("pixels",y.data)}},{key:"set",value:function(w,z,y){w=Math.floor(w);z=Math.floor(z);var F=this._pixelsState;if(y instanceof d.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(F._pixelDensity,F._pixelDensity),this.drawingContext.clearRect(w,z,y.width,y.height),this.drawingContext.drawImage(y.canvas,w,z),this.drawingContext.restore();else{var D=0,C=0,N=0,J=0,E=4*(z*F._pixelDensity*this.width*
F._pixelDensity+w*F._pixelDensity);if(F.imageData||F.loadPixels(),"number"==typeof y)E<F.pixels.length&&(N=C=D=y,J=255);else if(Array.isArray(y)){if(4>y.length)throw Error("pixel array must be of the form [R, G, B, A]");E<F.pixels.length&&(D=y[0],C=y[1],N=y[2],J=y[3])}else y instanceof d.default.Color&&E<F.pixels.length&&(D=y.levels[0],C=y.levels[1],N=y.levels[2],J=y.levels[3]);for(y=0;y<F._pixelDensity;y++)for(var M=0;M<F._pixelDensity;M++)E=4*((z*F._pixelDensity+M)*this.width*F._pixelDensity+(w*
F._pixelDensity+y)),F.pixels[E]=D,F.pixels[E+1]=C,F.pixels[E+2]=N,F.pixels[E+3]=J}}},{key:"updatePixels",value:function(w,z,y,F){var D=this._pixelsState,C=D._pixelDensity;void 0===w&&void 0===z&&void 0===y&&void 0===F&&(z=w=0,y=this.width,F=this.height);w*=C;z*=C;y*=C;F*=C;this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=D.imageData);this.drawingContext.putImageData(D.imageData,0,0,w,z,y,F)}},{key:"arc",value:function(w,z,y,F,D,C,N){var J=this.drawingContext;w+=
y/2;z+=F/2;y/=2;F/=2;var E=!(N===l.CHORD||N===l.OPEN||0==(C-D)%l.TWO_PI);return this._doFill&&(this._clipping||J.beginPath(),J.ellipse(w,z,y,F,0,D,C),E&&J.lineTo(w,z),J.closePath(),this._clipping||J.fill()),this._doStroke&&(this._clipping||J.beginPath(),J.ellipse(w,z,y,F,0,D,C),N===l.PIE&&E&&J.lineTo(w,z),N!==l.PIE&&N!==l.CHORD||J.closePath(),this._clipping||J.stroke()),this}},{key:"ellipse",value:function(w){var z=this.drawingContext,y=this._doFill,F=this._doStroke,D=parseFloat(w[0]),C=parseFloat(w[1]),
N=parseFloat(w[2]);w=parseFloat(w[3]);if(y&&!F){if("rgba(0,0,0,0)"===this._getFill())return this}else if(!y&&F&&"rgba(0,0,0,0)"===this._getStroke())return this;D+=N/2;C+=w/2;N/=2;w/=2;this._clipping||z.beginPath();z.ellipse(D,C,N,w,0,0,2*Math.PI);z.closePath();!this._clipping&&y&&z.fill();!this._clipping&&F&&z.stroke()}},{key:"line",value:function(w,z,y,F){var D=this.drawingContext;return this._doStroke&&"rgba(0,0,0,0)"!==this._getStroke()&&(this._clipping||D.beginPath(),D.moveTo(w,z),D.lineTo(y,
F),D.stroke()),this}},{key:"point",value:function(w,z){var y,F,D=this.drawingContext;return this._doStroke&&"rgba(0,0,0,0)"!==this._getStroke()?(y=this._getStroke(),F=this._getFill(),this._clipping||this._setFill(y),this._clipping||D.beginPath(),D.arc(w,z,D.lineWidth/2,0,l.TWO_PI,!1),void(this._clipping||(D.fill(),this._setFill(F)))):this}},{key:"quad",value:function(w,z,y,F,D,C,N,J){var E=this.drawingContext,M=this._doFill,Q=this._doStroke;if(M&&!Q){if("rgba(0,0,0,0)"===this._getFill())return this}else if(!M&&
Q&&"rgba(0,0,0,0)"===this._getStroke())return this;return this._clipping||E.beginPath(),E.moveTo(w,z),E.lineTo(y,F),E.lineTo(D,C),E.lineTo(N,J),E.closePath(),!this._clipping&&M&&E.fill(),!this._clipping&&Q&&E.stroke(),this}},{key:"rect",value:function(w){var z,y,F=w[0],D=w[1],C=w[2],N=w[3],J=w[4],E=w[5],M=w[6];w=w[7];var Q=this.drawingContext,V=this._doFill,W=this._doStroke;if(V&&!W){if("rgba(0,0,0,0)"===this._getFill())return this}else if(!V&&W&&"rgba(0,0,0,0)"===this._getStroke())return this;return this._clipping||
Q.beginPath(),void 0===J?Q.rect(F,D,C,N):(void 0===E&&(E=J),void 0===M&&(M=E),void 0===w&&(w=M),W=(V=Math.abs(C))/2,y=(z=Math.abs(N))/2,Q.roundRect(F,D,C,N,[z<2*(J=V<2*J?W:J)?y:J,z<2*(E=V<2*E?W:E)?y:E,z<2*(M=V<2*M?W:M)?y:M,z<2*(w=V<2*w?W:w)?y:w])),!this._clipping&&this._doFill&&Q.fill(),!this._clipping&&this._doStroke&&Q.stroke(),this}},{key:"triangle",value:function(w){var z=this.drawingContext,y=this._doFill,F=this._doStroke,D=w[0],C=w[1],N=w[2],J=w[3],E=w[4];w=w[5];if(y&&!F){if("rgba(0,0,0,0)"===
this._getFill())return this}else if(!y&&F&&"rgba(0,0,0,0)"===this._getStroke())return this;this._clipping||z.beginPath();z.moveTo(D,C);z.lineTo(N,J);z.lineTo(E,w);z.closePath();!this._clipping&&y&&z.fill();!this._clipping&&F&&z.stroke()}},{key:"endShape",value:function(w,z,y,F,D,C,N){if(0!==z.length&&(this._doStroke||this._doFill)){w=w===l.CLOSE;C=(w&&!C&&z.push(z[0]),z.length);if(y&&null===N){if(3<C){F=[];D=1-this._curveTightness;this._clipping||this.drawingContext.beginPath();this.drawingContext.moveTo(z[1][0],
z[1][1]);for(y=1;y+2<C;y++){var J=z[y];F[0]=[J[0],J[1]];F[1]=[J[0]+(D*z[y+1][0]-D*z[y-1][0])/6,J[1]+(D*z[y+1][1]-D*z[y-1][1])/6];F[2]=[z[y+1][0]+(D*z[y][0]-D*z[y+2][0])/6,z[y+1][1]+(D*z[y][1]-D*z[y+2][1])/6];F[3]=[z[y+1][0],z[y+1][1]];this.drawingContext.bezierCurveTo(F[1][0],F[1][1],F[2][0],F[2][1],F[3][0],F[3][1])}w&&this.drawingContext.lineTo(z[y+1][0],z[y+1][1]);this._doFillStrokeClose(w)}}else if(F&&null===N){this._clipping||this.drawingContext.beginPath();for(y=0;y<C;y++)z[y].isVert?z[y].moveTo?
this.drawingContext.moveTo(z[y][0],z[y][1]):this.drawingContext.lineTo(z[y][0],z[y][1]):this.drawingContext.bezierCurveTo(z[y][0],z[y][1],z[y][2],z[y][3],z[y][4],z[y][5]);this._doFillStrokeClose(w)}else if(D&&null===N){this._clipping||this.drawingContext.beginPath();for(y=0;y<C;y++)z[y].isVert?z[y].moveTo?this.drawingContext.moveTo(z[y][0],z[y][1]):this.drawingContext.lineTo(z[y][0],z[y][1]):this.drawingContext.quadraticCurveTo(z[y][0],z[y][1],z[y][2],z[y][3]);this._doFillStrokeClose(w)}else if(N===
l.POINTS)for(y=0;y<C;y++)J=z[y],this._doStroke&&this._pInst.stroke(J[6]),this._pInst.point(J[0],J[1]);else if(N===l.LINES)for(y=0;y+1<C;y+=2)J=z[y],this._doStroke&&this._pInst.stroke(z[y+1][6]),this._pInst.line(J[0],J[1],z[y+1][0],z[y+1][1]);else if(N===l.TRIANGLES)for(y=0;y+2<C;y+=3)J=z[y],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(J[0],J[1]),this.drawingContext.lineTo(z[y+1][0],z[y+1][1]),this.drawingContext.lineTo(z[y+2][0],z[y+2][1]),this.drawingContext.closePath(),
!this._clipping&&this._doFill&&(this._pInst.fill(z[y+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(z[y+2][6]),this.drawingContext.stroke());else if(N===l.TRIANGLE_STRIP)for(y=0;y+1<C;y++)J=z[y],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(z[y+1][0],z[y+1][1]),this.drawingContext.lineTo(J[0],J[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(z[y+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(z[y+1][5]),y+2<C&&(this.drawingContext.lineTo(z[y+
2][0],z[y+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(z[y+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(z[y+2][5])),this._doFillStrokeClose(w);else if(N===l.TRIANGLE_FAN){if(2<C){this._clipping||this.drawingContext.beginPath();for(y=2;y<C;y++)J=z[y],this.drawingContext.moveTo(z[0][0],z[0][1]),this.drawingContext.lineTo(z[y-1][0],z[y-1][1]),this.drawingContext.lineTo(J[0],J[1]),this.drawingContext.lineTo(z[0][0],z[0][1]),y<C-1&&(this._doFill&&J[5]!==z[y+1][5]||this._doStroke&&
J[6]!==z[y+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(J[5]),this.drawingContext.fill(),this._pInst.fill(z[y+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(J[6]),this.drawingContext.stroke(),this._pInst.stroke(z[y+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(w)}}else if(N===l.QUADS)for(y=0;y+3<C;y+=4){J=z[y];this._clipping||this.drawingContext.beginPath();this.drawingContext.moveTo(J[0],J[1]);for(F=1;4>
F;F++)this.drawingContext.lineTo(z[y+F][0],z[y+F][1]);this.drawingContext.lineTo(J[0],J[1]);!this._clipping&&this._doFill&&this._pInst.fill(z[y+3][5]);!this._clipping&&this._doStroke&&this._pInst.stroke(z[y+3][6]);this._doFillStrokeClose(w)}else if(N===l.QUAD_STRIP){if(3<C)for(y=0;y+1<C;y+=2)J=z[y],this._clipping||this.drawingContext.beginPath(),y+3<C?(this.drawingContext.moveTo(z[y+2][0],z[y+2][1]),this.drawingContext.lineTo(J[0],J[1]),this.drawingContext.lineTo(z[y+1][0],z[y+1][1]),this.drawingContext.lineTo(z[y+
3][0],z[y+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(z[y+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(z[y+3][6])):(this.drawingContext.moveTo(J[0],J[1]),this.drawingContext.lineTo(z[y+1][0],z[y+1][1])),this._doFillStrokeClose(w)}else{this._clipping||this.drawingContext.beginPath();this.drawingContext.moveTo(z[0][0],z[0][1]);for(y=1;y<C;y++)(J=z[y]).isVert&&(J.moveTo?(w&&this.drawingContext.closePath(),this.drawingContext.moveTo(J[0],J[1])):this.drawingContext.lineTo(J[0],
J[1]));this._doFillStrokeClose(w);this.drawingContext.closePath()}w&&z.pop()}return this}},{key:"strokeCap",value:function(w){return w!==l.ROUND&&w!==l.SQUARE&&w!==l.PROJECT||(this.drawingContext.lineCap=w),this}},{key:"strokeJoin",value:function(w){return w!==l.ROUND&&w!==l.BEVEL&&w!==l.MITER||(this.drawingContext.lineJoin=w),this}},{key:"strokeWeight",value:function(w){return this.drawingContext.lineWidth=void 0===w||0===w?1E-4:w,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||
(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(w){w!==this._cachedFillStyle&&(this.drawingContext.fillStyle=w,this._cachedFillStyle=w)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(w){w!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=w,this._cachedStrokeStyle=w)}},{key:"bezier",value:function(w,
z,y,F,D,C,N,J){return this._pInst.beginShape(),this._pInst.vertex(w,z),this._pInst.bezierVertex(y,F,D,C,N,J),this._pInst.endShape(),this}},{key:"curve",value:function(w,z,y,F,D,C,N,J){return this._pInst.beginShape(),this._pInst.curveVertex(w,z),this._pInst.curveVertex(y,F),this._pInst.curveVertex(D,C),this._pInst.curveVertex(N,J),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(w){w&&this.drawingContext.closePath();!this._clipping&&this._doFill&&this.drawingContext.fill();!this._clipping&&
this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(w,z,y,F,D,C){this.drawingContext.transform(w,z,y,F,D,C)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(w){this.drawingContext.rotate(w)}},{key:"scale",value:function(w,z){return this.drawingContext.scale(w,z),this}},{key:"translate",value:function(w,z){return w instanceof
d.default.Vector&&(z=w.y,w=w.x),this.drawingContext.translate(w,z),this}},{key:"_renderText",value:function(w,z,y,F,D,C){if(!(F<C||D<=F))return w.push(),this._isOpenType()?this._textFont._renderPath(z,y,F,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(z,y,F),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(l._DEFAULT_TEXT_FILL),this.drawingContext.fillText(z,y,F))),w.pop(),w}},{key:"textWidth",value:function(w){return this._isOpenType()?this._textFont._textWidth(w,
this._textSize):this.drawingContext.measureText(w).width}},{key:"_applyTextProperties",value:function(){var w=this._pInst,z=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),z=this._textFont,this._isOpenType()&&(z=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),z||"sans-serif");return/\s/.exec(z)&&(z='"'.concat(z,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(z),
this.drawingContext.textAlign=this._textAlign,this._textBaseline===l.CENTER?this.drawingContext.textBaseline=l._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,w}},{key:"push",value:function(){return this.drawingContext.save(),k(b(m.prototype),"push",this).call(this)}},{key:"pop",value:function(w){this.drawingContext.restore();this._cachedFillStyle=this.drawingContext.fillStyle;this._cachedStrokeStyle=this.drawingContext.strokeStyle;k(b(m.prototype),"pop",this).call(this,w)}}],p(t.prototype,
g),m}(d.default.Renderer);a=(h.prototype.text=function(g,m,t,v,w){void 0!==v&&this.drawingContext.textBaseline===l.BASELINE&&(z=!0,this.drawingContext.textBaseline=l.TOP);var z;v=d.default.Renderer.prototype.text.apply(this,arguments);return z&&(this.drawingContext.textBaseline=l.BASELINE),v},d.default.Renderer2D=h,d.default.Renderer2D);q.default=a},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,
"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,
"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(a,G,q){function x(){return{}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");var u=(a=a("./main"))&&a.__esModule?a:{default:a};u.default.prototype._promisePreloads=[];var r=!(u.default.prototype.registerPromisePreload=function(p){u.default.prototype._promisePreloads.push(p)});
u.default.prototype._setupPromisePreloads=function(){var p=!0,k=!1,f=void 0;try{for(var c,b=this._promisePreloads[Symbol.iterator]();!(p=(c=b.next()).done);p=!0){var d=c.value,l=this,h=d.method,g=d.addCallbacks,m=d.legacyPreloadSetup,t=d.target||this,v=t[h].bind(t);if(t===u.default.prototype){if(r)continue;l=null;v=t[h]}t[h]=this._wrapPromisePreload(l,v,g);m&&(t[m.method]=this._legacyPreloadGenerator(l,m,t[h]))}}catch(w){k=!0,f=w}finally{try{p||null==b.return||b.return()}finally{if(k)throw f;}}r=
!0};u.default.prototype._wrapPromisePreload=function(p,k,f){var c=function(){for(var b=this,d=(this._incrementPreload(),null),l=null,h=arguments.length,g=Array(h),m=0;m<h;m++)g[m]=arguments[m];if(f)for(h=g.length-1;0<=h&&!l&&"function"==typeof g[h];h--)l=d,d=g.pop();g=Promise.resolve(k.apply(this,g));return d&&g.then(d),l&&g.catch(l),g.then(function(){return b._decrementPreload()}),g};return c=p?c.bind(p):c};u.default.prototype._legacyPreloadGenerator=function(p,k,f){var c=k.createBaseObject||x;k=
function(){var b=this;this._incrementPreload();for(var d=arguments.length,l=Array(d),h=0;h<d;h++)l[h]=arguments[h];var g=c.apply(this,l);return f.apply(this,l).then(function(m){Object.assign(g,m);b._decrementPreload()}),g};return k=p?k.bind(p):k}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,
"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(a,G,q){function x(b){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(b)}function u(){var b;return"function"!=typeof WeakMap?null:(b=new WeakMap,u=function(){return b},b)}function r(b){return(r="function"==typeof Symbol&&"symbol"===
x(Symbol.iterator)?function(d){return x(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":x(d)})(b)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");
a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var p=(c=a("./main"))&&c.__esModule?c:{default:c},k=function(b){if(b&&
b.__esModule)return b;if(null===b||"object"!==r(b)&&"function"!=typeof b)return{default:b};var d=u();if(d&&d.has(b))return d.get(b);var l,h={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in b){var m;Object.prototype.hasOwnProperty.call(b,l)&&((m=g?Object.getOwnPropertyDescriptor(b,l):null)&&(m.get||m.set)?Object.defineProperty(h,l,m):h[l]=b[l])}h.default=b;d&&d.set(b,h);return h}(a("./constants"));a("./p5.Graphics");a("./p5.Renderer2D");a("../webgl/p5.RendererGL");var f="defaultCanvas0",
c=(p.default.prototype.createCanvas=function(b,d,l,h){var g,m,t;if(p.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(l=k.P2D,h=arguments[2]):g=l||k.P2D,h)(t=document.getElementById(f))&&t.parentNode.removeChild(t),t=h,this._defaultGraphicsCreated=!1;else{if(g===k.WEBGL)(t=document.getElementById(f))&&(t.parentNode.removeChild(t),m=this._renderer,this._elements=this._elements.filter(function(w){return w!==m})),(t=document.createElement("canvas")).id=
f,t.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)t=this.canvas;else{t=h||document.createElement("canvas");for(var v=0;document.getElementById("defaultCanvas".concat(v));)v++;f="defaultCanvas".concat(v);t.id=f;t.classList.add("p5Canvas")}this._setupDone||(t.dataset.hidden=!0,t.style.visibility="hidden");(this._userNode||(0===document.getElementsByTagName("main").length&&(l=document.createElement("main"),document.body.appendChild(l)),document.getElementsByTagName("main")[0])).appendChild(t)}return g===
k.WEBGL?(this._setProperty("_renderer",new p.default.RendererGL(t,this,!0)),this._elements.push(this._renderer),b=(h=this._renderer._adjustDimensions(b,d)).adjustedWidth,d=h.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new p.default.Renderer2D(t,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(b,d),this._renderer._applyDefaults(),this._renderer},p.default.prototype.resizeCanvas=function(b,d,l){if(p.default._validateParameters("resizeCanvas",
arguments),this._renderer){var h,g,m,t={};for(h in this.drawingContext){var v=this.drawingContext[h];"object"!==r(v)&&"function"!=typeof v&&(t[h]=v)}for(m in this._renderer instanceof p.default.RendererGL&&(b=(g=this._renderer._adjustDimensions(b,d)).adjustedWidth,d=g.adjustedHeight),this.width=b,this.height=d,this._renderer.resize(b,d),t)try{this.drawingContext[m]=t[m]}catch(w){}l||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},p.default.prototype.noCanvas=function(){this.canvas&&
this.canvas.parentNode.removeChild(this.canvas)},p.default.prototype.createGraphics=function(b,d){for(var l=arguments.length,h=Array(2<l?l-2:0),g=2;g<l;g++)h[g-2]=arguments[g];return h[0]instanceof HTMLCanvasElement&&(h[1]=h[0],h[0]=k.P2D),p.default._validateParameters("createGraphics",arguments),new p.default.Graphics(b,d,h[0],this,h[1])},p.default.prototype.createFramebuffer=function(b){return new p.default.Framebuffer(this,b)},p.default.prototype.clearDepth=function(b){this._assert3d("clearDepth");
this._renderer.clearDepth(b)},p.default.prototype.blendMode=function(b){p.default._validateParameters("blendMode",arguments);b===k.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),b=k.BLEND);this._renderer.blendMode(b)},p.default);q.default=c},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,
"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(a,G,q){function x(d){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?
"symbol":typeof l})(d)}function u(d){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(l){return x(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":x(l)})(d)}function r(){var d;return"function"!=typeof WeakMap?null:(d=new WeakMap,r=function(){return d},d)}function p(d){return d&&d.__esModule?d:{default:d}}function k(d){if(!(d=function(l){if(Array.isArray(l)){for(var h=0,g=Array(l.length);h<l.length;h++)g[h]=l[h];return g}}(d)||
function(l){if(Symbol.iterator in Object(l)||"[object Arguments]"===Object.prototype.toString.call(l))return Array.from(l)}(d)))throw new TypeError("Invalid attempt to spread non-iterable instance");return d}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.from");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");
a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.slice");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var f=p(a("../main")),c=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==u(d)&&"function"!=typeof d)return{default:d};var l=r();if(l&&l.has(d))return l.get(d);var h,g={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;
for(h in d){var t;Object.prototype.hasOwnProperty.call(d,h)&&((t=m?Object.getOwnPropertyDescriptor(d,h):null)&&(t.get||t.set)?Object.defineProperty(g,h,t):g[h]=d[h])}g.default=d;l&&l.set(d,g);return g}(a("../constants")),b=p(a("../helpers"));a("../friendly_errors/fes_core");a("../friendly_errors/file_errors");a("../friendly_errors/validate_params");f.default.prototype._normalizeArcAngles=function(d,l,h,g,m){var t;return d-=c.TWO_PI*Math.floor(d/c.TWO_PI),l-=c.TWO_PI*Math.floor(l/c.TWO_PI),t=Math.min(Math.abs(d-
l),c.TWO_PI-Math.abs(d-l)),m&&(d=d<=c.HALF_PI?Math.atan(h/g*Math.tan(d)):d>c.HALF_PI&&d<=3*c.HALF_PI?Math.atan(h/g*Math.tan(d))+c.PI:Math.atan(h/g*Math.tan(d))+c.TWO_PI,l=l<=c.HALF_PI?Math.atan(h/g*Math.tan(l)):l>c.HALF_PI&&l<=3*c.HALF_PI?Math.atan(h/g*Math.tan(l))+c.PI:Math.atan(h/g*Math.tan(l))+c.TWO_PI),l<d&&(l+=c.TWO_PI),{start:d,stop:l,correspondToSamePoint:1E-5>t}};f.default.prototype.arc=function(d,l,h,g,m,t,v,w){return f.default._validateParameters("arc",arguments),(this._renderer._doStroke||
this._renderer._doFill)&&m!==t&&(m=this._toRadians(m),t=this._toRadians(t),d=b.default.modeAdjust(d,l,h,g,this._renderer._ellipseMode),(l=this._normalizeArcAngles(m,t,d.w,d.h,!0)).correspondToSamePoint?this._renderer.ellipse([d.x,d.y,d.w,d.h,w]):(this._renderer.arc(d.x,d.y,d.w,d.h,l.start,l.stop,v,w),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[d.x,d.y,d.w,d.h,l.start,l.stop,v]))),this};f.default.prototype.ellipse=function(d,l,h,g,m){return f.default._validateParameters("ellipse",
arguments),this._renderEllipse.apply(this,arguments)};f.default.prototype.circle=function(){for(var d=arguments.length,l=Array(d),h=0;h<d;h++)l[h]=arguments[h];f.default._validateParameters("circle",l);d=l.slice(0,2);return d.push(l[2],l[2]),this._renderEllipse.apply(this,k(d))};f.default.prototype._renderEllipse=function(d,l,h,g,m){return(this._renderer._doStroke||this._renderer._doFill)&&(d=b.default.modeAdjust(d,l,h,void 0===g?h:g,this._renderer._ellipseMode),this._renderer.ellipse([d.x,d.y,d.w,
d.h,m]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[d.x,d.y,d.w,d.h])),this};f.default.prototype.line=function(){for(var d,l=arguments.length,h=Array(l),g=0;g<l;g++)h[g]=arguments[g];return f.default._validateParameters("line",h),this._renderer._doStroke&&(d=this._renderer).line.apply(d,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",h),this};f.default.prototype.point=function(){for(var d,l=arguments.length,h=Array(l),
g=0;g<l;g++)h[g]=arguments[g];return f.default._validateParameters("point",h),this._renderer._doStroke&&(1===h.length&&h[0]instanceof f.default.Vector?this._renderer.point.call(this._renderer,h[0].x,h[0].y,h[0].z):((d=this._renderer).point.apply(d,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",h))),this};f.default.prototype.quad=function(){for(var d,l=arguments.length,h=Array(l),g=0;g<l;g++)h[g]=arguments[g];return f.default._validateParameters("quad",h),
(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&12>h.length?this._renderer.quad.call(this._renderer,h[0],h[1],0,h[2],h[3],0,h[4],h[5],0,h[6],h[7],0,h[8],h[9]):((d=this._renderer).quad.apply(d,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",h))),this};f.default.prototype.rect=function(){for(var d=arguments.length,l=Array(d),h=0;h<d;h++)l[h]=arguments[h];return f.default._validateParameters("rect",l),this._renderRect.apply(this,
l)};f.default.prototype.square=function(d,l,h,g,m,t,v){return f.default._validateParameters("square",arguments),this._renderRect.call(this,d,l,h,h,g,m,t,v)};f.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var d=b.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),l=(this._renderer._rectMode===c.CORNER&&(d.w=arguments[2],d.h=arguments[3]),[d.x,d.y,d.w,
d.h]),h=4;h<arguments.length;h++)l[h]=arguments[h];this._renderer.rect(l);(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[d.x,d.y,d.w,d.h])}return this};f.default.prototype.triangle=function(){for(var d=arguments.length,l=Array(d),h=0;h<d;h++)l[h]=arguments[h];return f.default._validateParameters("triangle",l),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",
l),this};a=f.default;q.default=a},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,
"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(a,G,q){function x(c){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(c)}function u(c){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?
function(b){return x(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":x(b)})(c)}function r(){var c;return"function"!=typeof WeakMap?null:(c=new WeakMap,r=function(){return c},c)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");
a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var p=(f=a("../main"))&&f.__esModule?f:{default:f},k=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==u(c)&&"function"!=typeof c)return{default:c};var b=r();if(b&&b.has(c))return b.get(c);var d,l={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in c){var g;Object.prototype.hasOwnProperty.call(c,d)&&((g=h?Object.getOwnPropertyDescriptor(c,
d):null)&&(g.get||g.set)?Object.defineProperty(l,d,g):l[d]=c[d])}l.default=c;b&&b.set(c,l);return l}(a("../constants"));p.default.prototype.ellipseMode=function(c){return p.default._validateParameters("ellipseMode",arguments),c!==k.CORNER&&c!==k.CORNERS&&c!==k.RADIUS&&c!==k.CENTER||(this._renderer._ellipseMode=c),this};p.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=
!1),this};p.default.prototype.rectMode=function(c){return p.default._validateParameters("rectMode",arguments),c!==k.CORNER&&c!==k.CORNERS&&c!==k.RADIUS&&c!==k.CENTER||(this._renderer._rectMode=c),this};p.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this};p.default.prototype.strokeCap=function(c){return p.default._validateParameters("strokeCap",arguments),
c!==k.ROUND&&c!==k.SQUARE&&c!==k.PROJECT||this._renderer.strokeCap(c),this};p.default.prototype.strokeJoin=function(c){return p.default._validateParameters("strokeJoin",arguments),c!==k.ROUND&&c!==k.BEVEL&&c!==k.MITER||this._renderer.strokeJoin(c),this};p.default.prototype.strokeWeight=function(c){return p.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(c),this};var f=p.default;q.default=f},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,
"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(a,G,q){Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var x=(u=a("../main"))&&u.__esModule?u:{default:u};a("../friendly_errors/fes_core");
a("../friendly_errors/file_errors");a("../friendly_errors/validate_params");x.default.prototype.bezier=function(){for(var r,p=arguments.length,k=Array(p),f=0;f<p;f++)k[f]=arguments[f];return x.default._validateParameters("bezier",k),(this._renderer._doStroke||this._renderer._doFill)&&(r=this._renderer).bezier.apply(r,k),this};x.default.prototype.bezierDetail=function(r){return x.default._validateParameters("bezierDetail",arguments),this._bezierDetail=r,this};x.default.prototype.bezierPoint=function(r,
p,k,f,c){x.default._validateParameters("bezierPoint",arguments);var b=1-c;return Math.pow(b,3)*r+3*Math.pow(b,2)*c*p+3*b*Math.pow(c,2)*k+Math.pow(c,3)*f};x.default.prototype.bezierTangent=function(r,p,k,f,c){x.default._validateParameters("bezierTangent",arguments);var b=1-c;return 3*f*Math.pow(c,2)-3*k*Math.pow(c,2)+6*k*b*c-6*p*b*c+3*p*Math.pow(b,2)-3*r*Math.pow(b,2)};x.default.prototype.curve=function(){for(var r,p=arguments.length,k=Array(p),f=0;f<p;f++)k[f]=arguments[f];return x.default._validateParameters("curve",
k),this._renderer._doStroke&&(r=this._renderer).curve.apply(r,k),this};x.default.prototype.curveDetail=function(r){return x.default._validateParameters("curveDetail",arguments),this._curveDetail=3>r?3:r,this};x.default.prototype.curveTightness=function(r){return x.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=r,this};x.default.prototype.curvePoint=function(r,p,k,f,c){x.default._validateParameters("curvePoint",arguments);var b=this._renderer._curveTightness,
d=c*c*c,l=c*c;return r*((b-1)/2*d+(1-b)*l+(b-1)/2*c)+p*((b+3)/2*d+(-5-b)/2*l+1)+k*((-3-b)/2*d+(b+2)*l+(1-b)/2*c)+f*((1-b)/2*d+(b-1)/2*l)};x.default.prototype.curveTangent=function(r,p,k,f,c){x.default._validateParameters("curveTangent",arguments);var b=this._renderer._curveTightness,d=c*c*3;c*=2;return r*((b-1)/2*d+(1-b)*c+(b-1)/2)+p*((b+3)/2*d+(-5-b)/2*c)+k*((-3-b)/2*d+(b+2)*c+(1-b)/2)+f*((1-b)/2*d+(b-1)/2*c)};var u=x.default;q.default=u},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,
"../friendly_errors/validate_params":278,"../main":283}],293:[function(a,G,q){function x(v){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(v)}function u(v){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(w){return x(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?
"symbol":x(w)})(v)}function r(){var v;return"function"!=typeof WeakMap?null:(v=new WeakMap,r=function(){return v},v)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.array.slice");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var p=(t=a("../main"))&&t.__esModule?t:{default:t},k=function(v){if(v&&v.__esModule)return v;if(null===v||"object"!==u(v)&&"function"!=typeof v)return{default:v};var w=r();if(w&&w.has(v))return w.get(v);var z,y={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(z in v){var D;Object.prototype.hasOwnProperty.call(v,z)&&((D=F?Object.getOwnPropertyDescriptor(v,z):null)&&(D.get||D.set)?Object.defineProperty(y,
z,D):y[z]=v[z])}y.default=v;w&&w.set(v,y);return y}(a("../constants")),f=null,c=[],b=[],d=!1,l=!1,h=!1,g=!1,m=!0,t=(p.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(b=[],g=!0),this},p.default.prototype.beginShape=function(v){var w;return p.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(w=this._renderer).beginShape.apply(w,arguments):(f=v===k.POINTS||v===k.LINES||v===k.TRIANGLES||v===k.TRIANGLE_FAN||v===k.TRIANGLE_STRIP||
v===k.QUADS||v===k.QUAD_STRIP?v:null,c=[],b=[]),this},p.default.prototype.bezierVertex=function(){for(var v,w=arguments.length,z=Array(w),y=0;y<w;y++)z[y]=arguments[y];if(p.default._validateParameters("bezierVertex",z),this._renderer.isP3D)(v=this._renderer).bezierVertex.apply(v,z);else if(0===c.length)p.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{d=!0;v=[];for(w=0;w<z.length;w++)v[w]=z[w];v.isVert=!1;(g?b:c).push(v)}return this},p.default.prototype.curveVertex=
function(){for(var v,w=arguments.length,z=Array(w),y=0;y<w;y++)z[y]=arguments[y];return p.default._validateParameters("curveVertex",z),this._renderer.isP3D?(v=this._renderer).curveVertex.apply(v,z):(l=!0,this.vertex(z[0],z[1])),this},p.default.prototype.endContour=function(){if(!this._renderer.isP3D){var v=b[0].slice();v.isVert=b[0].isVert;v.moveTo=!1;b.push(v);m&&(c.push(c[0]),m=!1);for(v=0;v<b.length;v++)c.push(b[v])}return this},p.default.prototype.endShape=function(v){var w=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:1;if(p.default._validateParameters("endShape",arguments),1>w&&(console.log("\ud83c\udf38 p5.js says: You can not have less than one instance"),w=1),this._renderer.isP3D)this._renderer.endShape(v,l,d,h,g,f,w);else{if((1!==w&&console.log("\ud83c\udf38 p5.js says: Instancing is only supported in WebGL2 mode"),0===c.length)||!this._renderer._doStroke&&!this._renderer._doFill)return this;(w=v===k.CLOSE)&&!g&&c.push(c[0]);this._renderer.endShape(v,c,l,d,h,g,f);m=!(g=h=
d=l=!1);w&&c.pop()}return this},p.default.prototype.quadraticVertex=function(){for(var v,w=arguments.length,z=Array(w),y=0;y<w;y++)z[y]=arguments[y];if(p.default._validateParameters("quadraticVertex",z),this._renderer.isP3D)(v=this._renderer).quadraticVertex.apply(v,z);else{if(this._contourInited)return(v={}).x=z[0],v.y=z[1],v.x3=z[2],v.y3=z[3],v.type=k.QUADRATIC,this._contourVertices.push(v),this;if(0<c.length){h=!0;v=[];for(w=0;w<z.length;w++)v[w]=z[w];v.isVert=!1;(g?b:c).push(v)}else p.default._friendlyError("vertex() must be used once before calling quadraticVertex()",
"quadraticVertex")}return this},p.default.prototype.vertex=function(v,w,z,y,F){var D;return this._renderer.isP3D?(D=this._renderer).vertex.apply(D,arguments):((D=[]).isVert=!0,D[0]=v,D[1]=w,D[2]=0,D[3]=0,D[4]=0,D[5]=this._renderer._getFill(),D[6]=this._renderer._getStroke(),z&&(D.moveTo=z),(g?(0===b.length&&(D.moveTo=!0),b):c).push(D)),this},p.default.prototype.normal=function(v,w,z){var y;return this._assert3d("normal"),p.default._validateParameters("normal",arguments),(y=this._renderer).normal.apply(y,
arguments),this},p.default);q.default=t},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(a,
G,q){},{}],295:[function(a,G,q){a("core-js/modules/es.object.assign");a("core-js/modules/es.object.assign");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;a=(a=a("./main"))&&a.__esModule?a:{default:a};a.default.prototype.noLoop=function(){this._loop=!1};a.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())};a.default.prototype.isLooping=function(){return this._loop};a.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},
renderer:this._renderer.push()})};a.default.prototype.pop=function(){var x=this._styles.pop();x?(this._renderer.pop(x.renderer),Object.assign(this,x.props)):console.warn("pop() was called without matching push()")};a.default.prototype.redraw=function(x){if(!this._inUserDraw&&this._setupDone){x=parseInt(x);var u=((isNaN(x)||1>x)&&(x=1),this._isGlobal?window:this);if("function"==typeof u.draw){void 0===u.setup&&u.scale(u._pixelDensity,u._pixelDensity);for(var r=0;r<x;r++){u.resetMatrix();(this._accessibleOutputs.grid||
this._accessibleOutputs.text)&&this._updateAccsOutput();u._renderer.isP3D&&u._renderer._update();u._setProperty("frameCount",u.frameCount+1);this.callRegisteredHooksFor("pre");this._inUserDraw=!0;try{u.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}};a=a.default;q.default=a},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(a,G,q){function x(r){if(!(r=function(p){if(Array.isArray(p)){for(var k=0,f=Array(p.length);k<p.length;k++)f[k]=p[k];return f}}(r)||
function(p){if(Symbol.iterator in Object(p)||"[object Arguments]"===Object.prototype.toString.call(p))return Array.from(p)}(r)))throw new TypeError("Invalid attempt to spread non-iterable instance");return r}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.from");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.to-string");
a("core-js/modules/es.string.iterator");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");
a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");
a("core-js/modules/es.typed-array.to-string");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");
a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");
a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var u=(a=a("./main"))&&a.__esModule?a:{default:a};u.default.prototype.applyMatrix=function(){var r=(0>=arguments.length?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(0>=
arguments.length?void 0:arguments[0])||r?(r=this._renderer).applyMatrix.apply(r,x(0>=arguments.length?void 0:arguments[0])):(r=this._renderer).applyMatrix.apply(r,arguments),this};u.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this};u.default.prototype.rotate=function(r,p){return u.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(r),p),this};u.default.prototype.rotateX=function(r){return this._assert3d("rotateX"),u.default._validateParameters("rotateX",
arguments),this._renderer.rotateX(this._toRadians(r)),this};u.default.prototype.rotateY=function(r){return this._assert3d("rotateY"),u.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(r)),this};u.default.prototype.rotateZ=function(r){return this._assert3d("rotateZ"),u.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(r)),this};u.default.prototype.scale=function(r,p,k){var f;return u.default._validateParameters("scale",arguments),
r instanceof u.default.Vector?(r=(f=r).x,p=f.y,k=f.z):Array.isArray(r)&&(r=(f=r)[0],p=f[1],k=f[2]||1),isNaN(p)?p=k=r:isNaN(k)&&(k=1),this._renderer.scale(r,p,k),this};u.default.prototype.shearX=function(r){u.default._validateParameters("shearX",arguments);r=this._toRadians(r);return this._renderer.applyMatrix(1,0,Math.tan(r),1,0,0),this};u.default.prototype.shearY=function(r){u.default._validateParameters("shearY",arguments);r=this._toRadians(r);return this._renderer.applyMatrix(1,Math.tan(r),0,1,
0,0),this};u.default.prototype.translate=function(r,p,k){return u.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(r,p,k):this._renderer.translate(r,p),this};a=u.default;q.default=a},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,
"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,
"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,
"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(a,G,q){function x(k){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(k)}function u(k){if(!(k=function(f){if(Array.isArray(f)){for(var c=0,b=Array(f.length);c<f.length;c++)b[c]=
f[c];return b}}(k)||function(f){if(Symbol.iterator in Object(f)||"[object Arguments]"===Object.prototype.toString.call(f))return Array.from(f)}(k)))throw new TypeError("Invalid attempt to spread non-iterable instance");return k}function r(k){return(r="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(f){return x(f)}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":x(f)})(k)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");
a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.from");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.ends-with");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.ends-with");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/web.dom-collections.for-each");
a("core-js/modules/web.dom-collections.iterator");var p=(a=a("../core/main"))&&a.__esModule?a:{default:a};p.default.prototype.storeItem=function(k,f){"string"!=typeof k&&console.log("The argument that you passed to storeItem() - ".concat(k," is not a string."));k.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(k," must not end with 'p5TypeID'."));void 0===f&&console.log("You cannot store undefined variables using storeItem().");var c=r(f);switch(c){case "number":case "boolean":f=
f.toString();break;case "object":f instanceof p.default.Color?c="p5.Color":f instanceof p.default.Vector&&(c="p5.Vector",f=[f.x,f.y,f.z]),f=JSON.stringify(f)}localStorage.setItem(k,f);k="".concat(k,"p5TypeID");localStorage.setItem(k,c)};p.default.prototype.getItem=function(k){var f=localStorage.getItem(k),c=localStorage.getItem("".concat(k,"p5TypeID"));if(void 0===c)console.log("Unable to determine type of item stored under ".concat(k,"in local storage. Did you save the item with something other than setItem()?"));
else if(null!==f)switch(c){case "number":f=parseFloat(f);break;case "boolean":f="true"===f;break;case "object":f=JSON.parse(f);break;case "p5.Color":f=JSON.parse(f);f=this.color.apply(this,u(f.levels));break;case "p5.Vector":f=JSON.parse(f),f=this.createVector.apply(this,u(f))}return f};p.default.prototype.clearStorage=function(){var k=this;Object.keys(localStorage).forEach(function(f){f.endsWith("p5TypeID")&&k.removeItem(f.replace("p5TypeID",""))})};p.default.prototype.removeItem=function(k){"string"!=
typeof k&&console.log("The argument that you passed to removeItem() - ".concat(k," is not a string."));localStorage.removeItem(k);localStorage.removeItem("".concat(k,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,
"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(a,G,q){function x(h){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&
g!==Symbol.prototype?"symbol":typeof g})(h)}function u(h){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(g){return x(g)}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":x(g)})(h)}function r(h,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,writable:!0,configurable:!0}});g&&p(h,g)}function p(h,
g){return(p=Object.setPrototypeOf||function(m,t){return m.__proto__=t,m})(h,g)}function k(h){return function(){var g,m=f(h);m=(g=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){}}}()?(g=f(this).constructor,Reflect.construct(m,arguments,g)):m.apply(this,arguments),this);if(!g||"object"!==u(g)&&"function"!=typeof g){if(void 0!==m)return m;
throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return g}}function f(h){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(h)}function c(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function");}function b(h,g){for(var m=0;m<g.length;m++){var t=g[m];t.enumerable=t.enumerable||!1;t.configurable=!0;"value"in t&&(t.writable=!0);Object.defineProperty(h,t.key,t)}}function d(h,g,
m){g&&b(h.prototype,g);m&&b(h,m)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.array.concat");a("core-js/modules/es.object.keys");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var l=(a=a("../core/main"))&&a.__esModule?a:{default:a};l.default.prototype.createStringDict=function(h,g){return l.default._validateParameters("createStringDict",arguments),new l.default.StringDict(h,g)};l.default.prototype.createNumberDict=function(h,g){return l.default._validateParameters("createNumberDict",arguments),new l.default.NumberDict(h,g)};l.default.TypedDict=
function(){function h(g,m){return c(this,h),g instanceof Object?this.data=g:(this.data={},this.data[g]=m),this}return d(h,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(g){return this.data.hasOwnProperty(g)}},{key:"get",value:function(g){if(this.data.hasOwnProperty(g))return this.data[g];console.log("".concat(g," does not exist in this Dictionary"))}},{key:"set",value:function(g,m){this._validate(m)?this.data[g]=m:console.log("Those values dont work for this dictionary type.")}},
{key:"_addObj",value:function(g){for(var m in g)this.set(m,g[m])}},{key:"create",value:function(g,m){g instanceof Object&&void 0===m?this._addObj(g):void 0!==g?this.set(g,m):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(g){if(!this.data.hasOwnProperty(g))throw Error("".concat(g," does not exist in this Dictionary"));delete this.data[g]}},{key:"print",value:function(){for(var g in this.data)console.log("key:".concat(g,
" value:").concat(this.data[g]))}},{key:"saveTable",value:function(g){var m="";for(t in this.data)m+="".concat(t,",").concat(this.data[t],"\n");var t=new Blob([m],{type:"text/csv"});l.default.prototype.downloadFile(t,g||"mycsv","csv")}},{key:"saveJSON",value:function(g,m){l.default.prototype.saveJSON(this.data,g,m)}},{key:"_validate",value:function(g){return!0}}]),h}();l.default.StringDict=function(){function h(){c(this,h);for(var m=arguments.length,t=Array(m),v=0;v<m;v++)t[v]=arguments[v];return g.call.apply(g,
[this].concat(t))}r(h,l.default.TypedDict);var g=k(h);return d(h,[{key:"_validate",value:function(m){return"string"==typeof m}}]),h}();l.default.NumberDict=function(){function h(){c(this,h);for(var m=arguments.length,t=Array(m),v=0;v<m;v++)t[v]=arguments[v];return g.call.apply(g,[this].concat(t))}r(h,l.default.TypedDict);var g=k(h);return d(h,[{key:"_validate",value:function(m){return"number"==typeof m}},{key:"add",value:function(m,t){this.data.hasOwnProperty(m)?this.data[m]+=t:console.log("The key - ".concat(m,
" does not exist in this dictionary."))}},{key:"sub",value:function(m,t){this.add(m,-t)}},{key:"mult",value:function(m,t){this.data.hasOwnProperty(m)?this.data[m]*=t:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"div",value:function(m,t){this.data.hasOwnProperty(m)?this.data[m]/=t:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"_valueTest",value:function(m){if(0===Object.keys(this.data).length)throw Error("Unable to search for a minimum or maximum value on an empty NumberDict");
if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var t,v=this.data[Object.keys(this.data)[0]];for(t in this.data)this.data[t]*m<v*m&&(v=this.data[t]);return v}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(m){if(0===Object.keys(this.data).length)throw Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];
for(var t=Object.keys(this.data)[0],v=1;v<Object.keys(this.data).length;v++)Object.keys(this.data)[v]*m<t*m&&(t=Object.keys(this.data)[v]);return t}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),h}();a=l.default.TypedDict;q.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,
"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(a,G,q){function x(v){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&
w!==Symbol.prototype?"symbol":typeof w})(v)}function u(v,w){for(var z=0;z<w.length;z++){var y=w[z];y.enumerable=y.enumerable||!1;y.configurable=!0;"value"in y&&(y.writable=!0);Object.defineProperty(v,y.key,y)}}function r(v,w,z){w&&u(v.prototype,w);z&&u(v,z)}function p(v,w){return(p=Object.setPrototypeOf||function(z,y){return z.__proto__=y,z})(v,w)}function k(v){return function(){var w,z,y=c(v);return w=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==
typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(F){}}}()?(w=c(this).constructor,Reflect.construct(y,arguments,w)):y.apply(this,arguments),y=this,!(z=w)||"object"!==d(z)&&"function"!=typeof z?f(y):z}}function f(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function c(v){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(v)}
function b(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function");}function d(v){return(d="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(w){return x(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":x(w)})(v)}function l(v,w,z){(w._userNode||document.body).appendChild(v);z=new (z?m.default.MediaElement:m.default.Element)(v,w);return w._elements.push(z),z}function h(v,w,z,y){var F=document.createElement(w),
D=("string"==typeof(z=z||"")&&(z=[z]),!0);w=!1;var C=void 0;try{for(var N,J=z[Symbol.iterator]();!(D=(N=J.next()).done);D=!0){var E=N.value,M=document.createElement("source");M.setAttribute("src",E);F.appendChild(M)}}catch(V){w=!0,C=V}finally{try{D||null==J.return||J.return()}finally{if(w)throw C;}}var Q=l(F,v,!0);return Q.loadedmetadata=!1,F.addEventListener("loadedmetadata",function(){Q.width=F.videoWidth;Q.height=F.videoHeight;0===Q.elt.width&&(Q.elt.width=F.videoWidth);0===Q.elt.height&&(Q.elt.height=
F.videoHeight);Q.presetPlaybackRate&&(Q.elt.playbackRate=Q.presetPlaybackRate,delete Q.presetPlaybackRate);Q.loadedmetadata=!0}),"function"==typeof y&&F.addEventListener("canplaythrough",function W(){y(Q);F.removeEventListener("canplaythrough",W)}),Q}function g(v,w,z,y){b(this,g);this.callback=v;this.time=w;this.id=z;this.val=y}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.every");a("core-js/modules/es.array.filter");
a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.from");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.function.name");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.regexp.exec");
a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/web.url");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.every");a("core-js/modules/es.array.filter");
a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.from");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.function.name");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");
a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/web.url");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var m=(a=a("../core/main"))&&a.__esModule?a:{default:a};m.default.prototype.select=function(v,w){m.default._validateParameters("select",arguments);return(w=this._getContainer(w).querySelector(v))?
this._wrapElement(w):null};m.default.prototype.selectAll=function(v,w){m.default._validateParameters("selectAll",arguments);var z=[],y=this._getContainer(w).querySelectorAll(v);if(y)for(var F=0;F<y.length;F++){var D=this._wrapElement(y[F]);z.push(D)}return z};m.default.prototype._getContainer=function(v){var w=document;return"string"==typeof v?w=document.querySelector(v)||document:v instanceof m.default.Element?w=v.elt:v instanceof HTMLElement&&(w=v),w};m.default.prototype._wrapElement=function(v){var w,
z=Array.prototype.slice.call(v.children);return"INPUT"===v.tagName&&"checkbox"===v.type?((w=new m.default.Element(v,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!(0>=arguments.length||!arguments[0]),this)},w):"VIDEO"===v.tagName||"AUDIO"===v.tagName?new m.default.MediaElement(v,this):"SELECT"===v.tagName?this.createSelect(new m.default.Element(v,this)):0<z.length&&z.every(function(y){return"INPUT"===y.tagName||"LABEL"===y.tagName})&&("DIV"===v.tagName||
"SPAN"===v.tagName)?this.createRadio(new m.default.Element(v,this)):new m.default.Element(v,this)};m.default.prototype.removeElements=function(v){m.default._validateParameters("removeElements",arguments);this._elements.filter(function(w){return!(w.elt instanceof HTMLCanvasElement)}).map(function(w){return w.remove()})};m.default.Element.prototype.changed=function(v){return m.default.Element._adjustListener("change",v,this),this};m.default.Element.prototype.input=function(v){return m.default.Element._adjustListener("input",
v,this),this};m.default.prototype.createDiv=function(){var v=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",w=document.createElement("div");return w.innerHTML=v,l(w,this)};m.default.prototype.createP=function(){var v=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",w=document.createElement("p");return w.innerHTML=v,l(w,this)};m.default.prototype.createSpan=function(){var v=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",w=document.createElement("span");return w.innerHTML=
v,l(w,this)};m.default.prototype.createImg=function(){m.default._validateParameters("createImg",arguments);var v,w=document.createElement("img"),z=arguments;return 1<z.length&&"string"==typeof z[1]&&(w.alt=z[1]),2<z.length&&"string"==typeof z[2]&&(w.crossOrigin=z[2]),w.src=z[0],v=l(w,this),w.addEventListener("load",function(){v.width=w.offsetWidth||w.width;v.height=w.offsetHeight||w.height;var y=z[z.length-1];"function"==typeof y&&y(v)}),v};m.default.prototype.createA=function(v,w,z){m.default._validateParameters("createA",
arguments);var y=document.createElement("a");return y.href=v,y.innerHTML=w,z&&(y.target=z),l(y,this)};m.default.prototype.createSlider=function(v,w,z,y){m.default._validateParameters("createSlider",arguments);var F=document.createElement("input");return F.type="range",F.min=v,F.max=w,0===y?F.step=1E-18:y&&(F.step=y),"number"==typeof z&&(F.value=z),l(F,this)};m.default.prototype.createButton=function(v,w){m.default._validateParameters("createButton",arguments);var z=document.createElement("button");
return z.innerHTML=v,w&&(z.value=w),l(z,this)};m.default.prototype.createCheckbox=function(){for(var v=arguments.length,w=Array(v),z=0;z<v;z++)w[z]=arguments[z];m.default._validateParameters("createCheckbox",w);v=document.createElement("div");z=document.createElement("input");var y=(z.type="checkbox",document.createElement("label")),F=(y.appendChild(z),v.appendChild(y),l(v,this));return F.checked=function(){var D=F.elt.firstElementChild.getElementsByTagName("input")[0];if(D){if(0===arguments.length)return D.checked;
D.checked=!(0>=arguments.length||!arguments[0])}return F},this.value=function(D){return F.value=D,this},w[0]&&(F.value(w[0]),(v=document.createElement("span")).innerHTML=w[0],y.appendChild(v)),w[1]&&(z.checked=!0),F};m.default.prototype.createSelect=function(){for(var v,w=arguments.length,z=Array(w),y=0;y<w;y++)z[y]=arguments[y];m.default._validateParameters("createSelect",z);var F;w=z[0];return w instanceof m.default.Element&&w.elt instanceof HTMLSelectElement?this.elt=(v=w).elt:w instanceof HTMLSelectElement?
(v=l(w,this),this.elt=w):(F=document.createElement("select"),w&&"boolean"==typeof w&&F.setAttribute("multiple","true"),v=l(F,this),this.elt=F),v.option=function(D,C){if(void 0!==D){for(var N,J=0;J<this.elt.length;J+=1)if(this.elt[J].textContent===D){var E=J;break}void 0!==E?!1===C?this.elt.remove(E):this.elt[E].value=C:((N=document.createElement("option")).textContent=D,N.value=void 0===C?D:C,this.elt.appendChild(N),this._pInst._elements.push(N))}},v.selected=function(D){if(void 0!==D){for(var C=
0;C<this.elt.length;C+=1)this.elt[C].value.toString()===D.toString()&&(this.elt.selectedIndex=C);return this}if(this.elt.getAttribute("multiple")){D=[];var N=!0,J=!1,E=void 0;try{for(var M=this.elt.selectedOptions[Symbol.iterator]();!(N=(C=M.next()).done);N=!0)D.push(C.value.value)}catch(Q){J=!0,E=Q}finally{try{N||null==M.return||M.return()}finally{if(J)throw E;}}return D}return this.elt.value},v.disable=function(D){if("string"==typeof D)for(var C=0;C<this.elt.length;C++)this.elt[C].value.toString()===
D&&(this.elt[C].disabled=!0,this.elt[C].selected=!1);else this.elt.disabled=!0;return this},v.enable=function(D){if("string"==typeof D)for(var C=0;C<this.elt.length;C++)this.elt[C].value.toString()===D&&(this.elt[C].disabled=!1,this.elt[C].selected=!1);else for(this.elt.disabled=!1,D=0;D<this.elt.length;D++)this.elt[D].disabled=!1,this.elt[D].selected=!1;return this},v};var t=0;m.default.prototype.createRadio=function(){function v(D){return D instanceof HTMLInputElement&&"radio"===D.type}var w,z,
y,F=0>=arguments.length?void 0:arguments[0];F instanceof m.default.Element&&(F.elt instanceof HTMLDivElement||F.elt instanceof HTMLSpanElement)?(w=F,this.elt=F.elt):F instanceof HTMLDivElement||F instanceof HTMLSpanElement?(w=l(F,this),z=this.elt=F,"string"==typeof(1>=arguments.length?void 0:arguments[1])&&(y=1>=arguments.length?void 0:arguments[1])):("string"==typeof F&&(y=F),z=document.createElement("div"),w=l(z,this),this.elt=z);w._name=y||"radioOption_".concat(t++);return w._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(D){return v(D)||
D instanceof HTMLLabelElement&&v(D.firstElementChild)}).map(function(D){return v(D)?D:D.firstElementChild})},w.option=function(D,C){var N,J,E=!0,M=!1,Q=void 0;try{for(var V,W=w._getOptionsArray()[Symbol.iterator]();!(E=(V=W.next()).done);E=!0){var R=V.value;if(R.value===D){var S=R;break}}}catch(K){M=!0,Q=K}finally{try{E||null==W.return||W.return()}finally{if(M)throw Q;}}return void 0===S&&((S=document.createElement("input")).setAttribute("type","radio"),S.setAttribute("value",D)),S.setAttribute("name",
w._name),S.parentElement instanceof HTMLLabelElement?N=S.parentElement:(N=document.createElement("label")).insertAdjacentElement("afterbegin",S),N.lastElementChild instanceof HTMLSpanElement?J=N.lastElementChild:(J=document.createElement("span"),S.insertAdjacentElement("afterend",J)),J.innerHTML=void 0===C?D:C,this.elt.appendChild(N),S},w.remove=function(D){var C=!0,N=!1,J=void 0;try{for(var E,M=w._getOptionsArray()[Symbol.iterator]();!(C=(E=M.next()).done);C=!0){var Q=E.value;if(Q.value===D)return void(Q.parentElement instanceof
HTMLLabelElement?Q.parentElement:Q).remove()}}catch(V){N=!0,J=V}finally{try{C||null==M.return||M.return()}finally{if(N)throw J;}}},w.value=function(){var D="",C=!0,N=!1,J=void 0;try{for(var E,M=w._getOptionsArray()[Symbol.iterator]();!(C=(E=M.next()).done);C=!0){var Q=E.value;if(Q.checked){D=Q.value;break}}}catch(V){N=!0,J=V}finally{try{C||null==M.return||M.return()}finally{if(N)throw J;}}return D},w.selected=function(D){var C=null;if(void 0===D){D=!0;var N=!1,J=void 0;try{for(var E,M=w._getOptionsArray()[Symbol.iterator]();!(D=
(E=M.next()).done);D=!0){var Q=E.value;if(Q.checked){C=Q;break}}}catch(S){N=!0,J=S}finally{try{D||null==M.return||M.return()}finally{if(N)throw J;}}}else{w._getOptionsArray().forEach(function(S){S.checked=!1;S.removeAttribute("checked")});E=!0;N=!1;J=void 0;try{for(var V,W=w._getOptionsArray()[Symbol.iterator]();!(E=(V=W.next()).done);E=!0){var R=V.value;R.value===D&&(R.setAttribute("checked",!0),R.checked=!0,C=R)}}catch(S){N=!0,J=S}finally{try{E||null==W.return||W.return()}finally{if(N)throw J;}}}return C},
w.disable=function(){var D=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],C=!0,N=!1,J=void 0;try{for(var E,M=w._getOptionsArray()[Symbol.iterator]();!(C=(E=M.next()).done);C=!0)E.value.setAttribute("disabled",D)}catch(Q){N=!0,J=Q}finally{try{C||null==M.return||M.return()}finally{if(N)throw J;}}},w};m.default.prototype.createColorPicker=function(v){m.default._validateParameters("createColorPicker",arguments);var w=document.createElement("input");return w.type="color",v?v instanceof m.default.Color?
w.value=v.toString("#rrggbb"):(m.default.prototype._colorMode="rgb",m.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},w.value=m.default.prototype.color(v).toString("#rrggbb")):w.value="#000000",(w=l(w,this)).color=function(){return v&&(v.mode&&(m.default.prototype._colorMode=v.mode),v.maxes&&(m.default.prototype._colorMaxes=v.maxes)),m.default.prototype.color(this.elt.value)},w};m.default.prototype.createInput=function(){var v=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:"",w=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",z=(m.default._validateParameters("createInput",arguments),document.createElement("input"));return z.setAttribute("value",v),z.setAttribute("type",w),l(z,this)};m.default.prototype.createFileInput=function(v){var w,z=1<arguments.length&&void 0!==arguments[1]&&arguments[1];m.default._validateParameters("createFileInput",arguments);if(window.File&&window.FileReader&&window.FileList&&window.Blob)return(w=document.createElement("input")).setAttribute("type",
"file"),z&&w.setAttribute("multiple",!0),w.addEventListener("change",function(y){var F=!0,D=!1,C=void 0;try{for(var N,J=y.target.files[Symbol.iterator]();!(F=(N=J.next()).done);F=!0)m.default.File._load(N.value,v)}catch(E){D=!0,C=E}finally{try{F||null==J.return||J.return()}finally{if(D)throw C;}}},!1),l(w,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")};m.default.prototype.createVideo=function(v,w){return m.default._validateParameters("createVideo",
arguments),h(this,"video",v,w)};m.default.prototype.createAudio=function(v,w){return m.default._validateParameters("createAudio",arguments),h(this,"audio",v,w)};m.default.prototype.VIDEO="video";m.default.prototype.AUDIO="audio";void 0===navigator.mediaDevices&&(navigator.mediaDevices={});void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(v){var w=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return w?new Promise(function(z,y){w.call(navigator,v,
z,y)}):Promise.reject(Error("getUserMedia is not implemented in this browser"))});m.default.prototype.createCapture=function(){for(var v=arguments.length,w=Array(v),z=0;z<v;z++)w[z]=arguments[z];if(m.default._validateParameters("createCapture",w),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var y;z=v=!0;for(var F=!1,D=0;D<w.length;D++){var C=w[D];C===m.default.prototype.VIDEO?z=!1:C===m.default.prototype.AUDIO?v=
!1:"object"===d(C)?(void 0!==C.flipped&&(F=C.flipped,delete C.flipped),N=Object.assign({},N,C)):"function"==typeof C&&(y=C)}var N=Object.assign({},{video:v,audio:z},N),J=document.createElement("video"),E=(J.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(N).then(function(M){try{"srcObject"in J?J.srcObject=M:J.src=window.URL.createObjectURL(M)}catch(Q){J.src=M}}).catch(function(M){"NotFoundError"===M.name&&m.default._friendlyError("No webcam found on this device","createCapture");
"NotAllowedError"===M.name&&m.default._friendlyError("Access to the camera was denied","createCapture");console.error(M)}),l(J,this,!0));return E.loadedmetadata=!1,J.addEventListener("loadedmetadata",function(){J.play();J.width?(E.width=J.width,E.height=J.height,F&&(E.elt.style.transform="scaleX(-1)")):(E.width=E.elt.width=J.videoWidth,E.height=E.elt.height=J.videoHeight);E.loadedmetadata=!0;y&&y(J.srcObject)}),E.flipped=F,E};m.default.prototype.createElement=function(v,w){m.default._validateParameters("createElement",
arguments);v=document.createElement(v);return void 0!==w&&(v.innerHTML=w),l(v,this)};m.default.Element.prototype.addClass=function(v){return this.elt.className?this.hasClass(v)||(this.elt.className=this.elt.className+" "+v):this.elt.className=v,this};m.default.Element.prototype.removeClass=function(v){return this.elt.classList.remove(v),this};m.default.Element.prototype.hasClass=function(v){return this.elt.classList.contains(v)};m.default.Element.prototype.toggleClass=function(v){return this.elt.classList.contains(v)?
this.elt.classList.remove(v):this.elt.classList.add(v),this};m.default.Element.prototype.child=function(v){return void 0===v?this.elt.childNodes:("string"==typeof v?("#"===v[0]&&(v=v.substring(1)),v=document.getElementById(v)):v instanceof m.default.Element&&(v=v.elt),v instanceof HTMLElement&&this.elt.appendChild(v),this)};m.default.Element.prototype.center=function(v){var w=this.elt.style.display,z="none"===this.elt.style.display,y="none"===this.parent().style.display,F=this.elt.offsetLeft,D=this.elt.offsetTop,
C=(z&&this.show(),y&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),N=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===v||void 0===v?this.position(C/2+this.parent().offsetLeft,N/2+this.parent().offsetTop):"horizontal"===v?this.position(C/2+this.parent().offsetLeft,D):"vertical"===v&&this.position(F,N/2+this.parent().offsetTop),this.style("display",w),z&&this.hide(),y&&this.parent().hide(),this};
m.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(1>=arguments.length||!arguments[1]?this.elt.innerHTML=0>=arguments.length?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",0>=arguments.length?void 0:arguments[0]),this)};m.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==(2>=arguments.length?void 0:arguments[2])&&"fixed"!==(2>=arguments.length?
void 0:arguments[2])&&"relative"!==(2>=arguments.length?void 0:arguments[2])&&"sticky"!==(2>=arguments.length?void 0:arguments[2])&&"initial"!==(2>=arguments.length?void 0:arguments[2])&&"inherit"!==(2>=arguments.length?void 0:arguments[2])?"absolute":2>=arguments.length?void 0:arguments[2],this.elt.style.left=(0>=arguments.length?void 0:arguments[0])+"px",this.elt.style.top=(1>=arguments.length?void 0:arguments[1])+"px",this.x=0>=arguments.length?void 0:arguments[0],this.y=1>=arguments.length?void 0:
arguments[1],this)};m.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var v="";return this.elt.style.transform&&(v=(v=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+(0>=arguments.length?void 0:arguments[0])+"px, "+(1>=arguments.length?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(0>=arguments.length?void 0:arguments[0])+
"px,"+(1>=arguments.length?void 0:arguments[1])+"px,"+(2>=arguments.length?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":(3>=arguments.length?void 0:arguments[3])+"px"),this.elt.style.transform+=v,this};m.default.Element.prototype._rotate=function(){var v="";return this.elt.style.transform&&(v=(v=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+(0>=
arguments.length?void 0:arguments[0])+"deg)":2===arguments.length?this.elt.style.transform="rotate("+(0>=arguments.length?void 0:arguments[0])+"deg, "+(1>=arguments.length?void 0:arguments[1])+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+(0>=arguments.length?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(1>=arguments.length?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(2>=arguments.length?void 0:arguments[2])+"deg)"),this.elt.style.transform+=
v,this};m.default.Element.prototype.style=function(v,w){if(void 0===(w=w instanceof m.default.Color?"rgba("+w.levels[0]+","+w.levels[1]+","+w.levels[2]+","+w.levels[3]/255+")":w)){if(-1===v.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(v);v=v.split(";");for(w=0;w<v.length;w++){var z=v[w].split(":");z[0]&&z[1]&&(this.elt.style[z[0].trim()]=z[1].trim())}}else this.elt.style[v]=w,"width"!==v&&"height"!==v&&"left"!==v&&"top"!==v||(w=window.getComputedStyle(this.elt).getPropertyValue(v).replace(/[^\d.]/g,
""),this[v]=Math.round(parseFloat(w,10)));return this};m.default.Element.prototype.attribute=function(v,w){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===w?this.elt.getAttribute(v):(this.elt.setAttribute(v,w),this);if(void 0===w)return this.elt.firstChild.getAttribute(v);for(var z=0;z<this.elt.childNodes.length;z++)this.elt.childNodes[z].setAttribute(v,w)};m.default.Element.prototype.removeAttribute=function(v){if(null!=this.elt.firstChild&&
("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var w=0;w<this.elt.childNodes.length;w++)this.elt.childNodes[w].removeAttribute(v);return this.elt.removeAttribute(v),this};m.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=0>=arguments.length?void 0:arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value};m.default.Element.prototype.show=function(){return this.elt.style.display="block",this};m.default.Element.prototype.hide=
function(){return this.elt.style.display="none",this};m.default.Element.prototype.size=function(v,w){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var z=v,y=w,F=m.default.prototype.AUTO;if(z!==F||y!==F){if(z===F?z=w*this.width/this.height:y===F&&(y=v*this.height/this.width),this.elt instanceof HTMLCanvasElement){var D;F={};var C=this.elt.getContext("2d");for(D in C)F[D]=C[D];for(D in this.elt.setAttribute("width",z*this._pInst._pixelDensity),this.elt.setAttribute("height",
y*this._pInst._pixelDensity),this.elt.style.width=z+"px",this.elt.style.height=y+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),F)this.elt.getContext("2d")[D]=F[D]}else this.elt.style.width=z+"px",this.elt.style.height=y+"px",this.elt.width=z,this.elt.height=y;this.width=z;this.height=y;this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",z),this._pInst._setProperty("height",y))}return this};m.default.Element.prototype.remove=
function(){this instanceof m.default.MediaElement&&(this.stop(),null!==(w=this.elt.srcObject)&&w.getTracks().forEach(function(z){z.stop()}));var v,w=this._pInst._elements.indexOf(this);for(v in-1!==w&&this._pInst._elements.splice(w,1),this._events)this.elt.removeEventListener(v,this._events[v]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)};m.default.Element.prototype.drop=function(v,w){var z;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||
(this._dragDisabled=!0,this.elt.addEventListener("dragover",z=function(y){y.preventDefault()}),this.elt.addEventListener("dragleave",z)),m.default.Element._attachListener("drop",function(y){y.preventDefault();"function"==typeof w&&w.call(this,y);y=y.dataTransfer.files;var F=!0,D=!1,C=void 0;try{for(var N,J=y[Symbol.iterator]();!(F=(N=J.next()).done);F=!0)m.default.File._load(N.value,v)}catch(E){D=!0,C=E}finally{try{F||null==J.return||J.return()}finally{if(D)throw C;}}},this)):console.log("The File APIs are not fully supported in this browser."),
this};m.default.Element.prototype.draggable=function(v){function w(Q){var V;Q=Q||window.event;J=F?(V=Q.changedTouches,D=N-parseInt(V[0].clientX),C=J-parseInt(V[0].clientY),N=parseInt(V[0].clientX),parseInt(V[0].clientY)):(D=N-parseInt(Q.clientX),C=J-parseInt(Q.clientY),N=parseInt(Q.clientX),parseInt(Q.clientY));v.style.left=v.offsetLeft-D+"px";v.style.top=v.offsetTop-C+"px"}function z(){document.removeEventListener(E,z,!1);document.removeEventListener(M,w,!1)}var y,F="ontouchstart"in window,D=0,C=
0,N=0,J=0,E=F?"touchend":"mouseup",M=F?"touchmove":"mousemove";return void 0===v?y=v=this.elt:v!==this.elt&&v.elt!==this.elt&&(v=v.elt,y=this.elt),y.addEventListener(F?"touchstart":"mousedown",function(Q){var V;Q=Q||window.event;J=F?(V=Q.changedTouches,N=parseInt(V[0].clientX),parseInt(V[0].clientY)):(N=parseInt(Q.clientX),parseInt(Q.clientY));return document.addEventListener(E,z,!1),document.addEventListener(M,w,!1),!1},!1),y.style.cursor="move",this};a=function(v){function w(y,F){b(this,w);var D=
f(F=z.call(this,y,F));return F.elt.crossOrigin="anonymous",F._prevTime=0,F._cueIDCounter=0,F._cues=[],F.pixels=[],F._pixelsState=f(F),F._pixelDensity=1,F._modified=!1,F._frameOnCanvas=-1,Object.defineProperty(D,"src",{get:function(){var C=D.elt.children[0].src,N=D.elt.src===window.location.href?"":D.elt.src;return C===window.location.href?N:C},set:function(C){for(var N=0;N<D.elt.children.length;N++)D.elt.removeChild(D.elt.children[N]);N=document.createElement("source");N.src=C;y.appendChild(N);D.elt.src=
C;D.modified=!0}}),D._onended=function(){},D.elt.onended=function(){D._onended(D)},F}if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,writable:!0,configurable:!0}});v&&p(w,v);var z=k(w);return r(w,[{key:"play",value:function(){var y;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(y=this.elt.play())&&y.catch&&y.catch(function(F){"NotAllowedError"===
F.name?console.error(F):console.error("Media play method encountered an unexpected error",F)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var y=setTimeout(function(){console.error(e)},
500);this.elt.addEventListener("play",function(){return clearTimeout(y)},{passive:!0,once:!0})}},{key:"autoplay",value:function(y){var F=this,D=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",y),y&&!D&&(y=function(){return F._setupAutoplayFailDetection()},4===this.elt.readyState?y():this.elt.addEventListener("canplay",y,{passive:!0,once:!0})),this}},{key:"volume",value:function(y){if(void 0===y)return this.elt.volume;this.elt.volume=y}},{key:"speed",value:function(y){if(void 0===
y)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=y:this.presetPlaybackRate=y}},{key:"time",value:function(y){return void 0===y?this.elt.currentTime:(this.elt.currentTime=y,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var y=this._frameOnCanvas!==this._pInst.frameCount;
this.loadedmetadata&&y&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&this.drawingContext.restore(),
this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var y=arguments.length,F=Array(y),D=0;D<y;D++)F[D]=arguments[D];return m.default.Renderer2D.prototype.loadPixels.apply(this,F)}},{key:"updatePixels",value:function(y,F,D,C){return this.loadedmetadata&&(this._ensureCanvas(),m.default.Renderer2D.prototype.updatePixels.call(this,y,F,D,C)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var y=
arguments.length,F=Array(y),D=0;D<y;D++)F[D]=arguments[D];return m.default.Renderer2D.prototype.get.apply(this,F)}},{key:"_getPixel",value:function(){this.loadPixels();for(var y=arguments.length,F=Array(y),D=0;D<y;D++)F[D]=arguments[D];return m.default.Renderer2D.prototype._getPixel.apply(this,F)}},{key:"set",value:function(y,F,D){this.loadedmetadata&&(this._ensureCanvas(),m.default.Renderer2D.prototype.set.call(this,y,F,D),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();
for(var y=arguments.length,F=Array(y),D=0;D<y;D++)F[D]=arguments[D];m.default.prototype.copy.apply(this,F)}},{key:"mask",value:function(){this.loadPixels();this.setModified(!0);for(var y=arguments.length,F=Array(y),D=0;D<y;D++)F[D]=arguments[D];m.default.Image.prototype.mask.apply(this,F)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(y){this._modified=y}},{key:"onended",value:function(y){return this._onended=y,this}},{key:"connect",value:function(y){if("function"==
typeof m.default.prototype.getAudioContext){var F=m.default.prototype.getAudioContext();var D=m.default.soundOut.input}else try{D=(F=y.context).destination}catch(C){throw"connect() is meant to be used with Web Audio API or p5.sound.js";}this.audioSourceNode||(this.audioSourceNode=F.createMediaElementSource(this.elt),this.audioSourceNode.connect(D));y?y.input?this.audioSourceNode.connect(y.input):this.audioSourceNode.connect(y):this.audioSourceNode.connect(D)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";
this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit";this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(y,F,D){var C=this._cueIDCounter++;F=new g(F,y,C,D);return this._cues.push(F),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),C}},{key:"removeCue",value:function(y){for(var F=0;F<this._cues.length;F++)this._cues[F].id===y&&(console.log(y),this._cues.splice(F,
1));0===this._cues.length&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[];this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var y=this.time(),F=0;F<this._cues.length;F++){var D=this._cues[F].time,C=this._cues[F].val;this._prevTime<D&&D<=y&&this._cues[F].callback(C)}this._prevTime=y}}]),w}(m.default.Element);m.default.MediaElement=a;a=function(){function v(w,z){b(this,v);this.file=w;this._pInst=z;z=w.type.split("/");this.type=z[0];this.subtype=z[1];
this.name=w.name;this.size=w.size;this.data=void 0}return r(v,null,[{key:"_createLoader",value:function(w,z){var y=new FileReader;return y.onload=function(F){var D,C=new m.default.File(w);"application/json"===C.file.type?C.data=JSON.parse(F.target.result):"text/xml"===C.file.type?(D=(new DOMParser).parseFromString(F.target.result,"text/xml"),C.data=new m.default.XML(D.documentElement)):C.data=F.target.result;z(C)},y}},{key:"_load",value:function(w,z){var y;/^text\//.test(w.type)||"application/json"===
w.type?m.default.File._createLoader(w,z).readAsText(w):/^(video|audio)\//.test(w.type)?((y=new m.default.File(w)).data=URL.createObjectURL(w),z(y)):m.default.File._createLoader(w,z).readAsDataURL(w)}}]),v}();m.default.File=a;a=m.default;q.default=a},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,
"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,
"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(a,G,q){Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var x=(a=a("../core/main"))&&a.__esModule?a:{default:a};x.default.prototype.deviceOrientation=
1<window.innerWidth/window.innerHeight?"landscape":"portrait";x.default.prototype.accelerationX=0;x.default.prototype.accelerationY=0;x.default.prototype.accelerationZ=0;x.default.prototype.pAccelerationX=0;x.default.prototype.pAccelerationY=0;x.default.prototype.pAccelerationZ=0;x.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX);this._setProperty("pAccelerationY",this.accelerationY);this._setProperty("pAccelerationZ",this.accelerationZ)};x.default.prototype.rotationX=
0;x.default.prototype.rotationY=0;x.default.prototype.rotationZ=0;x.default.prototype.pRotationX=0;x.default.prototype.pRotationY=0;var u=x.default.prototype.pRotationZ=0,r=0,p=0,k="clockwise",f="clockwise",c="clockwise",b=(x.default.prototype.pRotateDirectionX=void 0,x.default.prototype.pRotateDirectionY=void 0,x.default.prototype.pRotateDirectionZ=void 0,x.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX);this._setProperty("pRotationY",this.rotationY);
this._setProperty("pRotationZ",this.rotationZ)},x.default.prototype.turnAxis=void 0,.5),d=30;a=(x.default.prototype.setMoveThreshold=function(l){x.default._validateParameters("setMoveThreshold",arguments);b=l},x.default.prototype.setShakeThreshold=function(l){x.default._validateParameters("setShakeThreshold",arguments);d=l},x.default.prototype._ondeviceorientation=function(l){this._updatePRotations();this._setProperty("rotationX",this._fromDegrees(l.beta));this._setProperty("rotationY",this._fromDegrees(l.gamma));
this._setProperty("rotationZ",this._fromDegrees(l.alpha));this._handleMotion()},x.default.prototype._ondevicemotion=function(l){this._updatePAccelerations();this._setProperty("accelerationX",2*l.acceleration.x);this._setProperty("accelerationY",2*l.acceleration.y);this._setProperty("accelerationZ",2*l.acceleration.z);this._handleMotion()},x.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?
this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var l,h,g,m,t,v=this._isGlobal?window:this;"function"==typeof v.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>b||Math.abs(this.accelerationY-this.pAccelerationY)>b||Math.abs(this.accelerationZ-this.pAccelerationZ)>b)&&v.deviceMoved();"function"==typeof v.deviceTurned&&(h=this._toDegrees(this.rotationX)+180,g=this._toDegrees(this.pRotationX)+180,l=u+180,
0<h-g&&270>h-g||-270>h-g?k="clockwise":(0>h-g||270<h-g)&&(k="counter-clockwise"),k!==this.pRotateDirectionX&&(l=h),90<Math.abs(h-l)&&270>Math.abs(h-l)&&(l=h,this._setProperty("turnAxis","X"),v.deviceTurned()),this.pRotateDirectionX=k,u=l-180,g=this._toDegrees(this.rotationY)+180,h=this._toDegrees(this.pRotationY)+180,l=r+180,0<g-h&&270>g-h||-270>g-h?f="clockwise":(0>g-h||270<g-this.pRotationY)&&(f="counter-clockwise"),f!==this.pRotateDirectionY&&(l=g),90<Math.abs(g-l)&&270>Math.abs(g-l)&&(l=g,this._setProperty("turnAxis",
"Y"),v.deviceTurned()),this.pRotateDirectionY=f,r=l-180,0<(h=this._toDegrees(this.rotationZ))-(g=this._toDegrees(this.pRotationZ))&&270>h-g||-270>h-g?c="clockwise":(0>h-g||270<h-g)&&(c="counter-clockwise"),c!==this.pRotateDirectionZ&&(p=h),90<Math.abs(h-p)&&270>Math.abs(h-p)&&(p=h,this._setProperty("turnAxis","Z"),v.deviceTurned()),this.pRotateDirectionZ=c,this._setProperty("turnAxis",void 0));"function"==typeof v.deviceShaken&&(null!==this.pAccelerationX&&(m=Math.abs(this.accelerationX-this.pAccelerationX),
t=Math.abs(this.accelerationY-this.pAccelerationY)),d<m+t&&v.deviceShaken())},x.default);q.default=a},{"../core/main":283}],301:[function(a,G,q){a("core-js/modules/es.array.for-each");a("core-js/modules/es.string.repeat");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/es.array.for-each");a("core-js/modules/es.string.repeat");a("core-js/modules/web.dom-collections.for-each");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var x=(a=a("../core/main"))&&a.__esModule?
a:{default:a};x.default.prototype.isKeyPressed=!1;x.default.prototype.keyIsPressed=!1;x.default.prototype.key="";x.default.prototype.keyCode=0;x.default.prototype._onkeydown=function(u){var r;u.repeat?this._setProperty("isKeyRepeated",!0):(this._setProperty("isKeyRepeated",!1),this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",u.which),this._downKeys[u.which]=!0,this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),u.metaKey&&(this._metaKeys||
(this._metaKeys=[]),this._metaKeys.push(u.which)),"function"!=typeof(r=this._isGlobal?window:this).keyPressed||u.charCode||!1===r.keyPressed(u)&&u.preventDefault())};x.default.prototype._onkeyup=function(u){var r=this,p=(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1),this._setProperty("_lastKeyCodePressed",this._keyCode),this._downKeys[u.which]=!1,"Meta"===u.key&&this._metaKeys&&(this._metaKeys.forEach(function(k){r._downKeys[k]=!1}),this._metaKeys=[]),this._isGlobal?window:
this);"function"==typeof p.keyReleased&&!1===p.keyReleased(u)&&u.preventDefault()};x.default.prototype._onkeypress=function(u){var r;u.which===this._lastKeyCodeTyped&&this.isKeyRepeated||(this._setProperty("_lastKeyCodeTyped",u.which),this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),"function"==typeof(r=this._isGlobal?window:this).keyTyped&&!1===r.keyTyped(u)&&u.preventDefault())};x.default.prototype._onblur=function(u){this._downKeys={}};x.default.prototype.keyIsDown=function(u){return x.default._validateParameters("keyIsDown",
arguments),this._downKeys[u]||!1};x.default.prototype._areDownKeys=function(){for(var u in this._downKeys)if(this._downKeys.hasOwnProperty(u)&&!0===this._downKeys[u])return!0;return!1};a=x.default;q.default=a},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.string.repeat":203,"core-js/modules/web.dom-collections.for-each":245}],302:[function(a,G,q){function x(f){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&
"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(f)}function u(f){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(c){return x(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":x(c)})(f)}function r(){var f;return"function"!=typeof WeakMap?null:(f=new WeakMap,r=function(){return f},f)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");
a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var p=(p=a("../core/main"))&&p.__esModule?p:{default:p},k=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==u(f)&&"function"!=typeof f)return{default:f};var c=
r();if(c&&c.has(f))return c.get(f);var b,d={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in f){var h;Object.prototype.hasOwnProperty.call(f,b)&&((h=l?Object.getOwnPropertyDescriptor(f,b):null)&&(h.get||h.set)?Object.defineProperty(d,b,h):d[b]=f[b])}d.default=f;c&&c.set(f,d);return d}(a("../core/constants"));p.default.prototype.movedX=0;p.default.prototype.movedY=0;p.default.prototype._hasMouseInteracted=!1;p.default.prototype.mouseX=0;p.default.prototype.mouseY=0;p.default.prototype.pmouseX=
0;p.default.prototype.pmouseY=0;p.default.prototype.winMouseX=0;p.default.prototype.winMouseY=0;p.default.prototype.pwinMouseX=0;p.default.prototype.pwinMouseY=0;p.default.prototype.mouseButton=0;p.default.prototype.mouseIsPressed=!1;p.default.prototype._updateNextMouseCoords=function(f){var c,b,d,l,h;null!==this._curElement&&(!f.touches||0<f.touches.length)&&(c=this._curElement.elt,b=this.width,d=this.height,(l=f)&&!l.clientX&&(l.touches?l=l.touches[0]:l.changedTouches&&(l=l.changedTouches[0])),
h=c.getBoundingClientRect(),b=c.scrollWidth/b||1,c=c.scrollHeight/d||1,d={x:(l.clientX-h.left)/b,y:(l.clientY-h.top)/c,winX:l.clientX,winY:l.clientY,id:l.identifier},this._setProperty("mouseX",d.x),this._setProperty("mouseY",d.y),this._setProperty("winMouseX",d.winX),this._setProperty("winMouseY",d.winY),null===document.pointerLockElement?(b=this.mouseX-this.pmouseX,h=this.mouseY-this.pmouseY,this._setProperty("movedX",b),this._setProperty("movedY",h)):(this._setProperty("movedX",f.movementX),this._setProperty("movedY",
f.movementY)));this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))};p.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX);this._setProperty("pmouseY",this.mouseY);this._setProperty("pwinMouseX",this.winMouseX);this._setProperty("pwinMouseY",this.winMouseY);this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)};p.default.prototype._setMouseButton=function(f){1===f.button?this._setProperty("mouseButton",k.CENTER):
2===f.button?this._setProperty("mouseButton",k.RIGHT):this._setProperty("mouseButton",k.LEFT)};p.default.prototype._onmousemove=function(f){var c=this._isGlobal?window:this;this._updateNextMouseCoords(f);this.mouseIsPressed?"function"==typeof c.mouseDragged?!1===c.mouseDragged(f)&&f.preventDefault():"function"==typeof c.touchMoved&&!1===c.touchMoved(f)&&f.preventDefault():"function"==typeof c.mouseMoved&&!1===c.mouseMoved(f)&&f.preventDefault()};p.default.prototype._onmousedown=function(f){var c=
this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0);this._setMouseButton(f);this._updateNextMouseCoords(f);this.touchstart||("function"==typeof c.mousePressed?!1===c.mousePressed(f)&&f.preventDefault():"function"==typeof c.touchStarted&&!1===c.touchStarted(f)&&f.preventDefault(),this.touchstart=!1)};p.default.prototype._onmouseup=function(f){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1);this.touchend||("function"==typeof c.mouseReleased?!1===c.mouseReleased(f)&&
f.preventDefault():"function"==typeof c.touchEnded&&!1===c.touchEnded(f)&&f.preventDefault(),this.touchend=!1)};p.default.prototype._ondragend=p.default.prototype._onmouseup;p.default.prototype._ondragover=p.default.prototype._onmousemove;p.default.prototype._onclick=function(f){var c=this._isGlobal?window:this;"function"==typeof c.mouseClicked&&!1===c.mouseClicked(f)&&f.preventDefault()};p.default.prototype._ondblclick=function(f){var c=this._isGlobal?window:this;"function"==typeof c.doubleClicked&&
!1===c.doubleClicked(f)&&f.preventDefault()};p.default.prototype._mouseWheelDeltaY=0;p.default.prototype._pmouseWheelDeltaY=0;p.default.prototype._onwheel=function(f){var c=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",f.deltaY);"function"==typeof c.mouseWheel&&(f.delta=f.deltaY,!1===c.mouseWheel(f)&&f.preventDefault())};p.default.prototype.requestPointerLock=function(){var f=this._curElement.elt;return f.requestPointerLock=f.requestPointerLock||f.mozRequestPointerLock,f.requestPointerLock?
(f.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)};p.default.prototype.exitPointerLock=function(){document.exitPointerLock()};a=p.default;q.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,
"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(a,G,q){Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};a.default.prototype.touches=[];a.default.prototype._updateTouchCoords=function(x){if(null!==this._curElement){for(var u=[],r=0;r<x.touches.length;r++)u[r]=function(p,k,f,c){var b=4<arguments.length&&void 0!==arguments[4]?arguments[4]:
0,d=p.getBoundingClientRect();k=p.scrollWidth/k||1;p=p.scrollHeight/f||1;f=c.touches[b]||c.changedTouches[b];return{x:(f.clientX-d.left)/k,y:(f.clientY-d.top)/p,winX:f.clientX,winY:f.clientY,id:f.identifier}}(this._curElement.elt,this.width,this.height,x,r);this._setProperty("touches",u)}};a.default.prototype._ontouchstart=function(x){var u=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0);this._updateTouchCoords(x);this._updateNextMouseCoords(x);this._updateMouseCoords();"function"==
typeof u.touchStarted&&(!1===u.touchStarted(x)&&x.preventDefault(),this.touchstart=!0)};a.default.prototype._ontouchmove=function(x){var u=this._isGlobal?window:this;this._updateTouchCoords(x);this._updateNextMouseCoords(x);"function"==typeof u.touchMoved?!1===u.touchMoved(x)&&x.preventDefault():"function"==typeof u.mouseDragged&&!1===u.mouseDragged(x)&&x.preventDefault()};a.default.prototype._ontouchend=function(x){this._setProperty("mouseIsPressed",!1);this._updateTouchCoords(x);this._updateNextMouseCoords(x);
var u=this._isGlobal?window:this;"function"==typeof u.touchEnded&&(!1===u.touchEnded(x)&&x.preventDefault(),this.touchend=!0)};a=a.default;q.default=a},{"../core/main":283}],304:[function(a,G,q){a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.typed-array.int32-array");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");
a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");
a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.typed-array.int32-array");a("core-js/modules/es.typed-array.uint8-array");
a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");
a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");Object.defineProperty(q,
"__esModule",{value:!0});q.default=void 0;var x,u,r,p,k={_toPixels:function(f){var c,b;return f instanceof ImageData?f.data:f.getContext("2d")?f.getContext("2d").getImageData(0,0,f.width,f.height).data:f.getContext("webgl")?(b=(c=f.getContext("webgl")).drawingBufferWidth*c.drawingBufferHeight*4,b=new Uint8Array(b),c.readPixels(0,0,f.width,f.height,c.RGBA,c.UNSIGNED_BYTE,b),b):void 0},_getARGB:function(f,c){c*=4;return f[3+c]<<24&4278190080|f[c]<<16&16711680|f[1+c]<<8&65280|255&f[2+c]},_setPixels:function(f,
c){for(var b,d=0,l=f.length;d<l;d++)f[b=4*d]=(16711680&c[d])>>>16,f[1+b]=(65280&c[d])>>>8,f[2+b]=255&c[d],f[3+b]=(4278190080&c[d])>>>24},_toImageData:function(f){return f instanceof ImageData?f:f.getContext("2d").getImageData(0,0,f.width,f.height)},_createImageData:function(f,c){return k._tmpCanvas=document.createElement("canvas"),k._tmpCtx=k._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(f,c)},apply:function(f,c,b){var d=f.getContext("2d"),l=d.getImageData(0,0,f.width,f.height);c=c(l,b);
c instanceof ImageData?d.putImageData(c,0,0,0,0,f.width,f.height):d.putImageData(l,0,0,0,0,f.width,f.height)},threshold:function(f){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,b=k._toPixels(f);c=Math.floor(255*c);for(var d=0;d<b.length;d+=4)b[d]=b[d+1]=b[d+2]=c<=.2126*b[d]+.7152*b[d+1]+.0722*b[d+2]?255:0},gray:function(f){f=k._toPixels(f);for(var c=0;c<f.length;c+=4)f[c]=f[c+1]=f[c+2]=.2126*f[c]+.7152*f[c+1]+.0722*f[c+2]},opaque:function(f){f=k._toPixels(f);for(var c=0;c<f.length;c+=
4)f[c+3]=255;return f},invert:function(f){f=k._toPixels(f);for(var c=0;c<f.length;c+=4)f[c]=255-f[c],f[c+1]=255-f[c+1],f[c+2]=255-f[c+2]},posterize:function(f){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,b=k._toPixels(f);if(2>c||255<c)throw Error("Level must be greater than 2 and less than 255 for posterize");for(var d=c-1,l=0;l<b.length;l+=4){var h=b[l+1],g=b[l+2];b[l]=255*(b[l]*c>>8)/d;b[l+1]=255*(h*c>>8)/d;b[l+2]=255*(g*c>>8)/d}},dilate:function(f){for(var c,b,d,l,h,g,m,t,v,
w=k._toPixels(f),z=0,y=w.length?w.length/4:0,F=new Int32Array(y);z<y;)for(b=(c=z)+f.width;z<b;)l=d=k._getARGB(w,z),(v=z-1)<c&&(v=z),b<=(t=z+1)&&(t=z),0>(h=z-f.width)&&(h=0),y<=(g=z+f.width)&&(g=z),h=k._getARGB(w,h),v=k._getARGB(w,v),g=k._getARGB(w,g),(l=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))<(m=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))&&(d=v,l=m),l<(m=77*((v=k._getARGB(w,t))>>16&255)+151*(v>>8&255)+28*(255&v))&&(d=v,l=m),l<(t=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))&&(d=h,l=t),l<77*(g>>16&255)+
151*(g>>8&255)+28*(255&g)&&(d=g),F[z++]=d;k._setPixels(w,F)},erode:function(f){for(var c,b,d,l,h,g,m,t,v,w=k._toPixels(f),z=0,y=w.length?w.length/4:0,F=new Int32Array(y);z<y;)for(b=(c=z)+f.width;z<b;)l=d=k._getARGB(w,z),(v=z-1)<c&&(v=z),b<=(t=z+1)&&(t=z),0>(h=z-f.width)&&(h=0),y<=(g=z+f.width)&&(g=z),h=k._getARGB(w,h),v=k._getARGB(w,v),g=k._getARGB(w,g),(m=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))<(l=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))&&(d=v,l=m),(m=77*((v=k._getARGB(w,t))>>16&255)+151*(v>>
8&255)+28*(255&v))<l&&(d=v,l=m),(t=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))<l&&(d=h,l=t),77*(g>>16&255)+151*(g>>8&255)+28*(255&g)<l&&(d=g),F[z++]=d;k._setPixels(w,F)},blur:function(f,c){var b,d,l,h=k._toPixels(f),g=f.width;f=f.height;for(var m=g*f,t=new Int32Array(m),v=0;v<m;v++)t[v]=k._getARGB(h,v);var w,z;v=new Int32Array(m);var y=new Int32Array(m),F=new Int32Array(m);m=new Int32Array(m);var D=0;var C=3.5*c|0;if(x!==(C=1>C?1:248>C?C:248)){u=1+(x=C)<<1;r=new Int32Array(u);p=Array(u);for(c=0;c<u;c++)p[c]=
new Int32Array(256);var N=1;for(d=C-1;N<C;N++){r[C+N]=r[d]=b=d*d;c=p[C+N];var J=p[d--];for(w=0;256>w;w++)c[w]=J[w]=b*w}b=r[C]=C*C;c=p[C];for(C=0;256>C;C++)c[C]=b*C}for(z=0;z<f;z++){for(w=0;w<g;w++){if(J=b=C=N=c=0,0>(d=w-x)){var E=-d;d=0}else{if(g<=d)break;E=0}for(;E<u&&!(g<=d);E++){var M=t[d+D];var Q=p[E];N+=Q[(-16777216&M)>>>24];C+=Q[(16711680&M)>>16];b+=Q[(65280&M)>>8];J+=Q[255&M];c+=r[E];d++}v[M=D+w]=N/c;y[M]=C/c;F[M]=b/c;m[M]=J/c}D+=g}var V=(l=-x)*g;for(z=D=0;z<f;z++){for(w=0;w<g;w++){if(J=b=
C=N=c=0,0>l)E=M=-l,d=w;else{if(f<=l)break;E=0;M=l;d=w+V}for(;E<u&&!(f<=M);E++)Q=p[E],N+=Q[v[d]],C+=Q[y[d]],b+=Q[F[d]],J+=Q[m[d]],c+=r[E],M++,d+=g;t[w+D]=N/c<<24|C/c<<16|b/c<<8|J/c}D+=g;V+=g;l++}k._setPixels(h,t)}};q.default=k},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,
"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,
"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(a,G,q){function x(k){return k&&k.__esModule?k:{default:k}}function u(k){if(!(k=
function(f){if(Array.isArray(f)){for(var c=0,b=Array(f.length);c<f.length;c++)b[c]=f[c];return b}}(k)||function(f){if(Symbol.iterator in Object(f)||"[object Arguments]"===Object.prototype.toString.call(f))return Array.from(f)}(k)))throw new TypeError("Invalid attempt to spread non-iterable instance");return k}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.for-each");
a("core-js/modules/es.array.from");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.set");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.uint32-array");
a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");
a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/web.dom-collections.for-each");
a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.set");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");
a("core-js/modules/es.string.split");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.uint32-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");
a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");
a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var r=x(a("../core/main")),p=x(a("omggif"));r.default.prototype.createImage=function(k,f){return r.default._validateParameters("createImage",arguments),new r.default.Image(k,f)};r.default.prototype.saveCanvas=function(){for(var k,f,c,b,
d,l=arguments.length,h=Array(l),g=0;g<l;g++)h[g]=arguments[g];switch(r.default._validateParameters("saveCanvas",h),h[0]instanceof HTMLCanvasElement?(k=h[0],h.shift()):h[0]instanceof r.default.Element?(k=h[0].elt,h.shift()):h[0]instanceof r.default.Framebuffer?(b=h[0],(d=this.createGraphics(b.width,b.height)).pixelDensity(pixelDensity()),b.loadPixels(),d.loadPixels(),d.pixels.set(b.pixels),d.updatePixels(),k=d.elt,h.shift()):k=this._curElement&&this._curElement.elt,1<=h.length&&(f=h[0]),c=(c=2<=h.length?
h[1]:c)||r.default.prototype._checkFileExtension(f,c)[1]||"png"){default:b="image/png";break;case "webp":b="image/webp";break;case "jpeg":case "jpg":b="image/jpeg"}k.toBlob(function(m){r.default.prototype.downloadFile(m,f,c);d&&d.remove()},b)};r.default.prototype.encodeAndDownloadGif=function(k,f){for(var c=k.gifProperties,b=c.loopLimit,d=(1===b?b=null:null===b&&(b=0),new Uint8Array(k.width*k.height*c.numFrames)),l=[],h={},g=0;g<c.numFrames;g++){for(var m=new Set,t=c.frames[g].image.data,v=t.length,
w=new Uint32Array(k.width*k.height),z=0,y=0;z<v;z+=4,y++){var F=t[z+0]<<16|t[z+1]<<8|t[z+2]<<0;m.add(F);w[y]=F}m=u(m).sort().toString();void 0===h[m]?h[m]={freq:1,frames:[g]}:(h[m].freq+=1,h[m].frames.push(g));l.push(w)}var D=[];g=Object.keys(h).sort(function(Q,V){return h[V].freq-h[Q].freq});var C=g[0].split(",").map(function(Q){return parseInt(Q)});D=D.concat(h[C].frames);var N=new Set(C);for(w=1;w<g.length;w++)if(m=g[w].split(",").map(function(Q){return parseInt(Q)}).filter(function(Q){return!N.has(Q)}),
256>=C.length+m.length){for(t=0;t<m.length;t++)C.push(m[t]),N.add(m[t]);D=D.concat(h[g[w]].frames)}D=new Set(D);var J={};for(g=0;g<C.length;g++)J[C[g]]||(J[C[g]]=g);for(g=1;g<C.length;)g<<=1;C.length=g;b={loop:b,palette:new Uint32Array(C)};var E=new p.default.GifWriter(d,k.width,k.height,b),M={};for(b=0;b<c.numFrames;b++)!function(Q){var V=!D.has(Q),W=V?[]:C,R=new Uint8Array(k.width*k.height),S={},K=new Set,O=(l[Q].forEach(function(X,ca){V?(void 0===S[X]&&(S[X]=W.length,W.push(X)),R[ca]=S[X]):R[ca]=
J[X];0<Q&&l[Q-1][ca]!==X&&K.add(X)}),{}),I=W.filter(function(X){return!K.has(X)});if(0<I.length&&(I=I[0],I=(V?S:J)[I],0<Q)){for(var P=0;P<l[Q].length;P++)l[Q-1][P]===l[Q][P]&&(R[P]=I);O.transparent=I;M.frameOpts.disposal=1}if(O.delay=c.frames[Q].delay/10,V){for(I=1;I<W.length;)I<<=1;W.length=I;O.palette=new Uint32Array(W)}0<Q&&E.addFrame(0,0,k.width,k.height,M.pixelPaletteIndex,M.frameOpts);M={pixelPaletteIndex:R,frameOpts:O}}(b);M.frameOpts.disposal=1;E.addFrame(0,0,k.width,k.height,M.pixelPaletteIndex,
M.frameOpts);b=new Blob([d.slice(0,E.end())],{type:"image/gif"});r.default.prototype.downloadFile(b,f,"gif")};r.default.prototype.saveFrames=function(k,f,c,b,d){r.default._validateParameters("saveFrames",arguments);c=r.default.prototype.constrain(c=c||3,0,15);c*=1E3;b=r.default.prototype.constrain(b||15,0,22);var l=0,h=r.default.prototype._makeFrame,g=this._curElement.elt,m=[],t=setInterval(function(){m.push(h(k+l,f,g));l++},1E3/b);setTimeout(function(){if(clearInterval(t),d)d(m);else for(var v=0,
w=m;v<w.length;v++){var z=w[v];r.default.prototype.downloadFile(z.imageData,z.filename,z.ext)}m=[]},.01+c)};r.default.prototype._makeFrame=function(k,f,c){c=this?this._curElement.elt:c;if(f)switch(f.toLowerCase()){case "png":var b="image/png";break;case "jpeg":case "jpg":b="image/jpeg";break;default:b="image/png"}else f="png",b="image/png";c=(c=c.toDataURL(b)).replace(b,"image/octet-stream");b={};return b.imageData=c,b.filename=k,b.ext=f,b};a=r.default;q.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,
"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,
"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,
"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,
"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(a,G,q){function x(h){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===
Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function u(h){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(g){return x(g)}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":x(g)})(h)}function r(){var h;return"function"!=typeof WeakMap?null:(h=new WeakMap,r=function(){return h},h)}function p(h){return h&&h.__esModule?h:{default:h}}function k(h,g,m,t,v,w,z){try{var y=h[w](z),F=y.value}catch(D){return void m(D)}y.done?
g(F):Promise.resolve(F).then(t,v)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.copy-within");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.regexp.to-string");
a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.uint8-clamped-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");
a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");
a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.copy-within");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.regexp.to-string");
a("core-js/modules/es.string.includes");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.uint8-clamped-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");
a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");
a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;a("regenerator-runtime/runtime");var f=p(a("../core/main")),c=p(a("../core/helpers")),b=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==u(h)&&"function"!=typeof h)return{default:h};var g=r();if(g&&g.has(h))return g.get(h);var m,t={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in h){var w;Object.prototype.hasOwnProperty.call(h,
m)&&((w=v?Object.getOwnPropertyDescriptor(h,m):null)&&(w.get||w.set)?Object.defineProperty(t,m,w):t[m]=h[m])}t.default=h;g&&g.set(h,t);return t}(a("../core/constants")),d=p(a("omggif")),l=a("gifenc");a("../core/friendly_errors/validate_params");a("../core/friendly_errors/file_errors");a("../core/friendly_errors/fes_core");f.default.prototype.loadImage=function(h,g,m){f.default._validateParameters("loadImage",arguments);var t=new f.default.Image(1,1,this),v=this,w=new Request(h,{method:"GET",mode:"cors"});
return fetch(h,w).then(function(z){var y,F=z.headers.get("content-type");null===F&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset.");F&&F.includes("image/gif")?z.arrayBuffer().then(function(D){if(D){D=new Uint8Array(D);for(var C=g,N=m,J=function(K){v._decrementPreload()}.bind(v),E=new d.default.GifReader(D),M=(t.width=t.canvas.width=E.width,t.height=t.canvas.height=E.height,[]),Q=E.numFrames(),V=new Uint8ClampedArray(t.width*
t.height*4),W=0;W<Q;W++){var R=E.frameInfo(W),S=t.drawingContext.getImageData(0,0,t.width,t.height);V=S.data.slice();try{E.decodeAndBlitFrameRGBA(W,V)}catch(K){f.default._friendlyFileLoadError(8,t.src),"function"==typeof N?N(K):console.error(K)}V=(!0,new ImageData(V,t.width,t.height));V=(t.drawingContext.putImageData(V,0,0),R.delay);0===V&&(V=10);M.push({image:t.drawingContext.getImageData(0,0,t.width,t.height),delay:10*V});2===R.disposal?t.drawingContext.clearRect(R.x,R.y,R.width,R.height):3===R.disposal&&
t.drawingContext.putImageData(S,0,0,R.x,R.y,R.width,R.height)}null===(D=E.loopCount())?D=1:0===D&&(D=null);t.drawingContext.putImageData(M[0].image,0,0);1<M.length&&(t.gifProperties={displayIndex:0,loopLimit:D,loopCount:0,frames:M,numFrames:Q,playing:!0,timeDisplayed:0,lastChangeTime:0});"function"==typeof C&&C(t);J()}},function(D){"function"==typeof m?(m(D),v._decrementPreload()):console.error(D)}):((y=new Image).onload=function(){t.width=t.canvas.width=y.width;t.height=t.canvas.height=y.height;
t.drawingContext.drawImage(y,0,0);t.modified=!0;"function"==typeof g&&g(t);v._decrementPreload()},y.onerror=function(D){f.default._friendlyFileLoadError(0,y.src);"function"==typeof m?(m(D),v._decrementPreload()):console.error(D)},0!==h.indexOf("data:image/")&&(y.crossOrigin="Anonymous"),y.src=h);t.modified=!0}).catch(function(z){f.default._friendlyFileLoadError(0,h);"function"==typeof m?(m(z),v._decrementPreload()):console.error(z)}),t};f.default.prototype.saveGif=function(){var h=regeneratorRuntime.mark(function w(t,
v){var z,y,F,D,C,N,J,E,M,Q,V,W,R,S,K,O,I,P,X,ca,ia,da,ba,ja,qa,fa,ma=arguments;return regeneratorRuntime.wrap(function(sa){for(;;)switch(sa.prev=sa.next){case 0:if(z=2<ma.length&&void 0!==ma[2]?ma[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof t)throw TypeError("fileName parameter must be a string");sa.next=3;break;case 3:if("number"!=typeof v)throw TypeError("Duration parameter must be a number");sa.next=5;break;case 5:if(y=z&&z.delay||
0,F=z&&z.units||"seconds",D=z&&z.silent||!1,C=z&&z.notificationDuration||0,N=z&&z.notificationID||"progressBar","number"!=typeof y)throw TypeError("Delay parameter must be a number");sa.next=12;break;case 12:if("seconds"!==F&&"frames"!==F)throw TypeError('Units parameter must be either "frames" or "seconds"');sa.next=14;break;case 14:if("boolean"!=typeof D)throw TypeError("Silent parameter must be a boolean");sa.next=16;break;case 16:if("number"!=typeof C)throw TypeError("Notification duration parameter must be a number");
sa.next=18;break;case 18:if("string"!=typeof N)throw TypeError("Notification ID parameter must be a string");sa.next=20;break;case 20:return this._recording=!0,Q=this._targetFrameRate,J=20>(J=1/(Q=Q!==1/0&&void 0!==Q&&0!==Q?Q:60)*1E3)?20:J,M=(E="seconds"===F?v*Q:v)+(Q="seconds"===F?y*Q:y),this.frameCount=Q,V=this._pixelDensity,this.pixelDensity(1),W=[],null!==document.getElementById(N)&&document.getElementById(N).remove(),D||((R=this.createP("")).id(N),R.style("font-size","16px"),R.style("font-family",
"Montserrat"),R.style("background-color","#ffffffa0"),R.style("padding","8px"),R.style("border-radius","10px"),R.position(0,0)),this._renderer instanceof f.default.RendererGL&&(K=this.drawingContext,S=new Uint8Array(K.drawingBufferWidth*K.drawingBufferHeight*4)),this.noLoop(),sa.next=39,Promise.resolve();case 39:if(Q<M)return this.redraw(),ja=void 0,ja=this._renderer instanceof f.default.RendererGL?(S=new Uint8Array(K.drawingBufferWidth*K.drawingBufferHeight*4),K.readPixels(0,0,K.drawingBufferWidth,
K.drawingBufferHeight,K.RGBA,K.UNSIGNED_BYTE,S),function(xa,pa,ra){var wa=parseInt(ra/2),ua=4*pa;pa=new Uint8Array(4*pa);for(var ta=0;ta<wa;++ta){var Ga=ta*ua,Oa=(ra-ta-1)*ua;pa.set(xa.subarray(Ga,Ga+ua));xa.copyWithin(Ga,Oa,Oa+ua);xa.set(pa,Oa)}return xa}(S,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,W.push(ja),Q++,D||R.html("Saved frame \x3cb\x3e"+W.length.toString()+"\x3c/b\x3e out of "+E.toString()),sa.next=48,new Promise(function(xa){return setTimeout(xa,
0)});sa.next=50;break;case 48:sa.next=39;break;case 50:D||R.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(V),O=(0,l.GIFEncoder)(),I=function(xa){for(var pa=new Uint8Array(xa.length*xa[0].length),ra=0;ra<xa.length;ra++)pa.set(xa[ra],ra*xa[0].length);xa=(0,l.quantize)(pa,256,{format:"rgba4444",oneBitAlpha:!0});256===xa.length?xa[xa.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:xa.push([255*Math.random(),255*Math.random(),255*Math.random(),
0]);return xa}(W),P={},X=function(xa){for(var pa=xa.length/4,ra=new Uint8Array(pa),wa=0;wa<pa;wa++){var ua=xa[4*wa]<<24|xa[4*wa+1]<<16|xa[4*wa+2]<<8|xa[4*wa+3];void 0===P[ua]&&(P[ua]=(0,l.nearestColorIndex)(I,xa.slice(4*wa,4*(wa+1))));ra[wa]=P[ua]}return ra},ca=I.length-1,ia=[],da=0;case 60:if(!(da<W.length)){sa.next=71;break}if(ba=X(W[da]),ja=ba.slice(),0===da)O.writeFrame(ba,this.width,this.height,{palette:I,delay:J,dispose:1});else{for(qa=0;qa<ba.length;qa++)ba[qa]===ia[qa]&&(ba[qa]=ca);O.writeFrame(ba,
this.width,this.height,{delay:J,transparent:!0,transparentIndex:ca,dispose:1})}return ia=ja,D||R.html("Rendered frame \x3cb\x3e"+da.toString()+"\x3c/b\x3e out of "+E.toString()),sa.next=68,new Promise(function(xa){return setTimeout(xa,0)});case 68:da++;sa.next=60;break;case 71:O.finish(),fa=O.bytesView(),fa=new Blob([fa],{type:"image/gif"}),W=[],this._recording=!1,this.loop(),D||(R.html("Done. Downloading your gif!\ud83c\udf38"),0<C&&setTimeout(function(){return R.remove()},1E3*C)),f.default.prototype.downloadFile(fa,
t,"gif");case 80:case "end":return sa.stop()}},w,this)});var g=function(){var t=this,v=arguments;return new Promise(function(w,z){function y(C){k(D,w,z,y,F,"next",C)}function F(C){k(D,w,z,y,F,"throw",C)}var D=h.apply(t,v);y(void 0)})};return function(t,v){return g.apply(this,arguments)}}();f.default.prototype.image=function(h,g,m,t,v,w,z,y,F,D,C,N){f.default._validateParameters("image",arguments);var J=h.width,E=h.height,M=(N=N||b.CENTER,C=C||b.CENTER,h.elt&&(J=void 0!==J?J:h.elt.width,E=void 0!==
E?E:h.elt.height),h.elt&&h.elt.videoWidth&&!h.canvas&&(J=void 0!==J?J:h.elt.videoWidth,E=void 0!==E?E:h.elt.videoHeight),t||J);v=v||E;w=w||0;z=z||0;var Q=void 0!==y?y:J;y=0<Q&&Q<J?Q:J;J=void 0!==F?F:E;J=0<J&&J<E?J:E;F=1;h.elt&&!h.canvas&&h.elt.style.width&&(F=h.elt.videoWidth&&!t?h.elt.videoWidth:h.elt.width,F/=parseInt(h.elt.style.width,10));w*=F;z*=F;J*=F;y*=F;Q=D;var V=C,W=N;M=(E=c.default.modeAdjust(g,m,M,v,this._renderer._imageMode)).x;var R=E.y,S=E.w,K=E.h,O=w,I=z,P=y,X,ca,ia,da,ba,ja,qa,fa,
ma;E=(Q===b.COVER&&(X=V,ia=W,qa=S,fa=K,ja=O,ma=I,ca=P,da=J,ba=Math.max(qa/ca,fa/da),qa/=ba,fa/=ba,ba=ja,ja=ma,X===b.CENTER?ba+=(ca-qa)/2:X===b.RIGHT&&(ba+=ca-qa),ia===b.CENTER?ja+=(da-fa)/2:ia===b.BOTTOM&&(ja+=da-fa),O=(ma={x:ba,y:ja,w:qa,h:fa}).x,I=ma.y,P=ma.w,J=ma.h),Q===b.CONTAIN&&(X=V,ca=W,ia=M,da=R,ba=S,ja=K,qa=P,fa=J,ma=Math.max(qa/ba,fa/ja),qa/=ma,fa/=ma,ma=ia,ia=da,X===b.CENTER?ma+=(ba-qa)/2:X===b.RIGHT&&(ma+=ba-qa),ca===b.CENTER?ia+=(ja-fa)/2:ca===b.BOTTOM&&(ia+=ja-fa),M=(Q={x:ma,y:ia,w:qa,
h:fa}).x,R=Q.y,S=Q.w,K=Q.h),{sx:O,sy:I,sw:P,sh:J,dx:M,dy:R,dw:S,dh:K});this._renderer.image(h,E.sx,E.sy,E.sw,E.sh,E.dx,E.dy,E.dw,E.dh)};f.default.prototype.tint=function(){for(var h=arguments.length,g=Array(h),m=0;m<h;m++)g[m]=arguments[m];f.default._validateParameters("tint",g);h=this.color.apply(this,g);this._renderer._tint=h.levels};f.default.prototype.noTint=function(){this._renderer._tint=null};f.default.prototype._getTintedImageCanvas=f.default.Renderer2D.prototype._getTintedImageCanvas;f.default.prototype.imageMode=
function(h){f.default._validateParameters("imageMode",arguments);h!==b.CORNER&&h!==b.CORNERS&&h!==b.CENTER||(this._renderer._imageMode=h)};a=f.default;q.default=a},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,
"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,
"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,
"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,
"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(a,G,q){function x(k){return k&&k.__esModule?k:{default:k}}function u(k,f){for(var c=0;c<f.length;c++){var b=f[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(k,b.key,b)}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");
a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var r=x(a("../core/main")),
p=x(a("./filters"));r.default.Image=function(){function k(c,b){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");this.width=c;this.height=b;this.canvas=document.createElement("canvas");this.canvas.width=this.width;this.canvas.height=this.height;this.drawingContext=this.canvas.getContext("2d");(this._pixelsState=this)._pixelDensity=1;this.gifProperties=null;this._modified=!1;this.pixels=[]}var f;return f=[{key:"pixelDensity",value:function(c){return void 0!==c?(0>=c&&
(r.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),c=1),this._pixelDensity=c,this.width/=c,this.height/=c,this):this._pixelDensity}},{key:"_animateGif",value:function(c){var b,d=this.gifProperties;c=c._lastRealFrameTime||window.performance.now();0===d.lastChangeTime&&(d.lastChangeTime=c);d.playing&&(d.timeDisplayed=c-d.lastChangeTime,b=d.frames[d.displayIndex].delay,d.timeDisplayed>=b&&(b=Math.floor(d.timeDisplayed/b),d.timeDisplayed=0,d.lastChangeTime=
c,d.displayIndex+=b,d.loopCount=Math.floor(d.displayIndex/d.numFrames),null!==d.loopLimit&&d.loopCount>=d.loopLimit?d.playing=!1:(c=d.displayIndex%d.numFrames,this.drawingContext.putImageData(d.frames[c].image,0,0),d.displayIndex=c,this.setModified(!0))))}},{key:"_setProperty",value:function(c,b){this[c]=b;this.setModified(!0)}},{key:"loadPixels",value:function(){r.default.Renderer2D.prototype.loadPixels.call(this);this.setModified(!0)}},{key:"updatePixels",value:function(c,b,d,l){r.default.Renderer2D.prototype.updatePixels.call(this,
c,b,d,l);this.setModified(!0)}},{key:"get",value:function(c,b,d,l){return r.default._validateParameters("p5.Image.get",arguments),r.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var c=arguments.length,b=Array(c),d=0;d<c;d++)b[d]=arguments[d];return r.default.Renderer2D.prototype._getPixel.apply(this,b)}},{key:"set",value:function(c,b,d){r.default.Renderer2D.prototype.set.call(this,c,b,d);this.setModified(!0)}},{key:"resize",value:function(c,b){0===
c&&0===b?(c=this.canvas.width,b=this.canvas.height):0===c?c=this.canvas.width*b/this.canvas.height:0===b&&(b=this.canvas.height*c/this.canvas.width);c=Math.floor(c);b=Math.floor(b);var d=document.createElement("canvas");if(d.width=c,d.height=b,this.gifProperties)for(var l=this.gifProperties,h=0;h<l.numFrames;h++){for(var g=this.drawingContext.createImageData(c,b),m=l.frames[h].image,t=g,v=0,w=0;w<t.height;w++)for(var z=0;z<t.width;z++){var y=Math.floor(z*m.width/t.width);y=4*(Math.floor(w*m.height/
t.height)*m.width+y);t.data[v++]=m.data[y++];t.data[v++]=m.data[y++];t.data[v++]=m.data[y++];t.data[v++]=m.data[+y]}l.frames[h].image=g}d.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,d.width,d.height);this.canvas.width=this.width=c;this.canvas.height=this.height=b;this.drawingContext.drawImage(d,0,0,c,b,0,0,c,b);0<this.pixels.length&&this.loadPixels();this.setModified(!0)}},{key:"copy",value:function(){for(var c=arguments.length,b=Array(c),d=0;d<c;d++)b[d]=arguments[d];
r.default.prototype.copy.apply(this,b)}},{key:"mask",value:function(c){var b=this.drawingContext.globalCompositeOperation,d=this._pixelDensity,l=1,h=[c=void 0===c?this:c,0,0,(l=c instanceof r.default.Renderer?c._pInst._pixelDensity:l)*c.width,l*c.height,0,0,d*this.width,d*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(c=0;c<this.gifProperties.frames.length;c++)this.drawingContext.putImageData(this.gifProperties.frames[c].image,0,0),this.copy.apply(this,
h),this.gifProperties.frames[c].image=this.drawingContext.getImageData(0,0,d*this.width,d*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,h);this.drawingContext.globalCompositeOperation=b;this.setModified(!0)}},{key:"filter",value:function(c,b){p.default.apply(this.canvas,p.default[c],b);this.setModified(!0)}},{key:"blend",value:function(){for(var c=arguments.length,b=Array(c),d=0;d<c;d++)b[d]=arguments[d];
r.default._validateParameters("p5.Image.blend",arguments);r.default.prototype.blend.apply(this,b);this.setModified(!0)}},{key:"setModified",value:function(c){this._modified=c}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(c,b){this.gifProperties?r.default.prototype.encodeAndDownloadGif(this,c):r.default.prototype.saveCanvas(this.canvas,c,b)}},{key:"reset",value:function(){var c;this.gifProperties&&((c=this.gifProperties).playing=!0,c.timeSinceStart=0,c.timeDisplayed=
0,c.lastChangeTime=0,c.loopCount=0,c.displayIndex=0,this.drawingContext.putImageData(c.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var c;if(this.gifProperties)return(c=this.gifProperties).displayIndex%c.numFrames}},{key:"setFrame",value:function(c){var b;this.gifProperties&&(c<(b=this.gifProperties).numFrames&&0<=c?(b.timeDisplayed=0,b.lastChangeTime=0,b.displayIndex=c,this.drawingContext.putImageData(b.frames[c].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},
{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(c,b){if(this.gifProperties){var d=this.gifProperties;if(b<d.numFrames&&0<=b)d.frames[b].delay=c;else{var l=!0;b=!1;var h=void 0;try{for(var g,m=d.frames[Symbol.iterator]();!(l=(g=m.next()).done);l=!0)g.value.delay=
c}catch(t){b=!0,h=t}finally{try{l||null==m.return||m.return()}finally{if(b)throw h;}}}}}}],u(k.prototype,f),k}();a=r.default.Image;q.default=a},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(a,G,q){function x(p){return p&&
p.__esModule?p:{default:p}}a("core-js/modules/es.array.filter");a("core-js/modules/es.array.filter");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var u=x(a("../core/main")),r=x(a("./filters"));a("../color/p5.Color");u.default.prototype.pixels=[];u.default.prototype.blend=function(){for(var p,k=arguments.length,f=Array(k),c=0;c<k;c++)f[c]=arguments[c];u.default._validateParameters("blend",f);this._renderer?(p=this._renderer).blend.apply(p,f):u.default.Renderer2D.prototype.blend.apply(this,
f)};u.default.prototype.copy=function(){var p;var k=arguments.length;var f=Array(k);for(p=0;p<k;p++)f[p]=arguments[p];if(u.default._validateParameters("copy",f),9===f.length){k=f[0];p=f[1];var c=f[2];var b=f[3];var d=f[4];var l=f[5];var h=f[6];var g=f[7];f=f[8]}else{if(8!==f.length)throw Error("Signature not supported");k=this;p=f[0];c=f[1];b=f[2];d=f[3];l=f[4];h=f[5];g=f[6];f=f[7]}u.default.prototype._copyHelper(this,k,p,c,b,d,l,h,g,f)};u.default.prototype._copyHelper=function(p,k,f,c,b,d,l,h,g,
m){var t=k.canvas.width/k.width,v=0,w=0;k._renderer&&k._renderer.isP3D&&(v=k.width/2,w=k.height/2);p._renderer&&p._renderer.isP3D?(p.push(),p.resetMatrix(),p.noLights(),p.blendMode(p.BLEND),p.imageMode(p.CORNER),u.default.RendererGL.prototype.image.call(p._renderer,k,f+v,c+w,b,d,l,h,g,m),p.pop()):p.drawingContext.drawImage(k.canvas,t*(f+v),t*(c+w),t*b,t*d,l,h,g,m)};u.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()};u.default.prototype.filter=function(){for(var p=
arguments.length,k=Array(p),f=0;f<p;f++)k[f]=arguments[f];u.default._validateParameters("filter",k);p=function(){var d,l={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(0>=arguments.length?void 0:arguments[0])instanceof u.default.Shader?l.shader=0>=arguments.length?void 0:arguments[0]:(l.operation=0>=arguments.length?void 0:arguments[0],1<arguments.length&&"number"==typeof(1>=arguments.length?void 0:arguments[1])&&(l.value=1>=arguments.length?void 0:arguments[1]),!1===(0>(d=arguments.length-
1)||arguments.length<=d?void 0:arguments[d])&&(l.useWebGL=!1)),l}.apply(void 0,k);f=p.shader;var c=p.operation,b=p.value;p=p.useWebGL;this._renderer.isP3D&&f?u.default.RendererGL.prototype.filter.call(this._renderer,f):p||this._renderer.isP3D?(!p&&this._renderer.isP3D&&console.warn("filter() with useWebGL\x3dfalse is not supported in WEBGL"),this._renderer.isP3D?u.default.RendererGL.prototype.filter.call(this._renderer,c,b):((f=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,
-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),f.filter.apply(f,k),this.copy(f._renderer,0,0,this.width,this.height,0,0,this.width,this.height),f.clear())):void 0!==this.canvas?r.default.apply(this.canvas,r.default[c],b):r.default.apply(this.elt,r.default[c],b)};u.default.prototype.get=function(p,k,f,c){var b;return u.default._validateParameters("get",arguments),(b=this._renderer).get.apply(b,arguments)};u.default.prototype.loadPixels=function(){for(var p=
arguments.length,k=Array(p),f=0;f<p;f++)k[f]=arguments[f];u.default._validateParameters("loadPixels",k);this._renderer.loadPixels()};u.default.prototype.set=function(p,k,f){this._renderer.set(p,k,f)};u.default.prototype.updatePixels=function(p,k,f,c){u.default._validateParameters("updatePixels",arguments);0!==this.pixels.length&&this._renderer.updatePixels(p,k,f,c)};a=u.default;q.default=a},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(a,
G,q){function x(d){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(d)}function u(d){return d&&d.__esModule?d:{default:d}}function r(d){return(r="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(l){return x(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":x(l)})(d)}
function p(d){return d.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#039;")}function k(d,l){l&&!0!==l&&"true"!==l||(l="");var h="";return(d=d||"untitled",d.includes("."))&&(h=d.split(".").pop()),l&&h!==l&&(h=l,d="".concat(d,".").concat(h)),[d,h]}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.includes");
a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.last-index-of");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.function.name");a("core-js/modules/es.object.from-entries");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");
a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");
a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");
a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/web.url");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.last-index-of");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");
a("core-js/modules/es.array.splice");a("core-js/modules/es.function.name");a("core-js/modules/es.object.from-entries");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.copy-within");
a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");
a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/web.url");
Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var f=u(a("../core/main")),c=(a("whatwg-fetch"),a("es6-promise/auto"),u(a("fetch-jsonp"))),b=u(a("file-saver"));a("../core/friendly_errors/validate_params");a("../core/friendly_errors/file_errors");a("../core/friendly_errors/fes_core");f.default.prototype.loadJSON=function(){for(var d=arguments.length,l=Array(d),h=0;h<d;h++)l[h]=arguments[h];f.default._validateParameters("loadJSON",l);var g,m,t,v=l[0],w={};d="json";for(h=1;h<l.length;h++){var z=
l[h];"string"==typeof z?"jsonp"!==z&&"json"!==z||(d=z):"function"==typeof z?g?m=z:g=z:"object"===r(z)&&(z.hasOwnProperty("jsonpCallback")||z.hasOwnProperty("jsonpCallbackFunction"))&&(d="jsonp",t=z)}var y=this;return this.httpDo(v,"GET",t,d,function(F){for(var D in F)w[D]=F[D];void 0!==g&&g(F);y._decrementPreload()},function(F){if(f.default._friendlyFileLoadError(5,v),!m)throw F;m(F)}),w};f.default.prototype.loadStrings=function(){for(var d=arguments.length,l=Array(d),h=0;h<d;h++)l[h]=arguments[h];
f.default._validateParameters("loadStrings",l);var g,m,t=[];for(d=1;d<l.length;d++)h=l[d],"function"==typeof h&&(void 0===g?g=h:void 0===m&&(m=h));var v=this;return f.default.prototype.httpDo.call(this,l[0],"GET","text",function(w){w=w.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/);for(var z=0,y=w.length;z<y;z+=32768)Array.prototype.push.apply(t,w.slice(z,Math.min(z+32768,y)));void 0!==g&&g(t);v._decrementPreload()},function(w){if(f.default._friendlyFileLoadError(3,w),!m)throw w;m(w)}),t};
f.default.prototype.loadTable=function(d){var l,h,g,m=[],t=!1,v=d.substring(d.lastIndexOf(".")+1,d.length);"csv"===v?g=",":"ssv"===v?g=";":"tsv"===v&&(g="\t");for(v=1;v<arguments.length;v++)"function"==typeof arguments[v]?void 0===l?l=arguments[v]:void 0===h&&(h=arguments[v]):"string"==typeof arguments[v]&&(m.push(arguments[v]),"header"===arguments[v]&&(t=!0),"csv"===arguments[v]?g=",":"ssv"===arguments[v]?g=";":"tsv"===arguments[v]&&(g="\t"));var w=new f.default.Table,z=this;return this.httpDo(d,
"GET","table",function(y){for(var F,D,C={},N=[],J=0,E=null,M=function(){E.push(C.token);C.currentState=0;C.token=""},Q=function(){C.currentState=4;N.push(E);E=null};;){if(null==(F=y[J++])){if(C.escaped)throw Error("Unclosed quote in file.");if(E){M();Q();break}}null===E&&(C.escaped=!1,E=[],C.currentState=0,C.token="");if(0===C.currentState){if('"'===F){C.escaped=!0;C.currentState=1;continue}C.currentState=1}1===C.currentState&&C.escaped?'"'===F?'"'===y[J]?(C.token+='"',J++):(C.escaped=!1,C.currentState=
2):"\r"!==F&&(C.token+=F):"\r"===F?("\n"===y[J]&&J++,M(),Q()):"\n"===F?(M(),Q()):F===g?M():1===C.currentState&&(C.token+=F)}if(t)w.columns=N.shift();else for(y=0;y<N[0].length;y++)w.columns[y]="null";for(y=0;y<N.length;y++)(1!==N[y].length||"undefined"!==N[y][0]&&""!==N[y][0])&&((D=new f.default.TableRow).arr=N[y],D.obj=function(V,W){if(void 0===(W=W||[]))for(var R=0;R<V.length;R++)W[R.toString()]=R;return Object.fromEntries(W.map(function(S,K){return[S,V[K]]}))}(N[y],w.columns),w.addRow(D));"function"==
typeof l&&l(w);z._decrementPreload()},function(y){f.default._friendlyFileLoadError(2,d);h?h(y):console.error(y)}),w};f.default.prototype.loadXML=function(){for(var d=arguments.length,l=Array(d),h=0;h<d;h++)l[h]=arguments[h];var g,m,t=new f.default.XML;for(d=1;d<l.length;d++)h=l[d],"function"==typeof h&&(void 0===g?g=h:void 0===m&&(m=h));var v=this;return this.httpDo(l[0],"GET","xml",function(w){for(var z in w)t[z]=w[z];void 0!==g&&g(t);v._decrementPreload()},function(w){if(f.default._friendlyFileLoadError(1,
w),!m)throw w;m(w)}),t};f.default.prototype.loadBytes=function(d,l,h){var g={},m=this;return this.httpDo(d,"GET","arrayBuffer",function(t){g.bytes=new Uint8Array(t);"function"==typeof l&&l(g);m._decrementPreload()},function(t){if(f.default._friendlyFileLoadError(6,d),!h)throw t;h(t)}),g};f.default.prototype.httpGet=function(){for(var d=arguments.length,l=Array(d),h=0;h<d;h++)l[h]=arguments[h];return f.default._validateParameters("httpGet",l),l.splice(1,0,"GET"),f.default.prototype.httpDo.apply(this,
l)};f.default.prototype.httpPost=function(){for(var d=arguments.length,l=Array(d),h=0;h<d;h++)l[h]=arguments[h];return f.default._validateParameters("httpPost",l),l.splice(1,0,"POST"),f.default.prototype.httpDo.apply(this,l)};f.default.prototype.httpDo=function(){for(var d,l,h,g={},m=0,t="text/plain",v=arguments.length-1;0<v&&"function"==typeof(0>v||arguments.length<=v?void 0:arguments[v]);v--)m++;v=arguments.length-m;var w=0>=arguments.length?void 0:arguments[0];if(2==v&&"string"==typeof w&&"object"===
r(1>=arguments.length?void 0:arguments[1]))t=new Request(w,1>=arguments.length?void 0:arguments[1]),l=2>=arguments.length?void 0:arguments[2],h=3>=arguments.length?void 0:arguments[3];else{var z;m="GET";for(v=1;v<arguments.length;v++){var y=0>v||arguments.length<=v?void 0:arguments[v];if("string"==typeof y)"GET"===y||"POST"===y||"PUT"===y||"DELETE"===y?m=y:"json"===y||"jsonp"===y||"binary"===y||"arrayBuffer"===y||"xml"===y||"text"===y||"table"===y?d=y:z=y;else if("number"==typeof y)z=y.toString();
else if("object"===r(y))if(y.hasOwnProperty("jsonpCallback")||y.hasOwnProperty("jsonpCallbackFunction"))for(var F in y)g[F]=y[F];else t=y instanceof f.default.XML?(z=y.serialize(),"application/xml"):(z=JSON.stringify(y),"application/json");else"function"==typeof y&&(l?h=y:l=y)}v="GET"===m?new Headers:new Headers({"Content-Type":t});t=new Request(w,{method:m,mode:"cors",body:z,headers:v})}return(v=(v="jsonp"===(d=d||(w.includes("json")?"json":w.includes("xml")?"xml":"text"))?(0,c.default)(w,g):fetch(t)).then(function(D){if(!D.ok)throw(C=
Error(D.body)).status=D.status,C.ok=!1,C;var C=0;switch((C="jsonp"!==d?D.headers.get("content-length"):C)&&64E6<C&&f.default._friendlyFileLoadError(7,w),d){case "json":case "jsonp":return D.json();case "binary":return D.blob();case "arrayBuffer":return D.arrayBuffer();case "xml":return D.text().then(function(N){N=(new DOMParser).parseFromString(N,"text/xml");return new f.default.XML(N.documentElement)});default:return D.text()}})).then(l||function(){}),v.catch(h||console.error),v};window.URL=window.URL||
window.webkitURL;f.default.prototype._pWriters=[];f.default.prototype.createWriter=function(d,l){var h,g;for(g in f.default.prototype._pWriters)if(f.default.prototype._pWriters[g].name===d)return h=new f.default.PrintWriter(d+this.millis(),l),f.default.prototype._pWriters.push(h),h;return h=new f.default.PrintWriter(d,l),f.default.prototype._pWriters.push(h),h};f.default.PrintWriter=function(d,l){var h=this;this.name=d;this.content="";this.write=function(g){this.content+=g};this.print=function(g){this.content+=
"".concat(g,"\n")};this.clear=function(){this.content=""};this.close=function(){var g,m=[];for(g in m.push(this.content),f.default.prototype.writeFile(m,d,l),f.default.prototype._pWriters)f.default.prototype._pWriters[g].name===this.name&&f.default.prototype._pWriters.splice(g,1);h.clear();h={}}};f.default.prototype.save=function(d,l,h){var g=arguments,m=(this._curElement||this).elt;if(0===g.length)f.default.prototype.saveCanvas(m);else if(g[0]instanceof f.default.Renderer||g[0]instanceof f.default.Graphics)f.default.prototype.saveCanvas(g[0].elt,
g[1],g[2]);else if(1===g.length&&"string"==typeof g[0])f.default.prototype.saveCanvas(m,g[0]);else switch(k(g[1],g[2])[1]){case "json":return void f.default.prototype.saveJSON(g[0],g[1],g[2]);case "txt":return void f.default.prototype.saveStrings(g[0],g[1],g[2]);default:g[0]instanceof Array?f.default.prototype.saveStrings(g[0],g[1],g[2]):g[0]instanceof f.default.Table?f.default.prototype.saveTable(g[0],g[1],g[2]):g[0]instanceof f.default.Image?f.default.prototype.saveCanvas(g[0].canvas,g[1]):g[0]instanceof
f.default.SoundFile&&f.default.prototype.saveSound(g[0],g[1],g[2],g[3])}};f.default.prototype.saveJSON=function(d,l,h){f.default._validateParameters("saveJSON",arguments);h=h?JSON.stringify(d):JSON.stringify(d,void 0,2);this.saveStrings(h.split("\n"),l,"json")};f.default.prototype.saveJSONObject=f.default.prototype.saveJSON;f.default.prototype.saveJSONArray=f.default.prototype.saveJSON;f.default.prototype.saveStrings=function(d,l,h,g){f.default._validateParameters("saveStrings",arguments);for(var m=
this.createWriter(l,h||"txt"),t=0;t<d.length;t++)g?m.write(d[t]+"\r\n"):m.write(d[t]+"\n");m.close();m.clear()};f.default.prototype.saveTable=function(d,l,h){f.default._validateParameters("saveTable",arguments);var g=void 0===h?l.substring(l.lastIndexOf(".")+1,l.length):h;var m=this.createWriter(l,g),t=d.columns,v="tsv"===g?"\t":",";if("html"!==g){if("0"!==t[0]){for(var w=0;w<t.length;w++)w<t.length-1?m.write(t[w]+v):m.write(t[w]);m.write("\n")}for(t=0;t<d.rows.length;t++){for(w=0;w<d.rows[t].arr.length;w++)w<
d.rows[t].arr.length-1?"csv"===g&&String(d.rows[t].arr[w]).includes(",")?m.write('"'+d.rows[t].arr[w]+'"'+v):m.write(d.rows[t].arr[w]+v):"csv"===g&&String(d.rows[t].arr[w]).includes(",")?m.write('"'+d.rows[t].arr[w]+'"'):m.write(d.rows[t].arr[w]);m.write("\n")}}else{m.print("\x3chtml\x3e");m.print("\x3chead\x3e");if(m.print('  \x3cmeta http-equiv\x3d"content-type" content\x3d"text/html;charset\x3dutf-8" /\x3e'),m.print("\x3c/head\x3e"),m.print("\x3cbody\x3e"),m.print("  \x3ctable\x3e"),"0"!==t[0]){m.print("    \x3ctr\x3e");
for(g=0;g<t.length;g++)v=p(t[g]),m.print("      \x3ctd\x3e".concat(v)),m.print("      \x3c/td\x3e");m.print("    \x3c/tr\x3e")}for(g=0;g<d.rows.length;g++){m.print("    \x3ctr\x3e");for(t=0;t<d.columns.length;t++)v=p(d.rows[g].getString(t)),m.print("      \x3ctd\x3e".concat(v)),m.print("      \x3c/td\x3e");m.print("    \x3c/tr\x3e")}m.print("  \x3c/table\x3e");m.print("\x3c/body\x3e");m.print("\x3c/html\x3e")}m.close();m.clear()};f.default.prototype.writeFile=function(d,l,h){var g="application/octet-stream";
d=(f.default.prototype._isSafari()&&(g="text/plain"),new Blob(d,{type:g}));f.default.prototype.downloadFile(d,l,h)};f.default.prototype.downloadFile=function(d,l,h){var g;l=k(l,h);h=l[0];d instanceof Blob?b.default.saveAs(d,h):((g=document.createElement("a")).href=d,g.download=h,g.onclick=function(m){document.body.removeChild(m.target);m.stopPropagation()},g.style.display="none",document.body.appendChild(g),f.default.prototype._isSafari()&&(d=(d='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+
'3. Name it with this extension: ."'.concat(l[1],'"'),alert(d)),g.click())};f.default.prototype._checkFileExtension=k;f.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")};a=f.default;q.default=a},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,
"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,
"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,
"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,
"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(a,G,q){function x(r,p){for(var k=0;k<p.length;k++){var f=p[k];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=
!0);Object.defineProperty(r,f.key,f)}}a("core-js/modules/es.array.concat");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.join");a("core-js/modules/es.array.splice");a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.match");a("core-js/modules/es.string.replace");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.join");a("core-js/modules/es.array.splice");
a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.match");a("core-js/modules/es.string.replace");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var u=(a=a("../core/main"))&&a.__esModule?a:{default:a};u.default.Table=function(){function r(){var k=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");
this.columns=[];this.rows=k}var p;return p=[{key:"addRow",value:function(k){k=k||new u.default.TableRow;if(void 0===k.arr||void 0===k.obj)throw Error("invalid TableRow: ".concat(k));return(k.table=this).rows.push(k),k}},{key:"removeRow",value:function(k){this.rows[k].table=null;k=this.rows.splice(k+1,this.rows.length);this.rows.pop();this.rows=this.rows.concat(k)}},{key:"getRow",value:function(k){return this.rows[k]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(k,
f){if("string"==typeof f)for(var c=0;c<this.rows.length;c++){if(this.rows[c].obj[f]===k)return this.rows[c]}else for(c=0;c<this.rows.length;c++)if(this.rows[c].arr[f]===k)return this.rows[c];return null}},{key:"findRows",value:function(k,f){var c=[];if("string"==typeof f)for(var b=0;b<this.rows.length;b++)this.rows[b].obj[f]===k&&c.push(this.rows[b]);else for(b=0;b<this.rows.length;b++)this.rows[b].arr[f]===k&&c.push(this.rows[b]);return c}},{key:"matchRow",value:function(k,f){if("number"==typeof f)for(var c=
0;c<this.rows.length;c++){if(this.rows[c].arr[f].match(k))return this.rows[c]}else for(c=0;c<this.rows.length;c++)if(this.rows[c].obj[f].match(k))return this.rows[c];return null}},{key:"matchRows",value:function(k,f){var c=[];if("number"==typeof f)for(var b=0;b<this.rows.length;b++)this.rows[b].arr[f].match(k)&&c.push(this.rows[b]);else for(b=0;b<this.rows.length;b++)this.rows[b].obj[f].match(k)&&c.push(this.rows[b]);return c}},{key:"getColumn",value:function(k){var f=[];if("string"==typeof k)for(var c=
0;c<this.rows.length;c++)f.push(this.rows[c].obj[k]);else for(c=0;c<this.rows.length;c++)f.push(this.rows[c].arr[k]);return f}},{key:"clearRows",value:function(){delete this.rows;this.rows=[]}},{key:"addColumn",value:function(k){this.columns.push(k||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(k,f){for(var c=[],b=0;b<k.length;b++)c.push(k.charAt(b).replace(/[-/\\^$*+?.()|[\]{}]/g,
"\\$\x26"));k=new RegExp(c.join("|"),"g");if(void 0===f)for(f=0;f<this.columns.length;f++)for(c=0;c<this.rows.length;c++)b=(b=this.rows[c].arr[f]).replace(k,""),this.rows[c].arr[f]=b,this.rows[c].obj[this.columns[f]]=b;else if("string"==typeof f)for(c=0;c<this.rows.length;c++){b=(b=this.rows[c].obj[f]).replace(k,"");var d=(this.rows[c].obj[f]=b,this.columns.indexOf(f));this.rows[c].arr[d]=b}else for(c=0;c<this.rows.length;c++)b=(b=this.rows[c].arr[f]).replace(k,""),this.rows[c].arr[f]=b,this.rows[c].obj[this.columns[f]]=
b}},{key:"trim",value:function(k){var f=RegExp(" ","g");if(void 0===k)for(k=0;k<this.columns.length;k++)for(var c=0;c<this.rows.length;c++){var b=(b=this.rows[c].arr[k]).replace(f,"");this.rows[c].arr[k]=b;this.rows[c].obj[this.columns[k]]=b}else if("string"==typeof k)for(c=0;c<this.rows.length;c++){b=(b=this.rows[c].obj[k]).replace(f,"");var d=(this.rows[c].obj[k]=b,this.columns.indexOf(k));this.rows[c].arr[d]=b}else for(c=0;c<this.rows.length;c++)b=(b=this.rows[c].arr[k]).replace(f,""),this.rows[c].arr[k]=
b,this.rows[c].obj[this.columns[k]]=b}},{key:"removeColumn",value:function(k){"string"==typeof k?c=this.columns.indexOf(f=k):f=this.columns[c=k];var f,c;k=this.columns.splice(c+1,this.columns.length);this.columns.pop();this.columns=this.columns.concat(k);for(k=0;k<this.rows.length;k++){var b=this.rows[k].arr,d=b.splice(c+1,b.length);b.pop();this.rows[k].arr=b.concat(d);delete this.rows[k].obj[f]}}},{key:"set",value:function(k,f,c){this.rows[k].set(f,c)}},{key:"setNum",value:function(k,f,c){this.rows[k].setNum(f,
c)}},{key:"setString",value:function(k,f,c){this.rows[k].setString(f,c)}},{key:"get",value:function(k,f){return this.rows[k].get(f)}},{key:"getNum",value:function(k,f){return this.rows[k].getNum(f)}},{key:"getString",value:function(k,f){return this.rows[k].getString(f)}},{key:"getObject",value:function(k){for(var f,c={},b=0;b<this.rows.length;b++)if(f=this.rows[b].obj,"string"==typeof k){if(!(0<=this.columns.indexOf(k)))throw Error('This table has no column named "'.concat(k,'"'));c[f[k]]=f}else c[b]=
this.rows[b].obj;return c}},{key:"getArray",value:function(){for(var k=[],f=0;f<this.rows.length;f++)k.push(this.rows[f].arr);return k}}],x(r.prototype,p),r}();a=u.default;q.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,
"core-js/modules/es.string.replace":204}],311:[function(a,G,q){function x(u,r){for(var p=0;p<r.length;p++){var k=r[p];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(u,k.key,k)}}a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.from-entries");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.split");
a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.from-entries");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.split");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};a.default.TableRow=
function(){function u(p,k){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");var f=[];p&&(f=p.split(k||","));this.arr=f;this.obj=Object.fromEntries(f.entries());this.table=null}var r;return r=[{key:"set",value:function(p,k){if("string"==typeof p){var f=this.table.columns.indexOf(p);if(!(0<=f))throw Error('This table has no column named "'.concat(p,'"'));this.obj[p]=k;this.arr[f]=k}else{if(!(p<this.table.columns.length))throw Error("Column #".concat(p," is out of the range of this table"));
this.arr[p]=k;f=this.table.columns[p];this.obj[f]=k}}},{key:"setNum",value:function(p,k){k=parseFloat(k);this.set(p,k)}},{key:"setString",value:function(p,k){k=k.toString();this.set(p,k)}},{key:"get",value:function(p){return("string"==typeof p?this.obj:this.arr)[p]}},{key:"getNum",value:function(p){var k="string"==typeof p?parseFloat(this.obj[p]):parseFloat(this.arr[p]);if("NaN"===k.toString())throw"Error: ".concat(this.obj[p]," is NaN (Not a Number)");return k}},{key:"getString",value:function(p){return("string"==
typeof p?this.obj:this.arr)[p].toString()}}],x(u.prototype,r),u}();a=a.default;q.default=a},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(a,G,q){function x(r,p){for(var k=0;k<p.length;k++){var f=
p[k];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(r,f.key,f)}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var u=(a=a("../core/main"))&&a.__esModule?
a:{default:a};u.default.XML=function(){function r(k){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");k?this.DOM=k:(k=document.implementation.createDocument(null,"doc"),this.DOM=k.createElement("root"))}var p;return p=[{key:"getParent",value:function(){return new u.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(k){var f=this.DOM.innerHTML,c=this.DOM.attributes;k=document.implementation.createDocument(null,
"default").createElement(k);k.innerHTML=f;for(f=0;f<c.length;f++)k.setAttribute(c[f].nodeName,c[f].nodeValue);this.DOM=k}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var k=[],f=0;f<this.DOM.childNodes.length;f++)k.push(this.DOM.childNodes[f].nodeName);return k}},{key:"getChildren",value:function(k){k=k?this.DOM.getElementsByTagName(k):this.DOM.children;for(var f=[],c=0;c<k.length;c++)f.push(new u.default.XML(k[c]));return f}},{key:"getChild",
value:function(k){if("string"!=typeof k)return new u.default.XML(this.DOM.children[k]);var f=!0,c=!1,b=void 0;try{for(var d,l=this.DOM.children[Symbol.iterator]();!(f=(d=l.next()).done);f=!0){var h=d.value;if(h.tagName===k)return new u.default.XML(h)}}catch(g){c=!0,b=g}finally{try{f||null==l.return||l.return()}finally{if(c)throw b;}}}},{key:"addChild",value:function(k){k instanceof u.default.XML&&this.DOM.appendChild(k.DOM)}},{key:"removeChild",value:function(k){var f=-1;if("string"==typeof k)for(var c=
0;c<this.DOM.children.length;c++){if(this.DOM.children[c].tagName===k){f=c;break}}else f=k;-1!==f&&this.DOM.removeChild(this.DOM.children[f])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var k=[],f=!0,c=!1,b=void 0;try{for(var d,l=this.DOM.attributes[Symbol.iterator]();!(f=(d=l.next()).done);f=!0)k.push(d.value.nodeName)}catch(h){c=!0,b=h}finally{try{f||null==l.return||l.return()}finally{if(c)throw b;}}return k}},{key:"hasAttribute",
value:function(k){var f={},c=!0,b=!1,d=void 0;try{for(var l,h=this.DOM.attributes[Symbol.iterator]();!(c=(l=h.next()).done);c=!0){var g=l.value;f[g.nodeName]=g.nodeValue}}catch(m){b=!0,d=m}finally{try{c||null==h.return||h.return()}finally{if(b)throw d;}}return!!f[k]}},{key:"getNum",value:function(k,f){var c={},b=!0,d=!1,l=void 0;try{for(var h,g=this.DOM.attributes[Symbol.iterator]();!(b=(h=g.next()).done);b=!0){var m=h.value;c[m.nodeName]=m.nodeValue}}catch(t){d=!0,l=t}finally{try{b||null==g.return||
g.return()}finally{if(d)throw l;}}return Number(c[k])||f||0}},{key:"getString",value:function(k,f){var c={},b=!0,d=!1,l=void 0;try{for(var h,g=this.DOM.attributes[Symbol.iterator]();!(b=(h=g.next()).done);b=!0){var m=h.value;c[m.nodeName]=m.nodeValue}}catch(t){d=!0,l=t}finally{try{b||null==g.return||g.return()}finally{if(d)throw l;}}return c[k]?String(c[k]):f||null}},{key:"setAttribute",value:function(k,f){this.DOM.setAttribute(k,f)}},{key:"getContent",value:function(k){return this.DOM.textContent.replace(/\s\s+/g,
",")||k||null}},{key:"setContent",value:function(k){this.DOM.children.length||(this.DOM.textContent=k)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString(this.DOM)}}],x(r.prototype,p),r}();a=u.default;q.default=a},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,
"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(a,G,q){function x(r){if(!(r=function(p){if(Array.isArray(p)){for(var k=0,f=Array(p.length);k<p.length;k++)f[k]=p[k];return f}}(r)||function(p){if(Symbol.iterator in Object(p)||"[object Arguments]"===Object.prototype.toString.call(p))return Array.from(p)}(r)))throw new TypeError("Invalid attempt to spread non-iterable instance");
return r}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.from");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.math.hypot");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.to-string");
a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.math.hypot");a("core-js/modules/es.number.constructor");a("core-js/modules/es.string.includes");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var u=(a=a("../core/main"))&&a.__esModule?
a:{default:a};u.default.prototype.abs=Math.abs;u.default.prototype.ceil=Math.ceil;u.default.prototype.constrain=function(r,p,k){return u.default._validateParameters("constrain",arguments),Math.max(Math.min(r,k),p)};u.default.prototype.dist=function(){for(var r=arguments.length,p=Array(r),k=0;k<r;k++)p[k]=arguments[k];return u.default._validateParameters("dist",p),4===p.length?Math.hypot(p[2]-p[0],p[3]-p[1]):6===p.length?Math.hypot(p[3]-p[0],p[4]-p[1],p[5]-p[2]):void 0};u.default.prototype.exp=Math.exp;
u.default.prototype.floor=Math.floor;u.default.prototype.lerp=function(r,p,k){return u.default._validateParameters("lerp",arguments),k*(p-r)+r};u.default.prototype.log=Math.log;u.default.prototype.mag=function(r,p){return u.default._validateParameters("mag",arguments),Math.hypot(r,p)};u.default.prototype.map=function(r,p,k,f,c,b){u.default._validateParameters("map",arguments);r=(r-p)/(k-p)*(c-f)+f;return b?f<c?this.constrain(r,f,c):this.constrain(r,c,f):r};u.default.prototype.max=function(){for(var r=
arguments.length,p=Array(r),k=0;k<r;k++)p[k]=arguments[k];return Array.isArray(p[0])?Math.max.apply(Math,x(p[0])):Math.max.apply(Math,x(p))};u.default.prototype.min=function(){for(var r=arguments.length,p=Array(r),k=0;k<r;k++)p[k]=arguments[k];return Array.isArray(p[0])?Math.min.apply(Math,x(p[0])):Math.min.apply(Math,x(p))};u.default.prototype.norm=function(r,p,k){return u.default._validateParameters("norm",arguments),this.map(r,p,k,0,1)};u.default.prototype.pow=Math.pow;u.default.prototype.round=
function(r,p){return p?(p=Math.pow(10,p),Math.round(r*p)/p):Math.round(r)};u.default.prototype.sq=function(r){return r*r};u.default.prototype.sqrt=Math.sqrt;u.default.prototype.fract=function(r){u.default._validateParameters("fract",arguments);var p,k=0;r=Number(r);return isNaN(r)||Math.abs(r)===1/0?r:(0>r&&(r=-r,k=1),String(r).includes(".")&&!String(r).includes("e")?(p=String(r),p=Number("0"+p.slice(p.indexOf("."))),Math.abs(k-p)):1>r?Math.abs(k-r):0)};a=u.default;q.default=a},{"../core/main":283,
"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,
"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(a,G,q){function x(p,k,f){return(x=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(c){}}}()?Reflect.construct:function(c,b,d){var l=[null];l.push.apply(l,b);b=new (Function.bind.apply(c,
l));return d&&u(b,d.prototype),b}).apply(null,arguments)}function u(p,k){return(u=Object.setPrototypeOf||function(f,c){return f.__proto__=c,f})(p,k)}a("core-js/modules/es.array.concat");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.to-string");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.slice");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var r=(a=a("../core/main"))&&
a.__esModule?a:{default:a};r.default.prototype.createVector=function(p,k,f){return this instanceof r.default?x(r.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new r.default.Vector(p,k,f)};a=r.default;q.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],
315:[function(a,G,q){Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};var x,u=4,r=.5;a=(a.default.prototype.noise=function(p){var k=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==x){x=Array(4096);for(var c=0;4096>c;c++)x[c]=Math.random()}0>p&&(p=-p);0>k&&(k=-k);0>f&&(f=-f);c=Math.floor(p);var b=Math.floor(k),d=Math.floor(f),l=p-c;k-=b;for(var h=f-d,g=0,
m=.5,t=0;t<u;t++){var v=c+(b<<4)+(d<<8),w=.5*(1-Math.cos(l*Math.PI)),z=.5*(1-Math.cos(k*Math.PI)),y=x[v&4095];y+=w*(x[v+1&4095]-y);f=x[v+16&4095];y+=z*(f+w*(x[v+16+1&4095]-f)-y);f=x[(v+=256)&4095];f+=w*(x[v+1&4095]-f);var F=x[v+16&4095];f+=z*(F+w*(x[v+16+1&4095]-F)-f);g+=(y+.5*(1-Math.cos(h*Math.PI))*(f-y))*m;m*=r;c<<=1;b<<=1;d<<=1;1<=(l*=2)&&(c++,l--);1<=(k*=2)&&(b++,k--);1<=(h*=2)&&(d++,h--)}return g},a.default.prototype.noiseDetail=function(p,k){0<p&&(u=p);0<k&&(r=k)},a.default.prototype.noiseSeed=
function(p){var k=4294967296;var f,c,b={setSeed:function(d){c=f=(null==d?Math.random()*k:d)>>>0},getSeed:function(){return f},rand:function(){return(c=(1664525*c+1013904223)%k)/k}};b.setSeed(p);x=Array(4096);for(p=0;4096>p;p++)x[p]=b.rand()},a.default);q.default=a},{"../core/main":283}],316:[function(a,G,q){function x(b){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?
"symbol":typeof d})(b)}function u(b){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(d){return x(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":x(d)})(b)}function r(){var b;return"function"!=typeof WeakMap?null:(b=new WeakMap,r=function(){return b},b)}function p(b,d){for(var l=0;l<d.length;l++){var h=d[l];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(b,h.key,
h)}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.every");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.some");a("core-js/modules/es.math.sign");a("core-js/modules/es.number.constructor");a("core-js/modules/es.number.epsilon");a("core-js/modules/es.number.is-finite");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");
a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.sub");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.every");a("core-js/modules/es.array.some");a("core-js/modules/es.math.sign");a("core-js/modules/es.number.constructor");a("core-js/modules/es.number.epsilon");a("core-js/modules/es.number.is-finite");a("core-js/modules/es.string.sub");Object.defineProperty(q,"__esModule",{value:!0});
q.default=void 0;var k=(c=a("../core/main"))&&c.__esModule?c:{default:c},f=function(b){if(b&&b.__esModule)return b;if(null===b||"object"!==u(b)&&"function"!=typeof b)return{default:b};var d=r();if(d&&d.has(b))return d.get(b);var l,h={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in b){var m;Object.prototype.hasOwnProperty.call(b,l)&&((m=g?Object.getOwnPropertyDescriptor(b,l):null)&&(m.get||m.set)?Object.defineProperty(h,l,m):h[l]=b[l])}h.default=b;d&&d.set(b,h);return h}(a("../core/constants"));
k.default.Vector=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var h,g;var m="function"==typeof(0>=arguments.length?void 0:arguments[0])?(this.isPInst=!0,this._fromRadians=0>=arguments.length?void 0:arguments[0],this._toRadians=1>=arguments.length?void 0:arguments[1],h=(2>=arguments.length?void 0:arguments[2])||0,g=(3>=arguments.length?void 0:arguments[3])||0,(4>=arguments.length?void 0:arguments[4])||0):(h=(0>=arguments.length?void 0:arguments[0])||
0,g=(1>=arguments.length?void 0:arguments[1])||0,(2>=arguments.length?void 0:arguments[2])||0);this.x=h;this.y=g;this.z=m}var d,l;return l=[{key:"fromAngle",value:function(h){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return new k.default.Vector(g*Math.cos(h),g*Math.sin(h),0)}},{key:"fromAngles",value:function(h,g){var m=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,t=Math.cos(g);g=Math.sin(g);var v=Math.cos(h);h=Math.sin(h);return new k.default.Vector(m*h*g,-m*v,m*
h*t)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*f.TWO_PI)}},{key:"random3D",value:function(){var h=Math.random()*f.TWO_PI,g=2*Math.random()-1,m=Math.sqrt(1-g*g),t=m*Math.cos(h);m*=Math.sin(h);return new k.default.Vector(t,m,g)}},{key:"copy",value:function(h){return h.copy(h)}},{key:"add",value:function(){for(var h=arguments.length,g=Array(h),m=0;m<h;m++)g[m]=arguments[m];h=g[0];m=g[1];var t=g[2];return t?t.set(h):(t=h.copy(),3===g.length&&k.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector",
"p5.Vector.add")),t.add(m),t}},{key:"rem",value:function(h,g){if(h instanceof k.default.Vector&&g instanceof k.default.Vector)return(h=h.copy()).rem(g),h}},{key:"sub",value:function(){for(var h=arguments.length,g=Array(h),m=0;m<h;m++)g[m]=arguments[m];h=g[0];m=g[1];var t=g[2];return t?t.set(h):(t=h.copy(),3===g.length&&k.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),t.sub(m),t}},{key:"mult",value:function(){for(var h=arguments.length,
g=Array(h),m=0;m<h;m++)g[m]=arguments[m];h=g[0];m=g[1];var t=g[2];return t?t.set(h):(t=h.copy(),3===g.length&&k.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),t.mult(m),t}},{key:"rotate",value:function(){for(var h=arguments.length,g=Array(h),m=0;m<h;m++)g[m]=arguments[m];h=g[0];m=g[1];var t=g[2];return 2===g.length?t=h.copy():(t instanceof k.default.Vector||k.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),
t.set(h)),t.rotate(m),t}},{key:"div",value:function(){for(var h=arguments.length,g=Array(h),m=0;m<h;m++)g[m]=arguments[m];h=g[0];m=g[1];var t=g[2];return t?t.set(h):(t=h.copy(),3===g.length&&k.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),t.div(m),t}},{key:"dot",value:function(h,g){return h.dot(g)}},{key:"cross",value:function(h,g){return h.cross(g)}},{key:"dist",value:function(h,g){return h.dist(g)}},{key:"lerp",value:function(){for(var h=
arguments.length,g=Array(h),m=0;m<h;m++)g[m]=arguments[m];h=g[0];m=g[1];var t=g[2],v=g[3];return v?v.set(h):(v=h.copy(),4===g.length&&k.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),v.lerp(m,t),v}},{key:"slerp",value:function(){for(var h=arguments.length,g=Array(h),m=0;m<h;m++)g[m]=arguments[m];h=g[0];m=g[1];var t=g[2],v=g[3];return v?v.set(h):(v=h.copy(),4===g.length&&k.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector",
"p5.Vector.slerp")),v.slerp(m,t),v}},{key:"mag",value:function(h){return h.mag()}},{key:"magSq",value:function(h){return h.magSq()}},{key:"normalize",value:function(){for(var h=arguments.length,g=Array(h),m=0;m<h;m++)g[m]=arguments[m];h=g[0];m=g[1];return 2>g.length?m=h.copy():(m instanceof k.default.Vector||k.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),m.set(h)),m.normalize()}},{key:"limit",value:function(){for(var h=arguments.length,g=Array(h),
m=0;m<h;m++)g[m]=arguments[m];h=g[0];m=g[1];var t=g[2];return 3>g.length?t=h.copy():(t instanceof k.default.Vector||k.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),t.set(h)),t.limit(m)}},{key:"setMag",value:function(){for(var h=arguments.length,g=Array(h),m=0;m<h;m++)g[m]=arguments[m];h=g[0];m=g[1];var t=g[2];return 3>g.length?t=h.copy():(t instanceof k.default.Vector||k.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),
t.set(h)),t.setMag(m)}},{key:"heading",value:function(h){return h.heading()}},{key:"angleBetween",value:function(h,g){return h.angleBetween(g)}},{key:"reflect",value:function(){for(var h=arguments.length,g=Array(h),m=0;m<h;m++)g[m]=arguments[m];h=g[0];m=g[1];var t=g[2];return 3>g.length?t=h.copy():(t instanceof k.default.Vector||k.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),t.set(h)),t.reflect(m)}},{key:"array",value:function(h){return h.array()}},
{key:"equals",value:function(h,g){var m;return h instanceof k.default.Vector?m=h:Array.isArray(h)?m=(new k.default.Vector).set(h):k.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),m.equals(g)}}],d=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(h,g,m){return h instanceof k.default.Vector?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):Array.isArray(h)?
(this.x=h[0]||0,this.y=h[1]||0,this.z=h[2]||0):(this.x=h||0,this.y=g||0,this.z=m||0),this}},{key:"copy",value:function(){return this.isPInst?new k.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new k.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(h,g,m){return h instanceof k.default.Vector?(this.x+=h.x||0,this.y+=h.y||0,this.z+=h.z||0):Array.isArray(h)?(this.x+=h[0]||0,this.y+=h[1]||0,this.z+=h[2]||0):(this.x+=h||0,this.y+=g||0,this.z+=m||0),this}},{key:"calculateRemainder2D",
value:function(h,g){return 0!==h&&(this.x%=h),0!==g&&(this.y%=g),this}},{key:"calculateRemainder3D",value:function(h,g,m){return 0!==h&&(this.x%=h),0!==g&&(this.y%=g),0!==m&&(this.z%=m),this}},{key:"rem",value:function(){for(var h=arguments.length,g=Array(h),m=0;m<h;m++)g[m]=arguments[m];var t,v,w;h=g[0];m=g[1];var z=g[2];if(h instanceof k.default.Vector){if([h.x,h.y,h.z].every(Number.isFinite))return t=parseFloat(h.x),v=parseFloat(h.y),w=parseFloat(h.z),this.calculateRemainder3D(t,v,w)}else if(Array.isArray(h)){if(h.every(Number.isFinite))return 2===
h.length?this.calculateRemainder2D(h[0],h[1]):3===h.length?this.calculateRemainder3D(h[0],h[1],h[2]):void 0}else if(1===g.length){if(Number.isFinite(h)&&0!==h)return this.x%=h,this.y%=h,this.z%=h,this}else if(2===g.length){if(g.every(Number.isFinite))return this.calculateRemainder2D(h,m)}else if(3===g.length&&g.every(Number.isFinite))return this.calculateRemainder3D(h,m,z)}},{key:"sub",value:function(h,g,m){return h instanceof k.default.Vector?(this.x-=h.x||0,this.y-=h.y||0,this.z-=h.z||0):Array.isArray(h)?
(this.x-=h[0]||0,this.y-=h[1]||0,this.z-=h[2]||0):(this.x-=h||0,this.y-=g||0,this.z-=m||0),this}},{key:"mult",value:function(){for(var h=arguments.length,g=Array(h),m=0;m<h;m++)g[m]=arguments[m];h=g[0];m=g[1];var t=g[2];return h instanceof k.default.Vector?Number.isFinite(h.x)&&Number.isFinite(h.y)&&Number.isFinite(h.z)&&"number"==typeof h.x&&"number"==typeof h.y&&"number"==typeof h.z?(this.x*=h.x,this.y*=h.y,this.z*=h.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):
Array.isArray(h)?h.every(function(v){return Number.isFinite(v)})&&h.every(function(v){return"number"==typeof v})?1===h.length?(this.x*=h[0],this.y*=h[0],this.z*=h[0]):2===h.length?(this.x*=h[0],this.y*=h[1]):3===h.length&&(this.x*=h[0],this.y*=h[1],this.z*=h[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):g.every(function(v){return Number.isFinite(v)})&&g.every(function(v){return"number"==typeof v})?(1===g.length&&(this.x*=h,this.y*=
h,this.z*=h),2===g.length&&(this.x*=h,this.y*=m),3===g.length&&(this.x*=h,this.y*=m,this.z*=t)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var h=arguments.length,g=Array(h),m=0;m<h;m++)g[m]=arguments[m];h=g[0];m=g[1];var t=g[2];if(h instanceof k.default.Vector)if(Number.isFinite(h.x)&&Number.isFinite(h.y)&&Number.isFinite(h.z)&&"number"==typeof h.x&&"number"==typeof h.y&&"number"==typeof h.z){g=
0===h.z&&0===this.z;if(0===h.x||0===h.y||!g&&0===h.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=h.x;this.y/=h.y;g||(this.z/=h.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(h))if(h.every(Number.isFinite)&&h.every(function(v){return"number"==typeof v})){if(h.some(function(v){return 0===v}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===h.length?(this.x/=
h[0],this.y/=h[0],this.z/=h[0]):2===h.length?(this.x/=h[0],this.y/=h[1]):3===h.length&&(this.x/=h[0],this.y/=h[1],this.z/=h[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(g.every(Number.isFinite)&&g.every(function(v){return"number"==typeof v})){if(g.some(function(v){return 0===v}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===g.length&&(this.x/=h,this.y/=h,this.z/=h);2===g.length&&(this.x/=
h,this.y/=m);3===g.length&&(this.x/=h,this.y/=m,this.z/=t)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var h=this.x,g=this.y,m=this.z;return h*h+g*g+m*m}},{key:"dot",value:function(h,g,m){return h instanceof k.default.Vector?this.dot(h.x,h.y,h.z):this.x*(h||0)+this.y*(g||0)+this.z*(m||0)}},{key:"cross",value:function(h){var g=
this.y*h.z-this.z*h.y,m=this.z*h.x-this.x*h.z;h=this.x*h.y-this.y*h.x;return this.isPInst?new k.default.Vector(this._fromRadians,this._toRadians,g,m,h):new k.default.Vector(g,m,h)}},{key:"dist",value:function(h){return h.copy().sub(this).mag()}},{key:"normalize",value:function(){var h=this.mag();return 0!==h&&this.mult(1/h),this}},{key:"limit",value:function(h){var g=this.magSq();return h*h<g&&this.div(Math.sqrt(g)).mult(h),this}},{key:"setMag",value:function(h){return this.normalize().mult(h)}},
{key:"heading",value:function(){var h=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(h):h}},{key:"setHeading",value:function(h){this.isPInst&&(h=this._toRadians(h));var g=this.mag();return this.x=g*Math.cos(h),this.y=g*Math.sin(h),this}},{key:"rotate",value:function(h){h=this.heading()+h;var g=(this.isPInst&&(h=this._toRadians(h)),this.mag());return this.x=Math.cos(h)*g,this.y=Math.sin(h)*g,this}},{key:"angleBetween",value:function(h){var g;return 0==this.magSq()*h.magSq()?NaN:(g=
this.cross(h),h=Math.atan2(g.mag(),this.dot(h))*Math.sign(g.z||1),this.isPInst?this._fromRadians(h):h)}},{key:"lerp",value:function(h,g,m,t){return h instanceof k.default.Vector?this.lerp(h.x,h.y,h.z,g):(this.x+=(h-this.x)*t||0,this.y+=(g-this.y)*t||0,this.z+=(m-this.z)*t||0,this)}},{key:"slerp",value:function(h,g){if(0!==g){if(1===g)return this.set(h);var m=this.mag(),t=h.mag();if(0==m*t)this.mult(1-g).add(h.x*g,h.y*g,h.z*g);else{var v=this.cross(h),w=v.mag(),z=Math.atan2(w,this.dot(h));if(0<w)v.x/=
w,v.y/=w,v.z/=w;else{if(z<.5*Math.PI)return this.mult(1-g).add(h.x*g,h.y*g,h.z*g),this;0===this.z&&0===h.z?v.set(0,0,1):0!==this.x?v.set(this.y,-this.x,0).normalize():v.set(1,0,0)}w=v.cross(this);h=1-g+g*t/m;v=h*Math.cos(g*z);t=h*Math.sin(g*z);this.x=this.x*v+w.x*t;this.y=this.y*v+w.y*t;this.z=this.z*v+w.z*t}}return this}},{key:"reflect",value:function(h){h=k.default.Vector.normalize(h);return this.sub(h.mult(2*this.dot(h)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},
{key:"equals",value:function(h,g,m){var t,v;h=h instanceof k.default.Vector?(t=h.x||0,v=h.y||0,h.z||0):Array.isArray(h)?(t=h[0]||0,v=h[1]||0,h[2]||0):(t=h||0,v=g||0,m||0);return this.x===t&&this.y===v&&this.z===h}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(h){return Math.abs(+(h||0))<=Number.EPSILON?0:h}}],p(b.prototype,d),l&&p(b,l),b}();var c=k.default.Vector;
q.default=c},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,
"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(a,G,q){Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var x=(a=a("../core/main"))&&a.__esModule?a:{default:a},u=0;a=(x.default.prototype._lcg=function(r){return this[r]=(1664525*this[r]+1013904223)%4294967296,this[r]/4294967296},
x.default.prototype._lcgSetSeed=function(r,p){this[r]=(null==p?4294967296*Math.random():p)>>>0},x.default.prototype.randomSeed=function(r){this._lcgSetSeed("_lcg_random_state",r);this._gaussian_previous=!1},x.default.prototype.random=function(r,p){var k,f;return x.default._validateParameters("random",arguments),k=null!=this._lcg_random_state?this._lcg("_lcg_random_state"):Math.random(),void 0===r?k:void 0===p?Array.isArray(r)?r[Math.floor(k*r.length)]:k*r:(p<r&&(f=r,r=p,p=f),k*(p-r)+r)},x.default.prototype.randomGaussian=
function(r){var p,k,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous){var c=u;this._gaussian_previous=!1}else{for(;1<=(k=(c=this.random(2)-1)*c+(p=this.random(2)-1)*p););c*=k=Math.sqrt(-2*Math.log(k)/k);u=p*k;this._gaussian_previous=!0}return c*f+(r||0)},x.default);q.default=a},{"../core/main":283}],318:[function(a,G,q){function x(c){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==
typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(c)}function u(c){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(b){return x(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":x(b)})(c)}function r(){var c;return"function"!=typeof WeakMap?null:(c=new WeakMap,r=function(){return c},c)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");
a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var p=(f=a("../core/main"))&&f.__esModule?f:{default:f},k=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==u(c)&&"function"!=typeof c)return{default:c};var b=
r();if(b&&b.has(c))return b.get(c);var d,l={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in c){var g;Object.prototype.hasOwnProperty.call(c,d)&&((g=h?Object.getOwnPropertyDescriptor(c,d):null)&&(g.get||g.set)?Object.defineProperty(l,d,g):l[d]=c[d])}l.default=c;b&&b.set(c,l);return l}(a("../core/constants"));p.default.prototype._angleMode=k.RADIANS;p.default.prototype.acos=function(c){return this._fromRadians(Math.acos(c))};p.default.prototype.asin=function(c){return this._fromRadians(Math.asin(c))};
p.default.prototype.atan=function(c){return this._fromRadians(Math.atan(c))};p.default.prototype.atan2=function(c,b){return this._fromRadians(Math.atan2(c,b))};p.default.prototype.cos=function(c){return Math.cos(this._toRadians(c))};p.default.prototype.sin=function(c){return Math.sin(this._toRadians(c))};p.default.prototype.tan=function(c){return Math.tan(this._toRadians(c))};p.default.prototype.degrees=function(c){return c*k.RAD_TO_DEG};p.default.prototype.radians=function(c){return c*k.DEG_TO_RAD};
p.default.prototype.angleMode=function(c){if(p.default._validateParameters("angleMode",arguments),void 0===c)return this._angleMode;c!==k.DEGREES&&c!==k.RADIANS||c!==this._angleMode&&(c===k.RADIANS?(this._setProperty("pRotationX",this.pRotationX*k.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*k.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*k.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*k.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*k.RAD_TO_DEG),
this._setProperty("pRotationZ",this.pRotationZ*k.RAD_TO_DEG)),this._angleMode=c)};p.default.prototype._toRadians=function(c){return this._angleMode===k.DEGREES?c*k.DEG_TO_RAD:c};p.default.prototype._toDegrees=function(c){return this._angleMode===k.RADIANS?c*k.RAD_TO_DEG:c};p.default.prototype._fromRadians=function(c){return this._angleMode===k.DEGREES?c*k.RAD_TO_DEG:c};p.default.prototype._fromDegrees=function(c){return this._angleMode===k.RADIANS?c*k.DEG_TO_RAD:c};var f=p.default;q.default=f},{"../core/constants":272,
"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(a,G,q){a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.replace");
a("core-js/modules/es.string.split");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var x=(a=a("../core/main"))&&a.__esModule?a:{default:a};x.default.prototype.textAlign=function(u,r){var p;return x.default._validateParameters("textAlign",arguments),(p=this._renderer).textAlign.apply(p,arguments)};x.default.prototype.textLeading=function(u){var r;return x.default._validateParameters("textLeading",
arguments),(r=this._renderer).textLeading.apply(r,arguments)};x.default.prototype.textSize=function(u){var r;return x.default._validateParameters("textSize",arguments),(r=this._renderer).textSize.apply(r,arguments)};x.default.prototype.textStyle=function(u){var r;return x.default._validateParameters("textStyle",arguments),(r=this._renderer).textStyle.apply(r,arguments)};x.default.prototype.textWidth=function(){for(var u=arguments.length,r=Array(u),p=0;p<u;p++)r[p]=arguments[p];if(r[0]+="",x.default._validateParameters("textWidth",
r),0===r[0].length)return 0;u=r[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g);r=[];for(p=0;p<u.length;p++)r.push(this._renderer.textWidth(u[p]));return Math.max.apply(Math,r)};x.default.prototype.textAscent=function(){for(var u=arguments.length,r=Array(u),p=0;p<u;p++)r[p]=arguments[p];return x.default._validateParameters("textAscent",r),this._renderer.textAscent()};x.default.prototype.textDescent=function(){for(var u=arguments.length,r=Array(u),p=0;p<u;p++)r[p]=arguments[p];return x.default._validateParameters("textDescent",
r),this._renderer.textDescent()};x.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()};x.default.prototype.textWrap=function(u){return x.default._validateParameters("textWrap",[u]),this._renderer.textWrap(u)};a=x.default;q.default=a},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(a,G,q){function x(d){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?
function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(d)}function u(d){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(l){return x(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":x(l)})(d)}function r(){var d;return"function"!=typeof WeakMap?null:(d=new WeakMap,r=function(){return d},d)}function p(d){if(d&&d.__esModule)return d;
if(null===d||"object"!==u(d)&&"function"!=typeof d)return{default:d};var l=r();if(l&&l.has(d))return l.get(d);var h,g,m={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&((g=t?Object.getOwnPropertyDescriptor(d,h):null)&&(g.get||g.set)?Object.defineProperty(m,h,g):m[h]=d[h]);return m.default=d,l&&l.set(d,m),m}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");
a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.last-index-of");a("core-js/modules/es.array.slice");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.split");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.includes");
a("core-js/modules/es.array.last-index-of");a("core-js/modules/es.array.slice");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.split");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var k=(b=a("../core/main"))&&b.__esModule?b:{default:b},f=p(a("../core/constants")),c=p(a("opentype.js"));a("../core/friendly_errors/validate_params");a("../core/friendly_errors/file_errors");a("../core/friendly_errors/fes_core");k.default.prototype.loadFont=function(d,l,h){k.default._validateParameters("loadFont",
arguments);var g=new k.default.Font(this),m=this;return c.load(d,function(t,v){if(t)return k.default._friendlyFileLoadError(4,d),void 0!==h?h(t):void console.error(t,d);g.font=v;void 0!==l&&l(g);m._decrementPreload();t=d.split("\\").pop().split("/").pop();v=t.lastIndexOf(".");var w=1>v?null:t.slice(v+1);["ttf","otf","woff","woff2"].includes(w)&&(w=t.slice(0,-1!==v?v:0),(t=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(w,";\nsrc: url(").concat(d,
");\n}\n"))),document.head.appendChild(t))}),g};k.default.prototype.text=function(d,l,h,g,m){var t;return k.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(t=this._renderer).text.apply(t,arguments):this};k.default.prototype.textFont=function(d,l){if(k.default._validateParameters("textFont",arguments),arguments.length){if(d)return this._renderer._setProperty("_textFont",d),l&&(this._renderer._setProperty("_textSize",l),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",
l*f._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw Error("null font passed to textFont");}return this._renderer._textFont};var b=k.default;q.default=b},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,
"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(a,G,q){function x(y){return(x=
"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(y)}function u(){var y;return"function"!=typeof WeakMap?null:(y=new WeakMap,u=function(){return y},y)}function r(y){return(r="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(F){return x(F)}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?
"symbol":x(F)})(y)}function p(y,F){for(var D=0;D<F.length;D++){var C=F[D];C.enumerable=C.enumerable||!1;C.configurable=!0;"value"in C&&(C.writable=!0);Object.defineProperty(y,C.key,C)}}function k(y,F){var D=y.length;return y[0>F?F%D+D:F%D]}function f(y,F,D,C){var N,J,E;return C?(void 0===f.tmpPoint1&&(f.tmpPoint1=[],f.tmpPoint2=[]),J=f.tmpPoint1,E=f.tmpPoint2,J.x=F.x-y.x,J.y=F.y-y.y,E.x=D.x-F.x,E.y=D.y-F.y,N=J.x*E.x+J.y*E.y,J=Math.sqrt(J.x*J.x+J.y*J.y),E=Math.sqrt(E.x*E.x+E.y*E.y),Math.acos(N/(J*
E))<C):0==(F[0]-y[0])*(D[1]-y[1])-(D[0]-y[0])*(F[1]-y[1])}function c(y,F,D,C,N,J,E,M,Q){var V=1-Q,W=Math.pow(V,3),R=Math.pow(V,2),S=Q*Q,K=S*Q,O=W*y+3*R*Q*D+3*V*Q*Q*N+K*E;W=W*F+3*R*Q*C+3*V*Q*Q*J+K*M;R=y+2*Q*(D-y)+S*(N-2*D+y);K=F+2*Q*(C-F)+S*(J-2*C+F);var I=D+2*Q*(N-D)+S*(E-2*N+D);S=C+2*Q*(J-C)+S*(M-2*J+C);y=V*y+Q*D;D=V*F+Q*C;F=V*N+Q*E;C=V*J+Q*M;N=90-180*Math.atan2(R-I,K-S)/Math.PI;return(I<R||K<S)&&(N+=180),{x:O,y:W,m:{x:R,y:K},n:{x:I,y:S},start:{x:y,y:D},end:{x:F,y:C},alpha:N}}function b(y,F,D,C,
N,J,E,M,Q){if(null==Q)y=v(y,F,D,C,N,J,E,M);else{if(0>Q||v(y,F,D,C,N,J,E,M)<Q)Q=void 0;else{var V,W=.5,R=1-W;for(V=v(y,F,D,C,N,J,E,M,R);.01<Math.abs(V-Q);)V=v(y,F,D,C,N,J,E,M,R+=(V<Q?1:-1)*(W/=2));Q=R}y=c(y,F,D,C,N,J,E,M,Q)}return y}function d(y,F,D){var C,N,J,E=0,M=0,Q=(y=function(R,S){function K(pa,ra,wa){var ua;if(!pa)return["C",ra.x,ra.y,ra.x,ra.y,ra.x,ra.y];switch(pa[0]in{T:1,Q:1}||(ra.qx=ra.qy=null),pa[0]){case "M":ra.X=pa[1];ra.Y=pa[2];break;case "A":pa=["C"].concat(h.apply(0,[ra.x,ra.y].concat(pa.slice(1))));
break;case "S":wa="C"===wa||"S"===wa?(ua=2*ra.x-ra.bx,2*ra.y-ra.by):(ua=ra.x,ra.y);pa=["C",ua,wa].concat(pa.slice(1));break;case "T":"Q"===wa||"T"===wa?(ra.qx=2*ra.x-ra.qx,ra.qy=2*ra.y-ra.qy):(ra.qx=ra.x,ra.qy=ra.y);pa=["C"].concat(t(ra.x,ra.y,ra.qx,ra.qy,pa[1],pa[2]));break;case "Q":ra.qx=pa[1];ra.qy=pa[2];pa=["C"].concat(t(ra.x,ra.y,pa[1],pa[2],pa[3],pa[4]));break;case "L":pa=["C"].concat(m(ra.x,ra.y,pa[1],pa[2]));break;case "H":pa=["C"].concat(m(ra.x,ra.y,pa[1],ra.y));break;case "V":pa=["C"].concat(m(ra.x,
ra.y,ra.x,pa[1]));break;case "Z":pa=["C"].concat(m(ra.x,ra.y,ra.X,ra.Y))}return pa}function O(pa,ra){if(7<pa[ra].length){pa[ra].shift();for(var wa=pa[ra];wa.length;)ca[ra]="A",X&&(ia[ra]="A"),pa.splice(ra++,0,["C"].concat(wa.splice(0,6)));pa.splice(ra,1);ja=Math.max(P.length,X&&X.length||0)}}function I(pa,ra,wa,ua,ta){pa&&ra&&"M"===pa[ta][0]&&"M"!==ra[ta][0]&&(ra.splice(ta,0,["M",ua.x,ua.y]),wa.bx=0,wa.by=0,wa.x=pa[ta][1],wa.y=pa[ta][2],ja=Math.max(P.length,X&&X.length||0))}var P=l(R),X=S&&l(S);R=
{x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};S={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};var ca=[],ia=[],da="",ba="";var ja=Math.max(P.length,X&&X.length||0);for(var qa=0;qa<ja;qa++){"C"!==(da=P[qa]?P[qa][0]:da)&&(ca[qa]=da,qa&&(ba=ca[qa-1]));P[qa]=K(P[qa],R,ba);"A"!==ca[qa]&&"C"===da&&(ca[qa]="C");O(P,qa);X&&("C"!==(da=X[qa]?X[qa][0]:da)&&(ia[qa]=da,qa&&(ba=ia[qa-1])),X[qa]=K(X[qa],S,ba),"A"!==ia[qa]&&"C"===da&&(ia[qa]="C"),O(X,qa));I(P,X,R,S,qa);I(X,P,S,R,qa);var fa=P[qa],ma=X&&X[qa],sa=fa.length,
xa=X&&ma.length;R.x=fa[sa-2];R.y=fa[sa-1];R.bx=parseFloat(fa[sa-4])||R.x;R.by=parseFloat(fa[sa-3])||R.y;S.bx=X&&(parseFloat(ma[xa-4])||S.x);S.by=X&&(parseFloat(ma[xa-3])||S.y);S.x=X&&ma[xa-2];S.y=X&&ma[xa-1]}return X?[P,X]:P}(y)).length;for(;M<Q;M++){if("M"===(C=y[M])[0]){var V=+C[1];var W=+C[2]}else{if(F<E+(N=b(V,W,C[1],C[2],C[3],C[4],C[5],C[6]))&&!D)return{x:(J=b(V,W,C[1],C[2],C[3],C[4],C[5],C[6],F-E)).x,y:J.y,alpha:J.alpha};E+=N;V=+C[5];W=+C[6]}C.shift()}return J=(J=D?E:c(V,W,C[0],C[1],C[2],C[3],
C[4],C[5],1)).alpha?{x:J.x,y:J.y,alpha:J.alpha}:J}function l(y){var F=[],D=0,C=0,N=0,J=0,E=0;if(y){"M"===y[0][0]&&(N=D=+y[0][1],J=C=+y[0][2],E++,F[0]=["M",D,C]);for(var M,Q=3===y.length&&"M"===y[0][0]&&"R"===y[1][0].toUpperCase()&&"Z"===y[2][0].toUpperCase(),V=E,W=y.length;V<W;V++){if(F.push(E=[]),(M=y[V])[0]!==M[0].toUpperCase())switch(E[0]=M[0].toUpperCase(),E[0]){case "A":E[1]=M[1];E[2]=M[2];E[3]=M[3];E[4]=M[4];E[5]=M[5];E[6]=+(M[6]+D);E[7]=+(M[7]+C);break;case "V":E[1]=+M[1]+C;break;case "H":E[1]=
+M[1]+D;break;case "R":for(var R,S=2,K=(R=[D,C].concat(M.slice(1))).length;S<K;S++)R[S]=+R[S]+D,R[++S]=+R[S]+C;F.pop();F=F.concat(g(R,Q));break;case "M":N=+M[1]+D;J=+M[2]+C;break;default:for(R=1,S=M.length;R<S;R++)E[R]=+M[R]+(R%2?D:C)}else if("R"===M[0])R=[D,C].concat(M.slice(1)),F.pop(),F=F.concat(g(R,Q)),E=["R"].concat(M.slice(-2));else for(R=0,S=M.length;R<S;R++)E[R]=M[R];switch(E[0]){case "Z":D=N;C=J;break;case "H":D=E[1];break;case "V":C=E[1];break;case "M":N=E[E.length-2];J=E[E.length-1];break;
default:D=E[E.length-2],C=E[E.length-1]}}}return F}function h(y,F,D,C,N,J,E,M,Q,V){function W(qa,fa,ma){return{x:qa*Math.cos(ma)-fa*Math.sin(ma),y:qa*Math.sin(ma)+fa*Math.cos(ma)}}var R,S=Math.PI,K=120*S/180,O=S/180*(+N||0),I=[],P=(V?(ja=V[0],R=V[1],da=V[2],ba=V[3]):(y=(ca=W(y,F,-O)).x,F=ca.y,1<(P=(X=(y-(M=(ca=W(M,Q,-O)).x))/2)*X/(D*D)+(ca=(F-(Q=ca.y))/2)*ca/(C*C))&&(D*=P=Math.sqrt(P),C*=P),P=D*D,ia=C*C,da=(J=(J===E?-1:1)*Math.sqrt(Math.abs((P*ia-P*ca*ca-ia*X*X)/(P*ca*ca+ia*X*X))))*D*ca/C+(y+M)/2,
ba=J*-C*X/D+(F+Q)/2,ja=Math.asin(((F-ba)/C).toFixed(9)),R=Math.asin(((Q-ba)/C).toFixed(9)),0>(ja=y<da?S-ja:ja)&&(ja=2*S+ja),0>(R=M<da?S-R:R)&&(R=2*S+R),E&&R<ja&&(ja-=2*S),!E&&ja<R&&(R-=2*S)),R-ja),X=(Math.abs(P)>K&&(ia=R,ca=M,J=Q,R=ja+K*(E&&ja<R?1:-1),I=h(M=da+D*Math.cos(R),Q=ba+C*Math.sin(R),D,C,N,0,E,ca,J,[R,ia,da,ba])),P=R-ja,Math.cos(ja));S=Math.sin(ja);K=Math.cos(R);N=Math.sin(R);E=Math.tan(P/4);var ca=4/3*D*E;J=4/3*C*E;var ia=[y,F],da=[y+ca*S,F-J*X],ba=[M+ca*N,Q-J*K],ja=[M,Q];if(da[0]=2*ia[0]-
da[0],da[1]=2*ia[1]-da[1],V)return[da,ba,ja].concat(I);y=[];F=0;for(da=(I=[da,ba,ja].concat(I).join().split(",")).length;F<da;F++)y[F]=F%2?W(I[F-1],I[F],O).y:W(I[F],I[F+1],O).x;return y}function g(y,F){for(var D=[],C=0,N=y.length;C<N-2*!F;C+=2){var J=[{x:+y[C-2],y:+y[C-1]},{x:+y[C],y:+y[C+1]},{x:+y[C+2],y:+y[C+3]},{x:+y[C+4],y:+y[C+5]}];F?C?N-4===C?J[3]={x:+y[0],y:+y[1]}:N-2===C&&(J[2]={x:+y[0],y:+y[1]},J[3]={x:+y[2],y:+y[3]}):J[0]={x:+y[N-2],y:+y[N-1]}:N-4===C?J[3]=J[2]:C||(J[0]={x:+y[C],y:+y[C+
1]});D.push(["C",(-J[0].x+6*J[1].x+J[2].x)/6,(-J[0].y+6*J[1].y+J[2].y)/6,(J[1].x+6*J[2].x-J[3].x)/6,(J[1].y+6*J[2].y-J[3].y)/6,J[2].x,J[2].y])}return D}function m(y,F,D,C){return[y,F,D,C,D,C]}function t(y,F,D,C,N,J){return[1/3*y+2/3*D,1/3*F+2/3*C,1/3*N+2/3*D,1/3*J+2/3*C,N,J]}function v(y,F,D,C,N,J,E,M,Q){var V=(1<(Q=null==Q?1:Q)?1:0>Q?0:Q)/2;Q=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816];for(var W=0,R=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,
.0472,.0472],S=0;12>S;S++){var K=V*Q[S]+V,O=K*(K*(-3*y+9*D-9*N+3*E)+6*y-12*D+6*N)-3*y+3*D;K=K*(K*(-3*F+9*C-9*J+3*M)+6*F-12*C+6*J)-3*F+3*C;W+=R[S]*Math.sqrt(O*O+K*K)}return V*W}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");
a("core-js/modules/es.function.name");a("core-js/modules/es.number.to-fixed");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");
a("core-js/modules/es.array.concat");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.function.name");a("core-js/modules/es.number.to-fixed");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/web.dom-collections.iterator");
Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var w=(w=a("../core/main"))&&w.__esModule?w:{default:w},z=function(y){if(y&&y.__esModule)return y;if(null===y||"object"!==r(y)&&"function"!=typeof y)return{default:y};var F=u();if(F&&F.has(y))return F.get(y);var D,C={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in y){var J;Object.prototype.hasOwnProperty.call(y,D)&&((J=N?Object.getOwnPropertyDescriptor(y,D):null)&&(J.get||J.set)?Object.defineProperty(C,D,J):C[D]=
y[D])}C.default=y;F&&F.set(y,C);return C}(a("../core/constants"));w.default.Font=function(){function y(D){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");this.parent=D;this.cache={};this.font=void 0}var F;return F=[{key:"textBounds",value:function(D){var C=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,N=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,J=3<arguments.length?arguments[3]:void 0,E=4<arguments.length?arguments[4]:void 0,M=E&&E.renderer&&
E.renderer._pInst||this.parent,Q=M._renderer.drawingContext;J=(Q.textAlign||z.LEFT,Q.textBaseline||z.BASELINE,J||M._renderer._textSize);if(!I){Q=[];I=[];var V=[],W=(V[0]=[],[]),R=this._scale(J),S=M._renderer.textLeading(),K=0;J=(this.font.forEachGlyph(D,C,N,J,E,function(P,X,ca,ia){ia=P.getMetrics();0===P.index?V[K+=1]=[]:(V[K].push(X+ia.xMin*R),V[K].push(X+ia.xMax*R),W.push(ca+K*S+-ia.yMin*R),W.push(ca+K*S+-ia.yMax*R))}),0<V[K].length&&(Q[K]=Math.min.apply(null,V[K]),I[K]=Math.max.apply(null,V[K])),
0);for(E=0;E<=K;E++){Q[E]=Math.min.apply(null,V[E]);I[E]=Math.max.apply(null,V[E]);var O=I[E]-Q[E];J<O&&(J=O)}Q=Math.min.apply(null,Q);var I={x:Q,y:N=Math.min.apply(null,W),h:Math.max.apply(null,W)-N,w:J,advance:Q-C};J=this._handleAlignment(M._renderer,D,I.x,I.y,I.w+I.advance);I.x=J.x;I.y=J.y}return I}},{key:"textToPoints",value:function(D,C,N,J,E){var M=C,Q=[],V=this.parent,W=D.split(/\r?\n|\r|\n/g);J=J||this.parent._renderer._textSize;for(var R,S,K,O=0;O<W.length;O++){var I=0;C=M;for(var P=(P=W[O]).replace(/\t/g,
"  "),X=this._getGlyphs(P),ca=0;ca<X.length;ca++){if(S=P,!((K=X)[R=ca].name&&"space"===K[R].name||S.length===K.length&&" "===S[R]))for(var ia=function(qa){for(var fa,ma=[],sa=0;sa<qa.length;sa++){"M"===qa[sa].type&&(fa&&ma.push(fa),fa=[]);var xa=fa,pa=xa.push,ra=qa[sa],wa=[ra.type];"M"===ra.type||"L"===ra.type?wa.push(ra.x,ra.y):"C"===ra.type?wa.push(ra.x1,ra.y1,ra.x2,ra.y2,ra.x,ra.y):"Q"===ra.type&&wa.push(ra.x1,ra.y1,ra.x,ra.y);pa.call(xa,wa)}return ma.push(fa),ma}(X[ca].getPath(C,N,J).commands),
da=0;da<ia.length;da++)for(var ba=function(qa,fa){fa=function(ra,wa){if("object"!==r(ra))ra=wa;else for(var ua in wa)void 0===ra[ua]&&(ra[ua]=wa[ua]);return ra}(fa,{sampleFactor:.1,simplifyThreshold:0});for(var ma=d(qa,0,1),sa=ma/(ma*fa.sampleFactor),xa=[],pa=0;pa<ma;pa+=sa)xa.push(d(qa,pa));fa.simplifyThreshold&&!function(ra){for(var wa=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,ua=0,ta=ra.length-1;3<ra.length&&0<=ta;--ta)f(k(ra,ta-1),k(ra,ta),k(ra,ta+1),wa)&&(ra.splice(ta%ra.length,
1),ua++)}(xa,fa.simplifyThreshold);return xa}(ia[da],E),ja=0;ja<ba.length;ja++)ba[ja].x+=I,D=this._handleAlignment(V._renderer,P,ba[ja].x,ba[ja].y),ba[ja].x=D.x,ba[ja].y=D.y,Q.push(ba[ja]);I+=X[ca].advanceWidth*this._scale(J)}N+=this.parent._renderer._textLeading}return Q}},{key:"_getGlyphs",value:function(D){return this.font.stringToGlyphs(D)}},{key:"_getPath",value:function(D,C,N,J){var E=(J&&J.renderer&&J.renderer._pInst||this.parent)._renderer;C=this._handleAlignment(E,D,C,N);return this.font.getPath(D,
C.x,C.y,E._textSize,J)}},{key:"_getPathData",value:function(D,C,N,J){var E=3;return"string"==typeof D&&2<arguments.length?D=this._getPath(D,C,N,J):"object"===r(C)&&(J=C),J&&"number"==typeof J.decimals&&(E=J.decimals),D.toPathData(E)}},{key:"_getSVG",value:function(D,C,N,J){var E=3;return"string"==typeof D&&2<arguments.length?D=this._getPath(D,C,N,J):"object"===r(C)&&(J=C),J&&("number"==typeof J.decimals&&(E=J.decimals),"number"==typeof J.strokeWidth&&(D.strokeWidth=J.strokeWidth),void 0!==J.fill&&
(D.fill=J.fill),void 0!==J.stroke&&(D.stroke=J.stroke)),D.toSVG(E)}},{key:"_renderPath",value:function(D,C,N,J){var E=J&&J.renderer||this.parent._renderer,M=E.drawingContext;D=("object"===r(D)&&D.commands?D:this._getPath(D,C,N,J)).commands;J=(E._clipping||M.beginPath(),!0);C=!1;N=void 0;try{for(var Q,V=D[Symbol.iterator]();!(J=(Q=V.next()).done);J=!0){var W=Q.value;"M"===W.type?M.moveTo(W.x,W.y):"L"===W.type?M.lineTo(W.x,W.y):"C"===W.type?M.bezierCurveTo(W.x1,W.y1,W.x2,W.y2,W.x,W.y):"Q"===W.type?
M.quadraticCurveTo(W.x1,W.y1,W.x,W.y):"Z"===W.type&&M.closePath()}}catch(R){C=!0,N=R}finally{try{J||null==V.return||V.return()}finally{if(C)throw N;}}return E._doStroke&&E._strokeSet&&!E._clipping&&M.stroke(),E._doFill&&!E._clipping&&(E._fillSet||E._setFill(z._DEFAULT_TEXT_FILL),M.fill()),this}},{key:"_textWidth",value:function(D,C){return this.font.getAdvanceWidth(D,C)}},{key:"_textAscent",value:function(D){return this.font.ascender*this._scale(D)}},{key:"_textDescent",value:function(D){return-this.font.descender*
this._scale(D)}},{key:"_scale",value:function(D){return 1/this.font.unitsPerEm*(D||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(D,C,N,J,E){var M=D._textSize;switch(void 0===E&&(E=this._textWidth(C,M)),D._textAlign){case z.CENTER:N-=E/2;break;case z.RIGHT:N-=E}switch(D._textBaseline){case z.TOP:J+=this._textAscent(M);break;case z.CENTER:J+=this._textAscent(M)/2;break;case z.BOTTOM:J-=this._textDescent(M)}return{x:N,y:J}}}],p(y.prototype,F),y}();a=w.default;q.default=a},
{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,
"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(a,G,q){a("core-js/modules/es.array.concat");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.array-buffer.constructor");a("core-js/modules/es.object.to-string");
a("core-js/modules/es.array.concat");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.array-buffer.constructor");a("core-js/modules/es.object.to-string");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};a.default.prototype.append=function(x,u){return x.push(u),x};a.default.prototype.arrayCopy=function(x,u,r,p,k){var f,c;x=void 0!==k?(c=Math.min(k,x.length),f=p,x.slice(u,c+u)):(c=void 0!==
r?(c=r,Math.min(c,x.length)):x.length,r=u,x.slice(f=0,c));Array.prototype.splice.apply(r,[f,c].concat(x))};a.default.prototype.concat=function(x,u){return x.concat(u)};a.default.prototype.reverse=function(x){return x.reverse()};a.default.prototype.shorten=function(x){return x.pop(),x};a.default.prototype.shuffle=function(x,u){var r=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(x);for(var p=(x=u||r?x:x.slice()).length;1<p;)u=this.random(0,1)*p|0,r=x[--p],x[p]=x[u],x[u]=r;return x};a.default.prototype.sort=
function(x,u){var r=u?x.slice(0,Math.min(u,x.length)):x;u=u?x.slice(Math.min(u,x.length)):[];return(r="string"==typeof r[0]?r.sort():r.sort(function(p,k){return p-k})).concat(u)};a.default.prototype.splice=function(x,u,r){return Array.prototype.splice.apply(x,[r,0].concat(u)),x};a.default.prototype.subset=function(x,u,r){return void 0!==r?x.slice(u,u+r):x.slice(u,x.length)};a=a.default;q.default=a},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,
"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(a,G,q){a("core-js/modules/es.array.map");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.repeat");a("core-js/modules/es.array.map");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.repeat");
Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var x=(a=a("../core/main"))&&a.__esModule?a:{default:a};x.default.prototype.float=function(u){return u instanceof Array?u.map(parseFloat):parseFloat(u)};x.default.prototype.int=function(u){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return u===1/0||"Infinity"===u?1/0:u===-1/0||"-Infinity"===u?-1/0:"string"==typeof u?parseInt(u,r):"number"==typeof u?0|u:"boolean"==typeof u?u?1:0:u instanceof Array?u.map(function(p){return x.default.prototype.int(p,
r)}):void 0};x.default.prototype.str=function(u){return u instanceof Array?u.map(x.default.prototype.str):String(u)};x.default.prototype.boolean=function(u){return"number"==typeof u?0!==u:"string"==typeof u?"true"===u.toLowerCase():"boolean"==typeof u?u:u instanceof Array?u.map(x.default.prototype.boolean):void 0};x.default.prototype.byte=function(u){u=x.default.prototype.int(u,10);return"number"==typeof u?(u+128)%256-128:u instanceof Array?u.map(x.default.prototype.byte):void 0};x.default.prototype.char=
function(u){return"number"!=typeof u||isNaN(u)?u instanceof Array?u.map(x.default.prototype.char):"string"==typeof u?x.default.prototype.char(parseInt(u,10)):void 0:String.fromCharCode(u)};x.default.prototype.unchar=function(u){return"string"==typeof u&&1===u.length?u.charCodeAt(0):u instanceof Array?u.map(x.default.prototype.unchar):void 0};x.default.prototype.hex=function(u,r){if(r=null==r?8:r,u instanceof Array)return u.map(function(p){return x.default.prototype.hex(p,r)});if(u===1/0||u===-1/0)return(u===
1/0?"F":"0").repeat(r);if("number"==typeof u){0>u&&(u=4294967295+u+1);for(u=Number(u).toString(16).toUpperCase();u.length<r;)u="0".concat(u);return u=u.length>=r?u.substring(u.length-r,u.length):u}};x.default.prototype.unhex=function(u){return u instanceof Array?u.map(x.default.prototype.unhex):parseInt("0x".concat(u),16)};a=x.default;q.default=a},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,
"core-js/modules/es.string.repeat":203}],324:[function(a,G,q){function x(b,d){if(!(b=function(l){if(Array.isArray(l))return l}(b)||function(l,h){if(Symbol.iterator in Object(l)||"[object Arguments]"===Object.prototype.toString.call(l)){var g=[],m=!0,t=!1,v=void 0;try{for(var w,z=l[Symbol.iterator]();!(m=(w=z.next()).done)&&(g.push(w.value),!h||g.length!==h);m=!0);}catch(y){t=!0,v=y}finally{try{m||null==z.return||z.return()}finally{if(t)throw v;}}return g}}(b,d)))throw new TypeError("Invalid attempt to destructure non-iterable instance");
return b}function u(b,d,l){var h,g=0>b,m=x((b=Math.abs(b)).toString().split("."),2),t=m[0];m=m[1];return void 0===l?(t=t.padStart(d,"0"),h=m?t+"."+m:t,g?"-"+h:h):(t=(h=x(b.toFixed(l).toString().split("."),2))[0],m=h[1],t=t.padStart(d,"0"),b=void 0===m?t:t+"."+m,g?"-"+b:b)}function r(b,d){var l=(b=b.toString()).indexOf("."),h=-1!==l?b.substring(l):"";b=(b=-1!==l?b.substring(0,l):b).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(0===d)h="";else if(void 0!==d)if(d>h.length)for(d=d-(h+=-1===l?".":
"").length+1,l=0;l<d;l++)h+="0";else h=h.substring(0,d+1);return b+h}function p(b){return 0<parseFloat(b)?"+".concat(b.toString()):b.toString()}function k(b){return 0<=parseFloat(b)?" ".concat(b.toString()):b.toString()}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.filter");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");
a("core-js/modules/es.array.slice");a("core-js/modules/es.number.to-fixed");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.match");a("core-js/modules/es.string.pad-start");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.array.filter");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.join");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.number.to-fixed");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.constructor");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.match");a("core-js/modules/es.string.pad-start");a("core-js/modules/es.string.replace");a("core-js/modules/es.string.split");
a("core-js/modules/es.string.trim");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var f=(c=a("../core/main"))&&c.__esModule?c:{default:c};a("../core/friendly_errors/validate_params");a("../core/friendly_errors/file_errors");a("../core/friendly_errors/fes_core");f.default.prototype.join=function(b,d){return f.default._validateParameters("join",arguments),b.join(d)};f.default.prototype.match=function(b,d){return f.default._validateParameters("match",arguments),b.match(d)};f.default.prototype.matchAll=
function(b,d){f.default._validateParameters("matchAll",arguments);for(var l=new RegExp(d,"g"),h=l.exec(b),g=[];null!==h;)g.push(h),h=l.exec(b);return g};f.default.prototype.nf=function(b,d,l){return f.default._validateParameters("nf",arguments),b instanceof Array?b.map(function(h){return u(h,d,l)}):"[object Arguments]"===Object.prototype.toString.call(b)?3===b.length?this.nf(b[0],b[1],b[2]):2===b.length?this.nf(b[0],b[1]):this.nf(b[0]):u(b,d,l)};f.default.prototype.nfc=function(b,d){return f.default._validateParameters("nfc",
arguments),b instanceof Array?b.map(function(l){return r(l,d)}):r(b,d)};f.default.prototype.nfp=function(){for(var b=arguments.length,d=Array(b),l=0;l<b;l++)d[l]=arguments[l];f.default._validateParameters("nfp",d);b=f.default.prototype.nf.apply(this,d);return b instanceof Array?b.map(p):p(b)};f.default.prototype.nfs=function(){for(var b=arguments.length,d=Array(b),l=0;l<b;l++)d[l]=arguments[l];f.default._validateParameters("nfs",d);b=f.default.prototype.nf.apply(this,d);return b instanceof Array?
b.map(k):k(b)};f.default.prototype.split=function(b,d){return f.default._validateParameters("split",arguments),b.split(d)};f.default.prototype.splitTokens=function(b,d){var l,h;return f.default._validateParameters("splitTokens",arguments),h=void 0!==d?(h=/\]/g.exec(d),(l=/\[/g.exec(d))&&h?(d=d.slice(0,h.index)+d.slice(h.index+1),l=/\[/g.exec(d),d=d.slice(0,l.index)+d.slice(l.index+1),new RegExp("[\\[".concat(d,"\\]]"),"g")):h?(d=d.slice(0,h.index)+d.slice(h.index+1),new RegExp("[".concat(d,"\\]]"),
"g")):l?(d=d.slice(0,l.index)+d.slice(l.index+1),new RegExp("[".concat(d,"\\[]"),"g")):new RegExp("[".concat(d,"]"),"g")):/\s/g,b.split(h).filter(function(g){return g})};f.default.prototype.trim=function(b){return f.default._validateParameters("trim",arguments),b instanceof Array?b.map(this.trim):b.trim()};var c=f.default;q.default=c},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,
"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,
"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(a,G,q){Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};a.default.prototype.day=function(){return(new Date).getDate()};a.default.prototype.hour=
function(){return(new Date).getHours()};a.default.prototype.minute=function(){return(new Date).getMinutes()};a.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart};a.default.prototype.month=function(){return(new Date).getMonth()+1};a.default.prototype.second=function(){return(new Date).getSeconds()};a.default.prototype.year=function(){return(new Date).getFullYear()};a=a.default;q.default=a},{"../core/main":283}],326:[function(a,G,q){function x(b){return(x=
"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(b)}function u(b){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(d){return x(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":x(d)})(b)}function r(){var b;return"function"!=typeof WeakMap?null:(b=new WeakMap,r=function(){return b},
b)}function p(b,d,l,h,g,m,t){b=0>=b?1:b;d=0>d?0:d;l=0>=l?b:l;h=3>h?3:h;var v=(m=void 0===m||m)?-2:0;var w=(g=1>g?1:g)+((t=void 0===t?0!==d:t)?2:0),z=Math.atan2(b-d,l),y=Math.sin(z),F=Math.cos(z);for(z=v;z<=w;++z){var D=z/g,C=l*D;var N=0>z?(D=C=0,b):g<z?(C=l,D=1,d):b+(d-b)*D;-2!==z&&z!==g+2||(N=0);C-=l/2;for(v=0;v<h;++v){var J=v/(h-1),E=2*Math.PI*J,M=Math.sin(E);E=Math.cos(E);this.vertices.push(new k.default.Vector(M*N,C,E*N));E=0>z?new k.default.Vector(0,-1,0):g<z&&d?new k.default.Vector(0,1,0):new k.default.Vector(M*
F,y,E*F);this.vertexNormals.push(E);this.uvs.push(J,D)}}b=0;if(m){for(m=0;m<h;++m)this.faces.push([b+m,b+h+(m+1)%h,b+h+m]);b+=2*h}for(z=0;z<g;++z){for(v=0;v<h;++v)m=(v+1)%h,this.faces.push([b+v,b+m,b+h+m]),this.faces.push([b+v,b+h+m,b+h+v]);b+=h}if(t)for(b+=h,v=0;v<h;++v)this.faces.push([b+v,b+(v+1)%h,b+h])}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.iterator");
a("core-js/modules/es.array.slice");a("core-js/modules/es.math.hypot");a("core-js/modules/es.math.sign");a("core-js/modules/es.number.to-fixed");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");
a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.math.hypot");a("core-js/modules/es.math.sign");a("core-js/modules/es.number.to-fixed");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var k=(c=a("../core/main"))&&c.__esModule?c:{default:c},f=(a("./p5.Geometry"),function(b){if(b&&
b.__esModule)return b;if(null===b||"object"!==u(b)&&"function"!=typeof b)return{default:b};var d=r();if(d&&d.has(b))return d.get(b);var l,h={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in b){var m;Object.prototype.hasOwnProperty.call(b,l)&&((m=g?Object.getOwnPropertyDescriptor(b,l):null)&&(m.get||m.set)?Object.defineProperty(h,l,m):h[l]=b[l])}h.default=b;d&&d.set(b,h);return h}(a("../core/constants")));k.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()};
k.default.prototype.endGeometry=function(){return this._renderer.endGeometry()};k.default.prototype.buildGeometry=function(b){return this._renderer.buildGeometry(b)};k.default.prototype.freeGeometry=function(b){this._renderer._freeBuffers(b.gid)};k.default.prototype.plane=function(){var b,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,g=3<arguments.length&&void 0!==arguments[3]?
arguments[3]:1,m=(this._assert3d("plane"),k.default._validateParameters("plane",arguments),"plane|".concat(h,"|").concat(g));return this._renderer.geometryInHash(m)||((b=new k.default.Geometry(h,g,function(){for(var t,v,w=0;w<=this.detailY;w++)for(var z=w/this.detailY,y=0;y<=this.detailX;y++)t=y/this.detailX,v=new k.default.Vector(t-.5,z-.5,0),this.vertices.push(v),this.uvs.push(t,z)})).computeFaces().computeNormals(),1>=h&&1>=g?b._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&
console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(m,b)),this._renderer.drawBuffersScaled(m,d,l,1),this};k.default.prototype.box=function(b,d,l,h,g){this._assert3d("box");k.default._validateParameters("box",arguments);void 0===b&&(b=50);void 0===d&&(d=b);void 0===l&&(l=d);var m,t=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;t=(void 0===g&&(g=t?1:4),"box|".concat(h=void 0===h?t?1:4:h,"|").concat(g));return this._renderer.geometryInHash(t)||
((m=new k.default.Geometry(h,g,function(){var v=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(w,z){z*=4;for(var y=0;4>y;y++){var F=w[y];F=new k.default.Vector((2*(1&F)-1)/2,((2&F)-1)/2,((4&F)/2-1)/2);v.vertices.push(F);v.uvs.push(1&y,(2&y)/2)}v.faces.push([z,1+z,2+z]);v.faces.push([2+z,1+z,3+z])})})).computeNormals(),4>=h&&4>=g?m._edgesToVertices():this._renderer._doStroke&&
console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(t,m)),this._renderer.drawBuffersScaled(t,b,d,l),this};k.default.prototype.sphere=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:24,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16;return this._assert3d("sphere"),k.default._validateParameters("sphere",arguments),this.ellipsoid(b,b,b,d,l),this};
k.default.prototype.cylinder=function(){var b,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],t=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],v=(this._assert3d("cylinder"),k.default._validateParameters("cylinder",arguments),"cylinder|".concat(h,
"|").concat(g,"|").concat(m,"|").concat(t));return this._renderer.geometryInHash(v)||(b=new k.default.Geometry(h,g),p.call(b,1,1,1,h,g,m,t),24>=h&&16>=g?b._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(v,b)),this._renderer.drawBuffersScaled(v,d,l,d),this};k.default.prototype.cone=function(){var b,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,l=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],t=(this._assert3d("cone"),k.default._validateParameters("cone",arguments),"cone|".concat(h,"|").concat(g,"|").concat(m));return this._renderer.geometryInHash(t)||(b=new k.default.Geometry(h,g),p.call(b,1,0,1,h,g,m,!1),24>=h&&16>=g?b._makeTriangleEdges()._edgesToVertices():
this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(t,b)),this._renderer.drawBuffersScaled(t,d,l,d),this};k.default.prototype.ellipsoid=function(){var b,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:d,g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:24,m=4<arguments.length&&
void 0!==arguments[4]?arguments[4]:16,t=(this._assert3d("ellipsoid"),k.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(g,"|").concat(m));return this._renderer.geometryInHash(t)||((b=new k.default.Geometry(g,m,function(){for(var v=0;v<=this.detailY;v++){var w=v/this.detailY,z=Math.PI*w-Math.PI/2,y=Math.cos(z);z=Math.sin(z);for(var F=0;F<=this.detailX;F++){var D=F/this.detailX,C=2*Math.PI*D,N=Math.cos(C);C=Math.sin(C);C=new k.default.Vector(y*C,z,y*N);this.vertices.push(C);this.vertexNormals.push(C);
this.uvs.push(D,w)}}})).computeFaces(),24>=g&&24>=m?b._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(t,b)),this._renderer.drawBuffersScaled(t,d,l,h),this};k.default.prototype.torus=function(b,d,l,h){if(this._assert3d("torus"),k.default._validateParameters("torus",arguments),void 0===b)b=50;else if(!b)return;if(void 0===d)d=10;else if(!d)return;void 0===l&&(l=24);
void 0===h&&(h=16);var g,m=(d/b).toPrecision(4);d="torus|".concat(m,"|").concat(l,"|").concat(h);return this._renderer.geometryInHash(d)||((g=new k.default.Geometry(l,h,function(){for(var t=0;t<=this.detailY;t++){var v=t/this.detailY,w=2*Math.PI*v,z=Math.cos(w);w=Math.sin(w);for(var y=1+m*z,F=0;F<=this.detailX;F++){var D=F/this.detailX,C=2*Math.PI*D,N=Math.cos(C);C=Math.sin(C);var J=new k.default.Vector(y*N,y*C,m*w);N=new k.default.Vector(z*N,z*C,w);this.vertices.push(J);this.vertexNormals.push(N);
this.uvs.push(D,v)}}})).computeFaces(),24>=l&&16>=h?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(d,g)),this._renderer.drawBuffersScaled(d,b,b,b),this};k.default.RendererGL.prototype.point=function(b,d){var l=[];return l.push(new k.default.Vector(b,d,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)),this._drawPoints(l,this.immediateMode.buffers.point),
this};k.default.RendererGL.prototype.triangle=function(b){var d=b[0],l=b[1],h=b[2],g=b[3],m=b[4];b=b[5];var t=(this.geometryInHash("tri")||((t=new k.default.Geometry(1,1,function(){var v=[];v.push(new k.default.Vector(0,0,0));v.push(new k.default.Vector(1,0,0));v.push(new k.default.Vector(0,1,0));this.edges=[[0,1],[1,2],[2,0]];this.vertices=v;this.faces=[[0,1,2]];this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),t.computeNormals(),this.createBuffers("tri",t)),this.uModelMatrix.copy());try{this.uModelMatrix=
(new k.default.Matrix([h-d,g-l,0,0,m-d,b-l,0,0,0,0,Math.sign(d*g-h*l+h*b-m*g+m*l-d*b),0,d,l,0,1])).mult(this.uModelMatrix),this.drawBuffers("tri")}finally{this.uModelMatrix=t}return this};k.default.RendererGL.prototype.ellipse=function(b){this.arc(b[0],b[1],b[2],b[3],0,f.TWO_PI,f.OPEN,b[4])};k.default.RendererGL.prototype.arc=function(){var b,d=0>=arguments.length?void 0:arguments[0],l=1>=arguments.length?void 0:arguments[1],h=2>=arguments.length?void 0:arguments[2],g=3>=arguments.length?void 0:arguments[3],
m=4>=arguments.length?void 0:arguments[4],t=5>=arguments.length?void 0:arguments[5],v=6>=arguments.length?void 0:arguments[6],w=(7>=arguments.length?void 0:arguments[7])||25,z=(Math.abs(t-m)>=f.TWO_PI?"".concat(y="ellipse","|"):"".concat(y="arc","|").concat(m,"|").concat(t,"|").concat(v,"|")).concat(w,"|"),y=(this.geometryInHash(z)||((b=new k.default.Geometry(w,1,function(){if(m.toFixed(10)!==t.toFixed(10)){v!==f.PIE&&void 0!==v||(this.vertices.push(new k.default.Vector(.5,.5,0)),this.uvs.push([.5,
.5]));for(var F=0;F<=w;F++){var D=F/w*(t-m)+m,C=.5+Math.cos(D)/2;D=.5+Math.sin(D)/2;this.vertices.push(new k.default.Vector(C,D,0));this.uvs.push([C,D]);F<w-1&&(this.faces.push([0,F+1,F+2]),this.edges.push([F+1,F+2]))}switch(v){case f.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]);this.edges.push([0,1]);this.edges.push([this.vertices.length-2,this.vertices.length-1]);this.edges.push([0,this.vertices.length-1]);break;case f.CHORD:this.edges.push([0,1]);this.edges.push([0,this.vertices.length-
1]);break;case f.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),50>=w?b._edgesToVertices(b):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(y," with more than 50 detail")),this.createBuffers(z,b)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([d,l,0]),this.uModelMatrix.scale(h,g,1),this.drawBuffers(z)}finally{this.uModelMatrix=
y}return this};k.default.RendererGL.prototype.rect=function(b){var d=b[0],l=b[1],h=b[2],g=b[3];if(void 0===b[4]){var m=this._pInst._glAttributes.perPixelLighting,t=b[4]||(m?1:24),v=b[5]||(m?1:16);m="rect|".concat(t,"|").concat(v);var w=(this.geometryInHash(m)||((w=new k.default.Geometry(t,v,function(){for(var Q=0;Q<=this.detailY;Q++)for(var V=Q/this.detailY,W=0;W<=this.detailX;W++){var R=W/this.detailX,S=new k.default.Vector(R,V,0);this.vertices.push(S);this.uvs.push(R,V)}0<t&&0<v&&(this.edges=[[0,
t],[t,(t+1)*(v+1)-1],[(t+1)*(v+1)-1,(t+1)*v],[(t+1)*v,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(m,w)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([d,l,0]),this.uModelMatrix.scale(h,g,1),this.drawBuffers(m)}finally{this.uModelMatrix=w}}else{m=b[4];w=void 0===b[5]?m:b[5];var z=void 0===b[6]?w:b[6];b=void 0===b[7]?z:b[7];var y=h,F=g,D=((y+=d)<d&&(D=d,d=y,y=D),(F+=l)<l&&(D=l,l=F,F=D),Math.min((y-d)/2,(F-l)/2)),C=(D<m&&(m=D),D<w&&(w=D),D<z&&(z=D),D<b&&
(b=D),d),N=l;D=y;d=F;b=(this.beginShape(),0!==w?(this.vertex(D-w,N),this.quadraticVertex(D,N,D,N+w)):this.vertex(D,N),0!==z?(this.vertex(D,d-z),this.quadraticVertex(D,d,D-z,d)):this.vertex(D,d),0!==b?(this.vertex(C+b,d),this.quadraticVertex(C,d,C,d-b)):this.vertex(C,d),0!==m?(this.vertex(C,N+m),this.quadraticVertex(C,N,C+m,N)):this.vertex(C,N),!(this.immediateMode.geometry.uvs.length=0));l=!1;y=void 0;try{for(var J,E=this.immediateMode.geometry.vertices[Symbol.iterator]();!(b=(J=E.next()).done);b=
!0){var M=J.value;this.immediateMode.geometry.uvs.push((M.x-C)/h,(M.y-N)/g)}}catch(Q){l=!0,y=Q}finally{try{b||null==E.return||E.return()}finally{if(l)throw y;}}this.endShape(f.CLOSE)}return this};k.default.RendererGL.prototype.quad=function(b,d,l,h,g,m,t,v,w,z,y,F){var D=12<arguments.length&&void 0!==arguments[12]?arguments[12]:2,C=13<arguments.length&&void 0!==arguments[13]?arguments[13]:2,N="quad|".concat(b,"|").concat(d,"|").concat(l,"|").concat(h,"|").concat(g,"|").concat(m,"|").concat(t,"|").concat(v,
"|").concat(w,"|").concat(z,"|").concat(y,"|").concat(F,"|").concat(D,"|").concat(C);if(!this.geometryInHash(N)){var J=new k.default.Geometry(D,C,function(){for(var R=1/(this.detailX-1),S=1/(this.detailY-1),K=0;K<this.detailY;K++)for(var O=0;O<this.detailX;O++){var I=O*R,P=K*S;this.vertices.push(new k.default.Vector((1-I)*((1-P)*b+P*z)+I*((1-P)*h+P*t),(1-I)*((1-P)*d+P*y)+I*((1-P)*g+P*v),(1-I)*((1-P)*l+P*F)+I*((1-P)*m+P*w)));this.uvs.push([I,P])}});J.faces=[];for(var E=0;E<C-1;E++)for(var M=0;M<D-
1;M++){var Q=M+E*D,V=M+1+(E+1)*D,W=M+(E+1)*D;J.faces.push([Q,M+1+E*D,V]);J.faces.push([Q,V,W])}J.computeNormals();D=[J.edges.length=0,2,3,1];for(C=0;C<D.length;C++)J.edges.push([D[C],D[(C+1)%D.length]]);J._edgesToVertices();this.createBuffers(N,J)}return this.drawBuffers(N),this};k.default.RendererGL.prototype.bezier=function(b,d,l,h,g,m,t,v,w,z,y,F){8===arguments.length&&(y=v,z=t,v=m,t=g,g=h,h=l,l=m=w=F=0);var D=this._pInst._bezierDetail||20;this.beginShape();for(var C=0;C<=D;C++){var N=Math.pow(1-
C/D,3),J=C/D*3*Math.pow(1-C/D,2),E=3*Math.pow(C/D,2)*(1-C/D),M=Math.pow(C/D,3);this.vertex(b*N+h*J+t*E+z*M,d*N+g*J+v*E+y*M,l*N+m*J+w*E+F*M)}return this.endShape(),this};k.default.RendererGL.prototype.curve=function(b,d,l,h,g,m,t,v,w,z,y,F){8===arguments.length&&(z=t,y=v,t=g,v=h,g=h=l,l=m=w=F=0);var D=this._pInst._curveDetail;this.beginShape();for(var C=0;C<=D;C++){var N=.5*Math.pow(C/D,3),J=.5*Math.pow(C/D,2),E=C/D*.5;this.vertex(N*(3*h-b-3*t+z)+J*(2*b-5*h+4*t-z)+E*(-b+t)+1*h,N*(3*g-d-3*v+y)+J*(2*
d-5*g+4*v-y)+E*(-d+v)+1*g,N*(3*m-l-3*w+F)+J*(2*l-5*m+4*w-F)+E*(-l+w)+1*m)}return this.endShape(),this};k.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(f.LINES),this.vertex(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],2>=arguments.length?void 0:arguments[2]),this.vertex(3>=arguments.length?void 0:arguments[3],4>=arguments.length?void 0:arguments[4],5>=arguments.length?void 0:arguments[5]),this.endShape()):4===arguments.length&&
(this.beginShape(f.LINES),this.vertex(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],0),this.vertex(2>=arguments.length?void 0:arguments[2],3>=arguments.length?void 0:arguments[3],0),this.endShape()),this};k.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var b,d,l,h,g,m;var t=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==
this._pInst._curveDetail){this._lookUpTableBezier=[];this._lutBezierDetail=this._pInst._curveDetail;for(var v=m=1/this._lutBezierDetail,w=1,z=0;1>v;){if(g=parseFloat(v.toFixed(6)),this._lookUpTableBezier[z]=this._bezierCoefficients(g),w.toFixed(6)===m.toFixed(6)){g=parseFloat(w.toFixed(6))+parseFloat(v.toFixed(6));++z;this._lookUpTableBezier[z]=this._bezierCoefficients(g);break}v+=m;w-=m;++z}}v=this._lookUpTableBezier.length;w=[];for(var y=0;4>y;y++)w.push([]);w[0]=this.immediateMode.geometry.vertexColors.slice(-4);
w[3]=this.curFillColor.slice();z=[];for(y=0;4>y;y++)z.push([]);if(z[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),z[3]=this.curStrokeColor.slice(),6===t){this.isBezier=!0;g=[this.immediateMode._bezierVertex[0],0>=arguments.length?void 0:arguments[0],2>=arguments.length?void 0:arguments[2],4>=arguments.length?void 0:arguments[4]];m=[this.immediateMode._bezierVertex[1],1>=arguments.length?void 0:arguments[1],3>=arguments.length?void 0:arguments[3],5>=arguments.length?void 0:arguments[5]];
var F=Math.hypot(g[0]-g[1],m[0]-m[1]);t=Math.hypot(g[1]-g[2],m[1]-m[2]);y=Math.hypot(g[2]-g[3],m[2]-m[3]);t=F+t+y;F/=t;y/=t;for(t=0;4>t;t++)w[1].push(w[0][t]*(1-F)+w[3][t]*F),w[2].push(w[0][t]*y+w[3][t]*(1-y)),z[1].push(z[0][t]*(1-F)+z[3][t]*F),z[2].push(z[0][t]*y+z[3][t]*(1-y));for(h=0;h<v;h++){this.curFillColor=[0,0,0,0];this.curStrokeColor=[0,0,0,0];for(y=b=d=0;4>y;y++){for(t=0;4>t;t++)this.curFillColor[t]+=this._lookUpTableBezier[h][y]*w[y][t],this.curStrokeColor[t]+=this._lookUpTableBezier[h][y]*
z[y][t];b+=g[y]*this._lookUpTableBezier[h][y];d+=m[y]*this._lookUpTableBezier[h][y]}this.vertex(b,d)}this.curFillColor=w[3];this.curStrokeColor=z[3];this.immediateMode._bezierVertex[0]=4>=arguments.length?void 0:arguments[4];this.immediateMode._bezierVertex[1]=5>=arguments.length?void 0:arguments[5]}else if(9===t){this.isBezier=!0;g=[this.immediateMode._bezierVertex[0],0>=arguments.length?void 0:arguments[0],3>=arguments.length?void 0:arguments[3],6>=arguments.length?void 0:arguments[6]];m=[this.immediateMode._bezierVertex[1],
1>=arguments.length?void 0:arguments[1],4>=arguments.length?void 0:arguments[4],7>=arguments.length?void 0:arguments[7]];F=[this.immediateMode._bezierVertex[2],2>=arguments.length?void 0:arguments[2],5>=arguments.length?void 0:arguments[5],8>=arguments.length?void 0:arguments[8]];y=Math.hypot(g[0]-g[1],m[0]-m[1],F[0]-F[1]);t=Math.hypot(g[1]-g[2],m[1]-m[2],F[1]-F[2]);b=Math.hypot(g[2]-g[3],m[2]-m[3],F[2]-F[3]);t=y+t+b;y/=t;b/=t;for(t=0;4>t;t++)w[1].push(w[0][t]*(1-y)+w[3][t]*y),w[2].push(w[0][t]*b+
w[3][t]*(1-b)),z[1].push(z[0][t]*(1-y)+z[3][t]*y),z[2].push(z[0][t]*b+z[3][t]*(1-b));for(h=0;h<v;h++){this.curFillColor=[0,0,0,0];this.curStrokeColor=[0,0,0,0];for(y=b=d=l=0;4>y;y++){for(t=0;4>t;t++)this.curFillColor[t]+=this._lookUpTableBezier[h][y]*w[y][t],this.curStrokeColor[t]+=this._lookUpTableBezier[h][y]*z[y][t];b+=g[y]*this._lookUpTableBezier[h][y];d+=m[y]*this._lookUpTableBezier[h][y];l+=F[y]*this._lookUpTableBezier[h][y]}this.vertex(b,d,l)}this.curFillColor=w[3];this.curStrokeColor=z[3];
this.immediateMode._bezierVertex[0]=6>=arguments.length?void 0:arguments[6];this.immediateMode._bezierVertex[1]=7>=arguments.length?void 0:arguments[7];this.immediateMode._bezierVertex[2]=8>=arguments.length?void 0:arguments[8]}};k.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var b,d,l,h,g,m;var t=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==
this._pInst._curveDetail){this._lookUpTableQuadratic=[];this._lutQuadraticDetail=this._pInst._curveDetail;var v=1/this._lutQuadraticDetail,w=v;var z=1;for(m=0;1>w;){if(g=parseFloat(w.toFixed(6)),this._lookUpTableQuadratic[m]=this._quadraticCoefficients(g),z.toFixed(6)===v.toFixed(6)){g=parseFloat(z.toFixed(6))+parseFloat(w.toFixed(6));++m;this._lookUpTableQuadratic[m]=this._quadraticCoefficients(g);break}w+=v;z-=v;++m}}g=this._lookUpTableQuadratic.length;v=[];for(var y=0;3>y;y++)v.push([]);v[0]=this.immediateMode.geometry.vertexColors.slice(-4);
v[2]=this.curFillColor.slice();w=[];for(y=0;3>y;y++)w.push([]);if(w[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),w[2]=this.curStrokeColor.slice(),4===t){this.isQuadratic=!0;z=[this.immediateMode._quadraticVertex[0],0>=arguments.length?void 0:arguments[0],2>=arguments.length?void 0:arguments[2]];m=[this.immediateMode._quadraticVertex[1],1>=arguments.length?void 0:arguments[1],3>=arguments.length?void 0:arguments[3]];y=Math.hypot(z[0]-z[1],m[0]-m[1]);y/=y+Math.hypot(z[1]-z[2],m[1]-m[2]);
for(t=0;4>t;t++)v[1].push(v[0][t]*(1-y)+v[2][t]*y),w[1].push(w[0][t]*(1-y)+w[2][t]*y);for(h=0;h<g;h++){this.curFillColor=[0,0,0,0];this.curStrokeColor=[0,0,0,0];for(y=b=d=0;3>y;y++){for(t=0;4>t;t++)this.curFillColor[t]+=this._lookUpTableQuadratic[h][y]*v[y][t],this.curStrokeColor[t]+=this._lookUpTableQuadratic[h][y]*w[y][t];b+=z[y]*this._lookUpTableQuadratic[h][y];d+=m[y]*this._lookUpTableQuadratic[h][y]}this.vertex(b,d)}this.curFillColor=v[2];this.curStrokeColor=w[2];this.immediateMode._quadraticVertex[0]=
2>=arguments.length?void 0:arguments[2];this.immediateMode._quadraticVertex[1]=3>=arguments.length?void 0:arguments[3]}else if(6===t){this.isQuadratic=!0;z=[this.immediateMode._quadraticVertex[0],0>=arguments.length?void 0:arguments[0],3>=arguments.length?void 0:arguments[3]];m=[this.immediateMode._quadraticVertex[1],1>=arguments.length?void 0:arguments[1],4>=arguments.length?void 0:arguments[4]];var F=[this.immediateMode._quadraticVertex[2],2>=arguments.length?void 0:arguments[2],5>=arguments.length?
void 0:arguments[5]];y=Math.hypot(z[0]-z[1],m[0]-m[1],F[0]-F[1]);y/=y+Math.hypot(z[1]-z[2],m[1]-m[2],F[1]-F[2]);for(t=0;4>t;t++)v[1].push(v[0][t]*(1-y)+v[2][t]*y),w[1].push(w[0][t]*(1-y)+w[2][t]*y);for(h=0;h<g;h++){this.curFillColor=[0,0,0,0];this.curStrokeColor=[0,0,0,0];for(y=b=d=l=0;3>y;y++){for(t=0;4>t;t++)this.curFillColor[t]+=this._lookUpTableQuadratic[h][y]*v[y][t],this.curStrokeColor[t]+=this._lookUpTableQuadratic[h][y]*w[y][t];b+=z[y]*this._lookUpTableQuadratic[h][y];d+=m[y]*this._lookUpTableQuadratic[h][y];
l+=F[y]*this._lookUpTableQuadratic[h][y]}this.vertex(b,d,l)}this.curFillColor=v[2];this.curStrokeColor=w[2];this.immediateMode._quadraticVertex[0]=3>=arguments.length?void 0:arguments[3];this.immediateMode._quadraticVertex[1]=4>=arguments.length?void 0:arguments[4];this.immediateMode._quadraticVertex[2]=5>=arguments.length?void 0:arguments[5]}};k.default.RendererGL.prototype.curveVertex=function(){var b,d,l,h=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=
[];this._lutBezierDetail=this._pInst._curveDetail;var g=d=1/this._lutBezierDetail;var m=1;for(l=0;1>g;){if(b=parseFloat(g.toFixed(6)),this._lookUpTableBezier[l]=this._bezierCoefficients(b),m.toFixed(6)===d.toFixed(6)){b=parseFloat(m.toFixed(6))+parseFloat(g.toFixed(6));++l;this._lookUpTableBezier[l]=this._bezierCoefficients(b);break}g+=d;m-=d;++l}}var t=this._lookUpTableBezier.length;if(2===h){if(this.immediateMode._curveVertex.push(0>=arguments.length?void 0:arguments[0]),this.immediateMode._curveVertex.push(1>=
arguments.length?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){this.isCurve=!0;var v=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]);var w=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]);for(l=0;l<t;l++)d=v[0]*this._lookUpTableBezier[l][0]+v[1]*this._lookUpTableBezier[l][1]+
v[2]*this._lookUpTableBezier[l][2]+v[3]*this._lookUpTableBezier[l][3],g=w[0]*this._lookUpTableBezier[l][0]+w[1]*this._lookUpTableBezier[l][1]+w[2]*this._lookUpTableBezier[l][2]+w[3]*this._lookUpTableBezier[l][3],this.vertex(d,g);for(l=0;l<h;l++)this.immediateMode._curveVertex.shift()}}else if(3===h&&(this.immediateMode._curveVertex.push(0>=arguments.length?void 0:arguments[0]),this.immediateMode._curveVertex.push(1>=arguments.length?void 0:arguments[1]),this.immediateMode._curveVertex.push(2>=arguments.length?
void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){this.isCurve=!0;v=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]);w=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]);b=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],
this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]);for(l=0;l<t;l++)d=v[0]*this._lookUpTableBezier[l][0]+v[1]*this._lookUpTableBezier[l][1]+v[2]*this._lookUpTableBezier[l][2]+v[3]*this._lookUpTableBezier[l][3],g=w[0]*this._lookUpTableBezier[l][0]+w[1]*this._lookUpTableBezier[l][1]+w[2]*this._lookUpTableBezier[l][2]+w[3]*this._lookUpTableBezier[l][3],m=b[0]*this._lookUpTableBezier[l][0]+b[1]*this._lookUpTableBezier[l][1]+b[2]*this._lookUpTableBezier[l][2]+b[3]*this._lookUpTableBezier[l][3],
this.vertex(d,g,m);for(l=0;l<h;l++)this.immediateMode._curveVertex.shift()}};k.default.RendererGL.prototype.image=function(b,d,l,h,g,m,t,v,w){this._isErasing&&this.blendMode(this._cachedBlendMode);this._pInst.push();this._pInst.noLights();this._pInst.noStroke();this._pInst.texture(b);this._pInst.textureMode(f.NORMAL);var z=0,y=(d<=b.width&&(z=d/b.width),1);d=(d+h<=b.width&&(y=(d+h)/b.width),0);h=(l<=b.height&&(d=l/b.height),1);l+g<=b.height&&(h=(l+g)/b.height);this.beginShape();this.vertex(m,t,0,
z,d);this.vertex(m+v,t,0,y,d);this.vertex(m+v,t+w,0,y,h);this.vertex(m,t+w,0,z,h);this.endShape(f.CLOSE);this._pInst.pop();this._isErasing&&this.blendMode(f.REMOVE)};var c=k.default;q.default=c},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,
"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(a,G,q){function x(d){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&
"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(d)}function u(d){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(l){return x(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":x(l)})(d)}function r(){var d;return"function"!=typeof WeakMap?null:(d=new WeakMap,r=function(){return d},d)}function p(d){if(!(d=function(l){if(Array.isArray(l)){for(var h=0,g=Array(l.length);h<l.length;h++)g[h]=
l[h];return g}}(d)||function(l){if(Symbol.iterator in Object(l)||"[object Arguments]"===Object.prototype.toString.call(l))return Array.from(l)}(d)))throw new TypeError("Invalid attempt to spread non-iterable instance");return d}function k(d,l){for(var h=0;h<l.length;h++){var g=l[h];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(d,g.key,g)}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");
a("core-js/modules/es.array.every");a("core-js/modules/es.array.from");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.every");a("core-js/modules/es.array.map");
a("core-js/modules/es.object.assign");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var f=(b=a("../core/main"))&&b.__esModule?b:{default:b},c=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==u(d)&&"function"!=typeof d)return{default:d};var l=r();if(l&&l.has(d))return l.get(d);var h,g={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d){var t;Object.prototype.hasOwnProperty.call(d,h)&&((t=m?Object.getOwnPropertyDescriptor(d,h):null)&&(t.get||t.set)?
Object.defineProperty(g,h,t):g[h]=d[h])}g.default=d;l&&l.set(d,g);return g}(a("../core/constants")),b=function(){function d(h){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");(this.renderer=h)._pInst.push();this.identityMatrix=new f.default.Matrix;h.uModelMatrix=new f.default.Matrix;this.geometry=new f.default.Geometry;this.geometry.gid="_p5_GeometryBuilder_".concat(d.nextGeometryId);d.nextGeometryId++;this.hasTransform=!1}var l;return l=[{key:"transformVertices",
value:function(h){var g=this;return this.hasTransform?h.map(function(m){return g.renderer.uModelMatrix.multiplyPoint(m)}):h}},{key:"transformNormals",value:function(h){var g=this;return this.hasTransform?h.map(function(m){return g.renderer.uNMatrix.multiplyVec3(m)}):h}},{key:"addGeometry",value:function(h){for(var g,m=this,t=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(w,z){return w===m.identityMatrix.mat4[z]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),
this.geometry.vertices.length),v=((g=this.geometry.vertices).push.apply(g,p(this.transformVertices(h.vertices))),(g=this.geometry.vertexNormals).push.apply(g,p(this.transformNormals(h.vertexNormals))),(g=this.geometry.uvs).push.apply(g,p(h.uvs)),this.renderer._doFill&&(g=this.geometry.faces).push.apply(g,p(h.faces.map(function(w){return w.map(function(z){return z+t})}))),this.renderer._doStroke&&(g=this.geometry.edges).push.apply(g,p(h.edges.map(function(w){return w.map(function(z){return z+t})}))),
p(h.vertexColors));v.length<4*h.vertices.length;)v.push.apply(v,p(this.renderer.curFillColor));(g=this.geometry.vertexColors).push.apply(g,p(v))}},{key:"addImmediate",value:function(){var h=this.renderer.immediateMode.geometry,g=this.renderer.immediateMode.shapeMode,m=[];if(this.renderer._doFill)if(g===c.TRIANGLE_STRIP||g===c.QUAD_STRIP)for(g=2;g<h.vertices.length;g++)0==g%2?m.push([g,g-1,g-2]):m.push([g,g-2,g-1]);else if(g===c.TRIANGLE_FAN)for(g=2;g<h.vertices.length;g++)m.push([0,g-1,g]);else for(g=
0;g<h.vertices.length;g+=3)m.push([g,g+1,g+2]);this.addGeometry(Object.assign({},h,{faces:m}))}},{key:"addRetained",value:function(h){this.addGeometry(h.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}],k(d.prototype,l),d}();b.nextGeometryId=0;q.default=b},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,
"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(a,G,q){function x(c){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:
function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(c)}function u(){var c;return"function"!=typeof WeakMap?null:(c=new WeakMap,u=function(){return c},c)}function r(c){return(r="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(b){return x(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":x(b)})(c)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");
a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.splice");a("core-js/modules/es.math.hypot");a("core-js/modules/es.math.sign");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.splice");a("core-js/modules/es.math.hypot");a("core-js/modules/es.math.sign");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");
Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var p=(f=a("../core/main"))&&f.__esModule?f:{default:f},k=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==r(c)&&"function"!=typeof c)return{default:c};var b=u();if(b&&b.has(c))return b.get(c);var d,l={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in c){var g;Object.prototype.hasOwnProperty.call(c,d)&&((g=h?Object.getOwnPropertyDescriptor(c,d):null)&&(g.get||g.set)?Object.defineProperty(l,d,g):l[d]=
c[d])}l.default=c;b&&b.set(c,l);return l}(a("../core/constants"));p.default.prototype.orbitControl=function(c,b,d,l){var h=this,g=(this._assert3d("orbitControl"),p.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);void 0===c&&(c=1);void 0===b&&(b=c);void 0===d&&(d=1);"object"!==r(l)&&(l={});!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0));!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},
this._setProperty("wheelDefaultDisabled",!0));var m=l.disableTouchActions;!0===this.touchActionsDisabled||void 0!==m&&!m||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var t,v,w;m=l.freeRotation;l=void 0!==m&&m;var z=[];m=(this.touches.forEach(function(E){h._renderer.prevTouches.forEach(function(M){E.id===M.id&&(M={x:E.x,y:E.y,px:M.x,py:M.y},z.push(M))})}),this._renderer.prevTouches=this.touches,0);var y=0,F=0,D=0,C=0,N=this.height<this.width?this.height:
this.width,J=!1;return 0<z.length?(J=0<z[0].x&&z[0].x<this.width&&0<z[0].y&&z[0].y<this.height,1===z.length?(y=-c*((t=z[0]).x-t.px)/N,F=b*(t.y-t.py)/N):(t=z[0],v=z[1],m=-(Math.hypot(t.x-v.x,t.y-v.y)-Math.hypot(t.px-v.px,t.py-v.py))*d*4E-4,D=.5*(t.x+v.x)-.5*(t.px+v.px),C=.5*(t.y+v.y)-.5*(t.py+v.py)),0<this.touches.length?J&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(J=0<this.mouseX&&this.mouseX<this.width&&
0<this.mouseY&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(m=Math.sign(this._mouseWheelDeltaY)*d,m*=.01,this._mouseWheelDeltaY=0,J&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(y=-c*this.movedX/N,F=b*this.movedY/N):this.mouseButton===this.RIGHT&&(D=this.movedX,C=this.movedY*g.yScale),J&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),0!==m&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=
m),.001<Math.abs(this._renderer.zoomVelocity)?(l?g._orbitFree(0,0,this._renderer.zoomVelocity):g._orbit(0,0,this._renderer.zoomVelocity),0!==g.projMatrix.mat4[15]&&(g.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),g.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=g.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=g.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,0===y&&0===F||!this._renderer.executeRotateAndMove||
this._renderer.rotateVelocity.add(.6*y,.6*F),1E-6<this._renderer.rotateVelocity.magSq()?(l?g._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):g._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),0===D&&0===C||!this._renderer.executeRotateAndMove||(t=2*D/this.width,v=2*-C/this.height,this._renderer.moveVelocity.add(.15*t,.15*v)),1E-6<this._renderer.moveVelocity.magSq()?
(d=g._getLocalAxes(),c=g.eyeX-g.centerX,b=g.eyeY-g.centerY,N=g.eyeZ-g.centerZ,J=Math.sqrt(c*c+b*b+N*N),m=new p.default.Vector(g.centerX,g.centerY,g.centerZ),m=g.cameraMatrix.multiplyPoint(m),(m=this._renderer.uPMatrix.multiplyAndNormalizePoint(m)).x-=this._renderer.moveVelocity.x,m.y-=this._renderer.moveVelocity.y,F=0===(y=this._renderer.uPMatrix.mat4)[15]?(w=(y[8]+m.x)/y[0]*J,(y[9]+m.y)/y[5]*J):(w=(m.x-y[12])/y[0],(m.y-y[13])/y[5]),g.setPosition(g.eyeX+w*d.x[0]+F*d.y[0],g.eyeY+w*d.x[1]+F*d.y[1],
g.eyeZ+w*d.x[2]+F*d.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this};p.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var c=arguments.length,b=Array(c),d=0;d<c;d++)b[d]=arguments[d];p.default._validateParameters("debugMode",b);for(c=this._registeredMethods.post.length-1;0<=c;c--)this._registeredMethods.post[c].toString()!==this._grid().toString()&&this._registeredMethods.post[c].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(c,
1);b[0]===k.GRID?this.registerMethod("post",this._grid(b[1],b[2],b[3],b[4],b[5])):b[0]===k.AXES?this.registerMethod("post",this._axesIcon(b[1],b[2],b[3],b[4])):(this.registerMethod("post",this._grid(b[0],b[1],b[2],b[3],b[4])),this.registerMethod("post",this._axesIcon(b[5],b[6],b[7],b[8])))};p.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var c=this._registeredMethods.post.length-1;0<=c;c--)this._registeredMethods.post[c].toString()!==this._grid().toString()&&this._registeredMethods.post[c].toString()!==
this._axesIcon().toString()||this._registeredMethods.post.splice(c,1)};p.default.prototype._grid=function(c,b,d,l,h){void 0===c&&(c=this.width/2);void 0===b&&(b=4>Math.round(c/30)?4:Math.round(c/30));void 0===d&&(d=0);void 0===l&&(l=0);void 0===h&&(h=0);var g=c/b,m=c/2;return function(){this.push();this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]);this._renderer.uModelMatrix.reset();for(var t=0;t<=b;t++)this.beginShape(this.LINES),
this.vertex(-m+d,l,t*g-m+h),this.vertex(m+d,l,t*g-m+h),this.endShape();for(t=0;t<=b;t++)this.beginShape(this.LINES),this.vertex(t*g-m+d,l,-m+h),this.vertex(t*g-m+d,l,m+h),this.endShape();this.pop()}};p.default.prototype._axesIcon=function(c,b,d,l){return void 0===c&&(c=40<this.width/20?this.width/20:40),void 0===b&&(b=-this.width/4),void 0===d&&(d=b),void 0===l&&(l=b),function(){this.push();this._renderer.uModelMatrix.reset();this.strokeWeight(2);this.stroke(255,0,0);this.beginShape(this.LINES);this.vertex(b,
d,l);this.vertex(b+c,d,l);this.endShape();this.stroke(0,255,0);this.beginShape(this.LINES);this.vertex(b,d,l);this.vertex(b,d+c,l);this.endShape();this.stroke(0,0,255);this.beginShape(this.LINES);this.vertex(b,d,l);this.vertex(b,d,l+c);this.endShape();this.pop()}};var f=p.default;q.default=f},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,
"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(a,G,q){a("core-js/modules/es.array.filter");a("core-js/modules/es.array.filter");
Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var x=(a=a("../core/main"))&&a.__esModule?a:{default:a};x.default.prototype.ambientLight=function(u,r,p,k){this._assert3d("ambientLight");x.default._validateParameters("ambientLight",arguments);var f=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(f._array[0],f._array[1],f._array[2]),this._renderer._enableLighting=!0,this};x.default.prototype.specularColor=function(u,r,p){this._assert3d("specularColor");
x.default._validateParameters("specularColor",arguments);var k=this.color.apply(this,arguments);return this._renderer.specularColors=[k._array[0],k._array[1],k._array[2]],this};x.default.prototype.directionalLight=function(u,r,p,k,f,c){this._assert3d("directionalLight");x.default._validateParameters("directionalLight",arguments);u=u instanceof x.default.Color?u:this.color(u,r,p);var b,d;r=arguments[arguments.length-1];p="number"==typeof r?(b=arguments[arguments.length-3],d=arguments[arguments.length-
2],arguments[arguments.length-1]):(b=r.x,d=r.y,r.z);r=Math.sqrt(b*b+d*d+p*p);return this._renderer.directionalLightDirections.push(b/r,d/r,p/r),this._renderer.directionalLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this};x.default.prototype.pointLight=function(u,r,p,k,f,c){this._assert3d("pointLight");x.default._validateParameters("pointLight",arguments);
u=u instanceof x.default.Color?u:this.color(u,r,p);var b,d;r=arguments[arguments.length-1];p="number"==typeof r?(b=arguments[arguments.length-3],d=arguments[arguments.length-2],arguments[arguments.length-1]):(b=r.x,d=r.y,r.z);return this._renderer.pointLightPositions.push(b,d,p),this._renderer.pointLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this};x.default.prototype.imageLight=
function(u){this._renderer.activeImageLight=u;this._renderer._enableLighting=!0};x.default.prototype.panorama=function(u){this.filter(this._renderer._getSphereMapping(u))};x.default.prototype.lights=function(){this._assert3d("lights");var u=this.color("rgb(128,128,128)");return this.ambientLight(u),this.directionalLight(u,0,0,-1),this};x.default.prototype.lightFalloff=function(u,r,p){return this._assert3d("lightFalloff"),x.default._validateParameters("lightFalloff",arguments),0>u&&(u=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),
0>r&&(r=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),0>p&&(p=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===u&&0===r&&0===p&&(u=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=u,this._renderer.linearAttenuation=r,this._renderer.quadraticAttenuation=p,this};x.default.prototype.spotLight=
function(u,r,p,k,f,c,b,d,l,h,g){this._assert3d("spotLight");x.default._validateParameters("spotLight",arguments);var m=arguments.length;switch(m){case 11:case 10:var t=this.color(u,r,p);var v=new x.default.Vector(k,f,c);var w=new x.default.Vector(b,d,l);break;case 9:u instanceof x.default.Color?(t=u,v=new x.default.Vector(r,p,k),w=new x.default.Vector(f,c,b),h=d,g=l):k instanceof x.default.Vector?(t=this.color(u,r,p),v=k,w=new x.default.Vector(f,c,b),h=d,g=l):b instanceof x.default.Vector?(t=this.color(u,
r,p),v=new x.default.Vector(k,f,c),w=b,h=d,g=l):(t=this.color(u,r,p),v=new x.default.Vector(k,f,c),w=new x.default.Vector(b,d,l));break;case 8:h=(w=u instanceof x.default.Color?(t=u,v=new x.default.Vector(r,p,k),new x.default.Vector(f,c,b)):k instanceof x.default.Vector?(t=this.color(u,r,p),v=k,new x.default.Vector(f,c,b)):(t=this.color(u,r,p),v=new x.default.Vector(k,f,c),b),d);break;case 7:u instanceof x.default.Color&&r instanceof x.default.Vector?(t=u,v=r,w=new x.default.Vector(p,k,f),h=c,g=b):
u instanceof x.default.Color&&f instanceof x.default.Vector?(t=u,v=new x.default.Vector(r,p,k),w=f,h=c,g=b):k instanceof x.default.Vector&&f instanceof x.default.Vector?(t=this.color(u,r,p),v=k,w=f,h=c,g=b):w=u instanceof x.default.Color?(t=u,v=new x.default.Vector(r,p,k),new x.default.Vector(f,c,b)):k instanceof x.default.Vector?(t=this.color(u,r,p),v=k,new x.default.Vector(f,c,b)):(t=this.color(u,r,p),v=new x.default.Vector(k,f,c),b);break;case 6:k instanceof x.default.Vector&&f instanceof x.default.Vector?
(t=this.color(u,r,p),v=k,w=f,h=c):u instanceof x.default.Color&&f instanceof x.default.Vector?(t=u,v=new x.default.Vector(r,p,k),w=f,h=c):u instanceof x.default.Color&&r instanceof x.default.Vector&&(t=u,v=r,w=new x.default.Vector(p,k,f),h=c);break;case 5:u instanceof x.default.Color&&r instanceof x.default.Vector&&p instanceof x.default.Vector?(t=u,v=r,w=p,h=k,g=f):k instanceof x.default.Vector&&f instanceof x.default.Vector?(t=this.color(u,r,p),v=k,w=f):u instanceof x.default.Color&&f instanceof
x.default.Vector?(t=u,v=new x.default.Vector(r,p,k),w=f):u instanceof x.default.Color&&r instanceof x.default.Vector&&(t=u,v=r,w=new x.default.Vector(p,k,f));break;case 4:t=u;v=r;w=p;h=k;break;case 3:t=u;v=r;w=p;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(3>m?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(t._array[0],t._array[1],t._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,
this._renderer.specularColors),this._renderer.spotLightPositions.push(v.x,v.y,v.z),w.normalize(),this._renderer.spotLightDirections.push(w.x,w.y,w.z),void 0===h&&(h=Math.PI/3),void 0!==g&&1>g?(g=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===g&&(g=100),h=this._renderer._pInst._toRadians(h),this._renderer.spotLightAngle.push(Math.cos(h)),this._renderer.spotLightConc.push(g),this._renderer._enableLighting=!0,this};x.default.prototype.noLights=function(){this._assert3d("noLights");
for(var u=arguments.length,r=Array(u),p=0;p<u;p++)r[p]=arguments[p];return x.default._validateParameters("noLights",r),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=
0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this};a=x.default;q.default=
a},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(a,G,q){function x(h){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function u(h){if(!(h=function(g){if(Array.isArray(g)){for(var m=0,t=Array(g.length);m<g.length;m++)t[m]=g[m];return t}}(h)||function(g){if(Symbol.iterator in Object(g)||"[object Arguments]"===
Object.prototype.toString.call(g))return Array.from(g)}(h)))throw new TypeError("Invalid attempt to spread non-iterable instance");return h}function r(h,g,m,t,v,w,z){try{var y=h[w](z),F=y.value}catch(D){return void m(D)}y.done?g(F):Promise.resolve(F).then(t,v)}function p(h){return function(){var g=this,m=arguments;return new Promise(function(t,v){function w(F){r(y,t,v,w,z,"next",F)}function z(F){r(y,t,v,w,z,"throw",F)}var y=h.apply(g,m);w(void 0)})}}function k(h){return(k="function"==typeof Symbol&&
"symbol"===x(Symbol.iterator)?function(g){return x(g)}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":x(g)})(h)}function f(h,g,m){for(var t=2<arguments.length&&void 0!==m?m:{},v={v:[],vt:[],vn:[]},w={},z=null,y=new Set,F=!1,D=!1,C=0;C<g.length;++C){var N=g[C].trim().split(/\b\s+/);if(0<N.length)if("usemtl"===N[0])z=N[1];else if("v"===N[0]||"vn"===N[0]){var J=new b.default.Vector(parseFloat(N[1]),parseFloat(N[2]),parseFloat(N[3]));v[N[0]].push(J)}else if("vt"===
N[0])J=[parseFloat(N[1]),1-parseFloat(N[2])],v[N[0]].push(J);else if("f"===N[0])for(J=3;J<N.length;++J){for(var E=[],M=[1,J-1,J],Q=0;Q<M.length;++Q){for(var V,W=N[M[Q]],R=W.split("/"),S=0;S<R.length;S++)R[S]=parseInt(R[S])-1;w[W]||(w[W]={});void 0===w[W][z]?(V=h.vertices.length,h.vertices.push(v.v[R[0]].copy()),h.uvs.push(v.vt[R[1]]?v.vt[R[1]].slice():[0,0]),h.vertexNormals.push(v.vn[R[2]]?v.vn[R[2]].copy():new b.default.Vector),w[W][z]=V,E.push(V),z&&t[z]&&t[z].diffuseColor&&y.add(v.v[R[0]])):E.push(w[W][z])}if(E[0]!==
E[1]&&E[0]!==E[2]&&E[1]!==E[2])if(h.faces.push(E),z&&t[z]&&t[z].diffuseColor)for(F=F=!0,M=t[z].diffuseColor,Q=0;Q<E.length;Q++)h.vertexColors.push(M[0]),h.vertexColors.push(M[1]),h.vertexColors.push(M[2]);else D=!0}}if(0===h.vertexNormals.length&&h.computeNormals(),F===D)throw Error("Model coloring is inconsistent. Either all vertices should have colors or none should.");}function c(h,g){a:{var m=new DataView(g);for(var t=[115,111,108,105,100],v=0;5>v;v++){b:{var w=t;for(var z=m,y=v,F=0,D=w.length;F<
D;F++)if(w[F]!==z.getUint8(y+F,!1)){w=void 0;break b}w=1}if(w){m=void 0;break a}}m=1}if(m){var C,N,J,E,M,Q,V;g=new DataView(g);m=g.getUint32(80,!0);t=!1;for(v=0;70>v;v++)1129270351===g.getUint32(v,!1)&&82===g.getUint8(v+4)&&61===g.getUint8(v+5)&&(t=!0,E=[],M=g.getUint8(v+6)/255,Q=g.getUint8(v+7)/255,V=g.getUint8(v+8)/255);for(v=0;v<m;v++){var W;w=84+50*v;y=g.getFloat32(w,!0);F=g.getFloat32(4+w,!0);D=g.getFloat32(8+w,!0);z=(t&&(W=g.getUint16(48+w,!0),J=0==(32768&W)?(C=(31&W)/31,N=(W>>5&31)/31,(W>>
10&31)/31):(C=M,N=Q,V)),new b.default.Vector(y,F,D));for(y=1;3>=y;y++)F=w+12*y,F=new b.default.Vector(g.getFloat32(F,!0),g.getFloat32(4+F,!0),g.getFloat32(8+F,!0)),h.vertices.push(F),h.vertexNormals.push(z),t&&E.push(C,N,J);h.faces.push([3*v,3*v+1,3*v+2]);h.uvs.push([0,0],[0,0],[0,0])}}else if(g=new DataView(g),"TextDecoder"in window)for(C=(new TextDecoder("utf-8")).decode(g).split("\n"),E="",N=[],J=0;J<C.length;++J){M=C[J].trim();Q=M.split(" ");for(V=0;V<Q.length;++V)""===Q[V]&&Q.splice(V,1);if(0!==
Q.length)switch(E){case "":if("solid"!==Q[0])return void(console.error(M),console.error('Invalid state "'.concat(Q[0],'", should be "solid"')));E="solid";break;case "solid":if("facet"!==Q[0]||"normal"!==Q[1])return void(console.error(M),console.error('Invalid state "'.concat(Q[0],'", should be "facet normal"')));E=new b.default.Vector(parseFloat(Q[2]),parseFloat(Q[3]),parseFloat(Q[4]));h.vertexNormals.push(E,E,E);E="facet normal";break;case "facet normal":if("outer"!==Q[0]||"loop"!==Q[1])return void(console.error(M),
console.error('Invalid state "'.concat(Q[0],'", should be "outer loop"')));E="vertex";break;case "vertex":if("vertex"===Q[0])M=new b.default.Vector(parseFloat(Q[1]),parseFloat(Q[2]),parseFloat(Q[3])),h.vertices.push(M),h.uvs.push([0,0]),N.push(h.vertices.indexOf(M));else{if("endloop"!==Q[0])return void(console.error(M),console.error('Invalid state "'.concat(Q[0],'", should be "vertex" or "endloop"')));h.faces.push(N);N=[];E="endloop"}break;case "endloop":if("endfacet"!==Q[0])return void(console.error(M),
console.error('Invalid state "'.concat(Q[0],'", should be "endfacet"')));E="endfacet";break;case "endfacet":if("endsolid"!==Q[0]){if("facet"!==Q[0]||"normal"!==Q[1])return void(console.error(M),console.error('Invalid state "'.concat(Q[0],'", should be "endsolid" or "facet normal"')));E=new b.default.Vector(parseFloat(Q[2]),parseFloat(Q[3]),parseFloat(Q[4]));h.vertexNormals.push(E,E,E);E="facet normal"}break;default:console.error('Invalid state "'.concat(E,'"'))}}else console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat\x3dtextencoder)")}
a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.from");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.regexp.exec");
a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.set");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.match");a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");
a("core-js/modules/es.array.slice");a("core-js/modules/es.array.splice");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.to-string");a("core-js/modules/es.promise");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.set");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.match");a("core-js/modules/es.string.split");a("core-js/modules/es.string.trim");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=
void 0;a("regenerator-runtime/runtime");var b=(l=a("../core/main"))&&l.__esModule?l:{default:l};a("./p5.Geometry");b.default.prototype.loadModel=function(h,g){function m(){return(m=p(regeneratorRuntime.mark(function M(E){var Q,V,W,R;return regeneratorRuntime.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:Q=[];for(V=0;V<E.length;V++)(W=E[V].match(/^mtllib (.+)/))&&!function(){var K="",O=W[1],I=h.split("/");K=1<I.length?(I.pop(),I.join("/")+"/"+O):O;Q.push(function(){return t.apply(this,arguments)}(K).then(function(P){var X,
ca;return P?(ca=N,X=K,new Promise(function(ia,da){var ba=null,ja={};ca.loadStrings(X,function(qa){for(var fa=0;fa<qa.length;++fa){var ma,sa=qa[fa].trim().split(/\s+/);"newmtl"===sa[0]?(ma=sa[1],ja[ba=ma]={}):"Kd"===sa[0]?ja[ba].diffuseColor=[parseFloat(sa[1]),parseFloat(sa[2]),parseFloat(sa[3])]:"Ka"===sa[0]?ja[ba].ambientColor=[parseFloat(sa[1]),parseFloat(sa[2]),parseFloat(sa[3])]:"Ks"===sa[0]?ja[ba].specularColor=[parseFloat(sa[1]),parseFloat(sa[2]),parseFloat(sa[3])]:"map_Kd"===sa[0]&&(ja[ba].texturePath=
sa[1])}ia(ja)},da)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(K)),{})}).catch(function(P){return console.warn("Error loading MTL file: ".concat(K),P),{}}))}();return S.prev=2,S.next=5,Promise.all(Q);case 5:return R=S.sent,R=Object.assign.apply(Object,[{}].concat(u(R))),S.abrupt("return",R);case 10:return S.prev=10,S.t0=S.catch(2),S.abrupt("return",{});case 13:case "end":return S.stop()}},M,null,[[2,10]])}))).apply(this,arguments)}function t(){return(t=
p(regeneratorRuntime.mark(function M(E){var Q;return regeneratorRuntime.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.prev=0,V.next=3,fetch(E,{method:"HEAD"});case 3:return Q=V.sent,V.abrupt("return",Q.ok);case 7:return V.prev=7,V.t0=V.catch(0),V.abrupt("return",!1);case 10:case "end":return V.stop()}},M,null,[[0,7]])}))).apply(this,arguments)}b.default._validateParameters("loadModel",arguments);var v,w,z=!1,y=!1,F=!1,D=h.slice(-4),C=(g&&"object"===k(g)?(z=g.normalize||!1,v=g.successCallback,
w=g.failureCallback,D=g.fileType||D,y=g.flipU||!1,F=g.flipV||!1):"boolean"==typeof g?(z=g,v=arguments[2],w=arguments[3],void 0!==arguments[4]&&(D=arguments[4])):(v="function"==typeof g?g:void 0,w=arguments[2],void 0!==arguments[3]&&(D=arguments[3])),new b.default.Geometry),N=(C.gid="".concat(h,"|").concat(z),this);return D.match(/\.stl$/i)?this.httpDo(h,"GET","arrayBuffer",function(J){c(C,J);z&&C.normalize();y&&C.flipU();F&&C.flipV();N._decrementPreload();"function"==typeof v&&v(C)},w):D.match(/\.obj$/i)?
this.loadStrings(h,function(){var J=p(regeneratorRuntime.mark(function Q(M){var V;return regeneratorRuntime.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.prev=0,W.next=3,function(){return m.apply(this,arguments)}(M);case 3:V=W.sent;f(C,M,V);W.next=11;break;case 7:return W.prev=7,W.t0=W.catch(0),w?w(W.t0):b.default._friendlyError("Error during parsing: "+W.t0.message),W.abrupt("return");case 11:return W.prev=11,z&&C.normalize(),y&&C.flipU(),F&&C.flipV(),C._makeTriangleEdges(),N._decrementPreload(),
"function"==typeof v&&v(C),W.finish(11);case 19:case "end":return W.stop()}},Q,null,[[0,7,11,19]])}));return function(M){return J.apply(this,arguments)}}(),w):(b.default._friendlyFileLoadError(3,h),w?w():b.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),C};b.default.prototype.model=function(h){this._assert3d("model");b.default._validateParameters("model",arguments);0<h.vertices.length&&(this._renderer.geometryInHash(h.gid)||(h._edgesToVertices(),this._renderer.createBuffers(h.gid,
h)),this._renderer.drawBuffers(h.gid))};var d=0,l=(b.default.prototype.createModel=function(h){var g,m,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:" ",v=2<arguments.length?arguments[2]:void 0,w=(b.default._validateParameters("createModel",arguments),!1),z=!1,y=!1;v=(v&&"object"===k(v)?(w=v.normalize||!1,g=v.successCallback,m=v.failureCallback,z=v.flipU||!1,y=v.flipV||!1):m="boolean"==typeof v?(w=v,g=arguments[3],arguments[4]):(g="function"==typeof arguments[2]?arguments[2]:void 0,arguments[3]),
new b.default.Geometry);if(v.gid="".concat(t,"|").concat(w,"|").concat(d++),t.match(/\.stl$/i))try{c(v,(new TextEncoder).encode(h).buffer)}catch(F){return void(m?m(F):b.default._friendlyError("Error during parsing: "+F.message))}else if(t.match(/\.obj$/i))try{f(v,h.split("\n"))}catch(F){return void(m?m(F):b.default._friendlyError("Error during parsing: "+F.message))}else b.default._friendlyFileLoadError(3,h),m?m():b.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");
return w&&v.normalize(),z&&v.flipU(),y&&v.flipV(),v._makeTriangleEdges(),"function"==typeof g&&g(v),v},b.default);q.default=l},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,
"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(a,
G,q){function x(c){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(c)}function u(c){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(b){return x(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":x(b)})(c)}function r(){var c;return"function"!=typeof WeakMap?
null:(c=new WeakMap,r=function(){return c},c)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.join");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var p=(f=a("../core/main"))&&f.__esModule?
f:{default:f},k=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==u(c)&&"function"!=typeof c)return{default:c};var b=r();if(b&&b.has(c))return b.get(c);var d,l={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in c){var g;Object.prototype.hasOwnProperty.call(c,d)&&((g=h?Object.getOwnPropertyDescriptor(c,d):null)&&(g.get||g.set)?Object.defineProperty(l,d,g):l[d]=c[d])}l.default=c;b&&b.set(c,l);return l}(a("../core/constants"));a("./p5.Texture");p.default.prototype.loadShader=
function(c,b,d,l){p.default._validateParameters("loadShader",arguments);l=l||console.error;var h=new p.default.Shader,g=this,m=!1,t=!1;return this.loadStrings(c,function(v){h._vertSrc=v.join("\n");t=!0;m&&(g._decrementPreload(),d&&d(h))},l),this.loadStrings(b,function(v){h._fragSrc=v.join("\n");m=!0;t&&(g._decrementPreload(),d&&d(h))},l),h};p.default.prototype.createShader=function(c,b,d){return p.default._validateParameters("createShader",arguments),new p.default.Shader(this._renderer,c,b,d)};p.default.prototype.createFilterShader=
function(c){p.default._validateParameters("createFilterShader",arguments);var b=c.includes("#version 300 es")?"#version 300 es\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    in vec3 aPosition;\n    in vec2 aTexCoord;\n    out vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord \x3d aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 \x3d vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position \x3d uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ":
"\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    attribute vec3 aPosition;\n    // texcoords only come from p5 to vertex shader\n    // so pass texcoords on to the fragment shader in a varying variable\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord \x3d aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 \x3d vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position \x3d uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ";
b=new p.default.Shader(this._renderer,b,c);return this._renderer.GL?b.ensureCompiledOnContext(this):b.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),b};p.default.prototype.shader=function(c){return this._assert3d("shader"),p.default._validateParameters("shader",arguments),c.ensureCompiledOnContext(this),c.isStrokeShader()?this._renderer.userStrokeShader=c:(this._renderer.userFillShader=c,this._renderer._useNormalMaterial=!1),c.setDefaultUniforms(),this};p.default.prototype.baseMaterialShader=
function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()};p.default.prototype.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()};p.default.prototype.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()};p.default.prototype.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()};p.default.prototype.resetShader=function(){return this._renderer.userFillShader=
this._renderer.userStrokeShader=null,this};p.default.prototype.texture=function(c){return this._assert3d("texture"),p.default._validateParameters("texture",arguments),c.gifProperties&&c._animateGif(this),this._renderer.drawMode=k.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=c,this._renderer._setProperty("_doFill",!0),this};p.default.prototype.textureMode=function(c){c!==k.IMAGE&&c!==k.NORMAL?console.warn("You tried to set ".concat(c," textureMode only supports IMAGE \x26 NORMAL ")):
this._renderer.textureMode=c};p.default.prototype.textureWrap=function(c){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c,d=(this._renderer.textureWrapX=c,this._renderer.textureWrapY=b,!0),l=!1,h=void 0;try{for(var g,m=this._renderer.textures.values()[Symbol.iterator]();!(d=(g=m.next()).done);d=!0)g.value.setWrapMode(c,b)}catch(t){l=!0,h=t}finally{try{d||null==m.return||m.return()}finally{if(l)throw h;}}};p.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");
for(var c=arguments.length,b=Array(c),d=0;d<c;d++)b[d]=arguments[d];return p.default._validateParameters("normalMaterial",b),this._renderer.drawMode=k.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this};p.default.prototype.ambientMaterial=function(c,b,d){this._assert3d("ambientMaterial");p.default._validateParameters("ambientMaterial",
arguments);var l=p.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=l._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this};p.default.prototype.emissiveMaterial=function(c,b,d,l){this._assert3d("emissiveMaterial");p.default._validateParameters("emissiveMaterial",arguments);var h=p.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=
h._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this};p.default.prototype.specularMaterial=function(c,b,d,l){this._assert3d("specularMaterial");p.default._validateParameters("specularMaterial",arguments);var h=p.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=h._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this};p.default.prototype.shininess=
function(c){return this._assert3d("shininess"),p.default._validateParameters("shininess",arguments),this._renderer._useShininess=c=1>c?1:c,this};p.default.prototype.metalness=function(c){this._assert3d("metalness");c=1-Math.exp(-c/100);return this._renderer._useMetalness=c,this};p.default.RendererGL.prototype._applyColorBlend=function(c,b){var d=this.GL,l=this.drawMode===k.TEXTURE;b=b||this.userFillShader||this.userStrokeShader||this.userPointShader||l||this.curBlendMode!==k.BLEND||1>c[c.length-1]||
this._isErasing;return b!==this._isBlending&&(b||this.curBlendMode!==k.BLEND&&this.curBlendMode!==k.ADD?d.enable(d.BLEND):d.disable(d.BLEND),d.depthMask(!0),this._isBlending=b),this._applyBlendMode(),c};p.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var c=this.GL;switch(this.curBlendMode){case k.BLEND:c.blendEquation(c.FUNC_ADD);c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case k.ADD:c.blendEquation(c.FUNC_ADD);c.blendFunc(c.ONE,c.ONE);break;
case k.REMOVE:c.blendEquation(c.FUNC_ADD);c.blendFunc(c.ZERO,c.ONE_MINUS_SRC_ALPHA);break;case k.MULTIPLY:c.blendEquation(c.FUNC_ADD);c.blendFunc(c.DST_COLOR,c.ONE_MINUS_SRC_ALPHA);break;case k.SCREEN:c.blendEquation(c.FUNC_ADD);c.blendFunc(c.ONE,c.ONE_MINUS_SRC_COLOR);break;case k.EXCLUSION:c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD);c.blendFuncSeparate(c.ONE_MINUS_DST_COLOR,c.ONE_MINUS_SRC_COLOR,c.ONE,c.ONE);break;case k.REPLACE:c.blendEquation(c.FUNC_ADD);c.blendFunc(c.ONE,c.ZERO);break;case k.SUBTRACT:c.blendEquationSeparate(c.FUNC_REVERSE_SUBTRACT,
c.FUNC_ADD);c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case k.DARKEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case k.LIGHTEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");
break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var f=p.default;q.default=f},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,
"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(a,G,q){function x(r,p){for(var k=0;k<p.length;k++){var f=p[k];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(r,f.key,f)}}a("core-js/modules/es.array.slice");a("core-js/modules/es.math.hypot");
a("core-js/modules/es.string.sub");a("core-js/modules/es.array.slice");a("core-js/modules/es.math.hypot");a("core-js/modules/es.string.sub");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var u=(a=a("../core/main"))&&a.__esModule?a:{default:a};u.default.prototype.camera=function(){var r;this._assert3d("camera");for(var p=arguments.length,k=Array(p),f=0;f<p;f++)k[f]=arguments[f];return u.default._validateParameters("camera",k),(r=this._renderer._curCamera).camera.apply(r,k),this};
u.default.prototype.perspective=function(){var r;this._assert3d("perspective");for(var p=arguments.length,k=Array(p),f=0;f<p;f++)k[f]=arguments[f];return u.default._validateParameters("perspective",k),(r=this._renderer._curCamera).perspective.apply(r,k),this};u.default.prototype.linePerspective=function(r){if(u.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof u.default.RendererGL))throw Error("linePerspective() must be called in WebGL mode.");if(void 0===r)return this._renderer._curCamera.useLinePerspective;
this._renderer._curCamera.useLinePerspective=r};u.default.prototype.ortho=function(){var r;this._assert3d("ortho");for(var p=arguments.length,k=Array(p),f=0;f<p;f++)k[f]=arguments[f];return u.default._validateParameters("ortho",k),(r=this._renderer._curCamera).ortho.apply(r,k),this};u.default.prototype.frustum=function(){var r;this._assert3d("frustum");for(var p=arguments.length,k=Array(p),f=0;f<p;f++)k[f]=arguments[f];return u.default._validateParameters("frustum",k),(r=this._renderer._curCamera).frustum.apply(r,
k),this};u.default.prototype.createCamera=function(){this._assert3d("createCamera");var r=new u.default.Camera(this._renderer);return r._computeCameraDefaultSettings(),r._setDefaultCamera(),this._renderer._curCamera=r};u.default.Camera=function(){function r(k){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this._renderer=k;this.cameraType="default";this.useLinePerspective=!0;this.cameraMatrix=new u.default.Matrix;this.projMatrix=new u.default.Matrix;this.yScale=1}
var p;return p=[{key:"perspective",value:function(k,f,c,b){this.cameraType=0<arguments.length?"custom":"default";void 0===k?(k=this.defaultCameraFOV,this.cameraFOV=k):this.cameraFOV=this._renderer._pInst._toRadians(k);void 0===f&&(f=this.defaultAspectRatio);void 0===c&&(c=this.defaultCameraNear);void 0===b&&(b=this.defaultCameraFar);1E-4>=c&&(c=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01."));b<c&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown.");
this.aspectRatio=f;this.cameraNear=c;this.cameraFar=b;this.projMatrix=u.default.Matrix.identity();k=1/Math.tan(this.cameraFOV/2);var d=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(k/f,0,0,0,0,-k*this.yScale,0,0,0,0,(b+c)*d,-1,0,0,2*b*c*d,0);this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(k,f,c,b,d,l){var h=this.fbo||this._renderer;h=(void 0===k&&(k=-h.width/2),void 0===f&&(f=+h.width/2),void 0===c&&(c=-h.height/2),void 0===b&&(b=+h.height/2),
void 0===d&&(d=0),void 0===l&&(l=Math.max(h.width,h.height)+800),this.cameraNear=d,f-k);var g=b-c,m=(this.cameraFar=l)-d,t=2/h,v=2/g*this.yScale,w=-2/m;f=-(f+k)/h;k=-(b+c)/g;h=-(l+d)/m;this.projMatrix=u.default.Matrix.identity();this.projMatrix.set(t,0,0,0,0,-v,0,0,0,0,w,0,f,k,h,1);this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix);this.cameraType="custom"}},{key:"frustum",value:function(k,f,c,b,d,l){void 0===k&&(k=.05*-this._renderer.width);void 0===f&&(f=.05*+this._renderer.width);void 0===
c&&(c=.05*+this._renderer.height);void 0===b&&(b=.05*-this._renderer.height);void 0===d&&(d=this.defaultCameraNear);void 0===l&&(l=this.defaultCameraFar);this.cameraNear=d;var h=f-k,g=b-c,m=(this.cameraFar=l)-d,t=2*d/h,v=2*d/g*this.yScale,w=-2*l*d/m;f=(f+k)/h;k=(b+c)/g;h=-(l+d)/m;this.projMatrix=u.default.Matrix.identity();this.projMatrix.set(t,0,0,0,0,-v,0,0,f,k,h,-1,0,0,w,0);this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix);this.cameraType="custom"}},{key:"_rotateView",value:function(k,
f,c,b){var d=this.centerX,l=this.centerY,h=this.centerZ,g=(d-=this.eyeX,l-=this.eyeY,h-=this.eyeZ,u.default.Matrix.identity(this._renderer._pInst));k=(g.rotate(this._renderer._pInst._toRadians(k),f,c,b),[d*g.mat4[0]+l*g.mat4[4]+h*g.mat4[8],d*g.mat4[1]+l*g.mat4[5]+h*g.mat4[9],d*g.mat4[2]+l*g.mat4[6]+h*g.mat4[10]]);f=(k[0]+=this.eyeX,k[1]+=this.eyeY,k[2]+=this.eyeZ,this.upX*g.mat4[0]+this.upY*g.mat4[4]+this.upZ*g.mat4[8]);c=this.upX*g.mat4[1]+this.upY*g.mat4[5]+this.upZ*g.mat4[9];b=this.upX*g.mat4[2]+
this.upY*g.mat4[6]+this.upZ*g.mat4[10];this.camera(this.eyeX,this.eyeY,this.eyeZ,k[0],k[1],k[2],f,c,b)}},{key:"roll",value:function(k){var f=this._getLocalAxes();k=u.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(k),f.z[0],f.z[1],f.z[2]).rotateVector(new u.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,k.x,k.y,k.z)}},{key:"pan",value:function(k){var f=this._getLocalAxes();this._rotateView(k,f.y[0],f.y[1],f.y[2])}},
{key:"tilt",value:function(k){var f=this._getLocalAxes();this._rotateView(k,f.x[0],f.x[1],f.x[2])}},{key:"lookAt",value:function(k,f,c){this.camera(this.eyeX,this.eyeY,this.eyeZ,k,f,c,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(k,f,c,b,d,l,h,g,m){void 0===k&&(k=this.defaultEyeX,f=this.defaultEyeY,c=this.defaultEyeZ,b=k,d=f,g=1,m=h=l=0);this.eyeX=k;this.eyeY=f;this.eyeZ=c;void 0!==b&&(this.centerX=b,this.centerY=d,this.centerZ=l);void 0!==h&&(this.upX=h,this.upY=g,this.upZ=m);b=this._getLocalAxes();
this.cameraMatrix.set(b.x[0],b.y[0],b.z[0],0,b.x[1],b.y[1],b.z[1],0,b.x[2],b.y[2],b.z[2],0,0,0,0,1);return this.cameraMatrix.translate([-k,-f,-c]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(k,f,c){var b=this._getLocalAxes();k=[b.x[0]*k,b.x[1]*k,b.x[2]*k];f=[b.y[0]*f,b.y[1]*f,b.y[2]*f];b=[b.z[0]*c,b.z[1]*c,b.z[2]*c];this.camera(this.eyeX+k[0]+f[0]+b[0],this.eyeY+k[1]+f[1]+b[1],this.eyeZ+k[2]+f[2]+b[2],this.centerX+k[0]+f[0]+b[0],this.centerY+
k[1]+f[1]+b[1],this.centerZ+k[2]+f[2]+b[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(k,f,c){this.camera(k,f,c,this.centerX+(k-this.eyeX),this.centerY+(f-this.eyeY),this.centerZ+(c-this.eyeZ),this.upX,this.upY,this.upZ)}},{key:"set",value:function(k){for(var f=0,c="eyeX eyeY eyeZ centerX centerY centerZ upX upY upZ cameraFOV aspectRatio cameraNear cameraFar cameraType yScale useLinePerspective".split(" ");f<c.length;f++){var b=c[f];this[b]=k[b]}this.cameraMatrix=k.cameraMatrix.copy();
this.projMatrix=k.projMatrix.copy();this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(k,f,c){var b,d,l,h,g,m,t,v,w,z,y,F,D,C,N,J,E,M;0===c?this.set(k):1===c?this.set(f):(0!==this.projMatrix.mat4[15]&&(this.projMatrix.mat4[0]=k.projMatrix.mat4[0]*Math.pow(f.projMatrix.mat4[0]/k.projMatrix.mat4[0],c),this.projMatrix.mat4[5]=k.projMatrix.mat4[5]*Math.pow(f.projMatrix.mat4[5]/
k.projMatrix.mat4[5],c),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),h=new u.default.Vector(k.eyeX,k.eyeY,k.eyeZ),g=new u.default.Vector(f.eyeX,f.eyeY,f.eyeZ),J=new u.default.Vector(k.centerX,k.centerY,k.centerZ),M=new u.default.Vector(f.centerX,f.centerY,f.centerZ),l=u.default.Vector.dist(h,J),b=u.default.Vector.dist(g,M),b=l*Math.pow(b/l,c),l=u.default.Vector.sub(h,g),d=1,1E-6<(E=(C=h.copy().sub(g).sub(J).add(M)).magSq())&&(d=u.default.Vector.dot(l,C)/E,d=Math.max(0,
Math.min(d,1))),l=u.default.Vector.lerp(u.default.Vector.lerp(h,J,d),u.default.Vector.lerp(g,M,d),c),C=k.cameraMatrix.createSubMatrix3x3(),E=f.cameraMatrix.createSubMatrix3x3(),h=C.row(2),J=E.row(2),g=C.row(1),M=E.row(1),k=new u.default.Vector,f=new u.default.Vector,m=new u.default.Vector,t=new u.default.Vector,1E-7>1-(v=.5*((C=(E=E.mult3x3(C.copy().transpose3x3())).diagonal())[0]+C[1]+C[2]-1))?(k.set(u.default.Vector.lerp(h,J,c)).normalize(),m.set(k).mult(d*b).add(l),t.set(k).mult((d-1)*b).add(l),
f.set(u.default.Vector.lerp(g,M,c)).normalize()):(J=1/(1-v),M=Math.max(C[0],C[1],C[2]),F=E.mat3[1]+E.mat3[3],D=E.mat3[2]+E.mat3[6],N=E.mat3[5]+E.mat3[7],M=M===C[0]?(z=.5*F*(J/=w=Math.sqrt((C[0]-v)*J)),y=.5*D*J,.5*(E.mat3[7]-E.mat3[5])/w):M===C[1]?(y=.5*N*(J/=z=Math.sqrt((C[1]-v)*J)),w=.5*F*J,.5*(E.mat3[2]-E.mat3[6])/z):(w=.5*D*(J/=y=Math.sqrt((C[2]-v)*J)),z=.5*N*J,.5*(E.mat3[3]-E.mat3[1])/y),F=c*Math.atan2(M,v),D=Math.cos(F),C=Math.sin(F),(M=new u.default.Matrix("mat3",[D+(N=1-D)*w*w,N*(J=w*z)+C*
y,N*(E=y*w)-C*z,N*J-C*y,D+N*z*z,N*(c=z*y)+C*w,N*E+C*z,N*c-C*w,D+N*y*y])).multiplyVec3(h,k),m.set(k).mult(d*b).add(l),t.set(k).mult((d-1)*b).add(l),M.multiplyVec3(g,f)),this.camera(m.x,m.y,m.z,t.x,t.y,t.z,f.x,f.y,f.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height;this.defaultEyeY=this.defaultEyeX=0;this.defaultEyeZ=800;this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ);this.defaultCenterZ=this.defaultCenterY=
this.defaultCenterX=0;this.defaultCameraNear=.1*this.defaultEyeZ;this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV;this.aspectRatio=this.defaultAspectRatio;this.eyeX=this.defaultEyeX;this.eyeY=this.defaultEyeY;this.eyeZ=this.defaultEyeZ;this.centerX=this.defaultCenterX;this.centerY=this.defaultCenterY;this.centerZ=this.defaultCenterZ;this.upX=0;this.upY=1;this.upZ=0;this.cameraNear=this.defaultCameraNear;this.cameraFar=this.defaultCameraFar;
this.perspective();this.camera();this.cameraType="default"}},{key:"_resize",value:function(){"default"===this.cameraType&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var k=new u.default.Camera(this._renderer);return k.cameraFOV=this.cameraFOV,k.aspectRatio=this.aspectRatio,k.eyeX=this.eyeX,k.eyeY=this.eyeY,k.eyeZ=this.eyeZ,k.centerX=this.centerX,k.centerY=this.centerY,k.centerZ=
this.centerZ,k.upX=this.upX,k.upY=this.upY,k.upZ=this.upZ,k.cameraNear=this.cameraNear,k.cameraFar=this.cameraFar,k.cameraType=this.cameraType,k.useLinePerspective=this.useLinePerspective,k.cameraMatrix=this.cameraMatrix.copy(),k.projMatrix=this.projMatrix.copy(),k.yScale=this.yScale,k}},{key:"_getLocalAxes",value:function(){var k=this.eyeX-this.centerX,f=this.eyeY-this.centerY,c=this.eyeZ-this.centerZ,b=Math.sqrt(k*k+f*f+c*c);b=(0!==b&&(k/=b,f/=b,c/=b),this.upX);var d=(g=this.upY)*c-(m=this.upZ)*
f,l=-b*c+m*k,h=b*f-g*k;b=f*h-c*l;var g=-k*h+c*d,m=k*l-f*d,t=Math.sqrt(d*d+l*l+h*h);t=(0!==t&&(d/=t,l/=t,h/=t),Math.sqrt(b*b+g*g+m*m));return 0!==t&&(b/=t,g/=t,m/=t),{x:[d,l,h],y:[b,g,m],z:[k,f,c]}}},{key:"_orbit",value:function(k,f,c){var b=this.eyeX-this.centerX,d=this.eyeY-this.centerY,l=this.eyeZ-this.centerZ,h=Math.hypot(b,d,l);b=(new u.default.Vector(b,d,l)).normalize();d=(new u.default.Vector(this.upX,this.upY,this.upZ)).normalize();l=u.default.Vector.cross(d,b).normalize();var g=u.default.Vector.cross(l,
d);c=((h=(h*=Math.pow(10,c))<this.cameraNear?this.cameraNear:h)>this.cameraFar&&(h=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,u.default.Vector.dot(b,d))))+f);f=k;(0>=c||c>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1);d.mult(Math.cos(c));g.mult(Math.cos(f)*Math.sin(c));l.mult(Math.sin(f)*Math.sin(c));b.set(d).add(g).add(l);this.eyeX=h*b.x+this.centerX;this.eyeY=h*b.y+this.centerY;this.eyeZ=h*b.z+this.centerZ;this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,
this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(k,f,c){var b=this.eyeX-this.centerX,d=this.eyeY-this.centerY,l=this.eyeZ-this.centerZ,h=Math.hypot(b,d,l);b=(new u.default.Vector(b,d,l)).normalize();d=new u.default.Vector(this.upX,this.upY,this.upZ);l=u.default.Vector.cross(d,b).normalize();var g=u.default.Vector.cross(b,l),m=Math.atan2(f,k);m=(g.mult(Math.sin(m)),l.mult(Math.cos(m)).add(g),Math.sqrt(k*k+f*f));g=u.default.Vector.cross(b,l);k=((h=(h*=Math.pow(10,c))<this.cameraNear?this.cameraNear:
h)>this.cameraFar&&(h=this.cameraFar),Math.cos(m));f=Math.sin(m);c=d.dot(b);m=d.dot(l);var t=c*k+m*f;c=-c*f+m*k;m=d.dot(g);d.x=t*b.x+c*l.x+m*g.x;d.y=t*b.y+c*l.y+m*g.y;d.z=t*b.z+c*l.z+m*g.z;l.mult(-f);b.mult(k).add(l).mult(h);this.camera(b.x+this.centerX,b.y+this.centerY,b.z+this.centerZ,this.centerX,this.centerY,this.centerZ,d.x,d.y,d.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}],x(r.prototype,p),r}();u.default.prototype.setCamera=function(r){this._renderer._curCamera=
r;this._renderer.uPMatrix.set(r.projMatrix);this._renderer.uViewMatrix.set(r.cameraMatrix)};a=u.default.Camera;q.default=a},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(a,G,q){function x(u,r){for(var p=0;p<r.length;p++){var k=r[p];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(u,k.key,k)}}a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");
a("core-js/modules/es.math.log2");a("core-js/modules/es.object.to-string");a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");
a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");
a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.math.log2");a("core-js/modules/es.object.to-string");a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");
a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");
a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};a.default.DataArray=function(){function u(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:128;if(!(this instanceof
u))throw new TypeError("Cannot call a class as a function");this.length=0;this.data=new Float32Array(p);this.initialLength=p}var r;return r=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var p;this.length<this.data.length/2&&(p=1<<Math.ceil(Math.log2(this.length)),(p=new Float32Array(p)).set(this.data.subarray(0,this.length),0),this.data=p)}},{key:"reset",value:function(){this.clear();this.data=
new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var p=arguments.length,k=Array(p),f=0;f<p;f++)k[f]=arguments[f];this.ensureLength(this.length+k.length);this.data.set(k,this.length);this.length+=k.length}},{key:"slice",value:function(p,k){return this.data.slice(p,Math.min(k,this.length))}},{key:"subArray",value:function(p,k){return this.data.subarray(p,Math.min(k,this.length))}},{key:"ensureLength",value:function(p){for(;this.data.length<p;){var k=new Float32Array(2*this.data.length);
k.set(this.data,0);this.data=k}}}],x(u.prototype,r),u}();a=a.default.DataArray;q.default=a},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,
"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,
"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(a,G,q){function x(D){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===
Symbol&&C!==Symbol.prototype?"symbol":typeof C})(D)}function u(D){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(C){return x(C)}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":x(C)})(D)}function r(){var D;return"function"!=typeof WeakMap?null:(D=new WeakMap,r=function(){return D},D)}function p(D,C){if(!(D=function(N){if(Array.isArray(N))return N}(D)||function(N,J){if(Symbol.iterator in Object(N)||"[object Arguments]"===
Object.prototype.toString.call(N)){var E=[],M=!0,Q=!1,V=void 0;try{for(var W,R=N[Symbol.iterator]();!(M=(W=R.next()).done)&&(E.push(W.value),!J||E.length!==J);M=!0);}catch(S){Q=!0,V=S}finally{try{M||null==R.return||R.return()}finally{if(Q)throw V;}}return E}}(D,C)))throw new TypeError("Invalid attempt to destructure non-iterable instance");return D}function k(D,C,N){return C in D?Object.defineProperty(D,C,{value:N,enumerable:!0,configurable:!0,writable:!0}):D[C]=N,D}function f(D,C){if(!(D instanceof
C))throw new TypeError("Cannot call a class as a function");}function c(D,C){for(var N=0;N<C.length;N++){var J=C[N];J.enumerable=J.enumerable||!1;J.configurable=!0;"value"in J&&(J.writable=!0);Object.defineProperty(D,J.key,J)}}function b(D,C,N){C&&c(D.prototype,C);N&&c(D,N)}function d(D,C,N){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(J,E,M){for(;!Object.prototype.hasOwnProperty.call(J,E)&&null!==(J=g(J)););if(J)return(J=Object.getOwnPropertyDescriptor(J,E)).get?J.get.call(M):
J.value})(D,C,N||D)}function l(D,C){return(l=Object.setPrototypeOf||function(N,J){return N.__proto__=J,N})(D,C)}function h(D){return function(){var C,N=g(D);N=(C=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(J){}}}()?(C=g(this).constructor,Reflect.construct(N,arguments,C)):N.apply(this,arguments),this);if(!C||"object"!==u(C)&&"function"!=
typeof C){if(void 0!==N)return N;throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return C}}function g(D){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(D)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");
a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.reflect.get");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.uint8-clamped-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");
a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");
a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.array.fill");
a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.includes");a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.uint8-clamped-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");
a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");
a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var m=(F=a("../core/main"))&&F.__esModule?F:{default:F},t=function(D){if(D&&D.__esModule)return D;if(null===D||"object"!==u(D)&&
"function"!=typeof D)return{default:D};var C=r();if(C&&C.has(D))return C.get(D);var N,J={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in D){var M;Object.prototype.hasOwnProperty.call(D,N)&&((M=E?Object.getOwnPropertyDescriptor(D,N):null)&&(M.get||M.set)?Object.defineProperty(J,N,M):J[N]=D[N])}J.default=D;C&&C.set(D,J);return J}(a("../core/constants")),v=a("./p5.Texture"),w=a("./p5.RendererGL"),z=function(D){function C(J){var E;return f(this,C),(E=N.call(this,J.target._renderer)).fbo=
J,E.yScale=-1,E}if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(D&&D.prototype,{constructor:{value:C,writable:!0,configurable:!0}});D&&l(C,D);var N=h(C);return b(C,[{key:"_computeCameraDefaultSettings",value:function(){d(g(C.prototype),"_computeCameraDefaultSettings",this).call(this);this.defaultAspectRatio=this.fbo.width/this.fbo.height;this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),C}(m.default.Camera),
y=(m.default.FramebufferCamera=z,function(){function D(C,N){f(this,D);this.framebuffer=C;this.property=N}return b(D,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),D}()),F=(m.default.FramebufferTexture=y,function(){function D(C){var N=this,J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},
E=(f(this,D),this.target=C,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=J.format||t.UNSIGNED_BYTE,this.channels=J.channels||(C._renderer._pInst._glAttributes.alpha?t.RGBA:t.RGB),this.useDepth=void 0===J.depth||J.depth,this.depthFormat=J.depthFormat||t.FLOAT,this.textureFiltering=J.textureFiltering||t.LINEAR,void 0===J.antialias?this.antialiasSamples=C._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof J.antialias?this.antialiasSamples=J.antialias:
this.antialiasSamples=J.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&C.webglVersion!==t.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=J.density||C.pixelDensity(),C._renderer.GL);if(this.gl=E,J.width&&J.height?(M=C._renderer._adjustDimensions(J.width,J.height),this.width=M.adjustedWidth,this.height=M.adjustedHeight,this._autoSized=!1):(void 0===J.width!=(void 0===J.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),
this.width=C.width,this.height=C.height,this._autoSized=!0),this._checkIfFormatsAvailable(),J.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(void 0===J.stencil||J.stencil),this.framebuffer=E.createFramebuffer(),!this.framebuffer)throw Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=E.createFramebuffer(),!this.aaFramebuffer))throw Error("Unable to create a framebuffer for antialiasing");
this._recreateTextures();var M=this.target._renderer._curCamera;this.defaultCamera=this.createCamera();this.filterCamera=this.createCamera();this.target._renderer._curCamera=M;this.draw(function(){return N.target.clear()})}return b(D,[{key:"resize",value:function(C,N){this._autoSized=!1;N=this.target._renderer._adjustDimensions(C,N);C=N.adjustedWidth;N=N.adjustedHeight;this.width=C;this.height=N;this._handleResize()}},{key:"pixelDensity",value:function(C){if(!C)return this.density;this._autoSized=
!1;this.density=C;this._handleResize()}},{key:"autoSized",value:function(C){if(void 0===C)return this._autoSized;this._autoSized=C;this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var C=this.gl;C=(this.useDepth&&this.target.webglVersion===t.WEBGL&&!C.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===t.WEBGL&&this.depthFormat===
t.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=t.UNSIGNED_INT),[t.UNSIGNED_BYTE,t.FLOAT,t.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=t.UNSIGNED_BYTE),this.useDepth&&![t.UNSIGNED_INT,t.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),
this.depthFormat=t.FLOAT),(0,v.checkWebGLCapabilities)(this.target._renderer));C.float||this.format!==t.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=t.UNSIGNED_BYTE);this.useDepth&&!C.float&&this.depthFormat===t.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=t.UNSIGNED_INT);C.halfFloat||this.format!==t.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),
this.format=t.UNSIGNED_BYTE);this.channels===t.RGB&&[t.FLOAT,t.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=t.RGBA)}},{key:"_recreateTextures",value:function(){var C=this.gl,N=(this._updateSize(),C.getParameter(C.TEXTURE_BINDING_2D)),J=C.getParameter(C.FRAMEBUFFER_BINDING),E=C.createTexture();if(!E)throw Error("Unable to create color texture");C.bindTexture(C.TEXTURE_2D,E);var M=
this._glColorFormat();if(C.texImage2D(C.TEXTURE_2D,0,M.internalFormat,this.width*this.density,this.height*this.density,0,M.format,M.type,null),this.colorTexture=E,C.bindFramebuffer(C.FRAMEBUFFER,this.framebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,E,0),this.useDepth){E=C.createTexture();if(!E)throw Error("Unable to create depth texture");var Q=this._glDepthFormat();C.bindTexture(C.TEXTURE_2D,E);C.texImage2D(C.TEXTURE_2D,0,Q.internalFormat,this.width*this.density,
this.height*this.density,0,Q.format,Q.type,null);C.framebufferTexture2D(C.FRAMEBUFFER,this.useStencil?C.DEPTH_STENCIL_ATTACHMENT:C.DEPTH_ATTACHMENT,C.TEXTURE_2D,E,0);this.depthTexture=E}this.antialias&&(this.colorRenderbuffer=C.createRenderbuffer(),C.bindRenderbuffer(C.RENDERBUFFER,this.colorRenderbuffer),C.renderbufferStorageMultisample(C.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,C.getParameter(C.MAX_SAMPLES))),M.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&
(Q=this._glDepthFormat(),this.depthRenderbuffer=C.createRenderbuffer(),C.bindRenderbuffer(C.RENDERBUFFER,this.depthRenderbuffer),C.renderbufferStorageMultisample(C.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,C.getParameter(C.MAX_SAMPLES))),Q.internalFormat,this.width*this.density,this.height*this.density)),C.bindFramebuffer(C.FRAMEBUFFER,this.aaFramebuffer),C.framebufferRenderbuffer(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&C.framebufferRenderbuffer(C.FRAMEBUFFER,
this.useStencil?C.DEPTH_STENCIL_ATTACHMENT:C.DEPTH_ATTACHMENT,C.RENDERBUFFER,this.depthRenderbuffer));this.useDepth&&(this.depth=new y(this,"depthTexture"),E=C.NEAREST,this.depthP5Texture=new m.default.Texture(this.target._renderer,this.depth,{minFilter:E,magFilter:E}),this.target._renderer.textures.set(this.depth,this.depthP5Texture));this.color=new y(this,"colorTexture");M=this.textureFiltering===t.LINEAR?C.LINEAR:C.NEAREST;this.colorP5Texture=new m.default.Texture(this.target._renderer,this.color,
{minFilter:M,magFilter:M});this.target._renderer.textures.set(this.color,this.colorP5Texture);C.bindTexture(C.TEXTURE_2D,N);C.bindFramebuffer(C.FRAMEBUFFER,J)}},{key:"_glColorFormat",value:function(){var C,N,J=this.gl,E=this.format===t.FLOAT?J.FLOAT:this.format===t.HALF_FLOAT?this.target.webglVersion===t.WEBGL2?J.HALF_FLOAT:J.getExtension("OES_texture_half_float").HALF_FLOAT_OES:J.UNSIGNED_BYTE,M=this.channels===t.RGBA?J.RGBA:J.RGB;return{internalFormat:this.target.webglVersion===t.WEBGL2?(k(N={},
J.FLOAT,k({},J.RGBA,J.RGBA32F)),k(N,J.HALF_FLOAT,k({},J.RGBA,J.RGBA16F)),k(N,J.UNSIGNED_BYTE,(k(C={},J.RGBA,J.RGBA8),k(C,J.RGB,J.RGB8),C)),N[E][M]):this.format===t.HALF_FLOAT?J.RGBA:M,format:M,type:E}}},{key:"_glDepthFormat",value:function(){var C=this.gl,N=this.useStencil?this.depthFormat===t.FLOAT?C.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===t.WEBGL2?C.UNSIGNED_INT_24_8:C.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===t.FLOAT?C.FLOAT:C.UNSIGNED_INT,
J=this.useStencil?C.DEPTH_STENCIL:C.DEPTH_COMPONENT;C=this.useStencil?this.depthFormat===t.FLOAT?C.DEPTH32F_STENCIL8:this.target.webglVersion===t.WEBGL2?C.DEPTH24_STENCIL8:C.DEPTH_STENCIL:this.target.webglVersion===t.WEBGL2?this.depthFormat===t.FLOAT?C.DEPTH_COMPONENT32F:C.DEPTH_COMPONENT24:C.DEPTH_COMPONENT;return{internalFormat:C,format:J,type:N}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},
{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var C=this.color,N=this.depth,J=this.colorRenderbuffer,E=this.depthRenderbuffer;C=(this._deleteTexture(C),N&&this._deleteTexture(N),this.gl);J&&C.deleteRenderbuffer(J);E&&C.deleteRenderbuffer(E);this._recreateTextures();this.defaultCamera._resize()}},{key:"createCamera",value:function(){var C=new z(this);return C._computeCameraDefaultSettings(),C._setDefaultCamera(),this.target._renderer._curCamera=
C}},{key:"_deleteTexture",value:function(C){this.gl.deleteTexture(C.rawTexture());this.target._renderer.textures.delete(C)}},{key:"remove",value:function(){var C=this.gl;this._deleteTexture(this.color);this.depth&&this._deleteTexture(this.depth);C.deleteFramebuffer(this.framebuffer);this.aaFramebuffer&&C.deleteFramebuffer(this.aaFramebuffer);this.depthRenderbuffer&&C.deleteRenderbuffer(this.depthRenderbuffer);this.colorRenderbuffer&&C.deleteRenderbuffer(this.colorRenderbuffer);this.target._renderer.framebuffers.delete(this)}},
{key:"begin",value:function(){(this.prevFramebuffer=this.target._renderer.activeFramebuffer())&&this.prevFramebuffer._beforeEnd();this.target._renderer.activeFramebuffers.push(this);this._beforeBegin();this.target.push();this.target.setCamera(this.defaultCamera);this.target.resetMatrix();this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix);this.target._renderer.uModelMatrix.reset();this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?
this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var C=this.gl;C.bindFramebuffer(C.FRAMEBUFFER,this._framebufferToBind());this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var C=this.gl,N=(C.bindFramebuffer(C.READ_FRAMEBUFFER,this.aaFramebuffer),C.bindFramebuffer(C.DRAW_FRAMEBUFFER,this.framebuffer),[[C.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&N.push([C.DEPTH_BUFFER_BIT,
this.depthP5Texture.glMagFilter]);for(var J=0;J<N.length;J++){var E=p(N[J],2),M=E[0];E=E[1];C.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,M,E)}}}},{key:"end",value:function(){var C=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd();this.prevFramebuffer?this.prevFramebuffer._beforeBegin():
(C.bindFramebuffer(C.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height));this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(C){this.begin();C();this.end()}},{key:"loadPixels",value:function(){var C=this.gl,N=this.target._renderer.activeFramebuffer(),J=(C.bindFramebuffer(C.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,w.readPixelsWebGL)(this.pixels,C,this.framebuffer,
0,0,this.width*this.density,this.height*this.density,J.format,J.type);N?C.bindFramebuffer(C.FRAMEBUFFER,N._framebufferToBind()):C.bindFramebuffer(C.FRAMEBUFFER,null)}},{key:"get",value:function(C,N,J,E){m.default._validateParameters("p5.Framebuffer.get",arguments);var M=this._glColorFormat();if(void 0===C&&void 0===N)N=C=0,J=this.width,E=this.height;else if(void 0===J&&void 0===E)return(0>C||0>N||C>=this.width||N>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),
C=this.target.constrain(C,0,this.width-1),N=this.target.constrain(N,0,this.height-1)),(0,w.readPixelWebGL)(this.gl,this.framebuffer,C*this.density,N*this.density,M.format,M.type);C=this.target.constrain(C,0,this.width-1);N=this.target.constrain(N,0,this.height-1);J=this.target.constrain(J,1,this.width-C);E=this.target.constrain(E,1,this.height-N);var Q=(0,w.readPixelsWebGL)(void 0,this.gl,this.framebuffer,C*this.density,N*this.density,J*this.density,E*this.density,M.format,M.type),V=new Uint8ClampedArray(J*
E*this.density*this.density*4);M=(V.fill(255),M.type===this.gl.RGB?3:4);for(var W=0;W<E*this.density;W++)for(var R=0;R<J*this.density;R++)for(var S=0;4>S;S++){var K,O=4*(W*J*this.density+R)+S;S<M&&(K=4==M?O:(W*J*this.density+R)*M+S,V[O]=Q[K])}C=new m.default.Image(J*this.density,E*this.density);return C.imageData=C.canvas.getContext("2d").createImageData(C.width,C.height),C.imageData.data.set(V),C.pixels=C.imageData.data,C.updatePixels(),1!==this.density&&C.resize(J,E),C}},{key:"updatePixels",value:function(){var C=
this.gl,N=(this.colorP5Texture.bindTexture(),this._glColorFormat()),J=N.format===C.RGBA?4:3;J*=this.width*this.height*this.density*this.density;var E=N.type===C.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof E)||this.pixels.length!==J)throw Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");C.texImage2D(C.TEXTURE_2D,0,N.internalFormat,this.width*this.density,this.height*this.density,0,N.format,N.type,this.pixels);this.colorP5Texture.unbindTexture();
E=this.target._renderer.activeFramebuffer();this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(C.clearDepth(1),C.clear(C.DEPTH_BUFFER_BIT)),this.end()):(C.bindFramebuffer(C.FRAMEBUFFER,this.framebuffer),this.useDepth&&(C.clearDepth(1),C.clear(C.DEPTH_BUFFER_BIT)),E?C.bindFramebuffer(C.FRAMEBUFFER,E._framebufferToBind()):C.bindFramebuffer(C.FRAMEBUFFER,
null))}}]),D}());a=m.default.Framebuffer=F;q.default=a},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,
"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,
"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,
"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(a,G,q){function x(l){return(x="function"==typeof Symbol&&"symbol"==
typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(l)}function u(l){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(h){return x(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":x(h)})(l)}function r(){var l;return"function"!=typeof WeakMap?null:(l=new WeakMap,r=function(){return l},l)}function p(l){if(!(l=
function(h){if(Array.isArray(h)){for(var g=0,m=Array(h.length);g<h.length;g++)m[g]=h[g];return m}}(l)||function(h){if(Symbol.iterator in Object(h)||"[object Arguments]"===Object.prototype.toString.call(h))return Array.from(h)}(l)))throw new TypeError("Invalid attempt to spread non-iterable instance");return l}function k(l,h){if(!(l=function(g){if(Array.isArray(g))return g}(l)||function(g,m){if(Symbol.iterator in Object(g)||"[object Arguments]"===Object.prototype.toString.call(g)){var t=[],v=!0,w=
!1,z=void 0;try{for(var y,F=g[Symbol.iterator]();!(v=(y=F.next()).done)&&(t.push(y.value),!m||t.length!==m);v=!0);}catch(D){w=!0,z=D}finally{try{v||null==F.return||F.return()}finally{if(w)throw z;}}return t}}(l,h)))throw new TypeError("Invalid attempt to destructure non-iterable instance");return l}function f(l,h){for(var g=0;g<h.length;g++){var m=h[g];m.enumerable=m.enumerable||!1;m.configurable=!0;"value"in m&&(m.writable=!0);Object.defineProperty(l,m.key,m)}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");
a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.flat");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.from");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.last-index-of");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.unscopables.flat");a("core-js/modules/es.array-buffer.constructor");a("core-js/modules/es.map");a("core-js/modules/es.number.constructor");
a("core-js/modules/es.object.entries");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.set");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.sub");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");
a("core-js/modules/es.array.concat");a("core-js/modules/es.array.flat");a("core-js/modules/es.array.for-each");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.last-index-of");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.unscopables.flat");a("core-js/modules/es.array-buffer.constructor");a("core-js/modules/es.map");a("core-js/modules/es.number.constructor");a("core-js/modules/es.object.entries");a("core-js/modules/es.object.to-string");
a("core-js/modules/es.set");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.sub");a("core-js/modules/web.dom-collections.for-each");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var c=(d=a("../core/main"))&&d.__esModule?d:{default:d},b=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==u(l)&&"function"!=typeof l)return{default:l};var h=r();if(h&&h.has(l))return h.get(l);var g,m={},t=Object.defineProperty&&
Object.getOwnPropertyDescriptor;for(g in l){var v;Object.prototype.hasOwnProperty.call(l,g)&&((v=t?Object.getOwnPropertyDescriptor(l,g):null)&&(v.get||v.set)?Object.defineProperty(m,g,v):m[g]=l[g])}m.default=l;h&&h.set(l,m);return m}(a("../core/constants"));c.default.Geometry=function(){function l(g,m,t){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.vertices=[];this.boundingBoxCache=null;this.lineVertices=new c.default.DataArray;this.lineTangentsIn=new c.default.DataArray;
this.lineTangentsOut=new c.default.DataArray;this.lineSides=new c.default.DataArray;this.vertexNormals=[];this.faces=[];this.uvs=[];this.edges=[];this.vertexColors=[];this.vertexStrokeColors=[];this.lineVertexColors=new c.default.DataArray;this.detailX=void 0!==g?g:1;this.detailY=void 0!==m?m:1;this.dirtyFlags={};this._hasStrokeTransparency=this._hasFillTransparency=void 0;t instanceof Function&&t.call(this)}var h;return h=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var g=
new c.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),m=new c.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),t=0;t<this.vertices.length;t++){var v=this.vertices[t];g.x=Math.min(g.x,v.x);g.y=Math.min(g.y,v.y);g.z=Math.min(g.z,v.z);m.x=Math.max(m.x,v.x);m.y=Math.max(m.y,v.y);m.z=Math.max(m.z,v.z)}t=new c.default.Vector(m.x-g.x,m.y-g.y,m.z-g.z);v=new c.default.Vector((g.x+m.x)/2,(g.y+m.y)/2,(g.z+m.z)/2);this.boundingBoxCache={min:g,max:m,size:t,offset:v}}return this.boundingBoxCache}},
{key:"reset",value:function(){this._hasStrokeTransparency=this._hasFillTransparency=void 0;this.lineVertices.clear();this.lineTangentsIn.clear();this.lineTangentsOut.clear();this.lineSides.clear();this.vertices.length=0;this.edges.length=0;this.vertexColors.length=0;this.vertexStrokeColors.length=0;this.lineVertexColors.clear();this.vertexNormals.length=0;this.uvs.length=0;this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(void 0===this._hasFillTransparency){this._hasFillTransparency=
!1;for(var g=0;g<this.vertexColors.length;g+=4)if(1>this.vertexColors[g+3]){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(void 0===this._hasStrokeTransparency){this._hasStrokeTransparency=!1;for(var g=0;g<this.lineVertexColors.length;g+=4)if(1>this.lineVertexColors[g+3]){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",
value:function(){var g=this,m=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.obj",t="";if(this.vertices.forEach(function(w){t+="v ".concat(w.x," ").concat(w.y," ").concat(w.z,"\n")}),this.uvs&&0<this.uvs.length)for(var v=0;v<this.uvs.length;v+=2)t+="vt ".concat(this.uvs[v]," ").concat(this.uvs[v+1],"\n");this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(w){t+="vn ".concat(w.x," ").concat(w.y," ").concat(w.z,"\n")});this.faces.forEach(function(w){var z=
"f";w.forEach(function(y){z=z+" "+(y+1);(0<g.vertexNormals.length||0<g.uvs.length)&&(z+="/",0<g.uvs.length&&(z+=y+1),z+="/",0<g.vertexNormals.length&&(z+=y+1))});t+=z+"\n"});v=new Blob([t],{type:"text/plain"});c.default.prototype.downloadFile(v,m,"obj")}},{key:"saveStl",value:function(){var g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.stl",m=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).binary;m=void 0!==m&&m;var t=g.substring(0,g.lastIndexOf(".")),v=[],w=!0,z=!1,
y=void 0;try{for(var F,D=this.faces[Symbol.iterator]();!(w=(F=D.next()).done);w=!0){var C=F.value,N=c.default.Vector.sub(this.vertices[C[1]],this.vertices[C[0]]),J=c.default.Vector.sub(this.vertices[C[2]],this.vertices[C[0]]);v.push((new c.default.Vector(N.y*J.z-N.z*J.y,N.z*J.x-N.x*J.z,N.x*J.y-N.y*J.x)).normalize())}}catch(S){z=!0,y=S}finally{try{w||null==D.return||D.return()}finally{if(z)throw y;}}if(m){t=80;z=2*this.faces.length+48*this.faces.length+84;y=new ArrayBuffer(z);(z=new DataView(y)).setUint32(t,
this.faces.length,!0);t+=4;for(var E=0,M=Object.entries(this.faces);E<M.length;E++){var Q=k(M[E],2);y=Q[0];Q=Q[1];y=v[y];m=(z.setFloat32(t,y.x,!0),t+=4,z.setFloat32(t,y.y,!0),t+=4,z.setFloat32(t,y.z,!0),t+=4,!0);y=!1;w=void 0;try{for(var V,W=Q[Symbol.iterator]();!(m=(V=W.next()).done);m=!0){var R=this.vertices[V.value];z.setFloat32(t,R.x,!0);t+=4;z.setFloat32(t,R.y,!0);t+=4;z.setFloat32(t,R.z,!0);t+=4}}catch(S){y=!0,w=S}finally{try{m||null==W.return||W.return()}finally{if(y)throw w;}}z.setUint16(t,
0,!0);t+=2}}else{z="solid "+t+"\n";V=0;for(W=Object.entries(this.faces);V<W.length;V++){R=k(W[V],2);y=R[0];R=R[1];y=v[y];m=(z+=" facet norm "+y.x+" "+y.y+" "+y.z+"\n  outer loop\n",!0);y=!1;w=void 0;try{for(M=R[Symbol.iterator]();!(m=(E=M.next()).done);m=!0)Q=this.vertices[E.value],z+="   vertex "+Q.x+" "+Q.y+" "+Q.z+"\n"}catch(S){y=!0,w=S}finally{try{m||null==M.return||M.return()}finally{if(y)throw w;}}z+="  endloop\n endfacet\n"}z+="endsolid "+t+"\n"}m=new Blob([z],{type:"text/plain"});c.default.prototype.downloadFile(m,
g,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(g,m){return 0==m%2?1-g:g})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(g,m){return 0==m%2?g:1-g})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var g,m,t,v=this.detailX+1,w=0;w<this.detailY;w++)for(var z=0;z<this.detailX;z++)m=(w+1)*v+z+1,this.faces.push([w*v+z,g=w*v+z+1,t=(w+1)*v+z]),this.faces.push([t,g,m]);return this}},{key:"_getFaceNormal",value:function(g){g=this.faces[g];
var m=this.vertices[g[0]],t=this.vertices[g[1]];g=this.vertices[g[2]];t=c.default.Vector.sub(t,m);g=c.default.Vector.sub(g,m);m=c.default.Vector.cross(t,g);var v=c.default.Vector.mag(m);t=v/(c.default.Vector.mag(t)*c.default.Vector.mag(g));return 0===t||isNaN(t)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),m):(1<t&&(t=1),m.mult(Math.asin(t)/v))}},{key:"computeNormals",value:function(){var g=this,m=(1<arguments.length&&void 0!==arguments[1]?
arguments[1]:{}).roundToPrecision,t=this.vertexNormals,v=this.vertices,w=this.faces;if((0<arguments.length&&void 0!==arguments[0]?arguments[0]:b.FLAT)===b.SMOOTH){var z={};var y=[];var F=Math.pow(10,void 0===m?3:m),D=function(J){return"".concat(Math.round(J.x*F)/F,",").concat(Math.round(J.y*F)/F,",").concat(Math.round(J.z*F)/F)};for(m=0;m<v.length;m++){var C=v[m],N=D(C);void 0===z[N]&&(z[N]=y.length,y.push(C))}w.forEach(function(J){for(var E=0;3>E;++E){var M=J[E];M=v[M];M=D(M);J[E]=z[M]}});this.edges.forEach(function(J){for(var E=
0;2>E;++E){var M=J[E];M=v[M];M=D(M);J[E]=z[M]}});this.vertices=v=y}for(y=t.length=0;y<v.length;++y)t.push(new c.default.Vector);w.forEach(function(J,E){E=g._getFaceNormal(E);for(var M=0;3>M;++M)t[J[M]].add(E)});for(y=0;y<v.length;++y)t[y].normalize();return this}},{key:"averageNormals",value:function(){for(var g=0;g<=this.detailY;g++){var m=this.detailX+1,t=c.default.Vector.add(this.vertexNormals[g*m],this.vertexNormals[g*m+this.detailX]);t=c.default.Vector.div(t,2);this.vertexNormals[g*m]=t;this.vertexNormals[g*
m+this.detailX]=t}return this}},{key:"averagePoleNormals",value:function(){for(var g=new c.default.Vector(0,0,0),m=0;m<this.detailX;m++)g.add(this.vertexNormals[m]);g=c.default.Vector.div(g,this.detailX);for(m=0;m<this.detailX;m++)this.vertexNormals[m]=g;g=new c.default.Vector(0,0,0);for(m=this.vertices.length-1;m>this.vertices.length-1-this.detailX;m--)g.add(this.vertexNormals[m]);g=c.default.Vector.div(g,this.detailX);for(m=this.vertices.length-1;m>this.vertices.length-1-this.detailX;m--)this.vertexNormals[m]=
g;return this}},{key:"_makeTriangleEdges",value:function(){for(var g=this.edges.length=0;g<this.faces.length;g++)this.edges.push([this.faces[g][0],this.faces[g][1]]),this.edges.push([this.faces[g][1],this.faces[g][2]]),this.edges.push([this.faces[g][2],this.faces[g][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear();this.lineTangentsIn.clear();this.lineTangentsOut.clear();this.lineSides.clear();for(var g,m=new Map,t=new Set,v=0;v<this.edges.length;v++){var w,z=this.edges[v-
1],y=this.edges[v],F=this.vertices[y[0]],D=this.vertices[y[1]],C=0<this.vertexStrokeColors.length&&z?this.vertexStrokeColors.slice(4*z[1],4*(z[1]+1)):[0,0,0,0],N=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*y[0],4*(y[0]+1)):[0,0,0,0],J=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*y[1],4*(y[1]+1)):[0,0,0,0],E=D.copy().sub(F).normalize(),M=0<E.magSq();M&&this._addSegment(F,D,N,J,E);0<v&&z[1]===y[0]?t.has(y[0])||(t.add(y[0]),m.delete(y[0]),g&&M&&.99999999>E.dot(g)&&
this._addJoin(F,g,E,N)):(M&&!t.has(y[0])&&((w=m.get(y[0]))?(this._addJoin(F,w.dir,E,N),m.delete(y[0]),t.add(y[0])):m.set(y[0],{point:F,dir:E.copy().mult(-1),color:N})),g&&!t.has(z[1])&&((w=m.get(z[1]))?(this._addJoin(this.vertices[z[1]],g,w.dir.copy().mult(-1),C),m.delete(z[1]),t.add(z[1])):m.set(z[1],{point:this.vertices[z[1]],dir:g,color:C}),g=void 0));v!==this.edges.length-1||t.has(y[1])||((F=m.get(y[1]))?(this._addJoin(D,E,F.dir.copy().mult(-1),J),m.delete(y[1]),t.add(y[1])):m.set(y[1],{point:D,
dir:E,color:J}));M&&(g=E)}g=!0;t=!1;v=void 0;try{for(var Q,V=m.values()[Symbol.iterator]();!(g=(Q=V.next()).done);g=!0){var W=Q.value;this._addCap(W.point,W.dir,W.color)}}catch(R){t=!0,v=R}finally{try{g||null==V.return||V.return()}finally{if(t)throw v;}}return this}},{key:"_addSegment",value:function(g,m,t,v,w){g=g.array();m=m.array();var z=w.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var y=0,F=[this.lineTangentsIn,this.lineTangentsOut];y<F.length;y++)for(var D=F[y],C=0;6>C;C++)D.push.apply(D,
p(z));return(w=this.lineVertices).push.apply(w,p(g).concat(p(m),p(g),p(m),p(m),p(g))),(w=this.lineVertexColors).push.apply(w,p(t).concat(p(v),p(t),p(v),p(v),p(t))),this}},{key:"_addCap",value:function(g,m,t){var v;g=g.array();m=m.array();for(var w=[0,0,0],z=0;6>z;z++)(v=this.lineVertices).push.apply(v,p(g)),(v=this.lineTangentsIn).push.apply(v,p(m)),(v=this.lineTangentsOut).push.apply(v,w),(v=this.lineVertexColors).push.apply(v,p(t));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",
value:function(g,m,t,v){var w;g=g.array();m=m.array();t=t.array();for(var z=0;12>z;z++)(w=this.lineVertices).push.apply(w,p(g)),(w=this.lineTangentsIn).push.apply(w,p(m)),(w=this.lineTangentsOut).push.apply(w,p(t)),(w=this.lineVertexColors).push.apply(w,p(v));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var g=this.vertices[0].copy(),m=this.vertices[0].copy(),t=0;t<this.vertices.length;t++)g.x=
Math.max(g.x,this.vertices[t].x),m.x=Math.min(m.x,this.vertices[t].x),g.y=Math.max(g.y,this.vertices[t].y),m.y=Math.min(m.y,this.vertices[t].y),g.z=Math.max(g.z,this.vertices[t].z),m.z=Math.min(m.z,this.vertices[t].z);t=c.default.Vector.lerp(g,m,.5);g=c.default.Vector.sub(g,m);g=200/Math.max(Math.max(g.x,g.y),g.z);for(m=0;m<this.vertices.length;m++)this.vertices[m].sub(t),this.vertices[m].mult(g)}return this}}],f(l.prototype,h),l}();var d=c.default.Geometry;q.default=d},{"../core/constants":272,"../core/main":283,
"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,
"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],
336:[function(a,G,q){function x(k,f){for(var c=0;c<f.length;c++){var b=f[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(k,b.key,b)}}a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");
a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");
a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");
a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");
a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var u=(a=a("../core/main"))&&a.__esModule?a:{default:a},r=Array,p=function(k){return Array.isArray(k)};
a=("undefined"!=typeof Float32Array&&(r=Float32Array,p=function(k){return Array.isArray(k)||k instanceof Float32Array}),u.default.Matrix=function(){function k(){var b=this,d=k;if(b instanceof d)return arguments.length&&(0>(b=arguments.length-1)||arguments.length<=b?void 0:arguments[b])instanceof u.default&&(this.p5=0>(d=arguments.length-1)||arguments.length<=d?void 0:arguments[d]),"mat3"===(0>=arguments.length?void 0:arguments[0])?this.mat3=Array.isArray(1>=arguments.length?void 0:arguments[1])?1>=
arguments.length?void 0:arguments[1]:new r([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(0>=arguments.length?void 0:arguments[0])?0>=arguments.length?void 0:arguments[0]:new r([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function");}var f,c;return c=[{key:"identity",value:function(b){return new u.default.Matrix(b)}}],f=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),
this}},{key:"set",value:function(b){var d=arguments;if(b instanceof u.default.Matrix?d=b.mat4:p(b)&&(d=b),16!==d.length)u.default._friendlyError("Expected 16 values but received ".concat(d.length,"."),"p5.Matrix.set");else for(var l=0;16>l;l++)this.mat4[l]=d[l];return this}},{key:"get",value:function(){return new u.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var b;return void 0!==this.mat3?((b=new u.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],b.mat3[1]=this.mat3[1],b.mat3[2]=
this.mat3[2],b.mat3[3]=this.mat3[3],b.mat3[4]=this.mat3[4],b.mat3[5]=this.mat3[5],b.mat3[6]=this.mat3[6],b.mat3[7]=this.mat3[7],b.mat3[8]=this.mat3[8]):((b=new u.default.Matrix(this.p5)).mat4[0]=this.mat4[0],b.mat4[1]=this.mat4[1],b.mat4[2]=this.mat4[2],b.mat4[3]=this.mat4[3],b.mat4[4]=this.mat4[4],b.mat4[5]=this.mat4[5],b.mat4[6]=this.mat4[6],b.mat4[7]=this.mat4[7],b.mat4[8]=this.mat4[8],b.mat4[9]=this.mat4[9],b.mat4[10]=this.mat4[10],b.mat4[11]=this.mat4[11],b.mat4[12]=this.mat4[12],b.mat4[13]=
this.mat4[13],b.mat4[14]=this.mat4[14],b.mat4[15]=this.mat4[15]),b}},{key:"transpose",value:function(b){var d,l,h,g,m,t;return b instanceof u.default.Matrix?(d=b.mat4[1],l=b.mat4[2],h=b.mat4[3],g=b.mat4[6],m=b.mat4[7],t=b.mat4[11],this.mat4[0]=b.mat4[0],this.mat4[1]=b.mat4[4],this.mat4[2]=b.mat4[8],this.mat4[3]=b.mat4[12],this.mat4[4]=d,this.mat4[5]=b.mat4[5],this.mat4[6]=b.mat4[9],this.mat4[7]=b.mat4[13],this.mat4[8]=l,this.mat4[9]=g,this.mat4[10]=b.mat4[10],this.mat4[11]=b.mat4[14],this.mat4[12]=
h,this.mat4[13]=m,this.mat4[14]=t,this.mat4[15]=b.mat4[15]):p(b)&&(d=b[1],l=b[2],h=b[3],g=b[6],m=b[7],t=b[11],this.mat4[0]=b[0],this.mat4[1]=b[4],this.mat4[2]=b[8],this.mat4[3]=b[12],this.mat4[4]=d,this.mat4[5]=b[5],this.mat4[6]=b[9],this.mat4[7]=b[13],this.mat4[8]=l,this.mat4[9]=g,this.mat4[10]=b[10],this.mat4[11]=b[14],this.mat4[12]=h,this.mat4[13]=m,this.mat4[14]=t,this.mat4[15]=b[15]),this}},{key:"invert",value:function(b){b instanceof u.default.Matrix?(d=b.mat4[0],l=b.mat4[1],h=b.mat4[2],g=b.mat4[3],
m=b.mat4[4],t=b.mat4[5],v=b.mat4[6],w=b.mat4[7],z=b.mat4[8],y=b.mat4[9],F=b.mat4[10],D=b.mat4[11],C=b.mat4[12],N=b.mat4[13],J=b.mat4[14],E=b.mat4[15]):p(b)&&(d=b[0],l=b[1],h=b[2],g=b[3],m=b[4],t=b[5],v=b[6],w=b[7],z=b[8],y=b[9],F=b[10],D=b[11],C=b[12],N=b[13],J=b[14],E=b[15]);var d,l,h,g,m,t,v,w,z,y,F,D,C,N,J,E;b=d*t-l*m;var M=d*v-h*m,Q=d*w-g*m,V=l*v-h*t,W=l*w-g*t,R=h*w-g*v,S=z*N-y*C,K=z*J-F*C,O=z*E-D*C,I=y*J-F*N,P=y*E-D*N,X=F*E-D*J,ca=b*X-M*P+Q*I+V*O-W*K+R*S;return ca?(this.mat4[0]=(t*X-v*P+w*I)*
(ca=1/ca),this.mat4[1]=(h*P-l*X-g*I)*ca,this.mat4[2]=(N*R-J*W+E*V)*ca,this.mat4[3]=(F*W-y*R-D*V)*ca,this.mat4[4]=(v*O-m*X-w*K)*ca,this.mat4[5]=(d*X-h*O+g*K)*ca,this.mat4[6]=(J*Q-C*R-E*M)*ca,this.mat4[7]=(z*R-F*Q+D*M)*ca,this.mat4[8]=(m*P-t*O+w*S)*ca,this.mat4[9]=(l*O-d*P-g*S)*ca,this.mat4[10]=(C*W-N*Q+E*b)*ca,this.mat4[11]=(y*Q-z*W-D*b)*ca,this.mat4[12]=(t*K-m*I-v*S)*ca,this.mat4[13]=(d*I-l*K+h*S)*ca,this.mat4[14]=(N*M-C*V-J*b)*ca,this.mat4[15]=(z*V-y*M+F*b)*ca,this):null}},{key:"invert3x3",value:function(){var b=
this.mat3[0],d=this.mat3[1],l=this.mat3[2],h=this.mat3[3],g=this.mat3[4],m=this.mat3[5],t=this.mat3[6],v=this.mat3[7],w=this.mat3[8],z=w*g-m*v,y=-w*h+m*t,F=v*h-g*t,D=b*z+d*y+l*F;return D?(this.mat3[0]=z*(D=1/D),this.mat3[1]=(-w*d+l*v)*D,this.mat3[2]=(m*d-l*g)*D,this.mat3[3]=y*D,this.mat3[4]=(w*b-l*t)*D,this.mat3[5]=(-m*b+l*h)*D,this.mat3[6]=F*D,this.mat3[7]=(-v*b+d*t)*D,this.mat3[8]=(g*b-d*h)*D,this):null}},{key:"transpose3x3",value:function(b){var d=(b=void 0===b?this.mat3:b)[1],l=b[2],h=b[5];return this.mat3[0]=
b[0],this.mat3[1]=b[3],this.mat3[2]=b[6],this.mat3[3]=d,this.mat3[4]=b[4],this.mat3[5]=b[7],this.mat3[6]=l,this.mat3[7]=h,this.mat3[8]=b[8],this}},{key:"inverseTranspose",value:function(b){b=b.mat4;void 0===this.mat3?u.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=b[0],this.mat3[1]=b[1],this.mat3[2]=b[2],this.mat3[3]=b[4],this.mat3[4]=b[5],this.mat3[5]=b[6],this.mat3[6]=b[8],this.mat3[7]=b[9],this.mat3[8]=b[10]);if(b=this.invert3x3())b.transpose3x3(this.mat3);else for(b=
0;9>b;b++)this.mat3[b]=0;return this}},{key:"determinant",value:function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*
this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])}},{key:"mult",value:function(b){if(b===this||b===this.mat4)var d=this.copy().mat4;else if(b instanceof u.default.Matrix)d=b.mat4;else if(p(b))d=b;else{if(16!==arguments.length)return;d=arguments}b=this.mat4[0];var l=this.mat4[1],h=this.mat4[2],g=this.mat4[3];return this.mat4[0]=
b*d[0]+l*d[4]+h*d[8]+g*d[12],this.mat4[1]=b*d[1]+l*d[5]+h*d[9]+g*d[13],this.mat4[2]=b*d[2]+l*d[6]+h*d[10]+g*d[14],this.mat4[3]=b*d[3]+l*d[7]+h*d[11]+g*d[15],b=this.mat4[4],l=this.mat4[5],h=this.mat4[6],g=this.mat4[7],this.mat4[4]=b*d[0]+l*d[4]+h*d[8]+g*d[12],this.mat4[5]=b*d[1]+l*d[5]+h*d[9]+g*d[13],this.mat4[6]=b*d[2]+l*d[6]+h*d[10]+g*d[14],this.mat4[7]=b*d[3]+l*d[7]+h*d[11]+g*d[15],b=this.mat4[8],l=this.mat4[9],h=this.mat4[10],g=this.mat4[11],this.mat4[8]=b*d[0]+l*d[4]+h*d[8]+g*d[12],this.mat4[9]=
b*d[1]+l*d[5]+h*d[9]+g*d[13],this.mat4[10]=b*d[2]+l*d[6]+h*d[10]+g*d[14],this.mat4[11]=b*d[3]+l*d[7]+h*d[11]+g*d[15],b=this.mat4[12],l=this.mat4[13],h=this.mat4[14],g=this.mat4[15],this.mat4[12]=b*d[0]+l*d[4]+h*d[8]+g*d[12],this.mat4[13]=b*d[1]+l*d[5]+h*d[9]+g*d[13],this.mat4[14]=b*d[2]+l*d[6]+h*d[10]+g*d[14],this.mat4[15]=b*d[3]+l*d[7]+h*d[11]+g*d[15],this}},{key:"apply",value:function(b){if(b===this||b===this.mat4)var d=this.copy().mat4;else if(b instanceof u.default.Matrix)d=b.mat4;else if(p(b))d=
b;else{if(16!==arguments.length)return;d=arguments}b=this.mat4;var l=b[0],h=b[4],g=b[8],m=b[12];l=(b[0]=d[0]*l+d[1]*h+d[2]*g+d[3]*m,b[4]=d[4]*l+d[5]*h+d[6]*g+d[7]*m,b[8]=d[8]*l+d[9]*h+d[10]*g+d[11]*m,b[12]=d[12]*l+d[13]*h+d[14]*g+d[15]*m,b[1]);h=b[5];g=b[9];m=b[13];l=(b[1]=d[0]*l+d[1]*h+d[2]*g+d[3]*m,b[5]=d[4]*l+d[5]*h+d[6]*g+d[7]*m,b[9]=d[8]*l+d[9]*h+d[10]*g+d[11]*m,b[13]=d[12]*l+d[13]*h+d[14]*g+d[15]*m,b[2]);h=b[6];g=b[10];m=b[14];l=(b[2]=d[0]*l+d[1]*h+d[2]*g+d[3]*m,b[6]=d[4]*l+d[5]*h+d[6]*g+d[7]*
m,b[10]=d[8]*l+d[9]*h+d[10]*g+d[11]*m,b[14]=d[12]*l+d[13]*h+d[14]*g+d[15]*m,b[3]);h=b[7];g=b[11];m=b[15];return b[3]=d[0]*l+d[1]*h+d[2]*g+d[3]*m,b[7]=d[4]*l+d[5]*h+d[6]*g+d[7]*m,b[11]=d[8]*l+d[9]*h+d[10]*g+d[11]*m,b[15]=d[12]*l+d[13]*h+d[14]*g+d[15]*m,this}},{key:"scale",value:function(b,d,l){return b instanceof u.default.Vector?(d=b.y,l=b.z,b=b.x):b instanceof Array&&(d=b[1],l=b[2],b=b[0]),this.mat4[0]*=b,this.mat4[1]*=b,this.mat4[2]*=b,this.mat4[3]*=b,this.mat4[4]*=d,this.mat4[5]*=d,this.mat4[6]*=
d,this.mat4[7]*=d,this.mat4[8]*=l,this.mat4[9]*=l,this.mat4[10]*=l,this.mat4[11]*=l,this}},{key:"rotate",value:function(b,d,l,h){d instanceof u.default.Vector?(l=d.y,h=d.z,d=d.x):d instanceof Array&&(l=d[1],h=d[2],d=d[0]);var g=Math.sqrt(d*d+l*l+h*h);g=(d*=1/g,l*=1/g,h*=1/g,this.mat4[0]);var m=this.mat4[1],t=this.mat4[2],v=this.mat4[3],w=this.mat4[4],z=this.mat4[5],y=this.mat4[6],F=this.mat4[7],D=this.mat4[8],C=this.mat4[9],N=this.mat4[10],J=this.mat4[11],E=Math.sin(b);b=Math.cos(b);var M=1-b,Q=d*
d*M+b,V=l*d*M+h*E,W=h*d*M-l*E,R=d*l*M-h*E,S=l*l*M+b,K=h*l*M+d*E,O=d*h*M+l*E;l=l*h*M-d*E;d=h*h*M+b;return this.mat4[0]=g*Q+w*V+D*W,this.mat4[1]=m*Q+z*V+C*W,this.mat4[2]=t*Q+y*V+N*W,this.mat4[3]=v*Q+F*V+J*W,this.mat4[4]=g*R+w*S+D*K,this.mat4[5]=m*R+z*S+C*K,this.mat4[6]=t*R+y*S+N*K,this.mat4[7]=v*R+F*S+J*K,this.mat4[8]=g*O+w*l+D*d,this.mat4[9]=m*O+z*l+C*d,this.mat4[10]=t*O+y*l+N*d,this.mat4[11]=v*O+F*l+J*d,this}},{key:"translate",value:function(b){var d=b[0],l=b[1];b=b[2]||0;this.mat4[12]+=this.mat4[0]*
d+this.mat4[4]*l+this.mat4[8]*b;this.mat4[13]+=this.mat4[1]*d+this.mat4[5]*l+this.mat4[9]*b;this.mat4[14]+=this.mat4[2]*d+this.mat4[6]*l+this.mat4[10]*b;this.mat4[15]+=this.mat4[3]*d+this.mat4[7]*l+this.mat4[11]*b}},{key:"rotateX",value:function(b){this.rotate(b,1,0,0)}},{key:"rotateY",value:function(b){this.rotate(b,0,1,0)}},{key:"rotateZ",value:function(b){this.rotate(b,0,0,1)}},{key:"perspective",value:function(b,d,l,h){b=1/Math.tan(b/2);var g=1/(l-h);return this.mat4[0]=b/d,this.mat4[1]=0,this.mat4[2]=
0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=b,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(h+l)*g,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*h*l*g,this.mat4[15]=0,this}},{key:"ortho",value:function(b,d,l,h,g,m){var t=1/(b-d),v=1/(l-h),w=1/(g-m);return this.mat4[0]=-2*t,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*v,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*w,this.mat4[11]=0,this.mat4[12]=
(b+d)*t,this.mat4[13]=(h+l)*v,this.mat4[14]=(m+g)*w,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(b,d,l,h){var g=Array(4),m=this.mat4;return g[0]=m[0]*b+m[4]*d+m[8]*l+m[12]*h,g[1]=m[1]*b+m[5]*d+m[9]*l+m[13]*h,g[2]=m[2]*b+m[6]*d+m[10]*l+m[14]*h,g[3]=m[3]*b+m[7]*d+m[11]*l+m[15]*h,g}},{key:"multiplyPoint",value:function(b){var d=b.x,l=b.y;b=b.z;d=this.multiplyVec4(d,l,b,1);return new u.default.Vector(d[0],d[1],d[2])}},{key:"multiplyAndNormalizePoint",value:function(b){var d=b.x,l=b.y;b=b.z;
d=this.multiplyVec4(d,l,b,1);return d[0]/=d[3],d[1]/=d[3],d[2]/=d[3],new u.default.Vector(d[0],d[1],d[2])}},{key:"multiplyDirection",value:function(b){var d=b.x,l=b.y;b=b.z;d=this.multiplyVec4(d,l,b,0);return new u.default.Vector(d[0],d[1],d[2])}},{key:"mult3x3",value:function(b){if(b===this||b===this.mat3)var d=this.copy().mat3;else if(b instanceof u.default.Matrix)d=b.mat3;else if(p(b))d=b;else{if(9!==arguments.length)return;d=arguments}b=this.mat3[0];var l=this.mat3[1],h=this.mat3[2];return this.mat3[0]=
b*d[0]+l*d[3]+h*d[6],this.mat3[1]=b*d[1]+l*d[4]+h*d[7],this.mat3[2]=b*d[2]+l*d[5]+h*d[8],b=this.mat3[3],l=this.mat3[4],h=this.mat3[5],this.mat3[3]=b*d[0]+l*d[3]+h*d[6],this.mat3[4]=b*d[1]+l*d[4]+h*d[7],this.mat3[5]=b*d[2]+l*d[5]+h*d[8],b=this.mat3[6],l=this.mat3[7],h=this.mat3[8],this.mat3[6]=b*d[0]+l*d[3]+h*d[6],this.mat3[7]=b*d[1]+l*d[4]+h*d[7],this.mat3[8]=b*d[2]+l*d[5]+h*d[8],this}},{key:"column",value:function(b){return new u.default.Vector(this.mat3[3*b],this.mat3[3*b+1],this.mat3[3*b+2])}},
{key:"row",value:function(b){return new u.default.Vector(this.mat3[b],this.mat3[b+3],this.mat3[b+6])}},{key:"diagonal",value:function(){return void 0!==this.mat3?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(b,d){return(d=void 0===d?b.copy():d).x=this.row(0).dot(b),d.y=this.row(1).dot(b),d.z=this.row(2).dot(b),d}},{key:"createSubMatrix3x3",value:function(){var b=new u.default.Matrix("mat3");return b.mat3[0]=this.mat4[0],
b.mat3[1]=this.mat4[1],b.mat3[2]=this.mat4[2],b.mat3[3]=this.mat4[4],b.mat3[4]=this.mat4[5],b.mat3[5]=this.mat4[6],b.mat3[6]=this.mat4[8],b.mat3[7]=this.mat4[9],b.mat3[8]=this.mat4[10],b}}],x(k.prototype,f),c&&x(k,c),k}(),u.default.Matrix);q.default=a},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,
"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,
"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(a,G,q){function x(r,p){for(var k=0;k<p.length;k++){var f=p[k];f.enumerable=
f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(r,f.key,f)}}Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var u=(a=a("../core/main"))&&a.__esModule?a:{default:a};u.default.Quat=function(){function r(f,c,b,d){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.w=f;this.vec=new u.default.Vector(c,b,d)}var p,k;return k=[{key:"fromAxisAngle",value:function(f,c,b,d){var l=Math.cos(f/2);c=(new u.default.Vector(c,
b,d)).normalize().mult(Math.sin(f/2));return new u.default.Quat(l,c.x,c.y,c.z)}}],p=[{key:"conjugate",value:function(){return new u.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(f){return new u.default.Quat(this.w*f.w-this.vec.x*f.vec.x-this.vec.y*f.vec.y-this.vec.z-f.vec.z,this.w*f.vec.x+this.vec.x*f.w+this.vec.y*f.vec.z-this.vec.z*f.vec.y,this.w*f.vec.y-this.vec.x*f.vec.z+this.vec.y*f.w+this.vec.z*f.vec.x,this.w*f.vec.z+this.vec.x*f.vec.y-this.vec.y*f.vec.x+
this.vec.z*f.w)}},{key:"rotateVector",value:function(f){return(new u.default.Vector.mult(f,this.w*this.w-this.vec.dot(this.vec))).add(u.default.Vector.mult(this.vec,2*f.dot(this.vec))).add(u.default.Vector.mult(this.vec,2*this.w).cross(f)).clampToZero()}},{key:"rotateBy",value:function(f){return f.multiply(this).multiply(f.conjugate()).vec.clampToZero()}}],x(r.prototype,p),k&&x(r,k),r}();a=u.default.Quat;q.default=a},{"../core/main":283}],338:[function(a,G,q){function x(u,r){for(var p=0;p<r.length;p++){var k=
r[p];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(u,k.key,k)}}a("core-js/modules/es.array.map");a("core-js/modules/es.array.map");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;a=(a=a("../core/main"))&&a.__esModule?a:{default:a};a.default.RenderBuffer=function(){function u(p,k,f,c,b,d){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.size=p;this.src=k;this.dst=f;this.attr=c;this._renderer=
b;this.map=d}var r;return r=[{key:"_prepareBuffer",value:function(p,k){var f,c,b,d=k.attributes,l=this._renderer.GL,h=p.model||p;(d=d[this.attr])&&(f=p[this.dst],0<(c=h[this.src]).length?((b=!f)&&(p[this.dst]=f=l.createBuffer()),l.bindBuffer(l.ARRAY_BUFFER,f),!b&&!1===h.dirtyFlags[this.src]||(b=(p=this.map)?p(c):c,this._renderer._bindBuffer(f,l.ARRAY_BUFFER,b),h.dirtyFlags[this.src]=!1),k.enableAttrib(d,this.size)):-1!==(p=d.location)&&this._renderer.registerEnabled.has(p)&&(l.disableVertexAttribArray(p),
this._renderer.registerEnabled.delete(p)))}}],x(u.prototype,r),u}();a=a.default.RenderBuffer;q.default=a},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(a,G,q){function x(d){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(d)}function u(d){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(l){return x(l)}:
function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":x(l)})(d)}function r(){var d;return"function"!=typeof WeakMap?null:(d=new WeakMap,r=function(){return d},d)}function p(d){if(!(d=function(l){if(Array.isArray(l)){for(var h=0,g=Array(l.length);h<l.length;h++)g[h]=l[h];return g}}(d)||function(l){if(Symbol.iterator in Object(l)||"[object Arguments]"===Object.prototype.toString.call(l))return Array.from(l)}(d)))throw new TypeError("Invalid attempt to spread non-iterable instance");
return d}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.find-index");a("core-js/modules/es.array.from");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.map");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");
a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.find-index");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.map");
a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var k=(b=a("../core/main"))&&b.__esModule?b:{default:b},f=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==u(d)&&"function"!=typeof d)return{default:d};var l=r();if(l&&l.has(d))return l.get(d);var h,g={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d){var t;Object.prototype.hasOwnProperty.call(d,
h)&&((t=m?Object.getOwnPropertyDescriptor(d,h):null)&&(t.get||t.set)?Object.defineProperty(g,h,t):g[h]=d[h])}g.default=d;l&&l.set(d,g);return g}(a("../core/constants"));a("./p5.RenderBuffer");k.default.RendererGL.prototype.beginShape=function(d){return this.immediateMode.shapeMode=void 0!==d?d:f.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var c={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},b=(k.default.RendererGL.prototype.beginContour=
function(){if(this.immediateMode.shapeMode!==f.TESS)throw Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},k.default.RendererGL.prototype.vertex=function(d,l){if(this.immediateMode.shapeMode===f.QUADS&&3==this.immediateMode.geometry.vertices.length%6)for(var h in c){var g=c[h];h=this.immediateMode.geometry[h];h.push.apply(h,p(h.slice(h.length-3*g,h.length-2*g)).concat(p(h.slice(h.length-g,h.length))))}var m=
h=g=0,t=(3===arguments.length?m=arguments[2]:4===arguments.length?(h=arguments[2],g=arguments[3]):5===arguments.length&&(m=arguments[2],h=arguments[3],g=arguments[4]),new k.default.Vector(d,l,m));t=(this.immediateMode.geometry.vertices.push(t),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]);t=(this.immediateMode.geometry.vertexColors.push(t[0],t[1],t[2],t[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(t[0],
t[1],t[2],t[3]),this.textureMode!==f.IMAGE||this.isProcessingVertices||(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(h/=this._tex.width,g/=this._tex.height):void 0===this.userFillShader&&void 0===this.userStrokeShader&&void 0===this.userPointShader&&null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(h,g),this.immediateMode._bezierVertex[0]=d,this.immediateMode._bezierVertex[1]=
l,this.immediateMode._bezierVertex[2]=m,this.immediateMode._quadraticVertex[0]=d,this.immediateMode._quadraticVertex[1]=l,this.immediateMode._quadraticVertex[2]=m,this},k.default.RendererGL.prototype.normal=function(d,l,h){return d instanceof k.default.Vector?this._currentNormal=d:this._currentNormal=new k.default.Vector(d,l,h),this},k.default.RendererGL.prototype.endShape=function(d,l,h,g,m,t){var v,w=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1;return this.immediateMode.shapeMode===
f.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(3===this.immediateMode.geometry.vertices.length&&this.immediateMode.shapeMode===f.TESS&&(this.immediateMode.shapeMode=f.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),v=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==f.LINE_STRIP&&this.immediateMode.shapeMode!==f.LINES||(this.immediateMode.shapeMode=f.TRIANGLE_FAN,v=!0),this.immediateMode.shapeMode===f.QUADS?
this.immediateMode.shapeMode=f.TRIANGLES:this.immediateMode.shapeMode===f.QUAD_STRIP&&(this.immediateMode.shapeMode=f.TRIANGLE_STRIP),this._doFill&&!v&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(w),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=
0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},k.default.RendererGL.prototype._processVertices=function(d){var l;0!==this.immediateMode.geometry.vertices.length&&(l=this._doStroke,d=d===f.CLOSE,l&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,d),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),l=this.immediateMode.shapeMode===f.TESS,d=0<this.immediateMode.contourIndices.length,
this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||l||d)&&this.immediateMode.shapeMode!==f.LINES&&this._tesselateShape())},k.default.RendererGL.prototype._calculateEdges=function(d,l,h){var g=[],m,t=this.immediateMode.contourIndices.slice(),v=0;switch(d){case f.TRIANGLE_STRIP:for(m=0;m<l.length-2;m++)g.push([m,m+1]),g.push([m,m+2]);g.push([m,m+1]);break;case f.TRIANGLE_FAN:for(m=1;m<l.length-1;m++)g.push([0,m]),g.push([m,m+1]);g.push([0,l.length-1]);break;case f.TRIANGLES:for(m=0;m<l.length-
2;m+=3)g.push([m,m+1]),g.push([m+1,m+2]),g.push([m+2,m]);break;case f.LINES:for(m=0;m<l.length-1;m+=2)g.push([m,m+1]);break;case f.QUADS:for(m=0;m<l.length-5;m+=6)g.push([m,m+1]),g.push([m+1,m+2]),g.push([m+3,m+5]),g.push([m+4,m+5]);break;case f.QUAD_STRIP:for(m=0;m<l.length-2;m+=2)g.push([m,m+1]),g.push([m,m+2]),g.push([m+1,m+3]);g.push([m,m+1]);break;default:for(m=0;m<l.length;m++)m+1<l.length&&m+1!==t[0]?g.push([m,m+1]):((h||v)&&g.push([m,v]),0<t.length&&(v=t.shift()))}return d!==f.TESS&&h&&g.push([l.length-
1,0]),g},k.default.RendererGL.prototype._tesselateShape=function(){for(var d=this,l=(this.immediateMode.shapeMode=f.TRIANGLES,[[]]),h=0;h<this.immediateMode.geometry.vertices.length;h++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===h&&(this.immediateMode.contourIndices.shift(),l.push([])),l[l.length-1].push(this.immediateMode.geometry.vertices[h].x,this.immediateMode.geometry.vertices[h].y,this.immediateMode.geometry.vertices[h].z,this.immediateMode.geometry.uvs[2*
h],this.immediateMode.geometry.uvs[2*h+1],this.immediateMode.geometry.vertexColors[4*h],this.immediateMode.geometry.vertexColors[4*h+1],this.immediateMode.geometry.vertexColors[4*h+2],this.immediateMode.geometry.vertexColors[4*h+3],this.immediateMode.geometry.vertexNormals[h].x,this.immediateMode.geometry.vertexNormals[h].y,this.immediateMode.geometry.vertexNormals[h].z);var g;l=this._triangulate(l);var m=this.immediateMode.geometry.vertices;h=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=
[],this.immediateMode.geometry.uvs=[],[]);for(var t=0,v=l.length;t<v;t+=k.default.RendererGL.prototype.tessyVertexSize)h.push.apply(h,p(l.slice(t+5,t+9))),this.normal.apply(this,p(l.slice(t+9,t+12))),this.vertex.apply(this,p(l.slice(t,t+5)));this.geometryBuilder&&(g=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(w){return w.map(function(z){if(!g.has(z)){var y=m[z],F=d.immediateMode.geometry.vertices.findIndex(function(M){return y.x===M.x&&y.y===M.y&&y.z===
M.z});if(-1===F){F=1/0;for(var D=0,C=0;C<d.immediateMode.geometry.vertices.length;C++){var N=d.immediateMode.geometry.vertices[C],J=y.x-N.x,E=y.y-N.y;N=y.z-N.z;J=J*J+E*E+N*N;J<F&&(F=J,D=C)}F=D}g.set(z,F)}return g.get(z)})}));this.immediateMode.geometry.vertexColors=h},k.default.RendererGL.prototype._drawImmediateFill=function(){var d,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,h=this.GL,g=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,d=this._getImmediateFillShader(),
this._setFillUniforms(d),!0),m=!1,t=void 0;try{for(var v,w=this.immediateMode.buffers.fill[Symbol.iterator]();!(g=(v=w.next()).done);g=!0)v.value._prepareBuffer(this.immediateMode.geometry,d)}catch(z){m=!0,t=z}finally{try{g||null==w.return||w.return()}finally{if(m)throw t;}}if(d.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),1===l)h.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{h.drawArraysInstanced(this.immediateMode.shapeMode,
0,this.immediateMode.geometry.vertices.length,l)}catch(z){console.log("\ud83c\udf38 p5.js says: Instancing is only supported in WebGL2 mode")}d.unbindShader()},k.default.RendererGL.prototype._drawImmediateStroke=function(){var d=this.GL,l=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),h=(this._setStrokeUniforms(l),!0),g=!1,m=void 0;try{for(var t,v=this.immediateMode.buffers.stroke[Symbol.iterator]();!(h=(t=v.next()).done);h=!0)t.value._prepareBuffer(this.immediateMode.geometry,
l)}catch(w){g=!0,m=w}finally{try{h||null==v.return||v.return()}finally{if(g)throw m;}}l.disableRemainingAttributes();this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency());d.drawArrays(d.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3);l.unbindShader()},k.default.RendererGL);q.default=b},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,
"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,
"core-js/modules/web.dom-collections.iterator":246}],340:[function(a,G,q){function x(c){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(c)}function u(c){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(b){return x(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?
"symbol":x(b)})(c)}function r(){var c;return"function"!=typeof WeakMap?null:(c=new WeakMap,r=function(){return c},c)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.some");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");
a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.uint16-array");a("core-js/modules/es.typed-array.uint32-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");
a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");
a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.some");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.string.iterator");
a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.uint16-array");a("core-js/modules/es.typed-array.uint32-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");
a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");
a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var p=(f=a("../core/main"))&&f.__esModule?f:{default:f},k=(a("./p5.RendererGL"),a("./p5.RenderBuffer"),function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==u(c)&&"function"!=typeof c)return{default:c};var b=r();if(b&&b.has(c))return b.get(c);var d,l={},h=Object.defineProperty&&
Object.getOwnPropertyDescriptor;for(d in c){var g;Object.prototype.hasOwnProperty.call(c,d)&&((g=h?Object.getOwnPropertyDescriptor(c,d):null)&&(g.get||g.set)?Object.defineProperty(l,d,g):l[d]=c[d])}l.default=c;b&&b.set(c,l);return l}(a("../core/constants")));p.default.RendererGL.prototype.freeGeometry=function(c){c.gid?this._freeBuffers(c.gid):console.warn("The model you passed to freeGeometry does not have an id!")};p.default.RendererGL.prototype._initBufferDefaults=function(c){var b;return this._freeBuffers(c),
1E3<Object.keys(this.retainedMode.geometry).length&&(b=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(b)),this.retainedMode.geometry[c]={}};p.default.RendererGL.prototype._freeBuffers=function(c){function b(h){var g=!0,m=!1,t=void 0;try{for(var v,w=h[Symbol.iterator]();!(g=(v=w.next()).done);g=!0){var z=v.value;l[z.dst]&&(d.deleteBuffer(l[z.dst]),l[z.dst]=null)}}catch(y){m=!0,t=y}finally{try{g||null==w.return||w.return()}finally{if(m)throw t;}}}var d,l=this.retainedMode.geometry[c];
l&&(delete this.retainedMode.geometry[c],d=this.GL,l.indexBuffer&&d.deleteBuffer(l.indexBuffer),b(this.retainedMode.buffers.stroke),b(this.retainedMode.buffers.fill))};p.default.RendererGL.prototype.createBuffers=function(c,b){var d,l,h,g=this.GL;c=this._initBufferDefaults(c);var m=(c.model=b,c.indexBuffer);return b.faces.length?(m=m||(c.indexBuffer=g.createBuffer()),h=(l=(d=p.default.RendererGL.prototype._flatten(b.faces)).some(function(t){return 65535<t}))?Uint32Array:Uint16Array,this._bindBuffer(m,
g.ELEMENT_ARRAY_BUFFER,d,h),c.indexBufferType=l?g.UNSIGNED_INT:g.UNSIGNED_SHORT,c.vertexCount=3*b.faces.length):(m&&(g.deleteBuffer(m),c.indexBuffer=null),c.vertexCount=b.vertices?b.vertices.length:0),c.lineVertexCount=b.lineVertices?b.lineVertices.length/3:0,c};p.default.RendererGL.prototype.drawBuffers=function(c){var b=this.GL,d=this.retainedMode.geometry[c];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[c].vertexCount){this._useVertexColor=0<d.model.vertexColors.length;var l=
this._getRetainedFillShader(),h=(this._setFillUniforms(l),!0),g=!1,m=void 0;try{for(var t,v=this.retainedMode.buffers.fill[Symbol.iterator]();!(h=(t=v.next()).done);h=!0)t.value._prepareBuffer(d,l)}catch(y){g=!0,m=y}finally{try{h||null==v.return||v.return()}finally{if(g)throw m;}}l.disableRemainingAttributes();d.indexBuffer&&this._bindBuffer(d.indexBuffer,b.ELEMENT_ARRAY_BUFFER);this._applyColorBlend(this.curFillColor,d.model.hasFillTransparency());this._drawElements(b.TRIANGLES,c);l.unbindShader()}if(!this.geometryBuilder&&
this._doStroke&&0<d.lineVertexCount){this._useLineColor=0<d.model.vertexStrokeColors.length;l=this._getRetainedStrokeShader();h=(this._setStrokeUniforms(l),!0);g=!1;m=void 0;try{for(var w,z=this.retainedMode.buffers.stroke[Symbol.iterator]();!(h=(w=z.next()).done);h=!0)w.value._prepareBuffer(d,l)}catch(y){g=!0,m=y}finally{try{h||null==z.return||z.return()}finally{if(g)throw m;}}l.disableRemainingAttributes();this._applyColorBlend(this.curStrokeColor,d.model.hasStrokeTransparency());this._drawArrays(b.TRIANGLES,
c);l.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(d),this};p.default.RendererGL.prototype.drawBuffersScaled=function(c,b,d,l){var h=this.uModelMatrix.copy();try{this.uModelMatrix.scale(b,d,l),this.drawBuffers(c)}finally{this.uModelMatrix=h}};p.default.RendererGL.prototype._drawArrays=function(c,b){return this.GL.drawArrays(c,0,this.retainedMode.geometry[b].lineVertexCount),this};p.default.RendererGL.prototype._drawElements=function(c,b){b=this.retainedMode.geometry[b];
var d=this.GL;if(b.indexBuffer){if(this._pInst.webglVersion!==k.WEBGL2&&b.indexBufferType===d.UNSIGNED_INT&&!d.getExtension("OES_element_index_uint"))throw Error("Unable to render a 3d model with \x3e 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");d.drawElements(d.TRIANGLES,b.vertexCount,b.indexBufferType,0)}else d.drawArrays(c||d.TRIANGLES,0,b.vertexCount)};p.default.RendererGL.prototype._drawPoints=function(c,b){var d=this.GL,l=this._getImmediatePointShader();
this._setPointUniforms(l);this._bindBuffer(b,d.ARRAY_BUFFER,this._vToNArray(c),Float32Array,d.STATIC_DRAW);l.enableAttrib(l.attributes.aPosition,3);this._applyColorBlend(this.curStrokeColor);d.drawArrays(d.Points,0,c.length);l.unbindShader()};var f=p.default.RendererGL;q.default=f},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,
"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,
"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,
"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],
341:[function(a,G,q){function x(R){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(R)}function u(R){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(S){return x(S)}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":x(S)})(R)}function r(){var R;return"function"!=
typeof WeakMap?null:(R=new WeakMap,r=function(){return R},R)}function p(R){return R&&R.__esModule?R:{default:R}}function k(R){if(!(R=function(S){if(Array.isArray(S)){for(var K=0,O=Array(S.length);K<S.length;K++)O[K]=S[K];return O}}(R)||function(S){if(Symbol.iterator in Object(S)||"[object Arguments]"===Object.prototype.toString.call(S))return Array.from(S)}(R)))throw new TypeError("Invalid attempt to spread non-iterable instance");return R}function f(R,S){for(var K=0;K<S.length;K++){var O=S[K];O.enumerable=
O.enumerable||!1;O.configurable=!0;"value"in O&&(O.writable=!0);Object.defineProperty(R,O.key,O)}}function c(R,S,K){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(O,I,P){for(;!Object.prototype.hasOwnProperty.call(O,I)&&null!==(O=h(O)););if(O)return(O=Object.getOwnPropertyDescriptor(O,I)).get?O.get.call(P):O.value})(R,S,K||R)}function b(R,S){return(b=Object.setPrototypeOf||function(K,O){return K.__proto__=O,K})(R,S)}function d(R){return function(){var S,K,O=h(R);return S=function(){if("undefined"!=
typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(I){}}}()?(S=h(this).constructor,Reflect.construct(O,arguments,S)):O.apply(this,arguments),O=this,!(K=S)||"object"!==u(K)&&"function"!=typeof K?l(O):K}}function l(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function h(R){return(h=Object.setPrototypeOf?
Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(R)}function g(R,S,K){S in R?Object.defineProperty(R,S,{value:K,enumerable:!0,configurable:!0,writable:!0}):R[S]=K}function m(R,S){M+="#define STROKE_CAP_".concat(R," ").concat(S,"\n");J[y[R]]=S}function t(R,S){M+="#define STROKE_JOIN_".concat(R," ").concat(S,"\n");E[y[R]]=S}function v(R,S,K,O,I,P,X,ca,ia,da){var ba=S.getParameter(S.FRAMEBUFFER_BINDING);K=(S.bindFramebuffer(S.FRAMEBUFFER,K),ca===S.RGBA?4:3);var ja=P*X*
K,qa=ia===S.UNSIGNED_BYTE?Uint8Array:Float32Array;if(R instanceof qa&&R.length===ja||(R=new qa(ja)),S.readPixels(O,da?da-I-X:I,P,X,ca,ia,R),S.bindFramebuffer(S.FRAMEBUFFER,ba),da)for(S=Math.floor(X/2),K=new qa(P*K),qa=0;qa<S;qa++)O=qa*P*4,I=(X-qa-1)*P*4,K.set(R.subarray(O,O+4*P)),R.copyWithin(O,I,I+4*P),R.set(K,I);return R}function w(R,S,K,O,I,P,X){var ca=R.getParameter(R.FRAMEBUFFER_BINDING);S=(R.bindFramebuffer(R.FRAMEBUFFER,S),I===R.RGBA?4:3);S=new (P===R.UNSIGNED_BYTE?Uint8Array:Float32Array)(S);
return R.readPixels(K,X?X-O-1:O,1,1,I,P,S),R.bindFramebuffer(R.FRAMEBUFFER,ca),Array.from(S)}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.copy-within");a("core-js/modules/es.array.every");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.flat");a("core-js/modules/es.array.flat-map");a("core-js/modules/es.array.from");a("core-js/modules/es.array.includes");
a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.some");a("core-js/modules/es.array.unscopables.flat");a("core-js/modules/es.array.unscopables.flat-map");a("core-js/modules/es.map");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.reflect.get");
a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.set");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.float64-array");a("core-js/modules/es.typed-array.int16-array");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.uint16-array");a("core-js/modules/es.typed-array.uint32-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");
a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");
a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");
a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.copy-within");a("core-js/modules/es.array.every");a("core-js/modules/es.array.fill");a("core-js/modules/es.array.flat");a("core-js/modules/es.array.flat-map");a("core-js/modules/es.array.from");a("core-js/modules/es.array.includes");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.map");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.some");
a("core-js/modules/es.array.unscopables.flat");a("core-js/modules/es.array.unscopables.flat-map");a("core-js/modules/es.map");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.to-string");a("core-js/modules/es.set");a("core-js/modules/es.string.includes");a("core-js/modules/es.string.iterator");a("core-js/modules/es.typed-array.float32-array");a("core-js/modules/es.typed-array.float64-array");a("core-js/modules/es.typed-array.int16-array");a("core-js/modules/es.typed-array.uint8-array");
a("core-js/modules/es.typed-array.uint16-array");a("core-js/modules/es.typed-array.uint32-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");
a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");
a("core-js/modules/es.typed-array.to-string");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.readPixelsWebGL=v;q.readPixelWebGL=w;q.default=void 0;var z=p(a("../core/main")),y=function(R){if(R&&R.__esModule)return R;if(null===R||"object"!==u(R)&&"function"!=typeof R)return{default:R};var S=r();if(S&&S.has(R))return S.get(R);var K,O={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(K in R){var P;Object.prototype.hasOwnProperty.call(R,
K)&&((P=I?Object.getOwnPropertyDescriptor(R,K):null)&&(P.get||P.set)?Object.defineProperty(O,K,P):O[K]=R[K])}O.default=R;S&&S.set(R,O);return O}(a("../core/constants")),F=p(a("./GeometryBuilder")),D=p(a("libtess")),C=(a("./p5.Shader"),a("./p5.Camera"),a("../core/p5.Renderer"),a("./p5.Matrix"),a("./p5.Framebuffer"),a("path"),a("./p5.Texture")),N,J={},E={},M="";a=(m("ROUND",0),m("PROJECT",1),m("SQUARE",2),t("ROUND",0),t("MITER",1),t("BEVEL",2),'#define PI 3.141592\n\nprecision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\nuniform mat3 uCameraRotation;\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\nuniform float uMetallic;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\n// setting from  _setImageLightUniforms()\n// boolean to initiate the calculateImageDiffuse and calculateImageSpecular\nuniform bool uUseImageLight;\n// texture for use in calculateImageDiffuse\nuniform sampler2D environmentMapDiffused;\n// texture for use in calculateImageSpecular\nuniform sampler2D environmentMapSpecular;\n\nconst float specularFactor \x3d 2.0;\nconst float diffuseFactor \x3d 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R \x3d reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {\n\n  vec3 lightDir \x3d normalize(lightVector);\n\n  //compute our diffuse \x26 specular terms\n  LightResult lr;\n  float specularIntensity \x3d mix(1.0, 0.4, metallic);\n  float diffuseIntensity \x3d mix(1.0, 0.1, metallic);\n  if (uSpecular)\n    lr.specular \x3d (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;\n    lr.diffuse \x3d _lambertDiffuse(lightDir, normal) * diffuseIntensity;\n  return lr;\n}\n\n// converts the range of "value" from [min1 to max1] to [min2 to max2]\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 mapTextureToNormal( vec3 v ){\n  // x \x3d r sin(phi) cos(theta)   \n  // y \x3d r cos(phi)  \n  // z \x3d r sin(phi) sin(theta)\n  float phi \x3d acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta \x3d 0.0;\n  // else \n  theta \x3d acos(v.x / sin(phi));\n  float sinTheta \x3d v.z / sin(phi);\n  if (sinTheta \x3c 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta \x3d 2.0 * PI - theta;\n  }\n  theta \x3d theta / (2.0 * 3.14159);\n  phi \x3d phi / 3.14159 ;\n  \n  vec2 angles \x3d vec2( fract(theta + 0.25), 1.0 - phi );\n  return angles;\n}\n\n\nvec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){\n  // make 2 separate builds \n  vec3 worldCameraPosition \x3d  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position\n  vec3 worldNormal \x3d normalize(vNormal * uCameraRotation);\n  vec2 newTexCoor \x3d mapTextureToNormal( worldNormal );\n  vec4 texture \x3d TEXTURE( environmentMapDiffused, newTexCoor );\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);\n}\n\nvec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){\n  vec3 worldCameraPosition \x3d  vec3(0.0, 0.0, 0.0);\n  vec3 worldNormal \x3d normalize(vNormal);\n  vec3 lightDirection \x3d normalize( vViewPosition - worldCameraPosition );\n  vec3 R \x3d reflect(lightDirection, worldNormal) * uCameraRotation;\n  vec2 newTexCoor \x3d mapTextureToNormal( R );\n#ifdef WEBGL2\n  // In p5js the range of shininess is \x3e\x3d 1,\n  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]\n  // The factor of 8 is because currently the getSpecularTexture\n  // only calculated 8 different levels of roughness\n  // The factor of 20 is just to spread up this range so that,\n  // [1, max] of shininess is converted to [0,160] of roughness\n  float roughness \x3d 20. / shininess;\n  vec4 outColor \x3d textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);\n#else\n  vec4 outColor \x3d TEXTURE(environmentMapSpecular, newTexCoor);\n#endif\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(\n    pow(outColor.xyz, vec3(10)),\n    pow(outColor.xyz, vec3(1.2)),\n    metallic \n  );\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  float shininess,\n  float metallic,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular \x3d vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse \x3d vec3(1.0);\n    return;\n  }\n\n  totalDiffuse \x3d vec3(0.0);\n\n  vec3 viewDirection \x3d normalize(-modelPosition);\n\n  for (int j \x3d 0; j \x3c 5; j++) {\n    if (j \x3c uDirectionalLightCount) {\n      vec3 lightVector \x3d (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor \x3d uDirectionalDiffuseColors[j];\n      vec3 specularColor \x3d uDirectionalSpecularColors[j];\n      LightResult result \x3d _light(viewDirection, normal, lightVector, shininess, metallic);\n      totalDiffuse +\x3d result.diffuse * lightColor;\n      totalSpecular +\x3d result.specular * lightColor * specularColor;\n    }\n\n    if (j \x3c uPointLightCount) {\n      vec3 lightPosition \x3d (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector \x3d modelPosition - lightPosition;\n      //calculate attenuation\n      float lightDistance \x3d length(lightVector);\n      float lightFalloff \x3d 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor \x3d lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor \x3d lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result \x3d _light(viewDirection, normal, lightVector, shininess, metallic);\n      totalDiffuse +\x3d result.diffuse * lightColor;\n      totalSpecular +\x3d result.specular * lightColor * specularColor;\n    }\n\n    if(j \x3c uSpotLightCount) {\n      vec3 lightPosition \x3d (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector \x3d modelPosition - lightPosition;\n    \n      float lightDistance \x3d length(lightVector);\n      float lightFalloff \x3d 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection \x3d (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot \x3d dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot \x3c uSpotLightAngle[j]) {\n        spotFalloff \x3d 0.0;\n      }\n      else {\n        spotFalloff \x3d pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *\x3d spotFalloff;\n\n      vec3 lightColor \x3d uSpotLightDiffuseColors[j];\n      vec3 specularColor \x3d uSpotLightSpecularColors[j];\n     \n      LightResult result \x3d _light(viewDirection, normal, lightVector, shininess, metallic);\n      \n      totalDiffuse +\x3d result.diffuse * lightColor * lightFalloff;\n      totalSpecular +\x3d result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  if( uUseImageLight ){\n    totalDiffuse +\x3d calculateImageDiffuse(normal, modelPosition, metallic);\n    totalSpecular +\x3d calculateImageSpecular(normal, modelPosition, shininess, metallic);\n  }\n\n  totalDiffuse *\x3d diffuseFactor;\n  totalSpecular *\x3d specularFactor;\n}\n');
var Q={sphereMappingFrag:"#define PI 3.141592\n\nprecision highp float;\n  \nuniform sampler2D uSampler;\nuniform mat3 uNewNormalMatrix;\nuniform float uFovY;\nuniform float uAspect;\n\nvarying vec2 vTexCoord;\n  \nvoid main() {\n    float uFovX \x3d uFovY * uAspect; \n    vec4 newTexColor \x3d texture2D(uSampler, vTexCoord);\n    float angleY \x3d mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);\n    float angleX \x3d mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);\n    vec3 rotatedNormal \x3d vec3( angleX, angleY, 1.0 );\n    rotatedNormal \x3d uNewNormalMatrix * normalize(rotatedNormal);\n    float temp \x3d rotatedNormal.z;\n    rotatedNormal.z \x3d rotatedNormal.x;\n    rotatedNormal.x \x3d -temp;\n    vec2 suv;\n    suv.y \x3d 0.5 + 0.5 * (-rotatedNormal.y);\n    suv.x \x3d atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;\n    newTexColor \x3d texture2D(uSampler, suv.xy);\n    gl_FragColor \x3d newTexColor;\n}\n",
immediateVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nOUT vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 \x3d vec4(aPosition, 1.0);\n  gl_Position \x3d uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor \x3d aVertexColor;\n  gl_PointSize \x3d uPointSize;\n}\n",vertexColorVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 \x3d vec4(aPosition, 1.0);\n  gl_Position \x3d uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor \x3d aVertexColor;\n}\n",
vertexColorFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR \x3d vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"IN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nOUT vec3 vVertexNormal;\nOUT highp vec2 vVertTexCoord;\nOUT vec4 vColor;\n\nvoid main(void) {\n  HOOK_beforeVertex();\n  vec4 positionVec4 \x3d vec4(HOOK_getWorldPosition(\n    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz\n  ), 1.);\n\n  gl_Position \x3d uProjectionMatrix * positionVec4;\n\n  vVertexNormal \x3d HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));\n  vVertTexCoord \x3d HOOK_getUV(aTexCoord);\n  vColor \x3d HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);\n  HOOK_afterVertex();\n}\n",
normalFrag:"IN vec3 vVertexNormal;\nvoid main(void) {\n  HOOK_beforeFragment();\n  OUT_COLOR \x3d HOOK_getFinalColor(vec4(vVertexNormal, 1.0));\n  HOOK_afterFragment();\n}\n",basicFrag:"IN vec4 vColor;\nvoid main(void) {\n  HOOK_beforeFragment();\n  OUT_COLOR \x3d HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);\n  HOOK_afterFragment();\n}\n",lightVert:a+"// include lighting.glgl\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT highp vec2 vVertTexCoord;\nOUT vec3 vDiffuseColor;\nOUT vec3 vSpecularColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition \x3d uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position \x3d uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal \x3d normalize(uNormalMatrix * aNormal);\n  vVertTexCoord \x3d aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i \x3d 0; i \x3c 8; i++) {\n    if (i \x3c uAmbientLightCount) {\n      vDiffuseColor +\x3d uAmbientColor[i];\n    }\n  }\n  \n  vColor \x3d (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",
lightTextureFrag:"uniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nIN highp vec2 vVertTexCoord;\nIN vec3 vDiffuseColor;\nIN vec3 vSpecularColor;\nIN vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive \x26\x26 !isTexture) {\n    OUT_COLOR \x3d vColor;\n  }\n  else {\n    vec4 baseColor \x3d isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    OUT_COLOR \x3d vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",
phongVert:"precision highp int;\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT vec3 vNormal;\nOUT vec2 vTexCoord;\nOUT vec3 vViewPosition;\nOUT vec3 vAmbientColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n  HOOK_beforeVertex();\n  vec4 viewModelPosition \x3d vec4(HOOK_getWorldPosition(\n    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz\n  ), 1.);\n\n  // Pass varyings to fragment shader\n  vViewPosition \x3d viewModelPosition.xyz;\n  gl_Position \x3d uProjectionMatrix * viewModelPosition;  \n\n  vNormal \x3d HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));\n  vTexCoord \x3d HOOK_getUV(aTexCoord);\n\n  // TODO: this should be a uniform\n  vAmbientColor \x3d vec3(0.0);\n  for (int i \x3d 0; i \x3c 5; i++) {\n    if (i \x3c uAmbientLightCount) {\n      vAmbientColor +\x3d uAmbientColor[i];\n    }\n  }\n  \n  vColor \x3d HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));\n  HOOK_afterVertex();\n}\n",
phongFrag:a+"// include lighting.glsl\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nIN vec3 vNormal;\nIN vec2 vTexCoord;\nIN vec3 vViewPosition;\nIN vec3 vAmbientColor;\nIN vec4 vColor;\n\nstruct ColorComponents {\n  vec3 baseColor;\n  float opacity;\n  vec3 ambientColor;\n  vec3 specularColor;\n  vec3 diffuse;\n  vec3 ambient;\n  vec3 specular;\n  vec3 emissive;\n};\n\nstruct Inputs {\n  vec3 normal;\n  vec2 texCoord;\n  vec3 ambientLight;\n  vec3 ambientMaterial;\n  vec3 specularMaterial;\n  vec3 emissiveMaterial;\n  vec4 color;\n  float shininess;\n  float metalness;\n};\n\nvoid main(void) {\n  HOOK_beforeFragment();\n\n  Inputs inputs;\n  inputs.normal \x3d normalize(vNormal);\n  inputs.texCoord \x3d vTexCoord;\n  inputs.ambientLight \x3d vAmbientColor;\n  inputs.color \x3d isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n  inputs.shininess \x3d uShininess;\n  inputs.metalness \x3d uMetallic;\n  inputs.ambientMaterial \x3d uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;\n  inputs.specularMaterial \x3d uSpecularMatColor.rgb;\n  inputs.emissiveMaterial \x3d uEmissiveMatColor.rgb;\n  inputs \x3d HOOK_getPixelInputs(inputs);\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec2 texCoord \x3d inputs.texCoord;\n  vec4 baseColor \x3d inputs.color;\n  ColorComponents c;\n  c.opacity \x3d baseColor.a;\n  c.baseColor \x3d baseColor.rgb;\n  c.ambientColor \x3d inputs.ambientMaterial;\n  c.specularColor \x3d inputs.specularMaterial;\n  c.diffuse \x3d diffuse;\n  c.ambient \x3d inputs.ambientLight;\n  c.specular \x3d specular;\n  c.emissive \x3d inputs.emissiveMaterial;\n  OUT_COLOR \x3d HOOK_getFinalColor(HOOK_combineColors(c));\n  HOOK_afterFragment();\n}\n",
fontVert:"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 \x3d vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *\x3d uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec3 newOrigin \x3d (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;\n  vec3 newDX \x3d (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;\n  vec3 newDY \x3d (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;\n  vec2 pixelScale \x3d vec2(\n    1. / length(newOrigin - newDX),\n    1. / length(newOrigin - newDY)\n  );\n  vec2 offset \x3d pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset \x3d offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy +\x3d uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x +\x3d uGlyphOffset;\n\n  positionVec4.xy +\x3d offset;\n  \n  gl_Position \x3d uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord \x3d aTexCoord + textureOffset;\n  w \x3d gl_Position.w;\n}\n",
fontFrag:"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv \x3d ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage \x3d vec2(0.0);\nvec2 weight \x3d vec2(0.5);\nconst float minDistance \x3d 1.0/8192.0;\nconst float hardness \x3d 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N \x3d INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width \x3d size.x;\n  int y \x3d ifloor(pos / width);\n  int x \x3d pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a \x3d p0 - p1 * 2.0 + p2;\n  vec2 b \x3d p0 - p1;\n  vec2 c \x3d p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd \x3d sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 \x3d ((b - surd) / a).yx;\n  vec2 t2 \x3d ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) \x3c 0.001)\n    t1.x \x3d t2.x \x3d c.y / (2.0 * b.y);\n\n  if (abs(a.x) \x3c 0.001)\n    t1.y \x3d t2.y \x3d c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 \x3d ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 \x3d ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 \x3d p0.y \x3e vTexCoord.y;\n  bool y1 \x3d p1.y \x3e vTexCoord.y;\n  bool y2 \x3d p2.y \x3e vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x +\x3d saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x \x3d min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -\x3d saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x \x3d min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 \x3d p0.x \x3e vTexCoord.x;\n  bool x1 \x3d p1.x \x3e vTexCoord.x;\n  bool x2 \x3d p2.x \x3e vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -\x3d saturate(C1.y + 0.5);\n    weight.y \x3d min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y +\x3d saturate(C2.y + 0.5);\n    weight.y \x3d min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale \x3d hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord \x3d ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex \x3d gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo \x3d getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex \x3d getInt16(rowInfo.xy);\n    int rowStrokeCount \x3d getInt16(rowInfo.zw);\n\n    for (int iRowStroke \x3d INT(0); iRowStroke \x3c N; iRowStroke++) {\n      if (iRowStroke \x3e\x3d rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices \x3d getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos \x3d getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 \x3d getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 \x3d getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex \x3d gridCoord.x + uGridOffset.x;\n    vec4 colInfo \x3d getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex \x3d getInt16(colInfo.xy);\n    int colStrokeCount \x3d getInt16(colInfo.zw);\n    \n    for (int iColStroke \x3d INT(0); iColStroke \x3c N; iColStroke++) {\n      if (iColStroke \x3e\x3d colStrokeCount)\n        break;\n\n      vec4 strokeIndices \x3d getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos \x3d getInt16(strokeIndices.xy);\n      vec4 stroke0 \x3d getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 \x3d getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight \x3d saturate(1.0 - weight * 2.0);\n  float distance \x3d max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias \x3d abs(dot(coverage, weight) / distance);\n  float cover \x3d min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR \x3d vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *\x3d saturate(max(antialias, cover));\n}\n",
lineVert:M+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision highp int;\nprecision highp float;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nIN vec4 aPosition;\nIN vec3 aTangentIn;\nIN vec3 aTangentOut;\nIN float aSide;\nIN vec4 aVertexColor;\n\nOUT vec4 vColor;\nOUT vec2 vTangent;\nOUT vec2 vCenter;\nOUT vec2 vPosition;\nOUT float vMaxDist;\nOUT float vCap;\nOUT float vJoin;\nOUT float vStrokeWeight;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -\x3d aPoint;\n  vec2 rotatedBFrom \x3d vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo \x3d bPoint + bDir;\n  vec2 rotatedBTo \x3d vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance \x3d\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  HOOK_beforeVertex();\n  // Caps have one of either the in or out tangent set to 0\n  vCap \x3d (aTangentIn \x3d\x3d vec3(0.)) !\x3d (aTangentOut \x3d\x3d (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin \x3d (\n    aTangentIn !\x3d vec3(0.) \x26\x26\n    aTangentOut !\x3d vec3(0.) \x26\x26\n    aTangentIn !\x3d aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 localPosition \x3d vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);\n  vec4 posp \x3d vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);\n  vec4 posqIn \x3d posp + uModelViewMatrix * vec4(aTangentIn, 0);\n  vec4 posqOut \x3d posp + uModelViewMatrix * vec4(aTangentOut, 0);\n  float strokeWeight \x3d HOOK_getStrokeWeight(uStrokeWeight);\n  vStrokeWeight \x3d strokeWeight;\n\n  float facingCamera \x3d pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // A mix of scaling and offsetting is used based on distance\n  // Discussion here:\n  // https://github.com/processing/p5.js/issues/7200 \n\n  // using a scale \x3c1 moves the lines towards nearby camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  float zDistance \x3d -posp.z; \n  float distanceFactor \x3d smoothstep(0.0, 800.0, zDistance); \n  \n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb\x3dshowflat\x26Number\x3d252848  \n  float scale \x3d mix(1., 0.995, facingCamera);\n  float dynamicScale \x3d mix(scale, 1.0, distanceFactor); // Closer \x3d more scale, farther \x3d less\n\n  posp.xyz \x3d posp.xyz * dynamicScale;\n  posqIn.xyz \x3d posqIn.xyz * dynamicScale;\n  posqOut.xyz \x3d posqOut.xyz * dynamicScale;\n\n  // Moving vertices slightly toward camera when far away \n  // https://github.com/processing/p5.js/issues/6956 \n  float zOffset \x3d mix(0., -1., facingCamera);\n  float dynamicZAdjustment \x3d mix(0.0, zOffset, distanceFactor); // Closer \x3d less zAdjustment, farther \x3d more\n\n  posp.z -\x3d dynamicZAdjustment;\n  posqIn.z -\x3d dynamicZAdjustment;\n  posqOut.z -\x3d dynamicZAdjustment;\n  \n  vec4 p \x3d uProjectionMatrix * posp;\n  vec4 qIn \x3d uProjectionMatrix * posqIn;\n  vec4 qOut \x3d uProjectionMatrix * posqOut;\n  vCenter \x3d HOOK_getLineCenter(p.xy);\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p \x3d (p.xy/p.w + \x3c1,1\x3e) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t \x3d screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t \x3d +- normalize( screen_q - screen_p )\n  // t \x3d +- normalize( (q.xy/q.w+\x3c1,1\x3e)*0.5*uViewport.zw - (p.xy/p.w+\x3c1,1\x3e)*0.5*uViewport.zw )\n  //\n  // extract common factor, \x3c1,1\x3e - \x3c1,1\x3e cancels out\n  // t \x3d +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t \x3d +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t \x3d +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn \x3d normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut \x3d normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective \x3d\x3d 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n\n    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.\n    // Multiplying again by its sign here negates the flip to get just the scale.\n    curPerspScale \x3d (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale \x3d p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin \x3d\x3d 1.) {\n    vTangent \x3d normalize(tangentIn + tangentOut);\n    vec2 normalIn \x3d vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut \x3d vec2(-tangentOut.y, tangentOut.x);\n    float side \x3d sign(aSide);\n    float sideEnum \x3d abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) !\x3d side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum \x3d\x3d 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c \x3d (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection \x3d lineIntersection(\n          c + (side * normalIn * strokeWeight / 2.),\n          tangentIn,\n          c + (side * normalOut * strokeWeight / 2.),\n          tangentOut\n        );\n        offset \x3d (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag \x3d length(offset);\n        float maxMag \x3d 3. * strokeWeight;\n        if (mag \x3e maxMag) {\n          offset *\x3d maxMag / mag;\n        }\n      } else if (sideEnum \x3d\x3d 1.) {\n        offset \x3d side * normalIn * strokeWeight / 2.;\n      } else if (sideEnum \x3d\x3d 3.) {\n        offset \x3d side * normalOut * strokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin \x3d\x3d STROKE_JOIN_BEVEL) {\n      vec2 avgNormal \x3d vec2(-vTangent.y, vTangent.x);\n      vMaxDist \x3d abs(dot(avgNormal, normalIn * strokeWeight / 2.));\n    } else {\n      vMaxDist \x3d strokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent \x3d aTangentIn \x3d\x3d vec3(0.) ? tangentOut : tangentIn;\n    vTangent \x3d tangent;\n    vec2 normal \x3d vec2(-tangent.y, tangent.x);\n\n    float normalOffset \x3d sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset \x3d abs(aSide) - 1.;\n    offset \x3d (normal * normalOffset + tangent * tangentOffset) *\n      strokeWeight * 0.5;\n    vMaxDist \x3d strokeWeight / 2.;\n  }\n  vPosition \x3d HOOK_getLinePosition(vCenter + offset);\n\n  gl_Position.xy \x3d p.xy + offset.xy * curPerspScale;\n  gl_Position.zw \x3d p.zw;\n  \n  vColor \x3d HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);\n  HOOK_afterVertex();\n}\n",
lineFrag:M+"precision highp int;\nprecision highp float;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\n\nIN vec4 vColor;\nIN vec2 vTangent;\nIN vec2 vCenter;\nIN vec2 vPosition;\nIN float vStrokeWeight;\nIN float vMaxDist;\nIN float vCap;\nIN float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB \x3d b - a;\n  return dot(aToB, aToB);\n}\n\nstruct Inputs {\n  vec4 color;\n  vec2 tangent;\n  vec2 center;\n  vec2 position;\n  float strokeWeight;\n};\n\nvoid main() {\n  HOOK_beforeFragment();\n\n  Inputs inputs;\n  inputs.color \x3d vColor;\n  inputs.tangent \x3d vTangent;\n  inputs.center \x3d vCenter;\n  inputs.position \x3d vPosition;\n  inputs.strokeWeight \x3d vStrokeWeight;\n  inputs \x3d HOOK_getPixelInputs(inputs);\n\n  if (vCap \x3e 0.) {\n    if (\n      uStrokeCap \x3d\x3d STROKE_CAP_ROUND \x26\x26\n      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) \x3e inputs.strokeWeight * inputs.strokeWeight * 0.25)\n    ) {\n      discard;\n    } else if (\n      uStrokeCap \x3d\x3d STROKE_CAP_SQUARE \x26\x26\n      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) \x3e 0.)\n    ) {\n      discard;\n    // Use full area for PROJECT\n    } else if (HOOK_shouldDiscard(false)) {\n      discard;\n    }\n  } else if (vJoin \x3e 0.) {\n    if (\n      uStrokeJoin \x3d\x3d STROKE_JOIN_ROUND \x26\x26\n      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) \x3e inputs.strokeWeight * inputs.strokeWeight * 0.25)\n    ) {\n      discard;\n    } else if (uStrokeJoin \x3d\x3d STROKE_JOIN_BEVEL) {\n      vec2 normal \x3d vec2(-inputs.tangent.y, inputs.tangent.x);\n      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) \x3e vMaxDist)) {\n        discard;\n      }\n    // Use full area for MITER\n    } else if (HOOK_shouldDiscard(false)) {\n      discard;\n    }\n  }\n  OUT_COLOR \x3d HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);\n  HOOK_afterFragment();\n}\n",
pointVert:"IN vec3 aPosition;\nuniform float uPointSize;\nOUT float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvoid main() {\n  HOOK_beforeVertex();\n  vec4 viewModelPosition \x3d vec4(HOOK_getWorldPosition(\n    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz\n  ), 1.);\n  gl_Position \x3d uProjectionMatrix * viewModelPosition;  \n\n  float pointSize \x3d HOOK_getPointSize(uPointSize);\n\n\tgl_PointSize \x3d pointSize;\n\tvStrokeWeight \x3d pointSize;\n  HOOK_afterVertex();\n}\n",
pointFrag:"precision mediump int;\nuniform vec4 uMaterialColor;\nIN float vStrokeWeight;\n\nvoid main(){\n  HOOK_beforeFragment();\n  float mask \x3d 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask \x3d step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask \x3d mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(HOOK_shouldDiscard(mask \x3e 0.98)){\n    discard;\n  }\n\n  OUT_COLOR \x3d HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);\n  HOOK_afterFragment();\n}\n",
imageLightVert:"precision highp float;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nvarying vec3 localPos;\nvarying vec3 vWorldNormal;\nvarying vec3 vWorldPosition;\nvarying vec2 vTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  vec4 viewModelPosition \x3d uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position \x3d uProjectionMatrix * viewModelPosition;  \n  \n  // orient the normals and pass to the fragment shader\n  vWorldNormal \x3d uNormalMatrix * aNormal;\n  \n  // send the view position to the fragment shader\n  vWorldPosition \x3d (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;\n  \n  localPos \x3d vWorldPosition;\n  vTexCoord \x3d aTexCoord;\n}\n\n\n/*\nin the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.\n*/\n",
imageLightDiffusedFrag:"precision highp float;\nvarying vec3 localPos;\n\n// the HDR cubemap converted (can be from an equirectangular environment map.)\nuniform sampler2D environmentMap;\nvarying vec2 vTexCoord;\n\nconst float PI \x3d 3.14159265359;\n\nvec2 nTOE( vec3 v ){\n  // x \x3d r sin(phi) cos(theta)   \n  // y \x3d r cos(phi)  \n  // z \x3d r sin(phi) sin(theta)\n  float phi \x3d acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta \x3d 0.0;\n  // else \n  theta \x3d acos(v.x / sin(phi));\n  float sinTheta \x3d v.z / sin(phi);\n  if (sinTheta \x3c 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta \x3d 2.0 * PI - theta;\n  }\n  theta \x3d theta / (2.0 * 3.14159);\n  phi \x3d phi / 3.14159 ;\n  \n  vec2 angles \x3d vec2( phi, theta );\n  return angles;\n}\n\nfloat random(vec2 p) {\n  vec3 p3  \x3d fract(vec3(p.xyx) * .1031);\n  p3 +\x3d dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvoid main()\n{   \t \n\t// the sample direction equals the hemisphere's orientation\n  float phi \x3d vTexCoord.x * 2.0 * PI;\n  float theta \x3d vTexCoord.y * PI;\n  float x \x3d sin(theta) * cos(phi);\n  float y \x3d sin(theta) * sin(phi);\n  float z \x3d cos(theta);\n  vec3 normal \x3d vec3( x, y, z);\n\n\t// Discretely sampling the hemisphere given the integral's\n  // spherical coordinates translates to the following fragment code:\n\tvec3 irradiance \x3d vec3(0.0);  \n\tvec3 up\t\x3d vec3(0.0, 1.0, 0.0);\n\tvec3 right \x3d normalize(cross(up, normal));\n\tup \x3d normalize(cross(normal, right));\n\n\t//  We specify a fixed sampleDelta delta value to traverse\n  // the hemisphere; decreasing or increasing the sample delta\n  // will increase or decrease the accuracy respectively.\n\tconst float sampleDelta \x3d 0.100;\n\tfloat nrSamples \x3d 0.0;\n  float randomOffset \x3d random(gl_FragCoord.xy) * sampleDelta;\n\tfor(float rawPhi \x3d 0.0; rawPhi \x3c 2.0 * PI; rawPhi +\x3d sampleDelta)\n\t{\n    float phi \x3d rawPhi + randomOffset;\n    for(float rawTheta \x3d 0.0; rawTheta \x3c ( 0.5 ) * PI; rawTheta +\x3d sampleDelta)\n    {\n      float theta \x3d rawTheta + randomOffset;\n      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance\n      float x \x3d sin(theta) * cos(phi);\n      float y \x3d sin(theta) * sin(phi);\n      float z \x3d cos(theta);\n      vec3 tangentSample \x3d vec3( x, y, z);\n      \n      vec3 sampleVec \x3d tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;\n        irradiance +\x3d (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);\n      nrSamples++;\n    }\n\t}\n\t// divide by the total number of samples taken, giving us the average sampled irradiance.\n\tirradiance \x3d PI * irradiance * (1.0 / float(nrSamples )) ;\n  \n \n\tgl_FragColor \x3d vec4(irradiance, 1.0);\n}",
imageLightSpecularFrag:"precision highp float;\r\nvarying vec3 localPos;\r\nvarying vec2 vTexCoord;\r\n\r\n// our texture\r\nuniform sampler2D environmentMap;\r\nuniform float roughness;\r\n\r\nconst float PI \x3d 3.14159265359;\r\n\r\nfloat VanDerCorput(int bits);\r\nvec2 HammersleyNoBitOps(int i, int N);\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r\n\r\n\r\nvec2 nTOE( vec3 v ){\r\n  // x \x3d r sin(phi) cos(theta)   \r\n  // y \x3d r cos(phi)  \r\n  // z \x3d r sin(phi) sin(theta)\r\n  float phi \x3d acos( v.y );\r\n  // if phi is 0, then there are no x, z components\r\n  float theta \x3d 0.0;\r\n  // else \r\n  theta \x3d acos(v.x / sin(phi));\r\n  float sinTheta \x3d v.z / sin(phi);\r\n  if (sinTheta \x3c 0.0) {\r\n    // Turn it into -theta, but in the 0-2PI range\r\n    theta \x3d 2.0 * PI - theta;\r\n  }\r\n  theta \x3d theta / (2.0 * 3.14159);\r\n  phi \x3d phi / 3.14159 ;\r\n  \r\n  vec2 angles \x3d vec2( phi, theta );\r\n  return angles;\r\n}\r\n\r\n\r\nvoid main(){\r\n  const int SAMPLE_COUNT \x3d 400; // 4096\r\n  int lowRoughnessLimit \x3d int(pow(2.0,(roughness+0.1)*20.0));\r\n  float totalWeight \x3d 0.0;\r\n  vec3 prefilteredColor \x3d vec3(0.0);\r\n  float phi \x3d vTexCoord.x * 2.0 * PI;\r\n  float theta \x3d vTexCoord.y * PI;\r\n  float x \x3d sin(theta) * cos(phi);\r\n  float y \x3d sin(theta) * sin(phi);\r\n  float z \x3d cos(theta);\r\n  vec3 N \x3d vec3(x,y,z);\r\n  vec3 V \x3d N;\r\n  for (int i \x3d 0; i \x3c SAMPLE_COUNT; ++i)\r\n  {\r\n    // break at smaller sample numbers for low roughness levels\r\n    if(i \x3d\x3d lowRoughnessLimit)\r\n    {\r\n      break;\r\n    }\r\n    vec2 Xi \x3d HammersleyNoBitOps(i, SAMPLE_COUNT);\r\n    vec3 H \x3d ImportanceSampleGGX(Xi, N, roughness);\r\n    vec3 L \x3d normalize(2.0 * dot(V, H) * H - V);\r\n\r\n    float NdotL \x3d max(dot(N, L), 0.0);\r\n    if (NdotL \x3e 0.0)\r\n    {\r\n      prefilteredColor +\x3d texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r\n      totalWeight +\x3d NdotL;\r\n    }\r\n  }\r\n  prefilteredColor \x3d prefilteredColor / totalWeight;\r\n\r\n  gl_FragColor \x3d vec4(prefilteredColor, 1.0);\r\n}\r\n\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r\n  float a \x3d roughness * roughness;\r\n\r\n  float phi \x3d 2.0 * PI * Xi.x;\r\n  float cosTheta \x3d sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r\n  float sinTheta \x3d sqrt(1.0 - cosTheta * cosTheta);\r\n  // from spherical coordinates to cartesian coordinates\r\n  vec3 H;\r\n  H.x \x3d cos(phi) * sinTheta;\r\n  H.y \x3d sin(phi) * sinTheta;\r\n  H.z \x3d cosTheta;\r\n\r\n  // from tangent-space vector to world-space sample vector\r\n  vec3 up \x3d abs(N.z) \x3c 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r\n  vec3 tangent \x3d normalize(cross(up, N));\r\n  vec3 bitangent \x3d cross(N, tangent);\r\n\r\n  vec3 sampleVec \x3d tangent * H.x + bitangent * H.y + N * H.z;\r\n  return normalize(sampleVec);\r\n}\r\n\r\n\r\nfloat VanDerCorput(int n, int base)\r\n{\r\n#ifdef WEBGL2\r\n\r\n    uint bits \x3d uint(n);\r\n    bits \x3d (bits \x3c\x3c 16u) | (bits \x3e\x3e 16u);\r\n    bits \x3d ((bits \x26 0x55555555u) \x3c\x3c 1u) | ((bits \x26 0xAAAAAAAAu) \x3e\x3e 1u);\r\n    bits \x3d ((bits \x26 0x33333333u) \x3c\x3c 2u) | ((bits \x26 0xCCCCCCCCu) \x3e\x3e 2u);\r\n    bits \x3d ((bits \x26 0x0F0F0F0Fu) \x3c\x3c 4u) | ((bits \x26 0xF0F0F0F0u) \x3e\x3e 4u);\r\n    bits \x3d ((bits \x26 0x00FF00FFu) \x3c\x3c 8u) | ((bits \x26 0xFF00FF00u) \x3e\x3e 8u);\r\n    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r\n\r\n#else\r\n\r\n  float invBase \x3d 1.0 / float(base);\r\n  float denom \x3d 1.0;\r\n  float result \x3d 0.0;\r\n\r\n\r\n  for (int i \x3d 0; i \x3c 32; ++i)\r\n  {\r\n        if (n \x3e 0)\r\n        {\r\n        denom \x3d mod(float(n), 2.0);\r\n        result +\x3d denom * invBase;\r\n        invBase \x3d invBase / 2.0;\r\n        n \x3d int(float(n) / 2.0);\r\n        }\r\n  }\r\n\r\n\r\n  return result;\r\n\r\n#endif\r\n}\r\n\r\nvec2 HammersleyNoBitOps(int i, int N)\r\n{\r\n  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r\n}\r\n"},
V=Q.sphereMappingFrag;for(N in Q)Q[N]="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n"+Q[N];g(a={},y.GRAY,"precision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 tex \x3d texture2D(tex0, vTexCoord);\n  float gray \x3d luma(tex.rgb);\n  gl_FragColor \x3d vec4(gray, gray, gray, tex.a);\n}\n");
g(a,y.ERODE,"// Reduces the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color \x3d texture2D(tex0, vTexCoord);\n  float lum \x3d luma(color.rgb);\n\n  // set current color as the darkest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] \x3d texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] \x3d texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] \x3d texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] \x3d texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i \x3d 0; i \x3c 4; i++) {\n    vec4 neighborColor \x3d neighbors[i];\n    float neighborLum \x3d luma(neighborColor.rgb);\n\n    if (neighborLum \x3c lum) {\n      color \x3d neighborColor;\n      lum \x3d neighborLum;\n    }\n  }\n\n  gl_FragColor \x3d color;\n}\n");
g(a,y.DILATE,"// Increase the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color \x3d texture2D(tex0, vTexCoord);\n  float lum \x3d luma(color.rgb);\n\n  // set current color as the brightest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] \x3d texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] \x3d texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] \x3d texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] \x3d texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i \x3d 0; i \x3c 4; i++) {\n    vec4 neighborColor \x3d neighbors[i];\n    float neighborLum \x3d luma(neighborColor.rgb);\n\n    if (neighborLum \x3e lum) {\n      color \x3d neighborColor;\n      lum \x3d neighborLum;\n    }\n  }\n\n  gl_FragColor \x3d color;\n}\n");
g(a,y.BLUR,"precision highp float;\n\n// Two-pass blur filter, unweighted kernel.\n// See also a similar blur at Adam Ferriss' repo of shader examples:\n// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag\n\n\nuniform sampler2D tex0;\nvarying vec2 vTexCoord;\nuniform vec2 direction;\nuniform vec2 canvasSize;\nuniform float radius;\n\nfloat random(vec2 p) {\n  vec3 p3  \x3d fract(vec3(p.xyx) * .1031);\n  p3 +\x3d dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\n// This isn't a real Gaussian weight, it's a quadratic weight. It's what the\n// CPU mode's blur uses though, so we also use it here to match.\nfloat quadWeight(float x, float e) {\n  return pow(e-abs(x), 2.);\n}\n\nvoid main(){\n  vec2 uv \x3d vTexCoord;\n\n  // A reasonable maximum number of samples\n  const float maxSamples \x3d 64.0;\n\n  float numSamples \x3d floor(7. * radius);\n  if (fract(numSamples / 2.) \x3d\x3d 0.) {\n    numSamples++;\n  }\n  vec4 avg \x3d vec4(0.0);\n  float total \x3d 0.0;\n\n  // Calculate the spacing to avoid skewing if numSamples \x3e maxSamples\n  float spacing \x3d 1.0;\n  if (numSamples \x3e maxSamples) {\n    spacing \x3d numSamples / maxSamples;\n    numSamples \x3d maxSamples;\n  }\n\n  float randomOffset \x3d (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));\n  for (float i \x3d 0.0; i \x3c maxSamples; i++) {\n    if (i \x3e\x3d numSamples) break;\n\n    float sample \x3d i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;\n    vec2 sampleCoord \x3d uv + vec2(sample, sample) / canvasSize * direction;\n    float weight \x3d quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);\n\n    avg +\x3d weight * texture2D(tex0, sampleCoord);\n    total +\x3d weight;\n  }\n\n  avg /\x3d total;\n  gl_FragColor \x3d avg;\n}\n");
g(a,y.POSTERIZE,"// Limit color space for a stylized cartoon / poster effect\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nvec3 quantize(vec3 color, float n) {\n  // restrict values to N options/bins\n  // and floor each channel to nearest value\n  //\n  // eg. when N \x3d 5, values \x3d 0.0, 0.25, 0.50, 0.75, 1.0\n  // then quantize (0.1, 0.7, 0.9) -\x3e (0.0, 0.5, 1.0)\n\n  color \x3d color * n;\n  color \x3d floor(color);\n  color \x3d color / (n - 1.0);\n  return color;\n}\n\nvoid main() {\n  vec4 color \x3d texture2D(tex0, vTexCoord);\n\n  vec3 restrictedColor \x3d quantize(color.rgb / color.a, filterParameter);\n\n  gl_FragColor \x3d vec4(restrictedColor.rgb * color.a, color.a);\n}\n");
g(a,y.OPAQUE,"// Set alpha channel to entirely opaque\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\n  vec4 color \x3d texture2D(tex0, vTexCoord);\n  gl_FragColor \x3d vec4(color.rgb / color.a, 1.0);\n}\n");g(a,y.INVERT,"// Set each pixel to inverse value\n// Note that original INVERT does not change the opacity, so this follows suit\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\nvec4 color \x3d texture2D(tex0, vTexCoord);\nvec3 origColor \x3d color.rgb / color.a;\nvec3 invertedColor \x3d vec3(1.0) - origColor;\ngl_FragColor \x3d vec4(invertedColor * color.a, color.a);\n}\n");
g(a,y.THRESHOLD,"// Convert pixels to either white or black, \n// depending on if their luma is above or below filterParameter\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 color \x3d texture2D(tex0, vTexCoord);\n  float gray \x3d luma(color.rgb / color.a);\n  // floor() used to match src/image/filters.js\n  float threshold \x3d floor(filterParameter * 255.0) / 255.0;\n  float blackOrWhite \x3d step(threshold, gray);\n  gl_FragColor \x3d vec4(vec3(blackOrWhite) * color.a, color.a);\n}\n");
var W=a;z.default.prototype.setAttributes=function(R,S){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var K=!0;if(void 0!==S?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[R]!==S&&(this._glAttributes[R]=S,K=!1)):R instanceof Object&&this._glAttributes!==R&&(this._glAttributes=R,K=!1),this._renderer.isP3D&&!K){if(!this._setupDone)for(var O in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(O))return void z.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");
this.push();this._renderer._resetContext();this.pop();this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}};z.default.RendererGL=function(R){function S(I,P,X,ca){if(this instanceof S)return(I=O.call(this,I,P,X))._setAttributeDefaults(P),I._initContext(),I.isP3D=!0,I.geometryBuilder=void 0,I.GL=I.drawingContext,I._pInst._setProperty("drawingContext",I.drawingContext),I._isErasing=!1,I._clipDepths=[],I._isClipApplied=!1,I._stencilTestOn=!1,I._enableLighting=!1,I.ambientLightColors=
[],I.mixedAmbientLight=[],I.mixedSpecularColor=[],I.specularColors=[1,1,1],I.directionalLightDirections=[],I.directionalLightDiffuseColors=[],I.directionalLightSpecularColors=[],I.pointLightPositions=[],I.pointLightDiffuseColors=[],I.pointLightSpecularColors=[],I.spotLightPositions=[],I.spotLightDirections=[],I.spotLightDiffuseColors=[],I.spotLightSpecularColors=[],I.spotLightAngle=[],I.spotLightConc=[],I.activeImageLight=null,I.diffusedTextures=new Map,I.specularTextures=new Map,I.drawMode=y.FILL,
I.curFillColor=[1,1,1,1],I.curAmbientColor=[1,1,1,1],I.curSpecularColor=[0,0,0,0],I.curEmissiveColor=I._cachedFillStyle=[0,0,0,0],I.curStrokeColor=I._cachedStrokeStyle=[0,0,0,1],I.curBlendMode=y.BLEND,I.preEraseBlend=void 0,I._cachedBlendMode=void 0,I.webglVersion===y.WEBGL2?I.blendExt=I.GL:I.blendExt=I.GL.getExtension("EXT_blend_minmax"),I._isBlending=!1,I._hasSetAmbient=!1,I._useSpecularMaterial=!1,I._useEmissiveMaterial=!1,I._useNormalMaterial=!1,I._useShininess=1,I._useMetalness=0,I._useLineColor=
!1,I._useVertexColor=!1,I.registerEnabled=new Set,I._tint=[255,255,255,255],I.constantAttenuation=1,I.linearAttenuation=0,I.quadraticAttenuation=0,I.uModelMatrix=new z.default.Matrix,I.uViewMatrix=new z.default.Matrix,I.uMVMatrix=new z.default.Matrix,I.uPMatrix=new z.default.Matrix,I.uNMatrix=new z.default.Matrix("mat3"),I.curMatrix=new z.default.Matrix("mat3"),I._currentNormal=new z.default.Vector(0,0,1),I._curCamera=new z.default.Camera(l(I)),I._curCamera._computeCameraDefaultSettings(),I._curCamera._setDefaultCamera(),
I.filterCamera=new z.default.Camera(l(I)),I.filterCamera._computeCameraDefaultSettings(),I.filterCamera._setDefaultCamera(),I.prevTouches=[],I.zoomVelocity=0,I.rotateVelocity=new z.default.Vector(0,0),I.moveVelocity=new z.default.Vector(0,0),I.executeZoom=!1,I.executeRotateAndMove=!1,I.specularShader=void 0,I.sphereMapping=void 0,I.diffusedShader=void 0,I._defaultLightShader=void 0,I._defaultImmediateModeShader=void 0,I._defaultNormalShader=void 0,I._defaultColorShader=void 0,I._defaultPointShader=
void 0,I.userFillShader=void 0,I.userStrokeShader=void 0,I.userPointShader=void 0,I.retainedMode={geometry:{},buffers:{stroke:[new z.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",l(I)),new z.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",l(I)),new z.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",l(I)),new z.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",l(I)),new z.default.RenderBuffer(1,
"lineSides","lineSidesBuffer","aSide",l(I))],fill:[new z.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",l(I),I._vToNArray),new z.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",l(I),I._vToNArray),new z.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",l(I)),new z.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",l(I)),new z.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",l(I),I._flatten)],text:[new z.default.RenderBuffer(3,"vertices",
"vertexBuffer","aPosition",l(I),I._vToNArray),new z.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",l(I),I._flatten)]}},I.immediateMode={geometry:new z.default.Geometry,shapeMode:y.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new z.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",l(I),I._vToNArray),new z.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",l(I),I._vToNArray),new z.default.RenderBuffer(4,"vertexColors",
"colorBuffer","aVertexColor",l(I)),new z.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",l(I)),new z.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",l(I),I._flatten)],stroke:[new z.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",l(I)),new z.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",l(I)),new z.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",l(I)),new z.default.RenderBuffer(3,"lineTangentsOut",
"lineTangentsOutBuffer","aTangentOut",l(I)),new z.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",l(I))],point:I.GL.createBuffer()}},I.pointSize=5,I.curStrokeWeight=1,I.curStrokeCap=y.ROUND,I.curStrokeJoin=y.ROUND,I.textures=new Map,I.framebuffers=new Set,I.activeFramebuffers=[],I.filterShader=void 0,I.filterLayer=void 0,I.filterLayerTemp=void 0,I.defaultFilterShaders={},I.textureMode=y.IMAGE,I.textureWrapX=y.CLAMP,I.textureWrapY=y.CLAMP,I._tex=null,I._curveTightness=6,I._lookUpTableBezier=
[],I._lookUpTableQuadratic=[],I._lutBezierDetail=0,I._lutQuadraticDetail=0,I.isProcessingVertices=!1,I._tessy=I._initTessy(),I.fontInfos={},I._curShader=void 0,I;throw new TypeError("Cannot call a class as a function");}var K=S;if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(R&&R.prototype,{constructor:{value:K,writable:!0,configurable:!0}});R&&b(K,R);var O=d(S);return K=S,R=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");
this.geometryBuilder=new F.default(this)}},{key:"endGeometry",value:function(){var I;if(this.geometryBuilder)return I=this.geometryBuilder.finish(),this.geometryBuilder=void 0,I;throw Error("Make sure you call beginGeometry() before endGeometry()!");}},{key:"buildGeometry",value:function(I){return this.beginGeometry(),I(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(I){var P={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,
preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};null===I._glAttributes?I._glAttributes=P:I._glAttributes=Object.assign(P,I._glAttributes)}},{key:"_initContext",value:function(){if(1!==this._pInst._glAttributes.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?y.WEBGL2:y.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||
this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw Error("Error creating webgl context");var I=this.drawingContext;I.enable(I.DEPTH_TEST);I.depthFunc(I.LEQUAL);I.viewport(0,0,I.drawingBufferWidth,I.drawingBufferHeight);I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var I=this.drawingContext;return I.getParameter(I.MAX_TEXTURE_SIZE)}},
{key:"_adjustDimensions",value:function(I,P){this._maxTextureSize||(this._maxTextureSize=this._getParam());var X=this._maxTextureSize;X=(z.default.prototype._maxAllowedPixelDimensions,Math.floor(X/this.pixelDensity()));var ca=Math.min(I,X);X=Math.min(P,X);return ca===I&&X===P||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(ca,", height: ").concat(X,".")),{adjustedWidth:ca,adjustedHeight:X}}},{key:"_resetContext",value:function(I,
P){var X,ca=this.width,ia=this.height,da=this.canvas.id,ba=this._pInst instanceof z.default.Graphics;da=(ba?((X=this._pInst).canvas.parentNode.removeChild(X.canvas),X.canvas=document.createElement("canvas"),(X._pInst._userNode||document.body).appendChild(X.canvas),z.default.Element.call(X,X.canvas,X._pInst),X.width=ca,X.height=ia):((X=this.canvas)&&X.parentNode.removeChild(X),(X=document.createElement("canvas")).id=da,(this._pInst._userNode||document.body).appendChild(X),this._pInst.canvas=X,this.canvas=
X),new z.default.RendererGL(this._pInst.canvas,this._pInst,!ba));this._pInst._setProperty("_renderer",da);da.resize(ca,ia);da._applyDefaults();ba||this._pInst._elements.push(da);"function"==typeof P&&setTimeout(function(){P.apply(window._renderer,I)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset();this.uViewMatrix.set(this._curCamera.cameraMatrix);this.ambientLightColors.length=0;this.specularColors=[1,1,1];this.directionalLightDirections.length=0;this.directionalLightDiffuseColors.length=
0;this.directionalLightSpecularColors.length=0;this.pointLightPositions.length=0;this.pointLightDiffuseColors.length=0;this.pointLightSpecularColors.length=0;this.spotLightPositions.length=0;this.spotLightDirections.length=0;this.spotLightDiffuseColors.length=0;this.spotLightSpecularColors.length=0;this.spotLightAngle.length=0;this.spotLightConc.length=0;this._enableLighting=!1;this._tint=[255,255,255,255];this.GL.clearStencil(0);this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT);
this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var I=(I=this._pInst).color.apply(I,arguments),P=I.levels[0]/255,X=I.levels[1]/255,ca=I.levels[2]/255;I=I.levels[3]/255;this.clear(P,X,ca,I)}},{key:"fill",value:function(I,P,X,ca){this.curFillColor=z.default.prototype.color.apply(this._pInst,arguments)._array;this.drawMode=y.FILL;this._useNormalMaterial=!1;this._tex=null}},{key:"stroke",value:function(I,P,X,ca){this.curStrokeColor=z.default.prototype.color.apply(this._pInst,
arguments)._array}},{key:"strokeCap",value:function(I){this.curStrokeCap=I}},{key:"strokeJoin",value:function(I){this.curStrokeJoin=I}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(I,P){I.width===P.width&&I.height===P.height||I.resize(P.width,
P.height);I.pixelDensity()!==P.pixelDensity()&&I.pixelDensity(P.pixelDensity())}},{key:"filter",value:function(){var I,P,X=this,ca=this.getFilterLayer(),ia=void 0,da=void 0,ba=("string"==typeof(0>=arguments.length?void 0:arguments[0])?(da=0>=arguments.length?void 0:arguments[0],g(I={},y.BLUR,3),g(I,y.POSTERIZE,4),g(I,y.THRESHOLD,.5),ia=da in I&&void 0===(1>=arguments.length?void 0:arguments[1])?I[da]:1>=arguments.length?void 0:arguments[1],da in this.defaultFilterShaders||(this.defaultFilterShaders[da]=
new z.default.Shader(ca._renderer,"uniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nattribute vec3 aPosition;\n// texcoords only come from p5 to vertex shader\n// so pass texcoords on to the fragment shader in a varying variable\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n  // transferring texcoords for the frag shader\n  vTexCoord \x3d aTexCoord;\n\n  // copy position with a fourth coordinate for projection (1.0 is normal)\n  vec4 positionVec4 \x3d vec4(aPosition, 1.0);\n\n  gl_Position \x3d uProjectionMatrix * uModelViewMatrix * positionVec4;\n}\n",
W[da])),this.filterShader=this.defaultFilterShaders[da]):this.filterShader=0>=arguments.length?void 0:arguments[0],this.activeFramebuffer()||this),ja=(this.matchSize(ca,ba),ca.draw(function(){return X._pInst.clear()}),[1/(ba.width*ba.pixelDensity()),1/(ba.height*ba.pixelDensity())]);da===y.BLUR?(P=this.getFilterLayerTemp(),this.matchSize(P,ba),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(y.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",ja),
this.filterShader.setUniform("canvasSize",[ba.width,ba.height]),this.filterShader.setUniform("radius",Math.max(1,ia)),P.draw(function(){X.filterShader.setUniform("direction",[1,0]);X.filterShader.setUniform("tex0",ba);X._pInst.clear();X._pInst.shader(X.filterShader);X._pInst.noLights();X._pInst.plane(ba.width,ba.height)}),ca.draw(function(){X.filterShader.setUniform("direction",[0,1]);X.filterShader.setUniform("tex0",P);X._pInst.clear();X._pInst.shader(X.filterShader);X._pInst.noLights();X._pInst.plane(ba.width,
ba.height)}),this._pInst.pop()):ca.draw(function(){X._pInst.noStroke();X._pInst.blendMode(y.BLEND);X._pInst.shader(X.filterShader);X.filterShader.setUniform("tex0",ba);X.filterShader.setUniform("texelSize",ja);X.filterShader.setUniform("canvasSize",[ba.width,ba.height]);X.filterShader.setUniform("filterParameter",ia);X._pInst.noLights();X._pInst.plane(ba.width,ba.height)});this._pInst.push();this._pInst.noStroke();this.clear();this._pInst.push();this._pInst.imageMode(y.CORNER);this._pInst.blendMode(y.BLEND);
ba.filterCamera._resize();this._pInst.setCamera(ba.filterCamera);this._pInst.resetMatrix();this._pInst.image(ca,-ba.width/2,-ba.height/2,ba.width,ba.height);this._pInst.clearDepth();this._pInst.pop();this._pInst.pop()}},{key:"pixelDensity",value:function(I){return I?this._pInst.pixelDensity(I):this._pInst.pixelDensity()}},{key:"blendMode",value:function(I){I===y.DARKEST||I===y.LIGHTEST||I===y.ADD||I===y.BLEND||I===y.SUBTRACT||I===y.SCREEN||I===y.EXCLUSION||I===y.REPLACE||I===y.MULTIPLY||I===y.REMOVE?
this.curBlendMode=I:I!==y.BURN&&I!==y.OVERLAY&&I!==y.HARD_LIGHT&&I!==y.SOFT_LIGHT&&I!==y.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(I,P){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(y.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,I/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,P/255])}},{key:"noErase",
value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var I=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};I=(c(h(S.prototype),"beginClip",this).call(this,
I),this.drawTarget()._isClipApplied=!0,this.GL);I.clearStencil(0);I.clear(I.STENCIL_BUFFER_BIT);I.enable(I.STENCIL_TEST);this._stencilTestOn=!0;I.stencilFunc(I.ALWAYS,1,255);I.stencilOp(I.KEEP,I.KEEP,I.REPLACE);I.disable(I.DEPTH_TEST);this._pInst.push();this._pInst.resetShader();this._doFill&&this._pInst.fill(0,0);this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var I=this.GL;I.stencilOp(I.KEEP,I.KEEP,I.KEEP);I.stencilFunc(this._clipInvert?I.EQUAL:I.NOTEQUAL,
0,255);I.enable(I.DEPTH_TEST);this._clipDepths.push(this._pushPopDepth);c(h(S.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1);this.GL.clear(this.GL.STENCIL_BUFFER_BIT);0<this._clipDepths.length&&this._clipDepths.pop();this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(I){this.curStrokeWeight!==I&&(this.pointSize=I,this.curStrokeWeight=I)}},{key:"_getPixel",value:function(I,P){var X=this.GL;return w(X,null,I,P,X.RGBA,X.UNSIGNED_BYTE,
this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var I,P,X=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(I=this._pInst._pixelDensity,P=this.GL,X._setProperty("pixels",v(X.pixels,P,null,0,0,this.width*I,this.height*I,P.RGBA,P.UNSIGNED_BYTE,this.height*I)))}},{key:"updatePixels",value:function(){var I=this._getTempFramebuffer();I.pixels=this._pixelsState.pixels;
I.updatePixels();this._pInst.push();this._pInst.resetMatrix();this._pInst.clear();this._pInst.imageMode(y.CENTER);this._pInst.image(I,0,0);this._pInst.pop();this.GL.clearDepth(1);this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:y.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:y.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},
{key:"geometryInHash",value:function(I){return void 0!==this.retainedMode.geometry[I]}},{key:"viewport",value:function(I,P){this._viewport=[0,0,I,P];this.GL.viewport(0,0,I,P)}},{key:"resize",value:function(I,P){z.default.Renderer.prototype.resize.call(this,I,P);this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight};this.viewport(this._origViewport.width,this._origViewport.height);this._curCamera._resize();I=this._pixelsState;var X=(void 0!==I.pixels&&I._setProperty("pixels",
new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);P=!1;I=void 0;try{for(var ca,ia=this.framebuffers[Symbol.iterator]();!(X=(ca=ia.next()).done);X=!0)ca.value._canvasSizeChanged()}catch(da){P=!0,I=da}finally{try{X||null==ia.return||ia.return()}finally{if(P)throw I;}}}},{key:"clear",value:function(){var I=(0>=arguments.length?void 0:arguments[0])||0,P=(1>=arguments.length?void 0:arguments[1])||0,X=(2>=arguments.length?void 0:arguments[2])||0,ca=(3>=arguments.length?void 0:
arguments[3])||0,ia=this.activeFramebuffer();ia&&ia.format===y.UNSIGNED_BYTE&&!ia.antialias&&0===ca&&(ca=1E-10);this.GL.clearColor(I*ca,P*ca,X*ca,ca);this.GL.clearDepth(1);this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1);this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(I,P,X,ca,ia,da){16===arguments.length?z.default.Matrix.prototype.apply.apply(this.uModelMatrix,
arguments):this.uModelMatrix.apply([I,P,0,0,X,ca,0,0,0,0,1,0,ia,da,0,1])}},{key:"translate",value:function(I,P,X){return I instanceof z.default.Vector&&(X=I.z,P=I.y,I=I.x),this.uModelMatrix.translate([I,P,X]),this}},{key:"scale",value:function(I,P,X){return this.uModelMatrix.scale(I,P,X),this}},{key:"rotate",value:function(I,P){return void 0===P?this.rotateZ(I):(z.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(I){return this.rotate(I,1,0,0),
this}},{key:"rotateY",value:function(I){return this.rotate(I,0,1,0),this}},{key:"rotateZ",value:function(I){return this.rotate(I,0,0,1),this}},{key:"push",value:function(){var I=z.default.Renderer.prototype.push.apply(this),P=I.properties;return P.uModelMatrix=this.uModelMatrix.copy(),P.uViewMatrix=this.uViewMatrix.copy(),P.uPMatrix=this.uPMatrix.copy(),P._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),P.ambientLightColors=this.ambientLightColors.slice(),P.specularColors=this.specularColors.slice(),
P.directionalLightDirections=this.directionalLightDirections.slice(),P.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),P.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),P.pointLightPositions=this.pointLightPositions.slice(),P.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),P.pointLightSpecularColors=this.pointLightSpecularColors.slice(),P.spotLightPositions=this.spotLightPositions.slice(),P.spotLightDirections=this.spotLightDirections.slice(),
P.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),P.spotLightSpecularColors=this.spotLightSpecularColors.slice(),P.spotLightAngle=this.spotLightAngle.slice(),P.spotLightConc=this.spotLightConc.slice(),P.userFillShader=this.userFillShader,P.userStrokeShader=this.userStrokeShader,P.userPointShader=this.userPointShader,P.pointSize=this.pointSize,P.curStrokeWeight=this.curStrokeWeight,P.curStrokeColor=this.curStrokeColor,P.curFillColor=this.curFillColor,P.curAmbientColor=this.curAmbientColor,
P.curSpecularColor=this.curSpecularColor,P.curEmissiveColor=this.curEmissiveColor,P._hasSetAmbient=this._hasSetAmbient,P._useSpecularMaterial=this._useSpecularMaterial,P._useEmissiveMaterial=this._useEmissiveMaterial,P._useShininess=this._useShininess,P._useMetalness=this._useMetalness,P.constantAttenuation=this.constantAttenuation,P.linearAttenuation=this.linearAttenuation,P.quadraticAttenuation=this.quadraticAttenuation,P._enableLighting=this._enableLighting,P._useNormalMaterial=this._useNormalMaterial,
P._tex=this._tex,P.drawMode=this.drawMode,P._currentNormal=this._currentNormal,P.curBlendMode=this.curBlendMode,P.activeImageLight=this.activeImageLight,P.textureMode=this.textureMode,I}},{key:"pop",value:function(){var I;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var P=arguments.length,X=Array(P),ca=0;ca<P;ca++)X[ca]=arguments[ca];(I=c(h(S.prototype),"pop",this)).call.apply(I,[this].concat(X));this._applyStencilTestIfClipping()}},
{key:"_applyStencilTestIfClipping",value:function(){var I=this.drawTarget();I._isClipApplied!==this._stencilTestOn&&(I._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var I=this.userStrokeShader;return I&&I.isStrokeShader()?I:this._getLineShader()}},
{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(I){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(V)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),
this.sphereMapping.setUniform("uSampler",I),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var I=this.userFillShader;if(this._useNormalMaterial&&(!I||!I.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!I||!I.isLightShader())return this._getLightShader()}else if(this._tex){if(!I||!I.isTextureShader())return this._getLightShader()}else if(!I)return this._getImmediateModeShader();return I}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();
var I=this.userFillShader;if(this._enableLighting){if(!I||!I.isLightShader())return this._getLightShader()}else if(this._tex){if(!I||!I.isTextureShader())return this._getLightShader()}else if(!I)return this._getColorShader();return I}},{key:"_getImmediatePointShader",value:function(){var I=this.userPointShader;return I&&I.isPointShader()?I:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"baseMaterialShader",value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();
throw Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.");}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new z.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+Q.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+Q.phongFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }",
"vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":"(ColorComponents components) {\n                vec4 color \x3d vec4(0.);\n                color.rgb +\x3d components.diffuse * components.baseColor;\n                color.rgb +\x3d components.ambient * components.ambientColor;\n                color.rgb +\x3d components.specular * components.specularColor;\n                color.rgb +\x3d components.emissive;\n                color.a \x3d components.opacity;\n                return color;\n              }",
"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new z.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+Q.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+Q.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new z.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Q.immediateVert,
this._webGL2CompatibilityPrefix("frag","mediump")+Q.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"baseNormalShader",value:function(){return this._getNormalShader()}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new z.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Q.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Q.normalFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }",
"vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}},{key:"baseColorShader",value:function(){return this._getColorShader()}},
{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new z.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Q.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Q.basicFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }",
"vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}},{key:"pointShader",value:function(){return this._getPointShader()}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new z.default.Shader(this,this._webGL2CompatibilityPrefix("vert",
"mediump")+Q.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+Q.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),
this._defaultPointShader}},{key:"baseStrokeShader",value:function(){return this._getLineShader()}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new z.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Q.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+Q.lineFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }",
"float getStrokeWeight":"(float weight) { return weight; }","vec2 getLineCenter":"(vec2 center) { return center; }","vec2 getLinePosition":"(vec2 position) { return position; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),
this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===y.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new z.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+Q.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+Q.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(I,P){var X="";return this.webglVersion===y.WEBGL2&&(X+="#version 300 es\n#define WEBGL2\n"),
"vert"===I?X+="#define VERTEX_SHADER\n":"frag"===I&&(X+="#define FRAGMENT_SHADER\n"),P&&(X+="precision ".concat(P," float;\n")),X}},{key:"_getEmptyTexture",value:function(){var I;return this._emptyTexture||((I=new z.default.Image(1,1)).set(0,0,255),this._emptyTexture=new z.default.Texture(this,I)),this._emptyTexture}},{key:"getTexture",value:function(I){I instanceof z.default.Framebuffer&&(I=I.color);var P=this.textures.get(I);return P||(P=new z.default.Texture(this,I),this.textures.set(I,P),P)}},
{key:"getDiffusedTexture",value:function(I){var P,X,ca=this;return null!=this.diffusedTextures.get(I)?this.diffusedTextures.get(I):(0,P=Math.floor(I.height/I.width*200),X=this._pInst.createFramebuffer({width:200,height:P,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(Q.imageLightVert,Q.imageLightDiffusedFrag)),X.draw(function(){ca._pInst.shader(ca.diffusedShader);ca.diffusedShader.setUniform("environmentMap",I);ca._pInst.noStroke();ca._pInst.rectMode(y.CENTER);ca._pInst.noLights();
ca._pInst.rect(0,0,200,P)}),this.diffusedTextures.set(I,X),X)}},{key:"getSpecularTexture",value:function(I){var P=this;if(null!=this.specularTextures.get(I))return this.specularTextures.get(I);for(var X,ca=[],ia=this._pInst.createFramebuffer({width:512,height:512,density:1}),da=Math.log(512)/Math.log(2),ba=(this.specularShader||(this.specularShader=this._pInst.createShader(Q.imageLightVert,Q.imageLightSpecularFrag)),512);1<=ba;ba/=2)!function(ja){ia.resize(ja,ja);var qa=1-Math.log(ja)/Math.log(2)/
da;ia.draw(function(){P._pInst.shader(P.specularShader);P._pInst.clear();P.specularShader.setUniform("environmentMap",I);P.specularShader.setUniform("roughness",qa);P._pInst.noStroke();P._pInst.noLights();P._pInst.plane(ja,ja)});ca.push(ia.get().drawingContext.getImageData(0,0,ja,ja))}(ba);return ia.remove(),X=new C.MipmapTexture(this,ca,{}),this.specularTextures.set(I,X),X}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",
value:function(I){return new z.default.Framebuffer(this,I)}},{key:"_setStrokeUniforms",value:function(I){I.bindShader();I.setUniform("uUseLineColor",this._useLineColor);I.setUniform("uMaterialColor",this.curStrokeColor);I.setUniform("uStrokeWeight",this.curStrokeWeight);I.setUniform("uStrokeCap",J[this.curStrokeCap]);I.setUniform("uStrokeJoin",E[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(I){var P=this,X=(I.bindShader(),this.mixedSpecularColor=k(this.curSpecularColor),0<this._useMetalness&&
(this.mixedSpecularColor=this.mixedSpecularColor.map(function(ca,ia){return P.curFillColor[ia]*P._useMetalness+ca*(1-P._useMetalness)})),I.setUniform("uUseVertexColor",this._useVertexColor),I.setUniform("uMaterialColor",this.curFillColor),I.setUniform("isTexture",!!this._tex),this._tex&&I.setUniform("uSampler",this._tex),I.setUniform("uTint",this._tint),I.setUniform("uHasSetAmbient",this._hasSetAmbient),I.setUniform("uAmbientMatColor",this.curAmbientColor),I.setUniform("uSpecularMatColor",this.mixedSpecularColor),
I.setUniform("uEmissiveMatColor",this.curEmissiveColor),I.setUniform("uSpecular",this._useSpecularMaterial),I.setUniform("uEmissive",this._useEmissiveMaterial),I.setUniform("uShininess",this._useShininess),I.setUniform("uMetallic",this._useMetalness),this._setImageLightUniforms(I),I.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3);X=(I.setUniform("uPointLightCount",X),I.setUniform("uPointLightLocation",this.pointLightPositions),I.setUniform("uPointLightDiffuseColors",
this.pointLightDiffuseColors),I.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3);X=(I.setUniform("uDirectionalLightCount",X),I.setUniform("uLightingDirection",this.directionalLightDirections),I.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),I.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3);X=(this.mixedAmbientLight=k(this.ambientLightColors),
0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(ca){ca-=P._useMetalness;return Math.max(0,ca)})),I.setUniform("uAmbientLightCount",X),I.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);I.setUniform("uSpotLightCount",X);I.setUniform("uSpotLightAngle",this.spotLightAngle);I.setUniform("uSpotLightConc",this.spotLightConc);I.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors);I.setUniform("uSpotLightSpecularColors",
this.spotLightSpecularColors);I.setUniform("uSpotLightLocation",this.spotLightPositions);I.setUniform("uSpotLightDirection",this.spotLightDirections);I.setUniform("uConstantAttenuation",this.constantAttenuation);I.setUniform("uLinearAttenuation",this.linearAttenuation);I.setUniform("uQuadraticAttenuation",this.quadraticAttenuation);I.bindTextures()}},{key:"_setImageLightUniforms",value:function(I){var P;I.setUniform("uUseImageLight",null!=this.activeImageLight);this.activeImageLight&&(P=this.getDiffusedTexture(this.activeImageLight),
I.setUniform("environmentMapDiffused",P),P=this.getSpecularTexture(this.activeImageLight),I.setUniform("environmentMapSpecular",P))}},{key:"_setPointUniforms",value:function(I){I.bindShader();I.setUniform("uMaterialColor",this.curStrokeColor);I.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(I,P,X,ca,ia){P=P||this.GL.ARRAY_BUFFER;this.GL.bindBuffer(P,I);void 0!==X&&((I=X)instanceof z.default.DataArray?I=X.dataArray():I instanceof(ca||Float32Array)||
(I=new (ca||Float32Array)(I)),this.GL.bufferData(P,I,ia||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(I,P){return I.length===P.length&&I.every(function(X,ca){return X===P[ca]})}},{key:"_isTypedArray",value:function(I){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(P){return I instanceof P})}},{key:"_flatten",value:function(I){return I.flat()}},{key:"_vToNArray",value:function(I){return I.flatMap(function(P){return[P.x,P.y,P.z]})}},{key:"_bezierCoefficients",
value:function(I){var P=I*I,X=1-I,ca=X*X;return[ca*X,3*ca*I,3*X*P,P*I]}},{key:"_quadraticCoefficients",value:function(I){var P=1-I;return[P*P,2*P*I,I*I]}},{key:"_bezierToCatmull",value:function(I){return[I[1],I[1]+(I[2]-I[0])/this._curveTightness,I[2]-(I[3]-I[1])/this._curveTightness,I[2]]}},{key:"_initTessy",value:function(){var I=new D.default.GluTesselator;return I.gluTessCallback(D.default.gluEnum.GLU_TESS_VERTEX_DATA,function(P,X){var ca=!0,ia=!1,da=void 0;try{for(var ba,ja=P[Symbol.iterator]();!(ca=
(ba=ja.next()).done);ca=!0)X.push(ba.value)}catch(qa){ia=!0,da=qa}finally{try{ca||null==ja.return||ja.return()}finally{if(ia)throw da;}}}),I.gluTessCallback(D.default.gluEnum.GLU_TESS_BEGIN,function(P){P!==D.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(P))}),I.gluTessCallback(D.default.gluEnum.GLU_TESS_ERROR,function(P){console.log("error callback");console.log("error number: ".concat(P))}),I.gluTessCallback(D.default.gluEnum.GLU_TESS_COMBINE,function(P,
X,ca){P=Array(z.default.RendererGL.prototype.tessyVertexSize).fill(0);for(var ia=0;ia<ca.length;ia++)for(var da=0;da<P.length;da++)0!==ca[ia]&&X[ia]&&(P[da]+=X[ia][da]*ca[ia]);return P}),I.gluTessCallback(D.default.gluEnum.GLU_TESS_EDGE_FLAG,function(P){}),I.gluTessProperty(D.default.gluEnum.GLU_TESS_WINDING_RULE,D.default.windingRule.GLU_TESS_WINDING_NONZERO),I}},{key:"_triangulate",value:function(I){var P=I[0]?I[0][2]:void 0,X=!0,ca=!0,ia=!1,da=void 0;try{for(var ba,ja=I[Symbol.iterator]();!(ca=
(ba=ja.next()).done);ca=!0)for(var qa=ba.value,fa=0;fa<qa.length;fa+=z.default.RendererGL.prototype.tessyVertexSize)if(qa[fa+2]!==P){X=!1;break}}catch(ra){ia=!0,da=ra}finally{try{ca||null==ja.return||ja.return()}finally{if(ia)throw da;}}X?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);ia=[];P=(this._tessy.gluTessBeginPolygon(ia),!0);da=!1;X=void 0;try{for(var ma,sa=I[Symbol.iterator]();!(P=(ma=sa.next()).done);P=!0){var xa=ma.value;this._tessy.gluTessBeginContour();for(I=0;I<xa.length;I+=
z.default.RendererGL.prototype.tessyVertexSize){var pa=xa.slice(I,I+z.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(pa,pa)}this._tessy.gluTessEndContour()}}catch(ra){da=!0,X=ra}finally{try{P||null==sa.return||sa.return()}finally{if(da)throw X;}}return this._tessy.gluTessEndPolygon(),ia}}],f(K.prototype,R),S}(z.default.Renderer);z.default.prototype._assert3d=function(R){if(!this._renderer.isP3D)throw Error("".concat(R,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see https://p5js.org/examples/3d-geometries/ for more information."));
};z.default.RendererGL.prototype.tessyVertexSize=12;a=z.default.RendererGL;q.default=a},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,
"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,
"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,
"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,
"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,
"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(a,G,q){function x(p,k){if(!(p=function(f){if(Array.isArray(f))return f}(p)||function(f,c){if(Symbol.iterator in Object(f)||"[object Arguments]"===Object.prototype.toString.call(f)){var b=[],d=!0,l=!1,h=void 0;try{for(var g,m=f[Symbol.iterator]();!(d=
(g=m.next()).done)&&(b.push(g.value),!c||b.length!==c);d=!0);}catch(t){l=!0,h=t}finally{try{d||null==m.return||m.return()}finally{if(l)throw h;}}return b}}(p,k)))throw new TypeError("Invalid attempt to destructure non-iterable instance");return p}function u(p,k){for(var f=0;f<k.length;f++){var c=k[f];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(p,c.key,c)}}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");
a("core-js/modules/es.array.concat");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.some");a("core-js/modules/es.function.name");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.split");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.concat");a("core-js/modules/es.array.index-of");a("core-js/modules/es.array.iterator");a("core-js/modules/es.array.slice");a("core-js/modules/es.array.some");a("core-js/modules/es.function.name");a("core-js/modules/es.object.assign");a("core-js/modules/es.object.keys");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.iterator");
a("core-js/modules/es.string.split");a("core-js/modules/web.dom-collections.iterator");Object.defineProperty(q,"__esModule",{value:!0});q.default=void 0;var r=(a=a("../core/main"))&&a.__esModule?a:{default:a};r.default.Shader=function(){function p(f,c,b){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this._renderer=f;this._vertSrc=c;this._fragSrc=b;this._fragShader=this._vertShader=-1;this._glProgram=
0;this._loadedAttributes=!1;this.attributes={};this._loadedUniforms=!1;this.uniforms={};this._bound=!1;this.samplers=[];this.hooks={uniforms:d.uniforms||{},declarations:d.declarations,helpers:d.helpers||{},vertex:d.vertex||{},fragment:d.fragment||{},modified:{vertex:d.modified&&d.modified.vertex||{},fragment:d.modified&&d.modified.fragment||{}}}}var k;return k=[{key:"shaderSrc",value:function(f,c){var b,d,l,h,g;f=x(f.split("void main"),2);var m=f[0];f=f[1];var t="";for(b in this.hooks.uniforms)t+=
"uniform ".concat(b,";\n");for(d in this.hooks.declarations&&(t+=this.hooks.declarations+"\n"),this.hooks[c].declarations&&(t+=this.hooks[c].declarations+"\n"),this.hooks.helpers)t+="".concat(d).concat(this.hooks.helpers[d],"\n");for(l in this.hooks[c])"declarations"!==l&&(h=(g=x(l.split(" "),2))[0],g=g[1],this.hooks.modified[c][l]&&(t+="#define AUGMENTED_HOOK_"+g+"\n"),t+=h+" HOOK_"+g+this.hooks[c][l]+"\n");return m+t+"void main"+f}},{key:"version",value:function(){var f=/#version (.+)$/.exec(this.vertSrc());
return f?f[1]:"100 es"}},{key:"vertSrc",value:function(){return this.shaderSrc(this._vertSrc,"vertex")}},{key:"fragSrc",value:function(){return this.shaderSrc(this._fragSrc,"fragment")}},{key:"inspectHooks",value:function(){for(var f in console.log("\x3d\x3d\x3d\x3d Vertex shader hooks: \x3d\x3d\x3d\x3d"),this.hooks.vertex)console.log((this.hooks.modified.vertex[f]?"[MODIFIED] ":"")+f+this.hooks.vertex[f]);for(var c in console.log(""),console.log("\x3d\x3d\x3d\x3d Fragment shader hooks: \x3d\x3d\x3d\x3d"),
this.hooks.fragment)console.log((this.hooks.modified.fragment[c]?"[MODIFIED] ":"")+c+this.hooks.fragment[c]);for(var b in console.log(""),console.log("\x3d\x3d\x3d\x3d Helper functions: \x3d\x3d\x3d\x3d"),this.hooks.helpers)console.log(b+this.hooks.helpers[b])}},{key:"modify",value:function(f){r.default._validateParameters("p5.Shader.modify",arguments);var c={},b={},d={};for(g in f)"declarations"!==g&&"uniforms"!==g&&("vertexDeclarations"===g?c.declarations=(c.declarations||"")+"\n"+f[g]:"fragmentDeclarations"===
g?b.declarations=(b.declarations||"")+"\n"+f[g]:this.hooks.vertex[g]?c[g]=f[g]:this.hooks.fragment[g]?b[g]=f[g]:d[g]=f[g]);var l,h;var g=Object.assign({},this.hooks.modified.vertex);var m=Object.assign({},this.hooks.modified.fragment);for(l in c||{})"declarations"!==l&&(g[l]=!0);for(h in b||{})"declarations"!==h&&(m[h]=!0);return new r.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+"\n"+(f.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,
f.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,b||{}),vertex:Object.assign({},this.hooks.vertex,c||{}),helpers:Object.assign({},this.hooks.helpers,d||{}),modified:{vertex:g,fragment:m}})}},{key:"init",value:function(){if(0===this._glProgram){var f,c=this._renderer.GL;if(this._vertShader=c.createShader(c.VERTEX_SHADER),c.shaderSource(this._vertShader,this.vertSrc()),c.compileShader(this._vertShader),!c.getShaderParameter(this._vertShader,c.COMPILE_STATUS))return f=c.getShaderInfoLog(this._vertShader),
console.error(f),null;if(this._fragShader=c.createShader(c.FRAGMENT_SHADER),c.shaderSource(this._fragShader,this.fragSrc()),c.compileShader(this._fragShader),!c.getShaderParameter(this._fragShader,c.COMPILE_STATUS))return f=c.getShaderInfoLog(this._fragShader),console.error(f),null;this._glProgram=c.createProgram();c.attachShader(this._glProgram,this._vertShader);c.attachShader(this._glProgram,this._fragShader);c.linkProgram(this._glProgram);c.getProgramParameter(this._glProgram,c.LINK_STATUS)||r.default._friendlyError("Snap! Error linking shader program: ".concat(c.getProgramInfoLog(this._glProgram)));
this._loadAttributes();this._loadUniforms()}return this}},{key:"setDefaultUniforms",value:function(){for(var f in this.hooks.uniforms){var c=x(f.split(" "),2)[1];f=this.hooks.uniforms[f];var b=void 0;null!=(b=f instanceof Function?f():f)&&this.setUniform(c,b)}}},{key:"copyToContext",value:function(f){var c=new r.default.Shader(f._renderer,this._vertSrc,this._fragSrc);return c.ensureCompiledOnContext(f),c}},{key:"ensureCompiledOnContext",value:function(f){if(0!==this._glProgram&&this._renderer!==f._renderer)throw Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");
0===this._glProgram&&(this._renderer=f._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var f=this._renderer.GL,c=f.getProgramParameter(this._glProgram,f.ACTIVE_ATTRIBUTES),b=0;b<c;++b){var d=f.getActiveAttrib(this._glProgram,b),l=d.name,h=f.getAttribLocation(this._glProgram,l),g={};g.name=l;g.location=h;g.index=b;g.type=d.type;g.size=d.size;this.attributes[l]=g}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var f=
this._renderer.GL,c=f.getProgramParameter(this._glProgram,f.ACTIVE_UNIFORMS),b=0,d=0;d<c;++d){var l=f.getActiveUniform(this._glProgram,d),h={},g=(h.location=f.getUniformLocation(this._glProgram,l.name),h.size=l.size,l.name);1<l.size&&(g=g.substring(0,g.indexOf("[0]")));h.name=g;h.type=l.type;h._cachedData=void 0;h.type===f.SAMPLER_2D&&(h.samplerIndex=b,b++,this.samplers.push(h));h.isArray=1<l.size||h.type===f.FLOAT_MAT3||h.type===f.FLOAT_MAT4||h.type===f.FLOAT_VEC2||h.type===f.FLOAT_VEC3||h.type===
f.FLOAT_VEC4||h.type===f.INT_VEC2||h.type===f.INT_VEC4||h.type===f.INT_VEC3;this.uniforms[g]=h}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init();this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var f=this._renderer.GL,c=!0,
b=!1,d=void 0;try{for(var l,h=this.samplers[Symbol.iterator]();!(c=(l=h.next()).done);c=!0){var g=l.value,m=g.texture;void 0===m&&(m=this._renderer._getEmptyTexture());f.activeTexture(f.TEXTURE0+g.samplerIndex);m.bindTexture();m.update();f.uniform1i(g.location,g.samplerIndex)}}catch(t){b=!0,d=t}finally{try{c||null==h.return||h.return()}finally{if(b)throw d;}}}},{key:"updateTextures",value:function(){var f=!0,c=!1,b=void 0;try{for(var d,l=this.samplers[Symbol.iterator]();!(f=(d=l.next()).done);f=!0){var h=
d.value.texture;h&&h.update()}}catch(g){c=!0,b=g}finally{try{f||null==l.return||l.return()}finally{if(c)throw b;}}}},{key:"unbindTextures",value:function(){var f=!0,c=!1,b=void 0;try{for(var d,l=this.samplers[Symbol.iterator]();!(f=(d=l.next()).done);f=!0)this.setUniform(d.value.name,this._renderer._getEmptyTexture())}catch(h){c=!0,b=h}finally{try{f||null==l.return||l.return()}finally{if(c)throw b;}}}},{key:"_setMatrixUniforms",value:function(){var f=this._renderer.uModelMatrix,c=this._renderer.uViewMatrix,
b=this._renderer.uPMatrix,d=f.copy().mult(c),l=(this._renderer.uMVMatrix=d).copy();l.mult(b);this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0);this.setUniform("uViewMatrix",c.mat4);this.setUniform("uProjectionMatrix",b.mat4);this.setUniform("uModelMatrix",f.mat4);this.setUniform("uModelViewMatrix",d.mat4);this.setUniform("uModelViewProjectionMatrix",l.mat4);this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),
this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3));this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var f=this._renderer.GL;return this._renderer._curShader!==this&&(f.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(f,c){if(f=this.uniforms[f]){var b=this._renderer.GL;if(f.isArray){if(f._cachedData&&
this._renderer._arraysEqual(f._cachedData,c))return;f._cachedData=c.slice(0)}else{if(f._cachedData&&f._cachedData===c)return;Array.isArray(c)?f._cachedData=c.slice(0):f._cachedData=c}var d=f.location;switch(this.useProgram(),f.type){case b.BOOL:!0===c?b.uniform1i(d,1):b.uniform1i(d,0);break;case b.INT:1<f.size?c.length&&b.uniform1iv(d,c):b.uniform1i(d,c);break;case b.FLOAT:1<f.size?c.length&&b.uniform1fv(d,c):b.uniform1f(d,c);break;case b.FLOAT_MAT3:b.uniformMatrix3fv(d,!1,c);break;case b.FLOAT_MAT4:b.uniformMatrix4fv(d,
!1,c);break;case b.FLOAT_VEC2:1<f.size?c.length&&b.uniform2fv(d,c):b.uniform2f(d,c[0],c[1]);break;case b.FLOAT_VEC3:1<f.size?c.length&&b.uniform3fv(d,c):b.uniform3f(d,c[0],c[1],c[2]);break;case b.FLOAT_VEC4:1<f.size?c.length&&b.uniform4fv(d,c):b.uniform4f(d,c[0],c[1],c[2],c[3]);break;case b.INT_VEC2:1<f.size?c.length&&b.uniform2iv(d,c):b.uniform2i(d,c[0],c[1]);break;case b.INT_VEC3:1<f.size?c.length&&b.uniform3iv(d,c):b.uniform3i(d,c[0],c[1],c[2]);break;case b.INT_VEC4:1<f.size?c.length&&b.uniform4iv(d,
c):b.uniform4i(d,c[0],c[1],c[2],c[3]);break;case b.SAMPLER_2D:if("number"==typeof c){if(c<b.TEXTURE0||c>b.TEXTURE31||c!==Math.ceil(c))return console.log("\ud83c\udf38 p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;b.activeTexture(c);b.uniform1i(d,c)}else b.activeTexture(b.TEXTURE0+f.samplerIndex),f.texture=c instanceof r.default.Texture?c:this._renderer.getTexture(c),b.uniform1i(d,f.samplerIndex),f.texture.src.gifProperties&&f.texture.src._animateGif(this._renderer._pInst);
break;case b.SAMPLER_CUBE:case b.SAMPLER_3D:case b.SAMPLER_2D_SHADOW:case b.SAMPLER_2D_ARRAY:case b.SAMPLER_2D_ARRAY_SHADOW:case b.SAMPLER_CUBE_SHADOW:case b.INT_SAMPLER_2D:case b.INT_SAMPLER_3D:case b.INT_SAMPLER_CUBE:case b.INT_SAMPLER_2D_ARRAY:case b.UNSIGNED_INT_SAMPLER_2D:case b.UNSIGNED_INT_SAMPLER_3D:case b.UNSIGNED_INT_SAMPLER_CUBE:case b.UNSIGNED_INT_SAMPLER_2D_ARRAY:"number"==typeof c&&(c<b.TEXTURE0||c>b.TEXTURE31||c!==Math.ceil(c)?console.log("\ud83c\udf38 p5.js says: You're trying to use a number as the data for a texture.Please use a texture."):
(b.activeTexture(c),b.uniform1i(d,c)))}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,
this.uniforms.uSpecular].some(function(f){return void 0!==f})}},{key:"isNormalShader",value:function(){return void 0!==this.attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==this.uniforms.uStrokeWeight}},
{key:"enableAttrib",value:function(f,c,b,d,l,h){var g;return f&&-1!==(f=f.location)&&(g=this._renderer.GL,this._renderer.registerEnabled.has(f)||(g.enableVertexAttribArray(f),this._renderer.registerEnabled.add(f)),this._renderer.GL.vertexAttribPointer(f,c,b||g.FLOAT,d||!1,l||0,h||0)),this}},{key:"disableRemainingAttributes",value:function(){var f=this,c=!0,b=!1,d=void 0;try{for(var l,h=this._renderer.registerEnabled.values()[Symbol.iterator]();!(c=(l=h.next()).done);c=!0)!function(){var g=l.value;
Object.keys(f.attributes).some(function(m){return f.attributes[m].location===g})||(f._renderer.GL.disableVertexAttribArray(g),f._renderer.registerEnabled.delete(g))}()}catch(g){b=!0,d=g}finally{try{c||null==h.return||h.return()}finally{if(b)throw d;}}}}],u(p.prototype,k),p}();a=r.default.Shader;q.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,
"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(a,
G,q){function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(t)}function u(t){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?function(v){return x(v)}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":x(v)})(t)}function r(){var t;return"function"!=typeof WeakMap?
null:(t=new WeakMap,r=function(){return t},t)}function p(t,v){return(p=Object.setPrototypeOf||function(w,z){return w.__proto__=z,w})(t,v)}function k(t){return function(){var v,w=f(t);w=(v=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(z){}}}()?(v=f(this).constructor,Reflect.construct(w,arguments,v)):w.apply(this,arguments),this);if(!v||
"object"!==u(v)&&"function"!=typeof v){if(void 0!==w)return w;throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return v}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(t)}function c(t,v){if(!(t instanceof v))throw new TypeError("Cannot call a class as a function");}function b(t,v){for(var w=0;w<v.length;w++){var z=v[w];z.enumerable=z.enumerable||!1;z.configurable=!0;"value"in z&&(z.writable=
!0);Object.defineProperty(t,z.key,z)}}function d(t,v,w){v&&b(t.prototype,v);w&&b(t,w)}function l(t){var v=t.GL;t=t.webglVersion;var w=t===g.WEBGL2?v.getExtension("EXT_color_buffer_float")&&v.getExtension("EXT_float_blend"):v.getExtension("OES_texture_float"),z=w&&v.getExtension("OES_texture_float_linear");t=t===g.WEBGL2?v.getExtension("EXT_color_buffer_float"):v.getExtension("OES_texture_half_float");return{float:w,floatLinear:z,halfFloat:t,halfFloatLinear:t&&v.getExtension("OES_texture_half_float_linear")}}
a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.get-prototype-of");a("core-js/modules/es.object.to-string");a("core-js/modules/es.reflect.construct");a("core-js/modules/es.regexp.to-string");a("core-js/modules/es.string.iterator");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.copy-within");
a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");
a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");
a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.typed-array.uint8-array");a("core-js/modules/es.typed-array.copy-within");a("core-js/modules/es.typed-array.every");a("core-js/modules/es.typed-array.fill");a("core-js/modules/es.typed-array.filter");a("core-js/modules/es.typed-array.find");a("core-js/modules/es.typed-array.find-index");a("core-js/modules/es.typed-array.for-each");a("core-js/modules/es.typed-array.includes");a("core-js/modules/es.typed-array.index-of");
a("core-js/modules/es.typed-array.iterator");a("core-js/modules/es.typed-array.join");a("core-js/modules/es.typed-array.last-index-of");a("core-js/modules/es.typed-array.map");a("core-js/modules/es.typed-array.reduce");a("core-js/modules/es.typed-array.reduce-right");a("core-js/modules/es.typed-array.reverse");a("core-js/modules/es.typed-array.set");a("core-js/modules/es.typed-array.slice");a("core-js/modules/es.typed-array.some");a("core-js/modules/es.typed-array.sort");a("core-js/modules/es.typed-array.subarray");
a("core-js/modules/es.typed-array.to-locale-string");a("core-js/modules/es.typed-array.to-string");Object.defineProperty(q,"__esModule",{value:!0});q.checkWebGLCapabilities=l;q.default=q.MipmapTexture=void 0;var h=(m=a("../core/main"))&&m.__esModule?m:{default:m},g=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==u(t)&&"function"!=typeof t)return{default:t};var v=r();if(v&&v.has(t))return v.get(t);var w,z={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in t){var F;
Object.prototype.hasOwnProperty.call(t,w)&&((F=y?Object.getOwnPropertyDescriptor(t,w):null)&&(F.get||F.set)?Object.defineProperty(z,w,F):z[w]=t[w])}z.default=t;v&&v.set(t,z);return z}(a("../core/constants"));h.default.Texture=function(){function t(v,w,z){c(this,t);this._renderer=v;var y=this._renderer.GL;z=(z=z||{},this.src=w,this.glTex=void 0,this.glTarget=y.TEXTURE_2D,this.glFormat=z.format||y.RGBA,this.mipmaps=!1,this.glMinFilter=z.minFilter||y.LINEAR,this.glMagFilter=z.magFilter||y.LINEAR,this.glWrapS=
z.wrapS||y.CLAMP_TO_EDGE,this.glWrapT=z.wrapT||y.CLAMP_TO_EDGE,this.glDataType=z.dataType||y.UNSIGNED_BYTE,l(v));v=(this.glFormat!==y.HALF_FLOAT||z.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=y.FLOAT),this.glFormat!==y.HALF_FLOAT||this.glMinFilter!==y.LINEAR&&this.glMagFilter!==y.LINEAR||z.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===
y.LINEAR&&(this.glMinFilter=y.NEAREST),this.glMagFilter===y.LINEAR&&(this.glMagFilter=y.NEAREST)),this.glFormat!==y.FLOAT||z.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=y.UNSIGNED_BYTE),this.glFormat!==y.FLOAT||this.glMinFilter!==y.LINEAR&&this.glMagFilter!==y.LINEAR||z.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===y.LINEAR&&(this.glMinFilter=
y.NEAREST),this.glMagFilter===y.LINEAR&&(this.glMagFilter=y.NEAREST)),this.isSrcMediaElement=void 0!==h.default.MediaElement&&w instanceof h.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==h.default.Element&&w instanceof h.default.Element&&!(w instanceof h.default.Graphics)&&!(w instanceof h.default.Renderer),this.isSrcP5Image=w instanceof h.default.Image,this.isSrcP5Graphics=w instanceof h.default.Graphics,this.isSrcP5Renderer=w instanceof h.default.Renderer,this.isImageData=
"undefined"!=typeof ImageData&&w instanceof ImageData,this.isFramebufferTexture=w instanceof h.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=v.width,this.height=v.height,this.init(v),this}return d(t,[{key:"_getTextureDataFromSource",value:function(){var v;return this.isFramebufferTexture?v=this.src.rawTexture():this.isSrcP5Image?v=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),
v=this.src.canvas||this.src.elt):this.isImageData&&(v=this.src),v}},{key:"init",value:function(v){var w,z=this._renderer.GL;this.isFramebufferTexture||(this.glTex=z.createTexture());this.glWrapS=this._renderer.textureWrapX;this.glWrapT=this._renderer.textureWrapY;this.setWrapMode(this.glWrapS,this.glWrapT);this.bindTexture();z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,this.glMagFilter);z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,this.glMinFilter);this.isFramebufferTexture||(0===this.width||
0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(w=new Uint8Array([1,1,1,1]),z.texImage2D(this.glTarget,0,z.RGBA,1,1,0,this.glFormat,this.glDataType,w)):z.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,v))}},{key:"update",value:function(){var v,w,z,y=this.src;return 0!==y.width&&0!==y.height&&!this.isFramebufferTexture&&(v=this._getTextureDataFromSource(),w=!1,z=this._renderer.GL,v.width!==this.width||v.height!==this.height?(w=!0,this.width=v.width||y.width,
this.height=v.height||y.height,this.isSrcP5Image?y.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&y.setModified(!0)):this.isSrcP5Image?y.isModified()&&y.setModified(!(w=!0)):this.isSrcMediaElement?y.isModified()?y.setModified(!(w=!0)):y.loadedmetadata&&this._videoPrevUpdateTime!==y.time()&&(this._videoPrevUpdateTime=y.time(),w=!0):this.isImageData?y._dirty&&(w=!(y._dirty=!1)):w=!0,w&&(this.bindTexture(),z.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,v)),
w)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(v,w){var z=this._renderer.GL;this.glMinFilter=this.glFilter(v);this.glMagFilter=this.glFilter(w);this.bindTexture();z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,
this.glMinFilter);z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,this.glMagFilter);this.unbindTexture()}},{key:"glFilter",value:function(v){var w=this._renderer.GL;return v===g.NEAREST?w.NEAREST:w.LINEAR}},{key:"setWrapMode",value:function(v,w){var z=this._renderer.GL,y=this._getTextureDataFromSource();y=y.naturalWidth&&y.naturalHeight?(F=y.naturalWidth,y.naturalHeight):(F=this.width,this.height);var F=0==(F&F-1);y=0==(y&y-1);v===g.REPEAT?this._renderer.webglVersion===g.WEBGL2||F&&y?this.glWrapS=
z.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=z.CLAMP_TO_EDGE):v===g.MIRROR?this._renderer.webglVersion===g.WEBGL2||F&&y?this.glWrapS=z.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=z.CLAMP_TO_EDGE):this.glWrapS=z.CLAMP_TO_EDGE;w===g.REPEAT?this._renderer.webglVersion===g.WEBGL2||F&&y?this.glWrapT=
z.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=z.CLAMP_TO_EDGE):w===g.MIRROR?this._renderer.webglVersion===g.WEBGL2||F&&y?this.glWrapT=z.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=z.CLAMP_TO_EDGE):this.glWrapT=z.CLAMP_TO_EDGE;this.bindTexture();z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_S,
this.glWrapS);z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_T,this.glWrapT);this.unbindTexture()}}]),t}();var m=function(t){function v(z,y,F){c(this,v);y=(z=w.call(this,z,y,F))._renderer.GL;return z.glMinFilter===y.LINEAR&&(z.glMinFilter=y.LINEAR_MIPMAP_LINEAR),z}if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(t&&t.prototype,{constructor:{value:v,writable:!0,configurable:!0}});t&&p(v,t);var w=k(v);return d(v,[{key:"glFilter",
value:function(z){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(z){var y=this._renderer.GL;this.glTex=y.createTexture();this.bindTexture();for(var F=0;F<z.length;F++)y.texImage2D(this.glTarget,F,this.glFormat,this.glFormat,this.glDataType,z[F]);this.glMinFilter=y.LINEAR_MIPMAP_LINEAR;y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,this.glMagFilter);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,this.glMinFilter);
this.unbindTexture()}},{key:"update",value:function(){}}]),v}(h.default.Texture);q.MipmapTexture=m;a=h.default.Texture;q.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,
"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,
"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,
"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(a,G,q){function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(t)}function u(t){return(u="function"==typeof Symbol&&"symbol"===x(Symbol.iterator)?
function(v){return x(v)}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":x(v)})(t)}function r(){var t;return"function"!=typeof WeakMap?null:(t=new WeakMap,r=function(){return t},t)}function p(t,v){if(!(t instanceof v))throw new TypeError("Cannot call a class as a function");}function k(t,v){for(var w=0;w<v.length;w++){var z=v[w];z.enumerable=z.enumerable||!1;z.configurable=!0;"value"in z&&(z.writable=!0);Object.defineProperty(t,z.key,z)}}function f(t,
v,w){v&&k(t.prototype,v);w&&k(t,w)}function c(t,v,w,z,y){var F=t.imageData.data;t=4*t.index++;F[t++]=v;F[t++]=w;F[t++]=z;F[+t]=y}a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.get-own-property-descriptor");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.split");a("core-js/modules/es.string.sub");
a("core-js/modules/es.weak-map");a("core-js/modules/web.dom-collections.iterator");a("core-js/modules/es.symbol");a("core-js/modules/es.symbol.description");a("core-js/modules/es.symbol.iterator");a("core-js/modules/es.array.iterator");a("core-js/modules/es.object.to-string");a("core-js/modules/es.regexp.exec");a("core-js/modules/es.string.iterator");a("core-js/modules/es.string.split");a("core-js/modules/es.string.sub");a("core-js/modules/web.dom-collections.iterator");var b,d=(b=a("../core/main"))&&
b.__esModule?b:{default:b},l=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==u(t)&&"function"!=typeof t)return{default:t};var v=r();if(v&&v.has(t))return v.get(t);var w,z={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in t){var F;Object.prototype.hasOwnProperty.call(t,w)&&((F=y?Object.getOwnPropertyDescriptor(t,w):null)&&(F.get||F.set)?Object.defineProperty(z,w,F):z[w]=t[w])}z.default=t;v&&v.set(t,z);return z}(a("../core/constants"));a("./p5.Shader");a("./p5.RendererGL.Retained");
d.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null);this._setProperty("_textDescent",null)};d.default.RendererGL.prototype.textWidth=function(t){return this._isOpenType()?this._textFont._textWidth(t,this._textSize):0};var h=function(){function t(v,w){p(this,t);this.width=v;this.height=w;this.infos=[]}return f(t,[{key:"findImage",value:function(v){var w,z=this.width*this.height;if(z<v)throw Error("font is too complex to render in 3D");for(var y=this.infos.length-
1;0<=y;--y){var F=this.infos[y];if(F.index+v<z){var D=(w=F).imageData;break}}if(!w){try{D=new ImageData(this.width,this.height)}catch(C){w=document.getElementsByTagName("canvas")[0],y=!w,(z=(w||((w=document.createElement("canvas")).style.display="none",document.body.appendChild(w)),w.getContext("2d")))&&(D=z.createImageData(this.width,this.height)),y&&document.body.removeChild(w)}this.infos.push(w={index:0,imageData:D})}z=w.index;return w.index+=v,D._dirty=!0,{imageData:D,index:z}}}]),t}(),g=Math.sqrt(3),
m=function(){function t(v){p(this,t);this.font=v;this.strokeImageInfos=new h(64,64);this.colDimImageInfos=new h(64,64);this.rowDimImageInfos=new h(64,64);this.colCellImageInfos=new h(64,64);this.rowCellImageInfos=new h(64,64);this.glyphInfos={}}return f(t,[{key:"getGlyphInfo",value:function(v){function w(wa,ua,ta){function Ga(Ya,$a,Za){for(var ib=Ya.length;0<ib--;){var jb=Ya[ib];jb<$a&&($a=jb);Za<jb&&(Za=jb)}return{min:$a,max:Za}}var Oa=V.length;V.push(ta);ta=Ga(wa,1,0);wa=Math.max(Math.floor(9*ta.min-
.5),0);for(ta=Math.min(Math.ceil(9*ta.max+.5),9);wa<ta;++wa)R[wa].push(Oa);ta=Ga(ua,1,0);wa=Math.max(Math.floor(9*ta.min-.5),0);for(ua=Math.min(Math.ceil(9*ta.max+.5),9);wa<ua;++wa)W[wa].push(Oa)}function z(wa){return 0>(wa*=255)?0:255<wa?255:wa}function y(wa,ua,ta,Ga){w([wa,ta],[ua,Ga],{x:wa,y:ua,cx:(wa+ta)/2,cy:(ua+Ga)/2})}function F(wa,ua,ta){var Ga=wa.length,Oa=ua.findImage(Ga);ua=Oa.index;for(var Ya=0,$a=0;$a<Ga;++$a)Ya+=wa[$a].length;ta=ta.findImage(Ya);for(Ya=0;Ya<Ga;++Ya){$a=wa[Ya];var Za=
$a.length,ib=ta.index;c(Oa,ib>>7,127&ib,Za>>7,127&Za);for(ib=0;ib<Za;++ib){var jb=$a[ib]+ra;c(ta,jb>>7,127&jb,0,0)}}return{cellImageInfo:ta,dimOffset:ua,dimImageInfo:Oa}}var D=this.glyphInfos[v.index];if(!D){var C=v.getBoundingBox(),N=C.x1,J=C.y1,E=C.x2-N,M=C.y2-J,Q=v.path.commands;if(0==E||0==M||!Q.length)return this.glyphInfos[v.index]={};for(var V=[],W=[],R=[],S=8;0<=S;--S)R.push([]);for(S=8;0<=S;--S)W.push([]);var K=function(){function wa(ua,ta,Ga,Oa){p(this,wa);this.p0=ua;this.c0=ta;this.c1=
Ga;this.p1=Oa}return f(wa,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return d.default.Vector.sub(d.default.Vector.sub(this.p1,this.p0),d.default.Vector.mult(d.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(ua){var ta=d.default.Vector.lerp(this.p0,this.c0,ua),Ga=d.default.Vector.lerp(this.c0,
this.c1,ua),Oa=d.default.Vector.lerp(ta,Ga,ua);Ga=(this.c1=d.default.Vector.lerp(this.c1,this.p1,ua),this.c0=d.default.Vector.lerp(Ga,this.c1,ua),d.default.Vector.lerp(Oa,this.c0,ua));ua=new wa(this.p0,ta,Oa,Ga);return this.p0=Ga,ua}},{key:"splitInflections",value:function(){var ua=d.default.Vector.sub(this.c0,this.p0),ta=d.default.Vector.sub(d.default.Vector.sub(this.c1,this.c0),ua),Ga=d.default.Vector.sub(d.default.Vector.sub(d.default.Vector.sub(this.p1,this.c1),ua),d.default.Vector.mult(ta,2)),
Oa=[],Ya=ta.x*Ga.y-ta.y*Ga.x;return 0!==Ya&&0<=(ua=(Ga=ua.x*Ga.y-ua.y*Ga.x)*Ga-4*Ya*(ua.x*ta.y-ua.y*ta.x))&&(0>Ya&&(Ya=-Ya,Ga=-Ga,0),ua=(-Ga+(ta=Math.sqrt(ua)))/(2*Ya),0<(Ga=(-Ga-ta)/(2*Ya))&&1>Ga&&(Oa.push(this.split(Ga)),ua=1-(1-ua)/(1-Ga)),0<ua&&1>ua&&Oa.push(this.split(ua))),Oa.push(this),Oa}}]),wa}();S=!0;var O=!1,I=void 0;try{for(var P,X=Q[Symbol.iterator]();!(S=(P=X.next()).done);S=!0){var ca=P.value,ia=(ca.x-N)/E,da=(ca.y-J)/M;if(!(1E-5>Math.abs(ia-xa)&&1E-5>Math.abs(da-pa))){switch(ca.type){case "M":var ba=
ia;var ja=da;break;case "L":y(xa,pa,ia,da);break;case "Q":var qa=(ca.x1-N)/E,fa=(ca.y1-J)/M;w([xa,ia,qa],[pa,da,fa],{x:xa,y:pa,cx:qa,cy:fa});break;case "Z":1E-5>Math.abs(ba-xa)&&1E-5>Math.abs(ja-pa)?V.push({x:xa,y:pa}):(y(xa,pa,ba,ja),V.push({x:ba,y:ja}));break;case "C":var ma=function(wa,ua,ta,Ga,Oa,Ya,$a,Za){wa=(new K(new d.default.Vector(wa,ua),new d.default.Vector(ta,Ga),new d.default.Vector(Oa,Ya),new d.default.Vector($a,Za))).splitInflections();Ga=[];Oa=30/g;Ya=!0;ua=!1;ta=void 0;try{for(var ib,
jb=wa[Symbol.iterator]();!(Ya=(ib=jb.next()).done);Ya=!0){var Wa=ib.value;wa=[];for($a=void 0;!(.125<=($a=Oa/Wa.quadError()));){var Sa=Math.pow($a,1/3),mb=Wa.split(Sa),Y=Wa.split(1-Sa/(1-Sa));Ga.push(mb);wa.push(Wa);Wa=Y}1>$a&&Ga.push(Wa.split(.5));Ga.push(Wa);Array.prototype.push.apply(Ga,wa.reverse())}}catch(aa){ua=!0,ta=aa}finally{try{Ya||null==jb.return||jb.return()}finally{if(ua)throw ta;}}return Ga}(xa,pa,(ca.x1-N)/E,(ca.y1-J)/M,(ca.x2-N)/E,(ca.y2-J)/M,ia,da);for(Q=0;Q<ma.length;Q++){var sa=
ma[Q].toQuadratic();w([sa.x,sa.x1,sa.cx],[sa.y,sa.y1,sa.cy],sa)}break;default:throw Error("unknown command type: ".concat(ca.type));}var xa=ia;var pa=da}}}catch(wa){O=!0,I=wa}finally{try{S||null==X.return||X.return()}finally{if(O)throw I;}}N=V.length;J=this.strokeImageInfos.findImage(N);var ra=J.index;for(E=0;E<N;++E)M=V[E],c(J,z(M.x),z(M.y),z(M.cx),z(M.cy));(D=this.glyphInfos[v.index]={glyph:v,uGlyphRect:[C.x1,-C.y1,C.x2,-C.y2],strokeImageInfo:J,strokes:V,colInfo:F(R,this.colDimImageInfos,this.colCellImageInfos),
rowInfo:F(W,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[D.colInfo.dimOffset,D.rowInfo.dimOffset]}return D}}]),t}();d.default.RendererGL.prototype._renderText=function(t,v,w,z,y){if(this._textFont&&"string"!=typeof this._textFont){if(!(y<=z)&&this._doFill){if(this._isOpenType()){t.push();y=this._doStroke;var F=this.drawMode,D=(this._doStroke=!1,this.drawMode=l.TEXTURE,this._textFont.font),C=(C=this._textFont._fontInfo)||(this._textFont._fontInfo=new m(D));w=this._textFont._handleAlignment(this,
v,w,z);z=this._textSize/D.unitsPerEm;var N=(this.translate(w.x,w.y,0),this.scale(z,z,1),this.GL);w=!this._defaultFontShader;var J=this._getFontShader(),E=(J.init(),J.bindShader(),w&&(J.setUniform("uGridImageSize",[64,64]),J.setUniform("uCellsImageSize",[64,64]),J.setUniform("uStrokeImageSize",[64,64]),J.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),M=(E||((z=this._textGeom=new d.default.Geometry(1,1,function(){for(var X=0;1>=X;X++)for(var ca=
0;1>=ca;ca++)this.vertices.push(new d.default.Vector(ca,X,0)),this.uvs.push(ca,X)})).computeFaces().computeNormals(),E=this.createBuffers("glyph",z)),!0);w=!1;z=void 0;try{for(var Q,V=this.retainedMode.buffers.text[Symbol.iterator]();!(M=(Q=V.next()).done);M=!0)Q.value._prepareBuffer(E,J)}catch(X){w=!0,z=X}finally{try{M||null==V.return||V.return()}finally{if(w)throw z;}}this._bindBuffer(E.indexBuffer,N.ELEMENT_ARRAY_BUFFER);J.setUniform("uMaterialColor",this.curFillColor);N.pixelStorei(N.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!1);try{w=0;z=null;var W=D.stringToGlyphs(v);v=!0;E=!1;M=void 0;try{for(var R,S=W[Symbol.iterator]();!(v=(R=S.next()).done);v=!0){var K,O,I=R.value,P=(z&&(w+=D.getKerningValue(z,I)),C.getGlyphInfo(I));P.uGlyphRect&&(K=P.rowInfo,O=P.colInfo,J.setUniform("uSamplerStrokes",P.strokeImageInfo.imageData),J.setUniform("uSamplerRowStrokes",K.cellImageInfo.imageData),J.setUniform("uSamplerRows",K.dimImageInfo.imageData),J.setUniform("uSamplerColStrokes",O.cellImageInfo.imageData),J.setUniform("uSamplerCols",
O.dimImageInfo.imageData),J.setUniform("uGridOffset",P.uGridOffset),J.setUniform("uGlyphRect",P.uGlyphRect),J.setUniform("uGlyphOffset",w),J.bindTextures(),N.drawElements(N.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0));w+=I.advanceWidth;z=I}}catch(X){E=!0,M=X}finally{try{v||null==S.return||S.return()}finally{if(E)throw M;}}}finally{J.unbindShader(),this._doStroke=y,this.drawMode=F,N.pixelStorei(N.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");
return t}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,
"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})};
shadow$provide[1]=function(Hb,Zb,$b,ac){(function(za){function a(w){if(0===w.length)return 0;let z=0;for(let y=0;y<w.length;y++)z+=w[y];return z/w.length}function G(w){if(0===w.length)return 0;const z=a(w);let y=0;for(let F=0;F<w.length;F++){const D=w[F]-z;y+=D*D}return Math.sqrt(y/w.length)}function q(w){let z=0,y=w[0];for(let F=1;F<w.length;F++)w[F]>y&&(y=w[F],z=F);return z}function x(w){let z=0,y=w[0];for(let F=1;F<w.length;F++)w[F]<y&&(y=w[F],z=F);return z}function u(){return new Promise(function(w){setTimeout(w,
0)})}async function r(w,z,y,F){const D=Math.floor((w.length-z)/y)+1,C=z/2+1,N=Array(D),J=new Float32Array(z);for(var E=0;E<z;E++)J[E]=.5*(1-Math.cos(2*Math.PI*E/(z-1)));E=new v(z);for(let V=0;V<D;V++){var M=V*y,Q=new Float32Array(z);for(let W=0;W<z;W++)M+W<w.length&&(Q[W]=w[M+W]*J[W]);M=E.forward(Q);N[V]=new Float32Array(C);for(Q=0;Q<C;Q++)N[V][Q]=M[Q];0===V%100&&(F&&F({stage:"stft",progress:V/D*100}),await u())}return N}function p(w,z,y){const F=w.length;z/=y;let D=y=0;for(let C=0;C<F;C++)y+=C*z*
w[C],D+=w[C];return 0<D?y/D:0}function k(w,z,y,F){const D=w.length;y/=F;let C=F=0;for(let N=0;N<D;N++){const J=N*y-z;F+=J*J*w[N];C+=w[N]}return 0<C?Math.sqrt(F/C):0}function f(w,z,y){let F=0;y=Math.min(z+y,w.length);for(let D=z;D<y;D++)F+=w[D]*w[D];return Math.sqrt(F/(y-z))}function c(w,z,y){let F=0;y=Math.min(z+y,w.length);for(let D=z+1;D<y;D++)(0<=w[D]&&0>w[D-1]||0>w[D]&&0<=w[D-1])&&F++;return F/(y-z)}function b(w,z,y,F,D){z/=y;F=Math.floor(F/z);D=Math.min(Math.ceil(D/z),w.length-1);if(D<=F)return 0;
z=0;for(y=F;y<=D;y++)z+=w[y];return z/(D-F+1)*100}function d(w,z,y,F){F&&F({stage:"beat_detection",progress:0});w=Math.floor(60*z/102400);var D=Math.floor(60*z/30720),C=new Float32Array(D-w+1);for(var N=w;N<=D;N++){var J=0;for(var E=0;E<y.length-N;E++)J+=y[E]*y[E+N];C[N-w]=J}F&&F({stage:"beat_detection",progress:50});D=q(C);w=60*z/(512*(D+w));D=Math.round(60/w*z/512);C=[];J=a(y)+.5*G(y);N=[];for(E=1;E<y.length-1;E++)y[E]>y[E-1]&&y[E]>y[E+1]&&y[E]>J&&N.push(E);if(0<N.length)for(C.push(N[0]),y=1;y<
N.length;y++){J=C[C.length-1];E=J+D;let M=-1,Q=Infinity;for(let V=y;V<N.length&&N[V]<E+.5*D;V++){const W=Math.abs(N[V]-E);W<Q&&(Q=W,M=N[V])}0<M&&Q<.4*D?C.push(M):N[y]-J>.7*D&&C.push(N[y])}y=C.map(M=>512*M/z);F&&F({stage:"beat_detection",progress:100});return{tempo:w,beatTimes:y}}function l(w,z){z&&z({stage:"onset_detection",progress:0});const y=w.length,F=new Float32Array(y);for(var D=1;D<y;D++){let C=0;const N=w[D-1],J=w[D];for(let E=0;E<J.length;E++){const M=J[E]-N[E];0<M&&(C+=M)}F[D]=C;z&&0===
D%100&&z({stage:"onset_detection",progress:D/y*100})}w=Math.max(...F);if(0<w)for(D=0;D<y;D++)F[D]/=w;z&&z({stage:"onset_detection",progress:100});return F}function h(w,z,y=.08){z=[];y=a(w)+y*(Math.max(...w)-a(w));for(let F=3;F<w.length-3;F++){let D=!0;for(let C=F-3;C<=F+3;C++)if(C!==F&&w[C]>=w[F]){D=!1;break}D&&w[F]>y&&z.push(F)}return z}async function g(w,z,y,F,D,C,N){N&&N({stage:"onset_features",progress:0});const J=[],E=new Float32Array(y.length),M=new Float32Array(y.length),Q=new Float32Array(y.length),
V=new Float32Array(y.length),W=new Float32Array(y.length),R=new Float32Array(y.length),S=new Float32Array(y.length);for(var K=0;K<y.length;K++){E[K]=p(y[K],z,2048);M[K]=k(y[K],E[K],z,2048);var O=512*K;Q[K]=f(w,O,512);V[K]=c(w,O,512);W[K]=b(y[K],z,2048,0,200);R[K]=b(y[K],z,2048,500,3E3);S[K]=b(y[K],z,2048,5E3,1E4);0===K%200&&(N&&N({stage:"onset_features",progress:K/y.length*50}),await u())}w=F.map(ba=>512*ba/z);for(y=0;y<F.length;y++){O=F[y];K=Math.max(0,O-2);O=Math.min(E.length,O+3);var I=w[y],P=
.5;if(0<D.length){P=D[0];var X=Math.abs(I-P);for(var ca=1;ca<D.length;ca++){var ia=Math.abs(I-D[ca]);ia<X&&(X=ia,P=D[ca])}P=Math.abs(I-P)/C}let ba=ia=ca=X=I=0,ja=0,qa=0;const fa=O-K;for(var da=K;da<O;da++)I+=E[da],X+=M[da],ca+=Q[da],ia+=V[da],ba+=W[da],ja+=R[da],qa+=S[da];for(da=[];K<O;K++)da.push(Q[K]);K=0<da.length?q(da)-x(da):0;J.push({centroid:I/fa,bandwidth:X/fa,rms:ca/fa,zcr:ia/fa,attack_time:K,beat_offset_ratio:P,low_rms:ba/fa,mid_rms:ja/fa,high_rms:qa/fa});N&&0===y%50&&N({stage:"onset_features",
progress:50+y/F.length*50})}N&&N({stage:"onset_features",progress:100});return{features:J,onsetTimes:w}}function m(w,z,y=200,F){F&&F({stage:"clustering",progress:0});const D=w.length;D<z&&(z=Math.max(1,D));const C=w.map(R=>[5*R.centroid,3*R.bandwidth,15*R.rms,5*R.zcr,50*R.attack_time,10*R.beat_offset_ratio,30*R.low_rms,30*R.mid_rms,30*R.high_rms]),N=C[0].length;w=Array(N).fill(0);var J=Array(N).fill(0);for(var E=0;E<N;E++){for(var M=0;M<D;M++)w[E]+=C[M][E];w[E]/=D;for(M=0;M<D;M++){var Q=C[M][E]-w[E];
J[E]+=Q*Q}J[E]=Math.sqrt(J[E]/D)||1;for(M=0;M<D;M++)C[M][E]=(C[M][E]-w[E])/J[E]}for(w=[];w.length<z;)J=Math.floor(Math.random()*D),w.includes(J)||w.push(J);E=w.map(R=>[...C[R]]);w=new Int32Array(D);for(J=0;J<y;J++){for(M=0;M<D;M++){Q=Infinity;var V=0;for(var W=0;W<z;W++){let R=0;for(let S=0;S<N;S++){const K=C[M][S]-E[W][S];R+=K*K}R<Q&&(Q=R,V=W)}w[M]=V}E=E.map(()=>Array(N).fill(0));M=new Int32Array(z);for(Q=0;Q<D;Q++)for(V=w[Q],M[V]++,W=0;W<N;W++)E[V][W]+=C[Q][W];for(Q=0;Q<z;Q++)if(0<M[Q])for(V=0;V<
N;V++)E[Q][V]/=M[Q];F&&0===J%20&&F({stage:"clustering",progress:J/y*100})}F&&F({stage:"clustering",progress:100});return w}function t(w,z,y,F){const D=Math.max(...z)+1,C={};for(let Q=0;Q<D;Q++){var N=[];for(var J=0;J<z.length;J++)z[J]===Q&&N.push(J);if(1>N.length)continue;J=N.map(O=>y[O]);var E=N.map(O=>w[O]);N=a(E.map(O=>O.rms));const V=a(E.map(O=>O.centroid)),W=a(E.map(O=>O.beat_offset_ratio)),R=a(E.map(O=>O.low_rms)),S=a(E.map(O=>O.mid_rms));E=a(E.map(O=>O.high_rms));const K=3E3>V&&.5>N;C[`cluster_${Object.keys(C).length}`]=
{times:J,mean_rms:N,mean_centroid:V,mean_beat_offset_ratio:W,mean_low_rms:R,mean_mid_rms:S,mean_high_rms:E,count:J.length,is_voice:K}}const M={};Object.entries(C).sort((Q,V)=>V[1].count-Q[1].count).forEach(([,Q],V)=>{Q.type=Q.is_voice?"Voice":.05>Q.mean_rms?"Silence/Low_Energy":0===V?"Primary_Beat/Vocal_Cadence":.15>Q.mean_beat_offset_ratio&&Q.mean_low_rms>1.5*Q.mean_mid_rms&&Q.mean_low_rms>1.5*Q.mean_high_rms?"Kick_Drum/Bass_Accent":5E3<Q.mean_centroid&&Q.mean_high_rms>1.5*Q.mean_low_rms?"High_Freq_Percussion/Sibilance":
.3<Q.mean_beat_offset_ratio?"Off_Beat_Vocal_Emphasis/Syncopated_Instrument":Q.count<F/100&&100<F?"Rare_Accessory_Sound":`Sound_Identity_${V+1}`;M[`cluster_${V}`]=Q});return M}class v{constructor(w){this.size=w;this.real=new Float32Array(w);this.imag=new Float32Array(w);this.reverseTable=new Uint32Array(w);var z=1;let y=w>>1;for(;z<w;){for(let F=0;F<z;F++)this.reverseTable[F+z]=this.reverseTable[F]+y;z<<=1;y>>=1}this.sinTable=new Float32Array(w);this.cosTable=new Float32Array(w);for(z=0;z<w;z++)this.sinTable[z]=
Math.sin(-Math.PI/z),this.cosTable[z]=Math.cos(-Math.PI/z)}forward(w){const z=this.size,y=this.real,F=this.imag;for(var D=0;D<z;D++)y[D]=w[this.reverseTable[D]],F[D]=0;for(w=1;w<z;){D=Math.cos(Math.PI/w);const N=Math.sin(-Math.PI/w);let J=1,E=0;for(let M=0;M<w;M++){for(var C=M;C<z;){const Q=C+w,V=J*y[Q]-E*F[Q],W=J*F[Q]+E*y[Q];y[Q]=y[C]-V;F[Q]=F[C]-W;y[C]+=V;F[C]+=W;C+=w<<1}C=J;J=C*D-E*N;E=C*N+E*D}w<<=1}w=new Float32Array(z/2+1);for(D=0;D<=z/2;D++)w[D]=Math.sqrt(y[D]*y[D]+F[D]*F[D]);return w}}za.AudioAnalyzer=
{analyzeAudio:async function(w,z,y){z=z||{};var F=!1!==z.useClustering;const D=z.nClustersTarget||50;var C=z.targetSampleRate||22050;y&&y({stage:"decoding",progress:0});z=await w.arrayBuffer();w=new (window.AudioContext||window.webkitAudioContext);var N=await w.decodeAudioData(z),J=N.sampleRate;z=N.duration;N=N.getChannelData(0);var E=J;if(J>C){y&&y({stage:"decoding",progress:50});if(J!==C){E=J/C;var M=Math.floor(N.length/E),Q=new Float32Array(M);for(let R=0;R<M;R++)Q[R]=N[Math.floor(R*E)];N=Q}E=
C;console.log("Downsampled from",J,"to",E)}y&&y({stage:"decoding",progress:100});y&&y({stage:"stft",progress:0});C=await r(N,2048,512,y);y&&y({stage:"stft",progress:100});M=l(C,y);const {tempo:V,beatTimes:W}=d(N,E,M,y);J=60/V;z={tempo:V,beats:W,duration:z};if(F){F=h(M,E);const {features:R,onsetTimes:S}=await g(N,E,C,F,W,J,y);y=m(R,Math.min(D,Math.max(3,Math.floor(R.length/3))),200,y);y=t(R,y,S,R.length);z.sound_clusters=y;z.metadata={total_onsets:S.length,total_clusters:Object.keys(y).length}}await w.close();
return z},_internal:{FFT:v,stft:r,detectBeats:d,computeOnsetEnvelope:l,detectOnsets:h,extractOnsetFeatures:g,kMeansClustering:m,classifyClusters:t}}})("undefined"!==typeof window?window:Hb)};
shadow$provide[2]=function(Hb,Zb,$b,ac){(function(za){function a(q){var x=q.stage,u=q.progress,r={decoding:"Decoding audio...",beat_detection:"Detecting beats...",stft:"Computing frequency spectrum...",features:"Extracting audio features...",onset_detection:"Finding sound events...",onset_features:"Analyzing event features...",clustering:"Grouping similar sounds..."},p=document.getElementById("analysis-progress");q=document.getElementById("progress-fill");var k=document.getElementById("progress-text");
p&&(p.style.display="block");k&&(k.textContent=r[x]||x);r="decoding beat_detection stft features onset_detection onset_features clustering".split(" ");x=(r.indexOf(x)+u/100)/r.length*100;q&&(q.style.width=x+"%")}function G(q){console.log("Starting browser-based analysis...");za.AudioAnalyzer?za.AudioAnalyzer.analyzeAudio(q,{useClustering:!0,nClustersTarget:50},a).then(function(x){console.log("Analysis complete:",x);var u=document.getElementById("analysis-progress");u&&(u.style.display="none");za.analysisData=
x;var r=document.getElementById("audio1");r&&(x=URL.createObjectURL(q),r.src=x,r.onseeked=function(p){za.seekRequest&&za.seekRequest(r.currentTime)},r.load())}).catch(function(x){console.error("Browser analysis failed:",x);var u=document.getElementById("progress-text");u&&(u.textContent="Analysis failed: "+x.message)}):console.error("AudioAnalyzer not loaded")}za.analysisMode="browser";za.setAnalysisMode=function(q){za.analysisMode=q;document.querySelectorAll(".mode-btn").forEach(function(x){x.classList.remove("active")});
document.getElementById("mode-"+q).classList.add("active")};za.handleFileUpload=function(q){if(q=q.target.files[0])console.log("handleFileUpload called, mode:",za.analysisMode),"browser"===za.analysisMode?G(q):za.foo?za.foo({target:{files:[q]}}):console.error("Server analysis function (foo) not available")}})(window)};
shadow$provide[3]=function(Hb,Zb,$b,ac){(function(za,a){"object"===typeof ac&&"object"===typeof $b?$b.exports=a():"function"===typeof define&&define.amd?define("Matter",[],a):"object"===typeof ac?ac.Matter=a():za.Matter=a()})(this,function(){return function(za){function a(q){if(G[q])return G[q].exports;var x=G[q]={i:q,l:!1,exports:{}};za[q].call(x.exports,x,x.exports,a);x.l=!0;return x.exports}var G={};a.m=za;a.c=G;a.d=function(q,x,u){a.o(q,x)||Object.defineProperty(q,x,{enumerable:!0,get:u})};a.r=
function(q){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(q,Symbol.toStringTag,{value:"Module"});Object.defineProperty(q,"__esModule",{value:!0})};a.t=function(q,x){x&1&&(q=a(q));if(x&8||x&4&&"object"===typeof q&&q&&q.__esModule)return q;var u=Object.create(null);a.r(u);Object.defineProperty(u,"default",{enumerable:!0,value:q});if(x&2&&"string"!=typeof q)for(var r in q)a.d(u,r,function(p){return q[p]}.bind(null,r));return u};a.n=function(q){var x=q&&q.__esModule?function(){return q["default"]}:
function(){return q};a.d(x,"a",x);return x};a.o=function(q,x){return Object.prototype.hasOwnProperty.call(q,x)};a.p="";return a(a.s=20)}([function(za,a){var G={};za.exports=G;(function(){G._baseDelta=1E3/60;G._nextId=0;G._seed=0;G._nowStartTime=+new Date;G._warnedOnce={};G._decomp=null;G.extend=function(q,x){if("boolean"===typeof x){var u=2;var r=x}else u=1,r=!0;for(;u<arguments.length;u++){var p=arguments[u];if(p)for(var k in p)r&&p[k]&&p[k].constructor===Object?q[k]&&q[k].constructor!==Object?q[k]=
p[k]:(q[k]=q[k]||{},G.extend(q[k],r,p[k])):q[k]=p[k]}return q};G.clone=function(q,x){return G.extend({},x,q)};G.keys=function(q){if(Object.keys)return Object.keys(q);var x=[],u;for(u in q)x.push(u);return x};G.values=function(q){var x=[];if(Object.keys){for(var u=Object.keys(q),r=0;r<u.length;r++)x.push(q[u[r]]);return x}for(u in q)x.push(q[u]);return x};G.get=function(q,x,u,r){x=x.split(".").slice(u,r);for(u=0;u<x.length;u+=1)q=q[x[u]];return q};G.set=function(q,x,u,r,p){r=x.split(".").slice(r,p);
return G.get(q,x,0,-1)[r[r.length-1]]=u};G.shuffle=function(q){for(var x=q.length-1;0<x;x--){var u=Math.floor(G.random()*(x+1)),r=q[x];q[x]=q[u];q[u]=r}return q};G.choose=function(q){return q[Math.floor(G.random()*q.length)]};G.isElement=function(q){return"undefined"!==typeof HTMLElement?q instanceof HTMLElement:!!(q&&q.nodeType&&q.nodeName)};G.isArray=function(q){return"[object Array]"===Object.prototype.toString.call(q)};G.isFunction=function(q){return"function"===typeof q};G.isPlainObject=function(q){return"object"===
typeof q&&q.constructor===Object};G.isString=function(q){return"[object String]"===toString.call(q)};G.clamp=function(q,x,u){return q<x?x:q>u?u:q};G.sign=function(q){return 0>q?-1:1};G.now=function(){if("undefined"!==typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-G._nowStartTime};G.random=function(q,x){q="undefined"!==typeof q?q:0;G._seed=(9301*G._seed+
49297)%233280;return q+G._seed/233280*(("undefined"!==typeof x?x:1)-q)};G.colorToNumber=function(q){q=q.replace("#","");3==q.length&&(q=q.charAt(0)+q.charAt(0)+q.charAt(1)+q.charAt(1)+q.charAt(2)+q.charAt(2));return parseInt(q,16)};G.logLevel=1;G.log=function(){console&&0<G.logLevel&&3>=G.logLevel&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))};G.info=function(){console&&0<G.logLevel&&2>=G.logLevel&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))};
G.warn=function(){console&&0<G.logLevel&&3>=G.logLevel&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))};G.warnOnce=function(){var q=Array.prototype.slice.call(arguments).join(" ");G._warnedOnce[q]||(G.warn(q),G._warnedOnce[q]=!0)};G.deprecated=function(q,x,u){q[x]=G.chain(function(){G.warnOnce("\ud83d\udd05 deprecated \ud83d\udd05",u)},q[x])};G.nextId=function(){return G._nextId++};G.indexOf=function(q,x){if(q.indexOf)return q.indexOf(x);for(var u=0;u<q.length;u++)if(q[u]===
x)return u;return-1};G.map=function(q,x){if(q.map)return q.map(x);for(var u=[],r=0;r<q.length;r+=1)u.push(x(q[r]));return u};G.topologicalSort=function(q){var x=[],u=[],r=[],p;for(p in q)u[p]||r[p]||G._topologicalSort(p,u,r,q,x);return x};G._topologicalSort=function(q,x,u,r,p){var k=r[q]||[];u[q]=!0;for(var f=0;f<k.length;f+=1){var c=k[f];u[c]||x[c]||G._topologicalSort(c,x,u,r,p)}u[q]=!1;x[q]=!0;p.push(q)};G.chain=function(){for(var q=[],x=0;x<arguments.length;x+=1){var u=arguments[x];u._chained?
q.push.apply(q,u._chained):q.push(u)}x=function(){for(var r,p=Array(arguments.length),k=0,f=arguments.length;k<f;k++)p[k]=arguments[k];for(k=0;k<q.length;k+=1)f=q[k].apply(r,p),"undefined"!==typeof f&&(r=f);return r};x._chained=q;return x};G.chainPathBefore=function(q,x,u){return G.set(q,x,G.chain(u,G.get(q,x)))};G.chainPathAfter=function(q,x,u){return G.set(q,x,G.chain(G.get(q,x),u))};G.setDecomp=function(q){G._decomp=q};G.getDecomp=function(){var q=G._decomp;try{q||"undefined"===typeof window||
(q=window.decomp),q||"undefined"===typeof Hb||(q=Hb.decomp)}catch(x){q=null}return q}})()},function(za,a){var G={};za.exports=G;(function(){G.create=function(q){var x={min:{x:0,y:0},max:{x:0,y:0}};q&&G.update(x,q);return x};G.update=function(q,x,u){q.min.x=Infinity;q.max.x=-Infinity;q.min.y=Infinity;q.max.y=-Infinity;for(var r=0;r<x.length;r++){var p=x[r];p.x>q.max.x&&(q.max.x=p.x);p.x<q.min.x&&(q.min.x=p.x);p.y>q.max.y&&(q.max.y=p.y);p.y<q.min.y&&(q.min.y=p.y)}u&&(0<u.x?q.max.x+=u.x:q.min.x+=u.x,
0<u.y?q.max.y+=u.y:q.min.y+=u.y)};G.contains=function(q,x){return x.x>=q.min.x&&x.x<=q.max.x&&x.y>=q.min.y&&x.y<=q.max.y};G.overlaps=function(q,x){return q.min.x<=x.max.x&&q.max.x>=x.min.x&&q.max.y>=x.min.y&&q.min.y<=x.max.y};G.translate=function(q,x){q.min.x+=x.x;q.max.x+=x.x;q.min.y+=x.y;q.max.y+=x.y};G.shift=function(q,x){var u=q.max.x-q.min.x,r=q.max.y-q.min.y;q.min.x=x.x;q.max.x=x.x+u;q.min.y=x.y;q.max.y=x.y+r}})()},function(za,a){var G={};za.exports=G;(function(){G.create=function(q,x){return{x:q||
0,y:x||0}};G.clone=function(q){return{x:q.x,y:q.y}};G.magnitude=function(q){return Math.sqrt(q.x*q.x+q.y*q.y)};G.magnitudeSquared=function(q){return q.x*q.x+q.y*q.y};G.rotate=function(q,x,u){var r=Math.cos(x);x=Math.sin(x);u||(u={});var p=q.x*r-q.y*x;u.y=q.x*x+q.y*r;u.x=p;return u};G.rotateAbout=function(q,x,u,r){var p=Math.cos(x);x=Math.sin(x);r||(r={});var k=u.x+((q.x-u.x)*p-(q.y-u.y)*x);r.y=u.y+((q.x-u.x)*x+(q.y-u.y)*p);r.x=k;return r};G.normalise=function(q){var x=G.magnitude(q);return 0===x?
{x:0,y:0}:{x:q.x/x,y:q.y/x}};G.dot=function(q,x){return q.x*x.x+q.y*x.y};G.cross=function(q,x){return q.x*x.y-q.y*x.x};G.cross3=function(q,x,u){return(x.x-q.x)*(u.y-q.y)-(x.y-q.y)*(u.x-q.x)};G.add=function(q,x,u){u||(u={});u.x=q.x+x.x;u.y=q.y+x.y;return u};G.sub=function(q,x,u){u||(u={});u.x=q.x-x.x;u.y=q.y-x.y;return u};G.mult=function(q,x){return{x:q.x*x,y:q.y*x}};G.div=function(q,x){return{x:q.x/x,y:q.y/x}};G.perp=function(q,x){x=!0===x?-1:1;return{x:x*-q.y,y:x*q.x}};G.neg=function(q){return{x:-q.x,
y:-q.y}};G.angle=function(q,x){return Math.atan2(x.y-q.y,x.x-q.x)};G._temp=[G.create(),G.create(),G.create(),G.create(),G.create(),G.create()]})()},function(za,a,G){var q={};za.exports=q;var x=G(2),u=G(0);(function(){q.create=function(r,p){for(var k=[],f=0;f<r.length;f++){var c=r[f];k.push({x:c.x,y:c.y,index:f,body:p,isInternal:!1})}return k};q.fromPath=function(r,p){var k=[];r.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,function(f,c,b){k.push({x:parseFloat(c),y:parseFloat(b)})});return q.create(k,
p)};q.centre=function(r){for(var p=q.area(r,!0),k={x:0,y:0},f,c,b=0;b<r.length;b++)c=(b+1)%r.length,f=x.cross(r[b],r[c]),f=x.mult(x.add(r[b],r[c]),f),k=x.add(k,f);return x.div(k,6*p)};q.mean=function(r){for(var p={x:0,y:0},k=0;k<r.length;k++)p.x+=r[k].x,p.y+=r[k].y;return x.div(p,r.length)};q.area=function(r,p){for(var k=0,f=r.length-1,c=0;c<r.length;c++)k+=(r[f].x-r[c].x)*(r[f].y+r[c].y),f=c;return p?k/2:Math.abs(k)/2};q.inertia=function(r,p){for(var k=0,f=0,c,b,d=0;d<r.length;d++)b=(d+1)%r.length,
c=Math.abs(x.cross(r[b],r[d])),k+=c*(x.dot(r[b],r[b])+x.dot(r[b],r[d])+x.dot(r[d],r[d])),f+=c;return p/6*(k/f)};q.translate=function(r,p,k){k="undefined"!==typeof k?k:1;var f=r.length,c=p.x*k;p=p.y*k;for(k=0;k<f;k++)r[k].x+=c,r[k].y+=p;return r};q.rotate=function(r,p,k){if(0!==p){var f=Math.cos(p);p=Math.sin(p);var c=k.x;k=k.y;var b=r.length,d;for(d=0;d<b;d++){var l=r[d];var h=l.x-c;var g=l.y-k;l.x=c+(h*f-g*p);l.y=k+(h*p+g*f)}return r}};q.contains=function(r,p){var k=p.x;p=p.y;for(var f=r.length,
c=r[f-1],b,d=0;d<f;d++){b=r[d];if(0<(k-c.x)*(b.y-c.y)+(p-c.y)*(c.x-b.x))return!1;c=b}return!0};q.scale=function(r,p,k,f){if(1===p&&1===k)return r;f=f||q.centre(r);for(var c,b=0;b<r.length;b++)c=r[b],c=x.sub(c,f),r[b].x=f.x+c.x*p,r[b].y=f.y+c.y*k;return r};q.chamfer=function(r,p,k,f,c){p="number"===typeof p?[p]:p||[8];k="undefined"!==typeof k?k:-1;f=f||2;c=c||14;for(var b=[],d=0;d<r.length;d++){var l=r[0<=d-1?d-1:r.length-1],h=r[d],g=r[(d+1)%r.length],m=p[d<p.length?d:p.length-1];if(0===m)b.push(h);
else{l=x.normalise({x:h.y-l.y,y:l.x-h.x});var t=x.normalise({x:g.y-h.y,y:h.x-g.x}),v=Math.sqrt(2*Math.pow(m,2));g=x.mult(u.clone(l),m);var w=x.normalise(x.mult(x.add(l,t),.5));h=x.sub(h,x.mult(w,v));v=k;-1===k&&(v=1.75*Math.pow(m,.32));v=u.clamp(v,f,c);1===v%2&&(v+=1);m=Math.acos(x.dot(l,t))/v;for(l=0;l<v;l++)b.push(x.add(x.rotate(g,m*l),h))}}return b};q.clockwiseSort=function(r){var p=q.mean(r);r.sort(function(k,f){return x.angle(p,k)-x.angle(p,f)});return r};q.isConvex=function(r){var p=0,k=r.length,
f;if(3>k)return null;for(f=0;f<k;f++){var c=(f+1)%k;var b=(f+2)%k;var d=(r[c].x-r[f].x)*(r[b].y-r[c].y);d-=(r[c].y-r[f].y)*(r[b].x-r[c].x);0>d?p|=1:0<d&&(p|=2);if(3===p)return!1}return 0!==p?!0:null};q.hull=function(r){var p=[],k=[],f,c;r=r.slice(0);r.sort(function(b,d){var l=b.x-d.x;return 0!==l?l:b.y-d.y});for(c=0;c<r.length;c+=1){for(f=r[c];2<=k.length&&0>=x.cross3(k[k.length-2],k[k.length-1],f);)k.pop();k.push(f)}for(c=r.length-1;0<=c;--c){for(f=r[c];2<=p.length&&0>=x.cross3(p[p.length-2],p[p.length-
1],f);)p.pop();p.push(f)}p.pop();k.pop();return p.concat(k)}})()},function(za,a,G){var q={};za.exports=q;var x=G(3),u=G(2),r=G(7),p=G(0),k=G(1),f=G(11);(function(){q._timeCorrection=!0;q._inertiaScale=4;q._nextCollidingGroupId=1;q._nextNonCollidingGroupId=-1;q._nextCategory=1;q._baseDelta=1E3/60;q.create=function(c){var b={id:p.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:x.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,
y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,
positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1E3/60,_original:null};b=p.extend(b,c);c=c||{};q.set(b,{bounds:b.bounds||k.create(b.vertices),positionPrev:b.positionPrev||u.clone(b.position),anglePrev:b.anglePrev||b.angle,vertices:b.vertices,parts:b.parts||[b],isStatic:b.isStatic,isSleeping:b.isSleeping,parent:b.parent||b});x.rotate(b.vertices,b.angle,b.position);f.rotate(b.axes,b.angle);k.update(b.bounds,b.vertices,b.velocity);q.set(b,{axes:c.axes||b.axes,area:c.area||
b.area,mass:c.mass||b.mass,inertia:c.inertia||b.inertia});c=b.isStatic?"#14151f":p.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]);var d=b.isStatic?"#555":"#ccc",l=b.isStatic&&null===b.render.fillStyle?1:0;b.render.fillStyle=b.render.fillStyle||c;b.render.strokeStyle=b.render.strokeStyle||d;b.render.lineWidth=b.render.lineWidth||l;b.render.sprite.xOffset+=-(b.bounds.min.x-b.position.x)/(b.bounds.max.x-b.bounds.min.x);b.render.sprite.yOffset+=-(b.bounds.min.y-b.position.y)/(b.bounds.max.y-
b.bounds.min.y);return b};q.nextGroup=function(c){return c?q._nextNonCollidingGroupId--:q._nextCollidingGroupId++};q.nextCategory=function(){q._nextCategory<<=1;return q._nextCategory};q.set=function(c,b,d){if("string"===typeof b){var l=b;b={};b[l]=d}for(l in b)if(Object.prototype.hasOwnProperty.call(b,l))switch(d=b[l],l){case "isStatic":q.setStatic(c,d);break;case "isSleeping":r.set(c,d);break;case "mass":q.setMass(c,d);break;case "density":q.setDensity(c,d);break;case "inertia":q.setInertia(c,d);
break;case "vertices":q.setVertices(c,d);break;case "position":q.setPosition(c,d);break;case "angle":q.setAngle(c,d);break;case "velocity":q.setVelocity(c,d);break;case "angularVelocity":q.setAngularVelocity(c,d);break;case "speed":q.setSpeed(c,d);break;case "angularSpeed":q.setAngularSpeed(c,d);break;case "parts":q.setParts(c,d);break;case "centre":q.setCentre(c,d);break;default:c[l]=d}};q.setStatic=function(c,b){for(var d=0;d<c.parts.length;d++){var l=c.parts[d];b?(l.isStatic||(l._original={restitution:l.restitution,
friction:l.friction,mass:l.mass,inertia:l.inertia,density:l.density,inverseMass:l.inverseMass,inverseInertia:l.inverseInertia}),l.restitution=0,l.friction=1,l.mass=l.inertia=l.density=Infinity,l.inverseMass=l.inverseInertia=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.angularVelocity=0,l.speed=0,l.angularSpeed=0,l.motion=0):l._original&&(l.restitution=l._original.restitution,l.friction=l._original.friction,l.mass=l._original.mass,l.inertia=l._original.inertia,
l.density=l._original.density,l.inverseMass=l._original.inverseMass,l.inverseInertia=l._original.inverseInertia,l._original=null);l.isStatic=b}};q.setMass=function(c,b){c.inertia=c.inertia/(c.mass/6)*(b/6);c.inverseInertia=1/c.inertia;c.mass=b;c.inverseMass=1/c.mass;c.density=c.mass/c.area};q.setDensity=function(c,b){q.setMass(c,b*c.area);c.density=b};q.setInertia=function(c,b){c.inertia=b;c.inverseInertia=1/c.inertia};q.setVertices=function(c,b){c.vertices=b[0].body===c?b:x.create(b,c);c.axes=f.fromVertices(c.vertices);
c.area=x.area(c.vertices);q.setMass(c,c.density*c.area);b=x.centre(c.vertices);x.translate(c.vertices,b,-1);q.setInertia(c,q._inertiaScale*x.inertia(c.vertices,c.mass));x.translate(c.vertices,c.position);k.update(c.bounds,c.vertices,c.velocity)};q.setParts=function(c,b,d){var l;b=b.slice(0);c.parts.length=0;c.parts.push(c);c.parent=c;for(l=0;l<b.length;l++){var h=b[l];h!==c&&(h.parent=c,c.parts.push(h))}if(1!==c.parts.length){if("undefined"!==typeof d?d:1){d=[];for(l=0;l<b.length;l++)d=d.concat(b[l].vertices);
x.clockwiseSort(d);b=x.hull(d);l=x.centre(b);q.setVertices(c,b);x.translate(c.vertices,l)}b=q._totalProperties(c);c.area=b.area;c.parent=c;c.position.x=b.centre.x;c.position.y=b.centre.y;c.positionPrev.x=b.centre.x;c.positionPrev.y=b.centre.y;q.setMass(c,b.mass);q.setInertia(c,b.inertia);q.setPosition(c,b.centre)}};q.setCentre=function(c,b,d){d?(c.positionPrev.x+=b.x,c.positionPrev.y+=b.y,c.position.x+=b.x,c.position.y+=b.y):(c.positionPrev.x=b.x-(c.position.x-c.positionPrev.x),c.positionPrev.y=b.y-
(c.position.y-c.positionPrev.y),c.position.x=b.x,c.position.y=b.y)};q.setPosition=function(c,b,d){b=u.sub(b,c.position);d?(c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.velocity.x=b.x,c.velocity.y=b.y,c.speed=u.magnitude(b)):(c.positionPrev.x+=b.x,c.positionPrev.y+=b.y);for(d=0;d<c.parts.length;d++){var l=c.parts[d];l.position.x+=b.x;l.position.y+=b.y;x.translate(l.vertices,b);k.update(l.bounds,l.vertices,c.velocity)}};q.setAngle=function(c,b,d){b-=c.angle;d?(c.anglePrev=c.angle,c.angularVelocity=
b,c.angularSpeed=Math.abs(b)):c.anglePrev+=b;for(d=0;d<c.parts.length;d++){var l=c.parts[d];l.angle+=b;x.rotate(l.vertices,b,c.position);f.rotate(l.axes,b);k.update(l.bounds,l.vertices,c.velocity);0<d&&u.rotateAbout(l.position,b,c.position,l.position)}};q.setVelocity=function(c,b){var d=c.deltaTime/q._baseDelta;c.positionPrev.x=c.position.x-b.x*d;c.positionPrev.y=c.position.y-b.y*d;c.velocity.x=(c.position.x-c.positionPrev.x)/d;c.velocity.y=(c.position.y-c.positionPrev.y)/d;c.speed=u.magnitude(c.velocity)};
q.getVelocity=function(c){var b=q._baseDelta/c.deltaTime;return{x:(c.position.x-c.positionPrev.x)*b,y:(c.position.y-c.positionPrev.y)*b}};q.getSpeed=function(c){return u.magnitude(q.getVelocity(c))};q.setSpeed=function(c,b){q.setVelocity(c,u.mult(u.normalise(q.getVelocity(c)),b))};q.setAngularVelocity=function(c,b){var d=c.deltaTime/q._baseDelta;c.anglePrev=c.angle-b*d;c.angularVelocity=(c.angle-c.anglePrev)/d;c.angularSpeed=Math.abs(c.angularVelocity)};q.getAngularVelocity=function(c){return(c.angle-
c.anglePrev)*q._baseDelta/c.deltaTime};q.getAngularSpeed=function(c){return Math.abs(q.getAngularVelocity(c))};q.setAngularSpeed=function(c,b){q.setAngularVelocity(c,p.sign(q.getAngularVelocity(c))*b)};q.translate=function(c,b,d){q.setPosition(c,u.add(c.position,b),d)};q.rotate=function(c,b,d,l){if(d){var h=Math.cos(b),g=Math.sin(b),m=c.position.x-d.x,t=c.position.y-d.y;q.setPosition(c,{x:d.x+(m*h-t*g),y:d.y+(m*g+t*h)},l)}q.setAngle(c,c.angle+b,l)};q.scale=function(c,b,d,l){var h=0,g=0;l=l||c.position;
for(var m=0;m<c.parts.length;m++){var t=c.parts[m];x.scale(t.vertices,b,d,l);t.axes=f.fromVertices(t.vertices);t.area=x.area(t.vertices);q.setMass(t,c.density*t.area);x.translate(t.vertices,{x:-t.position.x,y:-t.position.y});q.setInertia(t,q._inertiaScale*x.inertia(t.vertices,t.mass));x.translate(t.vertices,{x:t.position.x,y:t.position.y});0<m&&(h+=t.area,g+=t.inertia);t.position.x=l.x+(t.position.x-l.x)*b;t.position.y=l.y+(t.position.y-l.y)*d;k.update(t.bounds,t.vertices,c.velocity)}1<c.parts.length&&
(c.area=h,c.isStatic||(q.setMass(c,c.density*h),q.setInertia(c,g)));c.circleRadius&&(c.circleRadius=b===d?c.circleRadius*b:null)};q.update=function(c,b){b=("undefined"!==typeof b?b:1E3/60)*c.timeScale;var d=b*b,l=q._timeCorrection?b/(c.deltaTime||b):1,h=1-b/p._baseDelta*c.frictionAir,g=(c.position.y-c.positionPrev.y)*l;c.velocity.x=(c.position.x-c.positionPrev.x)*l*h+c.force.x/c.mass*d;c.velocity.y=g*h+c.force.y/c.mass*d;c.positionPrev.x=c.position.x;c.positionPrev.y=c.position.y;c.position.x+=c.velocity.x;
c.position.y+=c.velocity.y;c.deltaTime=b;c.angularVelocity=(c.angle-c.anglePrev)*h*l+c.torque/c.inertia*d;c.anglePrev=c.angle;c.angle+=c.angularVelocity;for(b=0;b<c.parts.length;b++)d=c.parts[b],x.translate(d.vertices,c.velocity),0<b&&(d.position.x+=c.velocity.x,d.position.y+=c.velocity.y),0!==c.angularVelocity&&(x.rotate(d.vertices,c.angularVelocity,c.position),f.rotate(d.axes,c.angularVelocity),0<b&&u.rotateAbout(d.position,c.angularVelocity,c.position,d.position)),k.update(d.bounds,d.vertices,
c.velocity)};q.updateVelocities=function(c){var b=q._baseDelta/c.deltaTime,d=c.velocity;d.x=(c.position.x-c.positionPrev.x)*b;d.y=(c.position.y-c.positionPrev.y)*b;c.speed=Math.sqrt(d.x*d.x+d.y*d.y);c.angularVelocity=(c.angle-c.anglePrev)*b;c.angularSpeed=Math.abs(c.angularVelocity)};q.applyForce=function(c,b,d){var l=b.x-c.position.x;b=b.y-c.position.y;c.force.x+=d.x;c.force.y+=d.y;c.torque+=l*d.y-b*d.x};q._totalProperties=function(c){for(var b={mass:0,area:0,inertia:0,centre:{x:0,y:0}},d=1===c.parts.length?
0:1;d<c.parts.length;d++){var l=c.parts[d],h=Infinity!==l.mass?l.mass:1;b.mass+=h;b.area+=l.area;b.inertia+=l.inertia;b.centre=u.add(b.centre,u.mult(l.position,h))}b.centre=u.div(b.centre,b.mass);return b}})()},function(za,a,G){var q={};za.exports=q;var x=G(0);(function(){q.on=function(u,r,p){r=r.split(" ");for(var k,f=0;f<r.length;f++)k=r[f],u.events=u.events||{},u.events[k]=u.events[k]||[],u.events[k].push(p);return p};q.off=function(u,r,p){if(r){"function"===typeof r&&(p=r,r=x.keys(u.events).join(" "));
r=r.split(" ");for(var k=0;k<r.length;k++){var f=u.events[r[k]],c=[];if(p&&f)for(var b=0;b<f.length;b++)f[b]!==p&&c.push(f[b]);u.events[r[k]]=c}}else u.events={}};q.trigger=function(u,r,p){var k,f=u.events;if(f&&0<x.keys(f).length){p||(p={});r=r.split(" ");for(var c=0;c<r.length;c++){var b=r[c];if(k=f[b]){var d=x.clone(p,!1);d.name=b;d.source=u;for(b=0;b<k.length;b++)k[b].apply(u,[d])}}}}})()},function(za,a,G){var q={};za.exports=q;var x=G(5),u=G(0),r=G(1),p=G(4);(function(){q.create=function(k){return u.extend({id:u.nextId(),
type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},k)};q.setModified=function(k,f,c,b){(k.isModified=f)&&k.cache&&(k.cache.allBodies=null,k.cache.allConstraints=null,k.cache.allComposites=null);c&&k.parent&&q.setModified(k.parent,f,c,b);if(b)for(var d=0;d<k.composites.length;d++)q.setModified(k.composites[d],f,c,b)};q.add=function(k,f){var c=[].concat(f);x.trigger(k,"beforeAdd",
{object:f});for(var b=0;b<c.length;b++){var d=c[b];switch(d.type){case "body":if(d.parent!==d){u.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}q.addBody(k,d);break;case "constraint":q.addConstraint(k,d);break;case "composite":q.addComposite(k,d);break;case "mouseConstraint":q.addConstraint(k,d.constraint)}}x.trigger(k,"afterAdd",{object:f});return k};q.remove=function(k,f,c){var b=[].concat(f);x.trigger(k,"beforeRemove",{object:f});for(var d=0;d<
b.length;d++){var l=b[d];switch(l.type){case "body":q.removeBody(k,l,c);break;case "constraint":q.removeConstraint(k,l,c);break;case "composite":q.removeComposite(k,l,c);break;case "mouseConstraint":q.removeConstraint(k,l.constraint)}}x.trigger(k,"afterRemove",{object:f});return k};q.addComposite=function(k,f){k.composites.push(f);f.parent=k;q.setModified(k,!0,!0,!1);return k};q.removeComposite=function(k,f,c){var b=u.indexOf(k.composites,f);if(-1!==b){var d=q.allBodies(f);q.removeCompositeAt(k,b);
for(b=0;b<d.length;b++)d[b].sleepCounter=0}if(c)for(b=0;b<k.composites.length;b++)q.removeComposite(k.composites[b],f,!0);return k};q.removeCompositeAt=function(k,f){k.composites.splice(f,1);q.setModified(k,!0,!0,!1);return k};q.addBody=function(k,f){k.bodies.push(f);q.setModified(k,!0,!0,!1);return k};q.removeBody=function(k,f,c){var b=u.indexOf(k.bodies,f);-1!==b&&(q.removeBodyAt(k,b),f.sleepCounter=0);if(c)for(c=0;c<k.composites.length;c++)q.removeBody(k.composites[c],f,!0);return k};q.removeBodyAt=
function(k,f){k.bodies.splice(f,1);q.setModified(k,!0,!0,!1);return k};q.addConstraint=function(k,f){k.constraints.push(f);q.setModified(k,!0,!0,!1);return k};q.removeConstraint=function(k,f,c){var b=u.indexOf(k.constraints,f);-1!==b&&q.removeConstraintAt(k,b);if(c)for(c=0;c<k.composites.length;c++)q.removeConstraint(k.composites[c],f,!0);return k};q.removeConstraintAt=function(k,f){k.constraints.splice(f,1);q.setModified(k,!0,!0,!1);return k};q.clear=function(k,f,c){if(c)for(c=0;c<k.composites.length;c++)q.clear(k.composites[c],
f,!0);f?k.bodies=k.bodies.filter(function(b){return b.isStatic}):k.bodies.length=0;k.constraints.length=0;k.composites.length=0;q.setModified(k,!0,!0,!1);return k};q.allBodies=function(k){if(k.cache&&k.cache.allBodies)return k.cache.allBodies;for(var f=[].concat(k.bodies),c=0;c<k.composites.length;c++)f=f.concat(q.allBodies(k.composites[c]));k.cache&&(k.cache.allBodies=f);return f};q.allConstraints=function(k){if(k.cache&&k.cache.allConstraints)return k.cache.allConstraints;for(var f=[].concat(k.constraints),
c=0;c<k.composites.length;c++)f=f.concat(q.allConstraints(k.composites[c]));k.cache&&(k.cache.allConstraints=f);return f};q.allComposites=function(k){if(k.cache&&k.cache.allComposites)return k.cache.allComposites;for(var f=[].concat(k.composites),c=0;c<k.composites.length;c++)f=f.concat(q.allComposites(k.composites[c]));k.cache&&(k.cache.allComposites=f);return f};q.get=function(k,f,c){switch(c){case "body":var b=q.allBodies(k);break;case "constraint":b=q.allConstraints(k);break;case "composite":b=
q.allComposites(k).concat(k)}if(!b)return null;k=b.filter(function(d){return d.id.toString()===f.toString()});return 0===k.length?null:k[0]};q.move=function(k,f,c){q.remove(k,f);q.add(c,f);return k};q.rebase=function(k){for(var f=q.allBodies(k).concat(q.allConstraints(k)).concat(q.allComposites(k)),c=0;c<f.length;c++)f[c].id=u.nextId();return k};q.translate=function(k,f,c){c=c?q.allBodies(k):k.bodies;for(var b=0;b<c.length;b++)p.translate(c[b],f);return k};q.rotate=function(k,f,c,b){var d=Math.cos(f),
l=Math.sin(f);b=b?q.allBodies(k):k.bodies;for(var h=0;h<b.length;h++){var g=b[h],m=g.position.x-c.x,t=g.position.y-c.y;p.setPosition(g,{x:c.x+(m*d-t*l),y:c.y+(m*l+t*d)});p.rotate(g,f)}return k};q.scale=function(k,f,c,b,d){d=d?q.allBodies(k):k.bodies;for(var l=0;l<d.length;l++){var h=d[l];p.setPosition(h,{x:b.x+(h.position.x-b.x)*f,y:b.y+(h.position.y-b.y)*c});p.scale(h,f,c)}return k};q.bounds=function(k){k=q.allBodies(k);for(var f=[],c=0;c<k.length;c+=1){var b=k[c];f.push(b.bounds.min,b.bounds.max)}return r.create(f)}})()},
function(za,a,G){var q={};za.exports=q;var x=G(4),u=G(5),r=G(0);(function(){q._motionWakeThreshold=.18;q._motionSleepThreshold=.08;q._minBias=.9;q.update=function(p,k){k/=r._baseDelta;for(var f=q._motionSleepThreshold,c=0;c<p.length;c++){var b=p[c],d=x.getSpeed(b),l=x.getAngularSpeed(b);d=d*d+l*l;0!==b.force.x||0!==b.force.y?q.set(b,!1):(b.motion=q._minBias*Math.min(b.motion,d)+(1-q._minBias)*Math.max(b.motion,d),0<b.sleepThreshold&&b.motion<f?(b.sleepCounter+=1,b.sleepCounter>=b.sleepThreshold/k&&
q.set(b,!0)):0<b.sleepCounter&&--b.sleepCounter)}};q.afterCollisions=function(p){for(var k=q._motionSleepThreshold,f=0;f<p.length;f++){var c=p[f];if(c.isActive){var b=c.collision;c=b.bodyA.parent;var d=b.bodyB.parent;c.isSleeping&&d.isSleeping||c.isStatic||d.isStatic||!c.isSleeping&&!d.isSleeping||(b=c.isSleeping&&!c.isStatic?c:d,c=b===c?d:c,!b.isStatic&&c.motion>k&&q.set(b,!1))}}};q.set=function(p,k){var f=p.isSleeping;k?(p.isSleeping=!0,p.sleepCounter=p.sleepThreshold,p.positionImpulse.x=0,p.positionImpulse.y=
0,p.positionPrev.x=p.position.x,p.positionPrev.y=p.position.y,p.anglePrev=p.angle,p.speed=0,p.angularSpeed=0,p.motion=0,f||u.trigger(p,"sleepStart")):(p.isSleeping=!1,p.sleepCounter=0,f&&u.trigger(p,"sleepEnd"))}})()},function(za,a,G){var q={};za.exports=q;var x=G(3),u=G(9);(function(){var r=[],p={overlap:0,axis:null},k={overlap:0,axis:null};q.create=function(f,c){return{pair:null,collided:!1,bodyA:f,bodyB:c,parentA:f.parent,parentB:c.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,
y:0},supports:[null,null],supportCount:0}};q.collides=function(f,c,b){q._overlapAxes(p,f.vertices,c.vertices,f.axes);if(0>=p.overlap)return null;q._overlapAxes(k,c.vertices,f.vertices,c.axes);if(0>=k.overlap)return null;(b=b&&b.table[u.id(f,c)])?b=b.collision:(b=q.create(f,c),b.collided=!0,b.bodyA=f.id<c.id?f:c,b.bodyB=f.id<c.id?c:f,b.parentA=b.bodyA.parent,b.parentB=b.bodyB.parent);f=b.bodyA;c=b.bodyB;var d=p.overlap<k.overlap?p:k;var l=b.normal,h=b.tangent,g=b.penetration,m=b.supports,t=d.overlap,
v=d.axis;d=v.x;v=v.y;0<=d*(c.position.x-f.position.x)+v*(c.position.y-f.position.y)&&(d=-d,v=-v);l.x=d;l.y=v;h.x=-v;h.y=d;g.x=d*t;g.y=v*t;b.depth=t;h=q._findSupports(f,c,l,1);g=0;x.contains(f.vertices,h[0])&&(m[g++]=h[0]);x.contains(f.vertices,h[1])&&(m[g++]=h[1]);2>g&&(f=q._findSupports(c,f,l,-1),x.contains(c.vertices,f[0])&&(m[g++]=f[0]),2>g&&x.contains(c.vertices,f[1])&&(m[g++]=f[1]));0===g&&(m[g++]=h[0]);b.supportCount=g;return b};q._overlapAxes=function(f,c,b,d){var l=c.length,h=b.length,g=c[0].x,
m=c[0].y,t=b[0].x,v=b[0].y,w=d.length,z=Number.MAX_VALUE,y=0,F,D;for(F=0;F<w;F++){var C=d[F];var N=C.x;var J=C.y;C=g*N+m*J;var E=t*N+v*J,M=C,Q=E;for(D=1;D<l;D+=1){var V=c[D].x*N+c[D].y*J;V>M?M=V:V<C&&(C=V)}for(D=1;D<h;D+=1)V=b[D].x*N+b[D].y*J,V>Q?Q=V:V<E&&(E=V);N=M-E;C=Q-C;N=N<C?N:C;if(N<z&&(z=N,y=F,0>=N))break}f.axis=d[y];f.overlap=z};q._findSupports=function(f,c,b,d){c=c.vertices;var l=c.length,h=f.position.x;f=f.position.y;var g=b.x*d;b=b.y*d;var m=d=c[0],t=g*(h-m.x)+b*(f-m.y),v;for(v=1;v<l;v+=
1){m=c[v];var w=g*(h-m.x)+b*(f-m.y);w<t&&(t=w,d=m)}w=c[(l+d.index-1)%l];t=g*(h-w.x)+b*(f-w.y);m=c[(d.index+1)%l];if(g*(h-m.x)+b*(f-m.y)<t)return r[0]=d,r[1]=m,r;r[0]=d;r[1]=w;return r}})()},function(za,a,G){var q={};za.exports=q;var x=G(16);(function(){q.create=function(u,r){var p=u.bodyA,k=u.bodyB;p={id:q.id(p,k),bodyA:p,bodyB:k,collision:u,contacts:[x.create(),x.create()],contactCount:0,separation:0,isActive:!0,isSensor:p.isSensor||k.isSensor,timeCreated:r,timeUpdated:r,inverseMass:0,friction:0,
frictionStatic:0,restitution:0,slop:0};q.update(p,u,r);return p};q.update=function(u,r,p){var k=r.supports,f=r.supportCount,c=u.contacts,b=r.parentA,d=r.parentB;u.isActive=!0;u.timeUpdated=p;u.collision=r;u.separation=r.depth;u.inverseMass=b.inverseMass+d.inverseMass;u.friction=b.friction<d.friction?b.friction:d.friction;u.frictionStatic=b.frictionStatic>d.frictionStatic?b.frictionStatic:d.frictionStatic;u.restitution=b.restitution>d.restitution?b.restitution:d.restitution;u.slop=b.slop>d.slop?b.slop:
d.slop;u.contactCount=f;r.pair=u;u=k[0];r=c[0];k=k[1];p=c[1];if(p.vertex===u||r.vertex===k)c[1]=r,c[0]=r=p,p=c[1];r.vertex=u;p.vertex=k};q.setActive=function(u,r,p){r?(u.isActive=!0,u.timeUpdated=p):(u.isActive=!1,u.contactCount=0)};q.id=function(u,r){return u.id<r.id?u.id.toString(36)+":"+r.id.toString(36):r.id.toString(36)+":"+u.id.toString(36)}})()},function(za,a,G){var q={};za.exports=q;var x=G(3),u=G(2),r=G(7),p=G(1),k=G(11),f=G(0);(function(){q._warming=.4;q._torqueDampen=1;q._minLength=1E-6;
q.create=function(c){c.bodyA&&!c.pointA&&(c.pointA={x:0,y:0});c.bodyB&&!c.pointB&&(c.pointB={x:0,y:0});var b=c.bodyA?u.add(c.bodyA.position,c.pointA):c.pointA,d=c.bodyB?u.add(c.bodyB.position,c.pointB):c.pointB;b=u.magnitude(u.sub(b,d));c.length="undefined"!==typeof c.length?c.length:b;c.id=c.id||f.nextId();c.label=c.label||"Constraint";c.type="constraint";c.stiffness=c.stiffness||(0<c.length?1:.7);c.damping=c.damping||0;c.angularStiffness=c.angularStiffness||0;c.angleA=c.bodyA?c.bodyA.angle:c.angleA;
c.angleB=c.bodyB?c.bodyB.angle:c.angleB;c.plugin={};b={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};0===c.length&&.1<c.stiffness?(b.type="pin",b.anchors=!1):.9>c.stiffness&&(b.type="spring");c.render=f.extend(b,c.render);return c};q.preSolveAll=function(c){for(var b=0;b<c.length;b+=1){var d=c[b],l=d.constraintImpulse;d.isStatic||0===l.x&&0===l.y&&0===l.angle||(d.position.x+=l.x,d.position.y+=l.y,d.angle+=l.angle)}};q.solveAll=function(c,b){b=f.clamp(b/f._baseDelta,0,1);for(var d=
0;d<c.length;d+=1){var l=c[d],h=!l.bodyA||l.bodyA&&l.bodyA.isStatic;l=!l.bodyB||l.bodyB&&l.bodyB.isStatic;(h||l)&&q.solve(c[d],b)}for(d=0;d<c.length;d+=1)l=c[d],h=!l.bodyA||l.bodyA&&l.bodyA.isStatic,l=!l.bodyB||l.bodyB&&l.bodyB.isStatic,h||l||q.solve(c[d],b)};q.solve=function(c,b){var d=c.bodyA,l=c.bodyB,h=c.pointA,g=c.pointB;if(d||l){d&&!d.isStatic&&(u.rotate(h,d.angle-c.angleA,h),c.angleA=d.angle);l&&!l.isStatic&&(u.rotate(g,l.angle-c.angleB,g),c.angleB=l.angle);var m=h,t=g;d&&(m=u.add(d.position,
h));l&&(t=u.add(l.position,g));if(m&&t){var v=u.sub(m,t),w=u.magnitude(v);w<q._minLength&&(w=q._minLength);m=c.damping*b;b=u.mult(v,(w-c.length)/w*(1<=c.stiffness||0===c.length?c.stiffness*b:c.stiffness*b*b));t=(d?d.inverseMass:0)+(l?l.inverseMass:0);var z=t+((d?d.inverseInertia:0)+(l?l.inverseInertia:0));if(0<m){var y=u.create();var F=u.div(v,w);y=u.sub(l&&u.sub(l.position,l.positionPrev)||y,d&&u.sub(d.position,d.positionPrev)||y);y=u.dot(F,y)}d&&!d.isStatic&&(v=d.inverseMass/t,d.constraintImpulse.x-=
b.x*v,d.constraintImpulse.y-=b.y*v,d.position.x-=b.x*v,d.position.y-=b.y*v,0<m&&(d.positionPrev.x-=m*F.x*y*v,d.positionPrev.y-=m*F.y*y*v),h=u.cross(h,b)/z*q._torqueDampen*d.inverseInertia*(1-c.angularStiffness),d.constraintImpulse.angle-=h,d.angle-=h);l&&!l.isStatic&&(v=l.inverseMass/t,l.constraintImpulse.x+=b.x*v,l.constraintImpulse.y+=b.y*v,l.position.x+=b.x*v,l.position.y+=b.y*v,0<m&&(l.positionPrev.x+=m*F.x*y*v,l.positionPrev.y+=m*F.y*y*v),h=u.cross(g,b)/z*q._torqueDampen*l.inverseInertia*(1-
c.angularStiffness),l.constraintImpulse.angle+=h,l.angle+=h)}}};q.postSolveAll=function(c){for(var b=0;b<c.length;b++){var d=c[b],l=d.constraintImpulse;if(!(d.isStatic||0===l.x&&0===l.y&&0===l.angle)){r.set(d,!1);for(var h=0;h<d.parts.length;h++){var g=d.parts[h];x.translate(g.vertices,l);0<h&&(g.position.x+=l.x,g.position.y+=l.y);0!==l.angle&&(x.rotate(g.vertices,l.angle,d.position),k.rotate(g.axes,l.angle),0<h&&u.rotateAbout(g.position,l.angle,d.position,g.position));p.update(g.bounds,g.vertices,
d.velocity)}l.angle*=q._warming;l.x*=q._warming;l.y*=q._warming}}};q.pointAWorld=function(c){return{x:(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),y:(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0)}};q.pointBWorld=function(c){return{x:(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),y:(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0)}};q.currentLength=function(c){var b=(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0)-((c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:
0));c=(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0)-((c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0));return Math.sqrt(b*b+c*c)}})()},function(za,a,G){var q={};za.exports=q;var x=G(2),u=G(0);(function(){q.fromVertices=function(r){for(var p={},k=0;k<r.length;k++){var f=(k+1)%r.length;f=x.normalise({x:r[f].y-r[k].y,y:r[k].x-r[f].x});var c=0===f.y?Infinity:f.x/f.y;c=c.toFixed(3).toString();p[c]=f}return u.values(p)};q.rotate=function(r,p){if(0!==p){var k=Math.cos(p);p=Math.sin(p);for(var f=
0;f<r.length;f++){var c=r[f];var b=c.x*k-c.y*p;c.y=c.x*p+c.y*k;c.x=b}}}})()},function(za,a,G){var q={};za.exports=q;var x=G(3),u=G(0),r=G(4),p=G(1),k=G(2);(function(){q.rectangle=function(f,c,b,d,l){l=l||{};f={label:"Rectangle Body",position:{x:f,y:c},vertices:x.fromPath("L 0 0 L "+b+" 0 L "+b+" "+d+" L 0 "+d)};l.chamfer&&(c=l.chamfer,f.vertices=x.chamfer(f.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete l.chamfer);return r.create(u.extend({},f,l))};q.trapezoid=function(f,c,b,d,l,h){h=
h||{};1<=l&&u.warn("Bodies.trapezoid: slope parameter must be \x3c 1.");l*=.5;var g=b*l;b=g+(1-2*l)*b;var m=b+g;f={label:"Trapezoid Body",position:{x:f,y:c},vertices:x.fromPath(.5>l?"L 0 0 L "+g+" "+-d+" L "+b+" "+-d+" L "+m+" 0":"L 0 0 L "+b+" "+-d+" L "+m+" 0")};h.chamfer&&(c=h.chamfer,f.vertices=x.chamfer(f.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete h.chamfer);return r.create(u.extend({},f,h))};q.circle=function(f,c,b,d,l){d=d||{};var h={label:"Circle Body",circleRadius:b};l=
Math.ceil(Math.max(10,Math.min(l||25,b)));1===l%2&&(l+=1);return q.polygon(f,c,l,b,u.extend({},h,d))};q.polygon=function(f,c,b,d,l){l=l||{};if(3>b)return q.circle(f,c,d,l);for(var h=2*Math.PI/b,g="",m=.5*h,t=0;t<b;t+=1){var v=m+t*h,w=Math.sin(v)*d;g+="L "+(Math.cos(v)*d).toFixed(3)+" "+w.toFixed(3)+" "}f={label:"Polygon Body",position:{x:f,y:c},vertices:x.fromPath(g)};l.chamfer&&(c=l.chamfer,f.vertices=x.chamfer(f.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete l.chamfer);return r.create(u.extend({},
f,l))};q.fromVertices=function(f,c,b,d,l,h,g,m){var t=u.getDecomp(),v,w;var z=!(!t||!t.quickDecomp);d=d||{};var y=[];l="undefined"!==typeof l?l:!1;h="undefined"!==typeof h?h:.01;g="undefined"!==typeof g?g:10;m="undefined"!==typeof m?m:.01;u.isArray(b[0])||(b=[b]);for(w=0;w<b.length;w+=1){var F=b[w];var D=x.isConvex(F);(v=!D)&&!z&&u.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices.");if(D||!z)F=D?
x.clockwiseSort(F):x.hull(F),y.push({position:{x:f,y:c},vertices:F});else for(D=F.map(function(C){return[C.x,C.y]}),t.makeCCW(D),!1!==h&&t.removeCollinearPoints(D,h),!1!==m&&t.removeDuplicatePoints&&t.removeDuplicatePoints(D,m),v=t.quickDecomp(D),D=0;D<v.length;D++)F=v[D].map(function(C){return{x:C[0],y:C[1]}}),0<g&&x.area(F)<g||y.push({position:x.centre(F),vertices:F})}for(D=0;D<y.length;D++)y[D]=r.create(u.extend(y[D],d));if(l)for(D=0;D<y.length;D++)for(g=y[D],b=D+1;b<y.length;b++)if(m=y[b],p.overlaps(g.bounds,
m.bounds))for(t=g.vertices,z=m.vertices,l=0;l<g.vertices.length;l++)for(h=0;h<m.vertices.length;h++)w=k.magnitudeSquared(k.sub(t[(l+1)%t.length],z[h])),v=k.magnitudeSquared(k.sub(t[l],z[(h+1)%z.length])),5>w&&5>v&&(t[l].isInternal=!0,z[h].isInternal=!0);return 1<y.length?(d=r.create(u.extend({parts:y.slice(0)},d)),r.setPosition(d,{x:f,y:c}),d):y[0]}})()},function(za,a,G){var q={};za.exports=q;var x=G(0),u=G(8);(function(){q.create=function(r){return x.extend({bodies:[],collisions:[],pairs:null},r)};
q.setBodies=function(r,p){r.bodies=p.slice(0)};q.clear=function(r){r.bodies=[];r.collisions=[]};q.collisions=function(r){var p=r.pairs,k=r.bodies,f=k.length,c=q.canCollide,b=u.collides;r=r.collisions;var d=0,l,h;k.sort(q._compareBoundsX);for(l=0;l<f;l++){var g=k[l],m=g.bounds.max.x,t=g.bounds.max.y,v=g.bounds.min.y,w=g.isStatic||g.isSleeping,z=g.parts.length,y=1===z;for(h=l+1;h<f;h++){var F=k[h],D=F.bounds;if(D.min.x>m)break;if(!(t<D.min.y||v>D.max.y||w&&(F.isStatic||F.isSleeping))&&c(g.collisionFilter,
F.collisionFilter)){var C=F.parts.length;if(y&&1===C)(D=b(g,F,p))&&(r[d++]=D);else for(var N=1<C?1:0,J=1<z?1:0;J<z;J++){var E=g.parts[J];var M=E.bounds;for(var Q=N;Q<C;Q++){var V=F.parts[Q];D=V.bounds;M.min.x>D.max.x||M.max.x<D.min.x||M.max.y<D.min.y||M.min.y>D.max.y||(D=b(E,V,p))&&(r[d++]=D)}}}}}r.length!==d&&(r.length=d);return r};q.canCollide=function(r,p){return r.group===p.group&&0!==r.group?0<r.group:0!==(r.mask&p.category)&&0!==(p.mask&r.category)};q._compareBoundsX=function(r,p){return r.bounds.min.x-
p.bounds.min.x}})()},function(za,a,G){var q={};za.exports=q;var x=G(0);(function(){q.create=function(u){var r={};u||x.log("Mouse.create: element was undefined, defaulting to document.body","warn");r.element=u||document.body;r.absolute={x:0,y:0};r.position={x:0,y:0};r.mousedownPosition={x:0,y:0};r.mouseupPosition={x:0,y:0};r.offset={x:0,y:0};r.scale={x:1,y:1};r.wheelDelta=0;r.button=-1;r.pixelRatio=parseInt(r.element.getAttribute("data-pixel-ratio"),10)||1;r.sourceEvents={mousemove:null,mousedown:null,
mouseup:null,mousewheel:null};r.mousemove=function(p){var k=q._getRelativeMousePosition(p,r.element,r.pixelRatio);p.changedTouches&&(r.button=0,p.preventDefault());r.absolute.x=k.x;r.absolute.y=k.y;r.position.x=r.absolute.x*r.scale.x+r.offset.x;r.position.y=r.absolute.y*r.scale.y+r.offset.y;r.sourceEvents.mousemove=p};r.mousedown=function(p){var k=q._getRelativeMousePosition(p,r.element,r.pixelRatio);p.changedTouches?(r.button=0,p.preventDefault()):r.button=p.button;r.absolute.x=k.x;r.absolute.y=
k.y;r.position.x=r.absolute.x*r.scale.x+r.offset.x;r.position.y=r.absolute.y*r.scale.y+r.offset.y;r.mousedownPosition.x=r.position.x;r.mousedownPosition.y=r.position.y;r.sourceEvents.mousedown=p};r.mouseup=function(p){var k=q._getRelativeMousePosition(p,r.element,r.pixelRatio);p.changedTouches&&p.preventDefault();r.button=-1;r.absolute.x=k.x;r.absolute.y=k.y;r.position.x=r.absolute.x*r.scale.x+r.offset.x;r.position.y=r.absolute.y*r.scale.y+r.offset.y;r.mouseupPosition.x=r.position.x;r.mouseupPosition.y=
r.position.y;r.sourceEvents.mouseup=p};r.mousewheel=function(p){r.wheelDelta=Math.max(-1,Math.min(1,p.wheelDelta||-p.detail));p.preventDefault();r.sourceEvents.mousewheel=p};q.setElement(r,r.element);return r};q.setElement=function(u,r){u.element=r;r.addEventListener("mousemove",u.mousemove,{passive:!0});r.addEventListener("mousedown",u.mousedown,{passive:!0});r.addEventListener("mouseup",u.mouseup,{passive:!0});r.addEventListener("wheel",u.mousewheel,{passive:!1});r.addEventListener("touchmove",
u.mousemove,{passive:!1});r.addEventListener("touchstart",u.mousedown,{passive:!1});r.addEventListener("touchend",u.mouseup,{passive:!1})};q.clearSourceEvents=function(u){u.sourceEvents.mousemove=null;u.sourceEvents.mousedown=null;u.sourceEvents.mouseup=null;u.sourceEvents.mousewheel=null;u.wheelDelta=0};q.setOffset=function(u,r){u.offset.x=r.x;u.offset.y=r.y;u.position.x=u.absolute.x*u.scale.x+u.offset.x;u.position.y=u.absolute.y*u.scale.y+u.offset.y};q.setScale=function(u,r){u.scale.x=r.x;u.scale.y=
r.y;u.position.x=u.absolute.x*u.scale.x+u.offset.x;u.position.y=u.absolute.y*u.scale.y+u.offset.y};q._getRelativeMousePosition=function(u,r,p){var k=r.getBoundingClientRect(),f=document.documentElement||document.body.parentNode||document.body,c=void 0!==window.pageXOffset?window.pageXOffset:f.scrollLeft;f=void 0!==window.pageYOffset?window.pageYOffset:f.scrollTop;var b=u.changedTouches;b?(c=b[0].pageX-k.left-c,u=b[0].pageY-k.top-f):(c=u.pageX-k.left-c,u=u.pageY-k.top-f);return{x:c/(r.clientWidth/
(r.width||r.clientWidth)*p),y:u/(r.clientHeight/(r.height||r.clientHeight)*p)}}})()},function(za,a,G){var q={};za.exports=q;var x=G(0);(function(){q._registry={};q.register=function(u){q.isPlugin(u)||x.warn("Plugin.register:",q.toString(u),"does not implement all required fields.");if(u.name in q._registry){var r=q._registry[u.name],p=q.versionParse(u.version).number,k=q.versionParse(r.version).number;p>k?(x.warn("Plugin.register:",q.toString(r),"was upgraded to",q.toString(u)),q._registry[u.name]=
u):p<k?x.warn("Plugin.register:",q.toString(r),"can not be downgraded to",q.toString(u)):u!==r&&x.warn("Plugin.register:",q.toString(u),"is already registered to different plugin object")}else q._registry[u.name]=u;return u};q.resolve=function(u){return q._registry[q.dependencyParse(u).name]};q.toString=function(u){return"string"===typeof u?u:(u.name||"anonymous")+"@"+(u.version||u.range||"0.0.0")};q.isPlugin=function(u){return u&&u.name&&u.version&&u.install};q.isUsed=function(u,r){return-1<u.used.indexOf(r)};
q.isFor=function(u,r){var p=u.for&&q.dependencyParse(u.for);return!u.for||r.name===p.name&&q.versionSatisfies(r.version,p.range)};q.use=function(u,r){u.uses=(u.uses||[]).concat(r||[]);if(0===u.uses.length)x.warn("Plugin.use:",q.toString(u),"does not specify any dependencies to install.");else{r=q.dependencies(u);r=x.topologicalSort(r);for(var p=[],k=0;k<r.length;k+=1)if(r[k]!==u.name){var f=q.resolve(r[k]);f?q.isUsed(u,f.name)||(q.isFor(f,u)||(x.warn("Plugin.use:",q.toString(f),"is for",f.for,"but installed on",
q.toString(u)+"."),f._warned=!0),f.install?f.install(u):(x.warn("Plugin.use:",q.toString(f),"does not specify an install function."),f._warned=!0),f._warned?(p.push("\ud83d\udd36 "+q.toString(f)),delete f._warned):p.push(" "+q.toString(f)),u.used.push(f.name)):p.push(" "+r[k])}0<p.length&&x.info(p.join("  "))}};q.dependencies=function(u,r){var p=q.dependencyParse(u),k=p.name;r=r||{};if(!(k in r)){u=q.resolve(u)||u;r[k]=x.map(u.uses||[],function(c){q.isPlugin(c)&&q.register(c);var b=q.dependencyParse(c),
d=q.resolve(c);d&&!q.versionSatisfies(d.version,b.range)?(x.warn("Plugin.dependencies:",q.toString(d),"does not satisfy",q.toString(b),"used by",q.toString(p)+"."),d._warned=!0,u._warned=!0):d||(x.warn("Plugin.dependencies:",q.toString(c),"used by",q.toString(p),"could not be resolved."),u._warned=!0);return b.name});for(var f=0;f<r[k].length;f+=1)q.dependencies(r[k][f],r);return r}};q.dependencyParse=function(u){return x.isString(u)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(u)||
x.warn("Plugin.dependencyParse:",u,"is not a valid dependency string."),{name:u.split("@")[0],range:u.split("@")[1]||"*"}):{name:u.name,range:u.range||u.version}};q.versionParse=function(u){var r=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;r.test(u)||x.warn("Plugin.versionParse:",u,"is not a valid version or range.");r=r.exec(u);var p=Number(r[4]),k=Number(r[5]),f=Number(r[6]);return{isRange:!(!r[1]&&!r[2]),version:r[3],range:u,operator:r[1]||r[2]||"",major:p,minor:k,patch:f,parts:[p,
k,f],prerelease:r[7],number:1E8*p+1E4*k+f}};q.versionSatisfies=function(u,r){r=r||"*";var p=q.versionParse(r),k=q.versionParse(u);if(p.isRange){if("*"===p.operator||"*"===u)return!0;if("\x3e"===p.operator)return k.number>p.number;if("\x3e\x3d"===p.operator)return k.number>=p.number;if("~"===p.operator)return k.major===p.major&&k.minor===p.minor&&k.patch>=p.patch;if("^"===p.operator)return 0<p.major?k.major===p.major&&k.number>=p.number:0<p.minor?k.minor===p.minor&&k.patch>=p.patch:k.patch===p.patch}return u===
r||"*"===u}})()},function(za,a){var G={};za.exports=G;(function(){G.create=function(q){return{vertex:q,normalImpulse:0,tangentImpulse:0}}})()},function(za,a,G){var q={};za.exports=q;var x=G(7),u=G(18),r=G(13),p=G(19),k=G(5),f=G(6),c=G(10),b=G(0),d=G(4);(function(){q._deltaMax=1E3/60;q.create=function(l){l=l||{};var h=b.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,
lastElapsed:0,lastUpdatesPerFrame:0}},l);h.world=l.world||f.create({label:"World"});h.pairs=l.pairs||p.create();h.detector=l.detector||r.create();h.detector.pairs=h.pairs;h.grid={buckets:[]};h.world.gravity=h.gravity;h.broadphase=h.grid;h.metrics={};return h};q.update=function(l,h){var g=b.now(),m=l.world,t=l.detector,v=l.pairs,w=l.timing,z=w.timestamp;h>q._deltaMax&&b.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",q._deltaMax.toFixed(3),"ms.");h="undefined"!==
typeof h?h:b._baseDelta;h*=w.timeScale;w.timestamp+=h;w.lastDelta=h;var y={timestamp:w.timestamp,delta:h};k.trigger(l,"beforeUpdate",y);var F=f.allBodies(m),D=f.allConstraints(m);m.isModified&&(r.setBodies(t,F),f.setModified(m,!1,!1,!0));l.enableSleeping&&x.update(F,h);q._bodiesApplyGravity(F,l.gravity);0<h&&q._bodiesUpdate(F,h);k.trigger(l,"beforeSolve",y);c.preSolveAll(F);for(m=0;m<l.constraintIterations;m++)c.solveAll(D,h);c.postSolveAll(F);t=r.collisions(t);p.update(v,t,z);l.enableSleeping&&x.afterCollisions(v.list);
0<v.collisionStart.length&&k.trigger(l,"collisionStart",{pairs:v.collisionStart,timestamp:w.timestamp,delta:h});z=b.clamp(20/l.positionIterations,0,1);u.preSolvePosition(v.list);for(m=0;m<l.positionIterations;m++)u.solvePosition(v.list,h,z);u.postSolvePosition(F);c.preSolveAll(F);for(m=0;m<l.constraintIterations;m++)c.solveAll(D,h);c.postSolveAll(F);u.preSolveVelocity(v.list);for(m=0;m<l.velocityIterations;m++)u.solveVelocity(v.list,h);q._bodiesUpdateVelocities(F);0<v.collisionActive.length&&k.trigger(l,
"collisionActive",{pairs:v.collisionActive,timestamp:w.timestamp,delta:h});0<v.collisionEnd.length&&k.trigger(l,"collisionEnd",{pairs:v.collisionEnd,timestamp:w.timestamp,delta:h});q._bodiesClearForces(F);k.trigger(l,"afterUpdate",y);l.timing.lastElapsed=b.now()-g;return l};q.merge=function(l,h){b.extend(l,h);if(h.world)for(l.world=h.world,q.clear(l),l=f.allBodies(l.world),h=0;h<l.length;h++){var g=l[h];x.set(g,!1);g.id=b.nextId()}};q.clear=function(l){p.clear(l.pairs);r.clear(l.detector)};q._bodiesClearForces=
function(l){for(var h=l.length,g=0;g<h;g++){var m=l[g];m.force.x=0;m.force.y=0;m.torque=0}};q._bodiesApplyGravity=function(l,h){var g="undefined"!==typeof h.scale?h.scale:.001,m=l.length;if((0!==h.x||0!==h.y)&&0!==g)for(var t=0;t<m;t++){var v=l[t];v.isStatic||v.isSleeping||(v.force.y+=v.mass*h.y*g,v.force.x+=v.mass*h.x*g)}};q._bodiesUpdate=function(l,h){for(var g=l.length,m=0;m<g;m++){var t=l[m];t.isStatic||t.isSleeping||d.update(t,h)}};q._bodiesUpdateVelocities=function(l){for(var h=l.length,g=0;g<
h;g++)d.updateVelocities(l[g])}})()},function(za,a,G){var q={};za.exports=q;var x=G(3),u=G(0),r=G(1);(function(){q._restingThresh=2;q._restingThreshTangent=Math.sqrt(6);q._positionDampen=.9;q._positionWarming=.8;q._frictionNormalMultiplier=5;q._frictionMaxStatic=Number.MAX_VALUE;q.preSolvePosition=function(p){var k,f=p.length;for(k=0;k<f;k++){var c=p[k];if(c.isActive){var b=c.contactCount;c.collision.parentA.totalContacts+=b;c.collision.parentB.totalContacts+=b}}};q.solvePosition=function(p,k,f){f=
q._positionDampen*(f||1);var c=u.clamp(k/u._baseDelta,0,1),b=p.length;for(k=0;k<b;k++){var d=p[k];if(d.isActive&&!d.isSensor){var l=d.collision;var h=l.parentA;var g=l.parentB;var m=l.normal;d.separation=l.depth+m.x*(g.positionImpulse.x-h.positionImpulse.x)+m.y*(g.positionImpulse.y-h.positionImpulse.y)}}for(k=0;k<b;k++)if(d=p[k],d.isActive&&!d.isSensor){l=d.collision;h=l.parentA;g=l.parentB;m=l.normal;l=d.separation-d.slop*c;if(h.isStatic||g.isStatic)l*=2;h.isStatic||h.isSleeping||(d=f/h.totalContacts,
h.positionImpulse.x+=m.x*l*d,h.positionImpulse.y+=m.y*l*d);g.isStatic||g.isSleeping||(d=f/g.totalContacts,g.positionImpulse.x-=m.x*l*d,g.positionImpulse.y-=m.y*l*d)}};q.postSolvePosition=function(p){for(var k=q._positionWarming,f=p.length,c=x.translate,b=r.update,d=0;d<f;d++){var l=p[d],h=l.positionImpulse,g=h.x,m=h.y,t=l.velocity;l.totalContacts=0;if(0!==g||0!==m){for(var v=0;v<l.parts.length;v++){var w=l.parts[v];c(w.vertices,h);b(w.bounds,w.vertices,t);w.position.x+=g;w.position.y+=m}l.positionPrev.x+=
g;l.positionPrev.y+=m;0>g*t.x+m*t.y?(h.x=0,h.y=0):(h.x*=k,h.y*=k)}}};q.preSolveVelocity=function(p){var k=p.length,f;for(f=0;f<k;f++){var c=p[f];if(c.isActive&&!c.isSensor){var b=c.contacts,d=c.contactCount;var l=c.collision;c=l.parentA;var h=l.parentB,g=l.normal,m=l.tangent;for(l=0;l<d;l++){var t=b[l],v=t.vertex,w=t.normalImpulse,z=t.tangentImpulse;if(0!==w||0!==z)t=g.x*w+m.x*z,w=g.y*w+m.y*z,c.isStatic||c.isSleeping||(c.positionPrev.x+=t*c.inverseMass,c.positionPrev.y+=w*c.inverseMass,c.anglePrev+=
c.inverseInertia*((v.x-c.position.x)*w-(v.y-c.position.y)*t)),h.isStatic||h.isSleeping||(h.positionPrev.x-=t*h.inverseMass,h.positionPrev.y-=w*h.inverseMass,h.anglePrev-=h.inverseInertia*((v.x-h.position.x)*w-(v.y-h.position.y)*t))}}}};q.solveVelocity=function(p,k){var f=k/u._baseDelta;k=f*f*f;var c=-q._restingThresh*f,b=q._restingThreshTangent;f*=q._frictionNormalMultiplier;var d=q._frictionMaxStatic,l=p.length,h;for(h=0;h<l;h++){var g=p[h];if(g.isActive&&!g.isSensor){var m=g.collision;var t=m.parentA,
v=m.parentB,w=m.normal.x,z=m.normal.y,y=m.tangent.x,F=m.tangent.y,D=g.inverseMass,C=g.friction*g.frictionStatic*f,N=g.contacts,J=g.contactCount,E=1/J,M=t.position.x-t.positionPrev.x,Q=t.position.y-t.positionPrev.y,V=t.angle-t.anglePrev,W=v.position.x-v.positionPrev.x,R=v.position.y-v.positionPrev.y,S=v.angle-v.anglePrev;for(m=0;m<J;m++){var K=N[m],O=K.vertex,I=O.x-t.position.x,P=O.y-t.position.y,X=O.x-v.position.x;O=O.y-v.position.y;var ca=M-P*V-(W-O*S);var ia=Q+I*V-(R+X*S);var da=w*ca+z*ia;ca=y*
ca+F*ia;ia=g.separation+da;var ba=Math.min(ia,1);ba=0>ia?0:ba;ia=ba*C;ca<-ia||ca>ia?(ba=0<ca?ca:-ca,ia=g.friction*(0<ca?1:-1)*k,ia<-ba?ia=-ba:ia>ba&&(ia=ba)):(ia=ca,ba=d);var ja=I*z-P*w,qa=X*z-O*w;qa=E/(D+t.inverseInertia*ja*ja+v.inverseInertia*qa*qa);ja=(1+g.restitution)*da*qa;ia*=qa;da<c?K.normalImpulse=0:(da=K.normalImpulse,K.normalImpulse+=ja,0<K.normalImpulse&&(K.normalImpulse=0),ja=K.normalImpulse-da);ca<-b||ca>b?K.tangentImpulse=0:(da=K.tangentImpulse,K.tangentImpulse+=ia,K.tangentImpulse<
-ba&&(K.tangentImpulse=-ba),K.tangentImpulse>ba&&(K.tangentImpulse=ba),ia=K.tangentImpulse-da);K=w*ja+y*ia;da=z*ja+F*ia;t.isStatic||t.isSleeping||(t.positionPrev.x+=K*t.inverseMass,t.positionPrev.y+=da*t.inverseMass,t.anglePrev+=(I*da-P*K)*t.inverseInertia);v.isStatic||v.isSleeping||(v.positionPrev.x-=K*v.inverseMass,v.positionPrev.y-=da*v.inverseMass,v.anglePrev-=(X*da-O*K)*v.inverseInertia)}}}}})()},function(za,a,G){var q={};za.exports=q;var x=G(9),u=G(0);(function(){q.create=function(r){return u.extend({table:{},
list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)};q.update=function(r,p,k){var f=x.update,c=x.create,b=x.setActive,d=r.table,l=r.list,h=l.length,g=h,m=r.collisionStart,t=r.collisionEnd;r=r.collisionActive;h=p.length;var v=0,w=0,z=0,y,F;for(F=0;F<h;F++){var D=p[F];(y=D.pair)?(y.isActive&&(r[z++]=y),f(y,D,k)):(y=c(D,k),d[y.id]=y,m[v++]=y,l[g++]=y)}g=0;h=l.length;for(F=0;F<h;F++)y=l[F],y.timeUpdated>=k?l[g++]=y:(b(y,!1,k),0<y.collision.bodyA.sleepCounter&&0<y.collision.bodyB.sleepCounter?
l[g++]=y:(t[w++]=y,delete d[y.id]));l.length!==g&&(l.length=g);m.length!==v&&(m.length=v);t.length!==w&&(t.length=w);r.length!==z&&(r.length=z)};q.clear=function(r){r.table={};r.list.length=0;r.collisionStart.length=0;r.collisionActive.length=0;r.collisionEnd.length=0;return r}})()},function(za,a,G){za=za.exports=G(21);za.Axes=G(11);za.Bodies=G(12);za.Body=G(4);za.Bounds=G(1);za.Collision=G(8);za.Common=G(0);za.Composite=G(6);za.Composites=G(22);za.Constraint=G(10);za.Contact=G(16);za.Detector=G(13);
za.Engine=G(17);za.Events=G(5);za.Grid=G(23);za.Mouse=G(14);za.MouseConstraint=G(24);za.Pair=G(9);za.Pairs=G(19);za.Plugin=G(15);za.Query=G(25);za.Render=G(26);za.Resolver=G(18);za.Runner=G(27);za.SAT=G(28);za.Sleeping=G(7);za.Svg=G(29);za.Vector=G(2);za.Vertices=G(3);za.World=G(30);za.Engine.run=za.Runner.run;za.Common.deprecated(za.Engine,"run","Engine.run  use Matter.Runner.run(engine) instead")},function(za,a,G){var q={};za.exports=q;var x=G(15),u=G(0);(function(){q.name="matter-js";q.version=
"0.20.0";q.uses=[];q.used=[];q.use=function(){x.use(q,Array.prototype.slice.call(arguments))};q.before=function(r,p){r=r.replace(/^Matter./,"");return u.chainPathBefore(q,r,p)};q.after=function(r,p){r=r.replace(/^Matter./,"");return u.chainPathAfter(q,r,p)}})()},function(za,a,G){var q={};za.exports=q;var x=G(6),u=G(10),r=G(0),p=G(4),k=G(12),f=r.deprecated;(function(){q.stack=function(c,b,d,l,h,g,m){for(var t=x.create({label:"Stack"}),v=c,w,z=0,y=0;y<l;y++){for(var F=0,D=0;D<d;D++){var C=m(v,b,D,y,
w,z);C?(v=C.bounds.max.y-C.bounds.min.y,w=C.bounds.max.x-C.bounds.min.x,v>F&&(F=v),p.translate(C,{x:.5*w,y:.5*v}),v=C.bounds.max.x+h,x.addBody(t,C),w=C,z+=1):v+=h}b+=F+g;v=c}return t};q.chain=function(c,b,d,l,h,g){for(var m=c.bodies,t=1;t<m.length;t++){var v=m[t-1],w=m[t];v=r.extend({bodyA:v,pointA:{x:(v.bounds.max.x-v.bounds.min.x)*b,y:(v.bounds.max.y-v.bounds.min.y)*d},bodyB:w,pointB:{x:(w.bounds.max.x-w.bounds.min.x)*l,y:(w.bounds.max.y-w.bounds.min.y)*h}},g);x.addConstraint(c,u.create(v))}c.label+=
" Chain";return c};q.mesh=function(c,b,d,l,h){var g=c.bodies,m,t;for(m=0;m<d;m++){for(t=1;t<b;t++){var v=g[t-1+m*b];var w=g[t+m*b];x.addConstraint(c,u.create(r.extend({bodyA:v,bodyB:w},h)))}if(0<m)for(t=0;t<b;t++)v=g[t+(m-1)*b],w=g[t+m*b],x.addConstraint(c,u.create(r.extend({bodyA:v,bodyB:w},h))),l&&0<t&&(v=g[t-1+(m-1)*b],x.addConstraint(c,u.create(r.extend({bodyA:v,bodyB:w},h)))),l&&t<b-1&&(v=g[t+1+(m-1)*b],x.addConstraint(c,u.create(r.extend({bodyA:v,bodyB:w},h))))}c.label+=" Mesh";return c};q.pyramid=
function(c,b,d,l,h,g,m){return q.stack(c,b,d,l,h,g,function(t,v,w,z,y,F){var D=Math.min(l,Math.ceil(d/2));t=y?y.bounds.max.x-y.bounds.min.x:0;if(!(z>D||(z=D-z,D=d-1-z,w<z||w>D)))return 1===F&&p.translate(y,{x:(w+(1===d%2?1:-1))*t,y:0}),m(c+(y?w*t:0)+w*h,v,w,z,y,F)})};q.newtonsCradle=function(c,b,d,l,h){for(var g=x.create({label:"Newtons Cradle"}),m=0;m<d;m++){var t=k.circle(c+1.9*m*l,b+h,l,{inertia:Infinity,restitution:1,friction:0,frictionAir:1E-4,slop:1}),v=u.create({pointA:{x:c+1.9*m*l,y:b},bodyB:t});
x.addBody(g,t);x.addConstraint(g,v)}return g};f(q,"newtonsCradle","Composites.newtonsCradle  moved to newtonsCradle example");q.car=function(c,b,d,l,h){var g=p.nextGroup(!0),m=.5*-d+20,t=.5*d-20,v=x.create({label:"Car"});d=k.rectangle(c,b,d,l,{collisionFilter:{group:g},chamfer:{radius:.5*l},density:2E-4});l=k.circle(c+m,b+0,h,{collisionFilter:{group:g},friction:.8});c=k.circle(c+t,b+0,h,{collisionFilter:{group:g},friction:.8});m=u.create({bodyB:d,pointB:{x:m,y:0},bodyA:l,stiffness:1,length:0});t=
u.create({bodyB:d,pointB:{x:t,y:0},bodyA:c,stiffness:1,length:0});x.addBody(v,d);x.addBody(v,l);x.addBody(v,c);x.addConstraint(v,m);x.addConstraint(v,t);return v};f(q,"car","Composites.car  moved to car example");q.softBody=function(c,b,d,l,h,g,m,t,v,w){v=r.extend({inertia:Infinity},v);w=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},w);c=q.stack(c,b,d,l,h,g,function(z,y){return k.circle(z,y,t,v)});q.mesh(c,d,l,m,w);c.label="Soft Body";return c};f(q,"softBody","Composites.softBody  moved to softBody and cloth examples")})()},
function(za,a,G){var q={};za.exports=q;var x=G(9),u=G(0),r=u.deprecated;(function(){q.create=function(p){return u.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},p)};q.update=function(p,k,f,c){var b,d=f.world,l=p.buckets;var h=!1;for(f=0;f<k.length;f++){var g=k[f];if(!g.isSleeping||c)if(!d.bounds||!(g.bounds.max.x<d.bounds.min.x||g.bounds.min.x>d.bounds.max.x||g.bounds.max.y<d.bounds.min.y||g.bounds.min.y>d.bounds.max.y)){var m=q._getRegion(p,g);if(!g.region||m.id!==g.region.id||
c){if(!g.region||c)g.region=m;var t=q._regionUnion(m,g.region);for(h=t.startCol;h<=t.endCol;h++)for(b=t.startRow;b<=t.endRow;b++){var v=q._getBucketId(h,b);var w=l[v];var z=h>=m.startCol&&h<=m.endCol&&b>=m.startRow&&b<=m.endRow,y=h>=g.region.startCol&&h<=g.region.endCol&&b>=g.region.startRow&&b<=g.region.endRow;!z&&y&&y&&w&&q._bucketRemoveBody(p,w,g);if(g.region===m||z&&!y||c)w||(w=q._createBucket(l,v)),q._bucketAddBody(p,w,g)}g.region=m;h=!0}}}h&&(p.pairsList=q._createActivePairsList(p))};r(q,"update",
"Grid.update  replaced by Matter.Detector");q.clear=function(p){p.buckets={};p.pairs={};p.pairsList=[]};r(q,"clear","Grid.clear  replaced by Matter.Detector");q._regionUnion=function(p,k){return q._createRegion(Math.min(p.startCol,k.startCol),Math.max(p.endCol,k.endCol),Math.min(p.startRow,k.startRow),Math.max(p.endRow,k.endRow))};q._getRegion=function(p,k){k=k.bounds;return q._createRegion(Math.floor(k.min.x/p.bucketWidth),Math.floor(k.max.x/p.bucketWidth),Math.floor(k.min.y/p.bucketHeight),Math.floor(k.max.y/
p.bucketHeight))};q._createRegion=function(p,k,f,c){return{id:p+","+k+","+f+","+c,startCol:p,endCol:k,startRow:f,endRow:c}};q._getBucketId=function(p,k){return"C"+p+"R"+k};q._createBucket=function(p,k){return p[k]=[]};q._bucketAddBody=function(p,k,f){p=p.pairs;var c=x.id,b=k.length,d;for(d=0;d<b;d++){var l=k[d];if(!(f.id===l.id||f.isStatic&&l.isStatic)){var h=c(f,l),g=p[h];g?g[2]+=1:p[h]=[f,l,1]}}k.push(f)};q._bucketRemoveBody=function(p,k,f){p=p.pairs;var c=x.id,b;k.splice(u.indexOf(k,f),1);var d=
k.length;for(b=0;b<d;b++){var l=p[c(f,k[b])];l&&--l[2]}};q._createActivePairsList=function(p){var k=p.pairs,f=u.keys(k),c=f.length,b=[],d;for(d=0;d<c;d++)p=k[f[d]],0<p[2]?b.push(p):delete k[f[d]];return b}})()},function(za,a,G){var q={};za.exports=q;var x=G(3),u=G(7),r=G(14),p=G(5),k=G(13),f=G(10),c=G(6),b=G(0),d=G(1);(function(){q.create=function(l,h){var g=(l?l.mouse:null)||(h?h.mouse:null);g||(l&&l.render&&l.render.canvas?g=r.create(l.render.canvas):h&&h.element?g=r.create(h.element):(g=r.create(),
b.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var m=f.create({label:"Mouse Constraint",pointA:g.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),t=b.extend({type:"mouseConstraint",mouse:g,element:null,body:null,constraint:m,collisionFilter:{category:1,mask:4294967295,group:0}},h);p.on(l,"beforeUpdate",function(){var v=c.allBodies(l.world);q.update(t,v);q._triggerEvents(t)});
return t};q.update=function(l,h){var g=l.mouse,m=l.constraint,t=l.body;if(0===g.button)if(m.bodyB)u.set(m.bodyB,!1),m.pointA=g.position;else for(var v=0;v<h.length;v++){if(t=h[v],d.contains(t.bounds,g.position)&&k.canCollide(t.collisionFilter,l.collisionFilter))for(var w=1<t.parts.length?1:0;w<t.parts.length;w++)if(x.contains(t.parts[w].vertices,g.position)){m.pointA=g.position;m.bodyB=l.body=t;m.pointB={x:g.position.x-t.position.x,y:g.position.y-t.position.y};m.angleB=t.angle;u.set(t,!1);p.trigger(l,
"startdrag",{mouse:g,body:t});break}}else m.bodyB=l.body=null,m.pointB=null,t&&p.trigger(l,"enddrag",{mouse:g,body:t})};q._triggerEvents=function(l){var h=l.mouse,g=h.sourceEvents;g.mousemove&&p.trigger(l,"mousemove",{mouse:h});g.mousedown&&p.trigger(l,"mousedown",{mouse:h});g.mouseup&&p.trigger(l,"mouseup",{mouse:h});r.clearSourceEvents(h)}})()},function(za,a,G){var q={};za.exports=q;var x=G(2),u=G(8),r=G(1),p=G(12),k=G(3);(function(){q.collides=function(f,c){for(var b=[],d=c.length,l=f.bounds,h=
u.collides,g=r.overlaps,m=0;m<d;m++){var t=c[m],v=t.parts.length,w=1===v?0:1;if(g(t.bounds,l))for(;w<v;w++){var z=t.parts[w];if(g(z.bounds,l)&&(z=h(z,f))){b.push(z);break}}}return b};q.ray=function(f,c,b,d){d=d||1E-100;var l=x.angle(c,b),h=x.magnitude(x.sub(c,b));c=p.rectangle(.5*(b.x+c.x),.5*(b.y+c.y),h,d,{angle:l});f=q.collides(c,f);for(c=0;c<f.length;c+=1)b=f[c],b.body=b.bodyB=b.bodyA;return f};q.region=function(f,c,b){for(var d=[],l=0;l<f.length;l++){var h=f[l],g=r.overlaps(h.bounds,c);(g&&!b||
!g&&b)&&d.push(h)}return d};q.point=function(f,c){for(var b=[],d=0;d<f.length;d++){var l=f[d];if(r.contains(l.bounds,c))for(var h=1===l.parts.length?0:1;h<l.parts.length;h++){var g=l.parts[h];if(r.contains(g.bounds,c)&&k.contains(g.vertices,c)){b.push(l);break}}}return b}})()},function(za,a,G){var q={};za.exports=q;var x=G(4),u=G(0),r=G(6),p=G(1),k=G(5),f=G(2),c=G(14);(function(){if("undefined"!==typeof window){var b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||
window.msRequestAnimationFrame||function(g){window.setTimeout(function(){g(u.now())},1E3/60)};var d=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame}q._goodFps=30;q._goodDelta=1E3/60;q.create=function(g){var m=u.extend({engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],
engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!g.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},
g);m.canvas&&(m.canvas.width=m.options.width||m.canvas.width,m.canvas.height=m.options.height||m.canvas.height);m.mouse=g.mouse;m.engine=g.engine;m.canvas=m.canvas||h(m.options.width,m.options.height);m.context=m.canvas.getContext("2d");m.textures={};m.bounds=m.bounds||{min:{x:0,y:0},max:{x:m.canvas.width,y:m.canvas.height}};m.controller=q;m.options.showBroadphase=!1;1!==m.options.pixelRatio&&q.setPixelRatio(m,m.options.pixelRatio);u.isElement(m.element)&&m.element.appendChild(m.canvas);return m};
q.run=function(g){(function v(t){g.frameRequestId=b(v);var w=g.engine,z=g.timing,y=z.historySize,F=w.timing.timestamp;z.delta=t-z.lastTime||q._goodDelta;z.lastTime=t;z.timestampElapsed=F-z.lastTimestamp||0;z.lastTimestamp=F;z.deltaHistory.unshift(z.delta);z.deltaHistory.length=Math.min(z.deltaHistory.length,y);z.engineDeltaHistory.unshift(w.timing.lastDelta);z.engineDeltaHistory.length=Math.min(z.engineDeltaHistory.length,y);z.timestampElapsedHistory.unshift(z.timestampElapsed);z.timestampElapsedHistory.length=
Math.min(z.timestampElapsedHistory.length,y);z.engineUpdatesHistory.unshift(w.timing.lastUpdatesPerFrame);z.engineUpdatesHistory.length=Math.min(z.engineUpdatesHistory.length,y);z.engineElapsedHistory.unshift(w.timing.lastElapsed);z.engineElapsedHistory.length=Math.min(z.engineElapsedHistory.length,y);z.elapsedHistory.unshift(z.lastElapsed);z.elapsedHistory.length=Math.min(z.elapsedHistory.length,y);q.world(g,t);g.context.setTransform(g.options.pixelRatio,0,0,g.options.pixelRatio,0,0);(g.options.showStats||
g.options.showDebug)&&q.stats(g,g.context,t);(g.options.showPerformance||g.options.showDebug)&&q.performance(g,g.context,t);g.context.setTransform(1,0,0,1,0,0)})()};q.stop=function(g){d(g.frameRequestId)};q.setPixelRatio=function(g,m){var t=g.options;g=g.canvas;"auto"===m&&(m=g.getContext("2d"),m=(window.devicePixelRatio||1)/(m.webkitBackingStorePixelRatio||m.mozBackingStorePixelRatio||m.msBackingStorePixelRatio||m.oBackingStorePixelRatio||m.backingStorePixelRatio||1));t.pixelRatio=m;g.setAttribute("data-pixel-ratio",
m);g.width=t.width*m;g.height=t.height*m;g.style.width=t.width+"px";g.style.height=t.height+"px"};q.setSize=function(g,m,t){g.options.width=m;g.options.height=t;g.bounds.max.x=g.bounds.min.x+m;g.bounds.max.y=g.bounds.min.y+t;1!==g.options.pixelRatio?q.setPixelRatio(g,g.options.pixelRatio):(g.canvas.width=m,g.canvas.height=t)};q.lookAt=function(g,m,t,v){v="undefined"!==typeof v?v:!0;m=u.isArray(m)?m:[m];t=t||{x:0,y:0};for(var w=Infinity,z=Infinity,y=-Infinity,F=-Infinity,D=0;D<m.length;D+=1){var C=
m[D],N=C.bounds?C.bounds.min:C.min||C.position||C;C=C.bounds?C.bounds.max:C.max||C.position||C;N&&C&&(N.x<w&&(w=N.x),C.x>y&&(y=C.x),N.y<z&&(z=N.y),C.y>F&&(F=C.y))}m=y-w+2*t.x;F=F-z+2*t.y;y=g.canvas.width/g.canvas.height;D=m/F;C=N=1;D>y?C=D/y:N=y/D;g.options.hasBounds=!0;g.bounds.min.x=w;g.bounds.max.x=w+m*N;g.bounds.min.y=z;g.bounds.max.y=z+F*C;v&&(g.bounds.min.x+=.5*m-m*N*.5,g.bounds.max.x+=.5*m-m*N*.5,g.bounds.min.y+=.5*F-F*C*.5,g.bounds.max.y+=.5*F-F*C*.5);g.bounds.min.x-=t.x;g.bounds.max.x-=t.x;
g.bounds.min.y-=t.y;g.bounds.max.y-=t.y;g.mouse&&(c.setScale(g.mouse,{x:(g.bounds.max.x-g.bounds.min.x)/g.canvas.width,y:(g.bounds.max.y-g.bounds.min.y)/g.canvas.height}),c.setOffset(g.mouse,g.bounds.min))};q.startViewTransform=function(g){g.context.setTransform(g.options.pixelRatio/((g.bounds.max.x-g.bounds.min.x)/g.options.width),0,0,g.options.pixelRatio/((g.bounds.max.y-g.bounds.min.y)/g.options.height),0,0);g.context.translate(-g.bounds.min.x,-g.bounds.min.y)};q.endViewTransform=function(g){g.context.setTransform(g.options.pixelRatio,
0,0,g.options.pixelRatio,0,0)};q.world=function(g,m){m=u.now();var t=g.engine,v=t.world,w=g.canvas,z=g.context,y=g.options,F=g.timing,D=r.allBodies(v);v=r.allConstraints(v);var C=y.wireframes?y.wireframeBackground:y.background,N=[],J=[],E={timestamp:t.timing.timestamp};k.trigger(g,"beforeRender",E);if(g.currentBackground!==C){var M=C;/(jpg|gif|png)$/.test(C)&&(M="url("+C+")");g.canvas.style.background=M;g.canvas.style.backgroundSize="contain";g.currentBackground=C}z.globalCompositeOperation="source-in";
z.fillStyle="transparent";z.fillRect(0,0,w.width,w.height);z.globalCompositeOperation="source-over";if(y.hasBounds){for(w=0;w<D.length;w++)C=D[w],p.overlaps(C.bounds,g.bounds)&&N.push(C);for(w=0;w<v.length;w++){D=v[w];C=D.bodyA;M=D.bodyB;var Q=D.pointA,V=D.pointB;C&&(Q=f.add(C.position,D.pointA));M&&(V=f.add(M.position,D.pointB));Q&&V&&(p.contains(g.bounds,Q)||p.contains(g.bounds,V))&&J.push(D)}q.startViewTransform(g);g.mouse&&(c.setScale(g.mouse,{x:(g.bounds.max.x-g.bounds.min.x)/g.options.width,
y:(g.bounds.max.y-g.bounds.min.y)/g.options.height}),c.setOffset(g.mouse,g.bounds.min))}else J=v,N=D,1!==g.options.pixelRatio&&g.context.setTransform(g.options.pixelRatio,0,0,g.options.pixelRatio,0,0);!y.wireframes||t.enableSleeping&&y.showSleeping?q.bodies(g,N,z):(y.showConvexHulls&&q.bodyConvexHulls(g,N,z),q.bodyWireframes(g,N,z));y.showBounds&&q.bodyBounds(g,N,z);(y.showAxes||y.showAngleIndicator)&&q.bodyAxes(g,N,z);y.showPositions&&q.bodyPositions(g,N,z);y.showVelocity&&q.bodyVelocity(g,N,z);
y.showIds&&q.bodyIds(g,N,z);y.showSeparations&&q.separations(g,t.pairs.list,z);y.showCollisions&&q.collisions(g,t.pairs.list,z);y.showVertexNumbers&&q.vertexNumbers(g,N,z);y.showMousePosition&&q.mousePosition(g,g.mouse,z);q.constraints(J,z);y.hasBounds&&q.endViewTransform(g);k.trigger(g,"afterRender",E);F.lastElapsed=u.now()-m};q.stats=function(g,m,t){t=g.engine;for(var v=t.world,w=r.allBodies(v),z=0,y=g=0;y<w.length;y+=1)z+=w[y].parts.length;t={Part:z,Body:w.length,Cons:r.allConstraints(v).length,
Comp:r.allComposites(v).length,Pair:t.pairs.list.length};m.fillStyle="#0e0f19";m.fillRect(g,0,302.5,44);m.font="12px Arial";m.textBaseline="top";m.textAlign="right";for(var F in t)v=t[F],m.fillStyle="#aaa",m.fillText(F,g+55,8),m.fillStyle="#eee",m.fillText(v,g+55,26),g+=55};q.performance=function(g,m){var t=g.engine;g=g.timing;var v=g.deltaHistory,w=g.elapsedHistory,z=g.timestampElapsedHistory,y=g.engineDeltaHistory,F=g.engineUpdatesHistory,D=g.engineElapsedHistory;g=t.timing.lastUpdatesPerFrame;
t=t.timing.lastDelta;var C=l(v),N=l(w),J=l(y),E=l(F),M=l(D),Q=l(z)/C||0,V=Math.round(C/t),W=1E3/C||0;m.fillStyle="#0e0f19";m.fillRect(0,50,442,34);q.status(m,10,69,60,4,v.length,Math.round(W)+" fps",W/q._goodFps,function(R){return v[R]/C-1});q.status(m,82,69,60,4,y.length,t.toFixed(2)+" dt",q._goodDelta/t,function(R){return y[R]/J-1});q.status(m,154,69,60,4,F.length,g+" upf",Math.pow(u.clamp(E/V||1,0,1),4),function(R){return F[R]/E-1});q.status(m,226,69,60,4,D.length,M.toFixed(2)+" ut",1-g*M/q._goodFps,
function(R){return D[R]/M-1});q.status(m,298,69,60,4,w.length,N.toFixed(2)+" rt",1-N/q._goodFps,function(R){return w[R]/N-1});q.status(m,370,69,60,4,z.length,Q.toFixed(2)+" x",Q*Q*Q,function(R){return(z[R]/v[R]/Q||0)-1})};q.status=function(g,m,t,v,w,z,y,F,D){g.strokeStyle="#888";g.fillStyle="#444";g.lineWidth=1;g.fillRect(m,t+7,v,1);g.beginPath();g.moveTo(m,t+7-w*u.clamp(.4*D(0),-2,2));for(var C=0;C<v;C+=1)g.lineTo(m+C,t+7-(C<z?w*u.clamp(.4*D(C),-2,2):0));g.stroke();g.fillStyle="hsl("+u.clamp(25+
95*F,0,120)+",100%,60%)";g.fillRect(m,t-7,4,4);g.font="12px Arial";g.textBaseline="middle";g.textAlign="right";g.fillStyle="#eee";g.fillText(y,m+v,t-5)};q.constraints=function(g,m){for(var t=0;t<g.length;t++){var v=g[t];if(v.render.visible&&v.pointA&&v.pointB){var w=v.bodyA,z=v.bodyB;w=w?f.add(w.position,v.pointA):v.pointA;if("pin"===v.render.type)m.beginPath(),m.arc(w.x,w.y,3,0,2*Math.PI),m.closePath();else{var y=z?f.add(z.position,v.pointB):v.pointB;m.beginPath();m.moveTo(w.x,w.y);if("spring"===
v.render.type){z=f.sub(y,w);for(var F=f.perp(f.normalise(z)),D=Math.ceil(u.clamp(v.length/5,12,20)),C,N=1;N<D;N+=1)C=0===N%2?1:-1,m.lineTo(w.x+N/D*z.x+F.x*C*4,w.y+N/D*z.y+F.y*C*4)}m.lineTo(y.x,y.y)}v.render.lineWidth&&(m.lineWidth=v.render.lineWidth,m.strokeStyle=v.render.strokeStyle,m.stroke());v.render.anchors&&(m.fillStyle=v.render.strokeStyle,m.beginPath(),m.arc(w.x,w.y,3,0,2*Math.PI),m.arc(y.x,y.y,3,0,2*Math.PI),m.closePath(),m.fill())}}};q.bodies=function(g,m,t){var v=g.options,w=v.showInternalEdges||
!v.wireframes,z,y;for(z=0;z<m.length;z++){var F=m[z];if(F.render.visible)for(y=1<F.parts.length?1:0;y<F.parts.length;y++){var D=F.parts[y];if(D.render.visible){v.showSleeping&&F.isSleeping?t.globalAlpha=.5*D.render.opacity:1!==D.render.opacity&&(t.globalAlpha=D.render.opacity);if(D.render.sprite&&D.render.sprite.texture&&!v.wireframes){var C=D.render.sprite;var N=g;var J=C.texture,E=N.textures[J];E||(E=N.textures[J]=new Image,E.src=J);N=E;t.translate(D.position.x,D.position.y);t.rotate(D.angle);t.drawImage(N,
N.width*-C.xOffset*C.xScale,N.height*-C.yOffset*C.yScale,N.width*C.xScale,N.height*C.yScale);t.rotate(-D.angle);t.translate(-D.position.x,-D.position.y)}else{if(D.circleRadius)t.beginPath(),t.arc(D.position.x,D.position.y,D.circleRadius,0,2*Math.PI);else{t.beginPath();t.moveTo(D.vertices[0].x,D.vertices[0].y);for(C=1;C<D.vertices.length;C++)!D.vertices[C-1].isInternal||w?t.lineTo(D.vertices[C].x,D.vertices[C].y):t.moveTo(D.vertices[C].x,D.vertices[C].y),D.vertices[C].isInternal&&!w&&t.moveTo(D.vertices[(C+
1)%D.vertices.length].x,D.vertices[(C+1)%D.vertices.length].y);t.lineTo(D.vertices[0].x,D.vertices[0].y);t.closePath()}v.wireframes?(t.lineWidth=1,t.strokeStyle=g.options.wireframeStrokeStyle,t.stroke()):(t.fillStyle=D.render.fillStyle,D.render.lineWidth&&(t.lineWidth=D.render.lineWidth,t.strokeStyle=D.render.strokeStyle,t.stroke()),t.fill())}t.globalAlpha=1}}}};q.bodyWireframes=function(g,m,t){var v=g.options.showInternalEdges,w,z,y;t.beginPath();for(w=0;w<m.length;w++){var F=m[w];if(F.render.visible)for(y=
1<F.parts.length?1:0;y<F.parts.length;y++){var D=F.parts[y];t.moveTo(D.vertices[0].x,D.vertices[0].y);for(z=1;z<D.vertices.length;z++)!D.vertices[z-1].isInternal||v?t.lineTo(D.vertices[z].x,D.vertices[z].y):t.moveTo(D.vertices[z].x,D.vertices[z].y),D.vertices[z].isInternal&&!v&&t.moveTo(D.vertices[(z+1)%D.vertices.length].x,D.vertices[(z+1)%D.vertices.length].y);t.lineTo(D.vertices[0].x,D.vertices[0].y)}}t.lineWidth=1;t.strokeStyle=g.options.wireframeStrokeStyle;t.stroke()};q.bodyConvexHulls=function(g,
m,t){var v,w;t.beginPath();for(v=0;v<m.length;v++)if(g=m[v],g.render.visible&&1!==g.parts.length){t.moveTo(g.vertices[0].x,g.vertices[0].y);for(w=1;w<g.vertices.length;w++)t.lineTo(g.vertices[w].x,g.vertices[w].y);t.lineTo(g.vertices[0].x,g.vertices[0].y)}t.lineWidth=1;t.strokeStyle="rgba(255,255,255,0.2)";t.stroke()};q.vertexNumbers=function(g,m,t){var v,w;for(g=0;g<m.length;g++){var z=m[g].parts;for(w=1<z.length?1:0;w<z.length;w++){var y=z[w];for(v=0;v<y.vertices.length;v++)t.fillStyle="rgba(255,255,255,0.2)",
t.fillText(g+"_"+v,y.position.x+.8*(y.vertices[v].x-y.position.x),y.position.y+.8*(y.vertices[v].y-y.position.y))}}};q.mousePosition=function(g,m,t){t.fillStyle="rgba(255,255,255,0.8)";t.fillText(m.position.x+"  "+m.position.y,m.position.x+5,m.position.y-5)};q.bodyBounds=function(g,m,t){g=g.options;t.beginPath();for(var v=0;v<m.length;v++)if(m[v].render.visible)for(var w=m[v].parts,z=1<w.length?1:0;z<w.length;z++){var y=w[z];t.rect(y.bounds.min.x,y.bounds.min.y,y.bounds.max.x-y.bounds.min.x,y.bounds.max.y-
y.bounds.min.y)}t.strokeStyle=g.wireframes?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.1)";t.lineWidth=1;t.stroke()};q.bodyAxes=function(g,m,t){g=g.options;var v,w,z;t.beginPath();for(v=0;v<m.length;v++){var y=m[v];var F=y.parts;if(y.render.visible)if(g.showAxes)for(w=1<F.length?1:0;w<F.length;w++)for(y=F[w],z=0;z<y.axes.length;z++){var D=y.axes[z];t.moveTo(y.position.x,y.position.y);t.lineTo(y.position.x+20*D.x,y.position.y+20*D.y)}else for(w=1<F.length?1:0;w<F.length;w++)for(y=F[w],z=0;z<y.axes.length;z++)t.moveTo(y.position.x,
y.position.y),t.lineTo((y.vertices[0].x+y.vertices[y.vertices.length-1].x)/2,(y.vertices[0].y+y.vertices[y.vertices.length-1].y)/2)}g.wireframes?(t.strokeStyle="indianred",t.lineWidth=1):(t.strokeStyle="rgba(255, 255, 255, 0.4)",t.globalCompositeOperation="overlay",t.lineWidth=2);t.stroke();t.globalCompositeOperation="source-over"};q.bodyPositions=function(g,m,t){g=g.options;var v,w;t.beginPath();for(v=0;v<m.length;v++){var z=m[v];if(z.render.visible)for(w=0;w<z.parts.length;w++){var y=z.parts[w];
t.arc(y.position.x,y.position.y,3,0,2*Math.PI,!1);t.closePath()}}t.fillStyle=g.wireframes?"indianred":"rgba(0,0,0,0.5)";t.fill();t.beginPath();for(v=0;v<m.length;v++)z=m[v],z.render.visible&&(t.arc(z.positionPrev.x,z.positionPrev.y,2,0,2*Math.PI,!1),t.closePath());t.fillStyle="rgba(255,165,0,0.8)";t.fill()};q.bodyVelocity=function(g,m,t){t.beginPath();for(g=0;g<m.length;g++){var v=m[g];if(v.render.visible){var w=x.getVelocity(v);t.moveTo(v.position.x,v.position.y);t.lineTo(v.position.x+w.x,v.position.y+
w.y)}}t.lineWidth=3;t.strokeStyle="cornflowerblue";t.stroke()};q.bodyIds=function(g,m,t){var v;for(g=0;g<m.length;g++)if(m[g].render.visible){var w=m[g].parts;for(v=1<w.length?1:0;v<w.length;v++){var z=w[v];t.font="12px Arial";t.fillStyle="rgba(255,255,255,0.5)";t.fillText(z.id,z.position.x+10,z.position.y-10)}}};q.collisions=function(g,m,t){g=g.options;var v,w;t.beginPath();for(w=0;w<m.length;w++){var z=m[w];if(z.isActive)for(v=0;v<z.contactCount;v++){var y=z.contacts[v].vertex;t.rect(y.x-1.5,y.y-
1.5,3.5,3.5)}}t.fillStyle=g.wireframes?"rgba(255,255,255,0.7)":"orange";t.fill();t.beginPath();for(w=0;w<m.length;w++)if(z=m[w],z.isActive&&(v=z.collision,0<z.contactCount)){y=z.contacts[0].vertex.x;var F=z.contacts[0].vertex.y;2===z.contactCount&&(y=(z.contacts[0].vertex.x+z.contacts[1].vertex.x)/2,F=(z.contacts[0].vertex.y+z.contacts[1].vertex.y)/2);v.bodyB===v.supports[0].body||!0===v.bodyA.isStatic?t.moveTo(y-8*v.normal.x,F-8*v.normal.y):t.moveTo(y+8*v.normal.x,F+8*v.normal.y);t.lineTo(y,F)}t.strokeStyle=
g.wireframes?"rgba(255,165,0,0.7)":"orange";t.lineWidth=1;t.stroke()};q.separations=function(g,m,t){g=g.options;var v;t.beginPath();for(v=0;v<m.length;v++){var w=m[v];if(w.isActive){w=w.collision;var z=w.bodyA;var y=w.bodyB;var F=1;y.isStatic||z.isStatic||(F=.5);y.isStatic&&(F=0);t.moveTo(y.position.x,y.position.y);t.lineTo(y.position.x-w.penetration.x*F,y.position.y-w.penetration.y*F);F=1;y.isStatic||z.isStatic||(F=.5);z.isStatic&&(F=0);t.moveTo(z.position.x,z.position.y);t.lineTo(z.position.x+w.penetration.x*
F,z.position.y+w.penetration.y*F)}}t.strokeStyle=g.wireframes?"rgba(255,165,0,0.5)":"orange";t.stroke()};q.inspector=function(g,m){var t=g.selected,v=g.render,w=v.options;w.hasBounds&&(m.scale(1/((v.bounds.max.x-v.bounds.min.x)/v.options.width),1/((v.bounds.max.y-v.bounds.min.y)/v.options.height)),m.translate(-v.bounds.min.x,-v.bounds.min.y));for(v=0;v<t.length;v++){var z=t[v].data;m.translate(.5,.5);m.lineWidth=1;m.strokeStyle="rgba(255,165,0,0.9)";m.setLineDash([1,2]);switch(z.type){case "body":z=
z.bounds;m.beginPath();m.rect(Math.floor(z.min.x-3),Math.floor(z.min.y-3),Math.floor(z.max.x-z.min.x+6),Math.floor(z.max.y-z.min.y+6));m.closePath();m.stroke();break;case "constraint":var y=z.pointA;z.bodyA&&(y=z.pointB);m.beginPath();m.arc(y.x,y.y,10,0,2*Math.PI);m.closePath();m.stroke()}m.setLineDash([]);m.translate(-.5,-.5)}null!==g.selectStart&&(m.translate(.5,.5),m.lineWidth=1,m.strokeStyle="rgba(255,165,0,0.6)",m.fillStyle="rgba(255,165,0,0.1)",z=g.selectBounds,m.beginPath(),m.rect(Math.floor(z.min.x),
Math.floor(z.min.y),Math.floor(z.max.x-z.min.x),Math.floor(z.max.y-z.min.y)),m.closePath(),m.stroke(),m.fill(),m.translate(-.5,-.5));w.hasBounds&&m.setTransform(1,0,0,1,0,0)};var l=function(g){for(var m=0,t=0;t<g.length;t+=1)m+=g[t];return m/g.length||0},h=function(g,m){var t=document.createElement("canvas");t.width=g;t.height=m;t.oncontextmenu=function(){return!1};t.onselectstart=function(){return!1};return t}})()},function(za,a,G){var q={};za.exports=q;var x=G(5),u=G(17),r=G(0);(function(){q._maxFrameDelta=
1E3/15;q._frameDeltaFallback=1E3/60;q._timeBufferMargin=1.5;q._elapsedNextEstimate=1;q._smoothingLowerBound=.1;q._smoothingUpperBound=.9;q.create=function(p){p=r.extend({delta:1E3/60,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:1E3/30,lastUpdatesDeferred:0,enabled:!0},p);p.fps=0;return p};q.run=function(p,k){p.timeBuffer=q._frameDeltaFallback;(function b(c){p.frameRequestId=
q._onNextFrame(p,b);c&&p.enabled&&q.tick(p,k,c)})();return p};q.tick=function(p,k,f){var c=r.now(),b=p.delta,d=0,l=f-p.timeLastTick;if(!l||!p.timeLastTick||l>Math.max(q._maxFrameDelta,p.maxFrameTime))l=p.frameDelta||q._frameDeltaFallback;if(p.frameDeltaSmoothing){p.frameDeltaHistory.push(l);p.frameDeltaHistory=p.frameDeltaHistory.slice(-p.frameDeltaHistorySize);var h=p.frameDeltaHistory.slice(0).sort();h=p.frameDeltaHistory.slice(h.length*q._smoothingLowerBound,h.length*q._smoothingUpperBound);for(var g=
0,m=h.length,t=0;t<m;t+=1)g+=h[t];l=g/m||l}p.frameDeltaSnapping&&(l=1E3/Math.round(1E3/l));p.frameDelta=l;p.timeLastTick=f;p.timeBuffer+=p.frameDelta;p.timeBuffer=r.clamp(p.timeBuffer,0,p.frameDelta+b*q._timeBufferMargin);p.lastUpdatesDeferred=0;f=p.maxUpdates||Math.ceil(p.maxFrameTime/b);l={timestamp:k.timing.timestamp};x.trigger(p,"beforeTick",l);x.trigger(p,"tick",l);for(h=r.now();0<b&&p.timeBuffer>=b*q._timeBufferMargin;)if(x.trigger(p,"beforeUpdate",l),u.update(k,b),x.trigger(p,"afterUpdate",
l),p.timeBuffer-=b,d+=1,g=r.now()-c,m=r.now()-h,g+=q._elapsedNextEstimate*m/d,d>=f||g>p.maxFrameTime){p.lastUpdatesDeferred=Math.round(Math.max(0,p.timeBuffer/b-q._timeBufferMargin));break}k.timing.lastUpdatesPerFrame=d;x.trigger(p,"afterTick",l);100<=p.frameDeltaHistory.length&&(p.lastUpdatesDeferred&&Math.round(p.frameDelta/b)>f?r.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):p.lastUpdatesDeferred&&r.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),
"undefined"!==typeof p.isFixed&&r.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(p.deltaMin||p.deltaMax)&&r.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==p.fps&&r.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))};q.stop=function(p){q._cancelNextFrame(p)};q._onNextFrame=function(p,k){if("undefined"!==typeof window&&window.requestAnimationFrame)p.frameRequestId=window.requestAnimationFrame(k);else throw Error("Matter.Runner: missing required global window.requestAnimationFrame.");
return p.frameRequestId};q._cancelNextFrame=function(p){if("undefined"!==typeof window&&window.cancelAnimationFrame)window.cancelAnimationFrame(p.frameRequestId);else throw Error("Matter.Runner: missing required global window.cancelAnimationFrame.");}})()},function(za,a,G){var q={};za.exports=q;var x=G(8),u=G(0).deprecated;(function(){q.collides=function(r,p){return x.collides(r,p)};u(q,"collides","SAT.collides  replaced by Collision.collides")})()},function(za,a,G){var q={};za.exports=q;G(1);var x=
G(0);(function(){q.pathToVertices=function(u,r){"undefined"===typeof window||"SVGPathSeg"in window||x.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var p,k,f,c=[],b,d,l=0,h=0,g=0;r=r||15;var m=function(y,F,D){D=1===D%2&&1<D;if(!f||y!=f.x||F!=f.y){f&&D?(b=f.x,d=f.y):d=b=0;var C={x:b+y,y:d+F};if(D||!f)f=C;c.push(C);h=b+y;g=d+F}},t=function(y){var F=y.pathSegTypeAsLetter.toUpperCase();if("Z"!==F){switch(F){case "M":case "L":case "T":case "C":case "S":case "Q":h=y.x;g=y.y;
break;case "H":h=y.x;break;case "V":g=y.y}m(h,g,y.pathSegType)}};q._svgPathToAbsolute(u);var v=u.getTotalLength();var w=[];for(p=0;p<u.pathSegList.numberOfItems;p+=1)w.push(u.pathSegList.getItem(p));for(k=w.concat();l<v;){p=u.getPathSegAtLength(l);p=w[p];if(p!=z){for(;k.length&&k[0]!=p;)t(k.shift());var z=p}switch(p.pathSegTypeAsLetter.toUpperCase()){case "C":case "T":case "S":case "Q":case "A":p=u.getPointAtLength(l),m(p.x,p.y,0)}l+=r}p=0;for(u=k.length;p<u;++p)t(k[p]);return c};q._svgPathToAbsolute=
function(u){for(var r,p,k,f,c,b,d=u.pathSegList,l=0,h=0,g=d.numberOfItems,m=0;m<g;++m){var t=d.getItem(m),v=t.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(v))"x"in t&&(l=t.x),"y"in t&&(h=t.y);else switch("x1"in t&&(k=l+t.x1),"x2"in t&&(c=l+t.x2),"y1"in t&&(f=h+t.y1),"y2"in t&&(b=h+t.y2),"x"in t&&(l+=t.x),"y"in t&&(h+=t.y),v){case "m":d.replaceItem(u.createSVGPathSegMovetoAbs(l,h),m);break;case "l":d.replaceItem(u.createSVGPathSegLinetoAbs(l,h),m);break;case "h":d.replaceItem(u.createSVGPathSegLinetoHorizontalAbs(l),
m);break;case "v":d.replaceItem(u.createSVGPathSegLinetoVerticalAbs(h),m);break;case "c":d.replaceItem(u.createSVGPathSegCurvetoCubicAbs(l,h,k,f,c,b),m);break;case "s":d.replaceItem(u.createSVGPathSegCurvetoCubicSmoothAbs(l,h,c,b),m);break;case "q":d.replaceItem(u.createSVGPathSegCurvetoQuadraticAbs(l,h,k,f),m);break;case "t":d.replaceItem(u.createSVGPathSegCurvetoQuadraticSmoothAbs(l,h),m);break;case "a":d.replaceItem(u.createSVGPathSegArcAbs(l,h,t.r1,t.r2,t.angle,t.largeArcFlag,t.sweepFlag),m);
break;case "z":case "Z":l=r,h=p}if("M"==v||"m"==v)r=l,p=h}}})()},function(za,a,G){a={};za.exports=a;za=G(6);G(0);a.create=za.create;a.add=za.add;a.remove=za.remove;a.clear=za.clear;a.addComposite=za.addComposite;a.addBody=za.addBody;a.addConstraint=za.addConstraint}])})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var h,aa=this||self;function ca(a,b){a=a.split(".");var c=aa;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function p(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function da(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ea(a){return Object.prototype.hasOwnProperty.call(a,fa)&&a[fa]||(a[fa]=++ia)}
var fa="closure_uid_"+(1E9*Math.random()>>>0),ia=0;function ja(a,b){function c(){}c.prototype=b.prototype;a.Nb=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.wb=function(d,e,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[e].apply(d,g)}};function ka(a){ka[" "](a);return a}ka[" "]=function(){};function la(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ma(a,b){return null!==a&&b in a?a[b]:void 0};function na(){var a=aa.navigator;return a&&(a=a.userAgent)?a:""}function oa(a){return-1!=na().indexOf(a)};const pa=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(let c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function qa(a,b){a.sort(b||ra)}
function sa(a){var b=ta();const c=Array(a.length);for(let e=0;e<a.length;e++)c[e]={index:e,value:a[e]};const d=b||ra;qa(c,function(e,f){return d(e.value,f.value)||e.index-f.index});for(b=0;b<a.length;b++)a[b]=c[b].value}function ra(a,b){return a>b?1:a<b?-1:0};function ua(a,b){null!=a&&this.append.apply(this,arguments)}h=ua.prototype;h.Qa="";h.set=function(a){this.Qa=""+a};h.append=function(a,b,c){this.Qa+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.Qa+=arguments[d];return this};h.clear=function(){this.Qa=""};h.toString=function(){return this.Qa};var r={},va=null,wa=!0,xa=null;function ya(){return new v(null,5,[za,!0,Aa,!0,Ba,!1,Ca,!1,Da,null],null)}function Ea(){wa=!1;va=function(){var a=arguments,b=console.log,c=b.apply,d=console;{const e=a.length;if(0<e){const f=Array(e);for(let g=0;g<e;g++)f[g]=a[g];a=f}else a=[]}return c.call(b,d,a)}}function w(a){return null!=a&&!1!==a}function Fa(a){return null==a}function Ga(a){return a instanceof Array}function Ha(a){return null==a?!0:!1===a?!0:!1}
function y(a,b){return a[p(null==b?null:b)]?!0:a._?!0:!1}function Ia(a){return null==a?null:a.constructor}function z(a,b){var c=Ia(b);c=w(w(c)?c.rc:c)?c.Jb:p(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ja(a){var b=a.Jb;return w(b)?b:A.g(a)}var Ka="undefined"!==typeof Symbol&&"function"===p(Symbol)?Symbol.iterator:"@@iterator";function La(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}
function Ma(a){function b(d,e){d.push(e);return d}var c=[];return Na?Na(b,c,a):Oa.call(null,b,c,a)}function Pa(a){return"symbol"===p(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Qa(){}function Ra(){}function Sa(a){if(null!=a&&null!=a.T)a=a.T(a);else{var b=Sa[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Sa._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("ICounted.-count",a);}return a}function Ta(){}
function Ua(a){if(null!=a&&null!=a.Z)a=a.Z(a);else{var b=Ua[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Ua._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IEmptyableCollection.-empty",a);}return a}function Va(){}function Wa(a,b){if(null!=a&&null!=a.$)a=a.$(a,b);else{var c=Wa[p(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Wa._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("ICollection.-conj",a);}return a}function Xa(){}
var Za=function(){function a(d,e,f){var g=Ya[p(null==d?null:d)];if(null!=g)return g.j?g.j(d,e,f):g.call(null,d,e,f);g=Ya._;if(null!=g)return g.j?g.j(d,e,f):g.call(null,d,e,f);throw z("IIndexed.-nth",d);}function b(d,e){var f=Ya[p(null==d?null:d)];if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);f=Ya._;if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);throw z("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.h=b;c.j=a;return c}(),Ya=function Ya(a){switch(arguments.length){case 2:return Ya.h(arguments[0],arguments[1]);case 3:return Ya.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};Ya.h=function(a,b){return null!=a&&null!=a.J?a.J(a,b):Za(a,b)};Ya.j=function(a,b,c){return null!=a&&null!=a.na?a.na(a,b,c):Za(a,b,c)};Ya.F=3;function $a(){}
function C(a){if(null!=a&&null!=a.aa)a=a.aa(a);else{var b=C[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=C._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("ISeq.-first",a);}return a}function ab(a){if(null!=a&&null!=a.da)a=a.da(a);else{var b=ab[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=ab._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("ISeq.-rest",a);}return a}function bb(){}
function cb(a){if(null!=a&&null!=a.Y)a=a.Y(a);else{var b=cb[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=cb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("INext.-next",a);}return a}function db(){}
var fb=function(){function a(d,e,f){var g=eb[p(null==d?null:d)];if(null!=g)return g.j?g.j(d,e,f):g.call(null,d,e,f);g=eb._;if(null!=g)return g.j?g.j(d,e,f):g.call(null,d,e,f);throw z("ILookup.-lookup",d);}function b(d,e){var f=eb[p(null==d?null:d)];if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);f=eb._;if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);throw z("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.h=b;c.j=a;return c}(),eb=function eb(a){switch(arguments.length){case 2:return eb.h(arguments[0],arguments[1]);case 3:return eb.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};eb.h=function(a,b){return null!=a&&null!=a.la?a.la(a,b):fb(a,b)};eb.j=function(a,b,c){return null!=a&&null!=a.R?a.R(a,b,c):fb(a,b,c)};eb.F=3;function gb(){}
function hb(a,b){if(null!=a&&null!=a.Xa)a=a.Xa(a,b);else{var c=hb[p(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=hb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IAssociative.-contains-key?",a);}return a}function ib(a,b,c){if(null!=a&&null!=a.Na)a=a.Na(a,b,c);else{var d=ib[p(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=ib._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw z("IAssociative.-assoc",a);}return a}
function jb(a,b){if(null!=a&&null!=a.ib)a=a.ib(a,b);else{var c=jb[p(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=jb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IFind.-find",a);}return a}function kb(){}function lb(a,b){if(null!=a&&null!=a.Hb)a=a.Hb(a,b);else{var c=lb[p(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=lb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IMap.-dissoc",a);}return a}
function mb(a){if(null!=a&&null!=a.fc)a=a.key;else{var b=mb[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=mb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IMapEntry.-key",a);}return a}function nb(a){if(null!=a&&null!=a.hc)a=a.val;else{var b=nb[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=nb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IMapEntry.-val",a);}return a}function ob(){}
function pb(a,b){if(null!=a&&null!=a.Sb)a=a.Sb(a,b);else{var c=pb[p(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=pb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("ISet.-disjoin",a);}return a}function qb(){}function rb(a){if(null!=a&&null!=a.hb)a=a.hb(a);else{var b=rb[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=rb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IDeref.-deref",a);}return a}function sb(){}
function tb(a){if(null!=a&&null!=a.S)a=a.S(a);else{var b=tb[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=tb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IMeta.-meta",a);}return a}function ub(a,b){if(null!=a&&null!=a.X)a=a.X(a,b);else{var c=ub[p(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=ub._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IWithMeta.-with-meta",a);}return a}function vb(){}
var xb=function(){function a(d,e,f){var g=wb[p(null==d?null:d)];if(null!=g)return g.j?g.j(d,e,f):g.call(null,d,e,f);g=wb._;if(null!=g)return g.j?g.j(d,e,f):g.call(null,d,e,f);throw z("IReduce.-reduce",d);}function b(d,e){var f=wb[p(null==d?null:d)];if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);f=wb._;if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);throw z("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.h=b;c.j=a;return c}(),wb=function wb(a){switch(arguments.length){case 2:return wb.h(arguments[0],arguments[1]);case 3:return wb.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};wb.h=function(a,b){return null!=a&&null!=a.ba?a.ba(a,b):xb(a,b)};wb.j=function(a,b,c){return null!=a&&null!=a.ca?a.ca(a,b,c):xb(a,b,c)};wb.F=3;function yb(){}
function zb(a,b){if(null!=a&&null!=a.Ab)a=a.Ab(a,b,!0);else{var c=zb[p(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b,!0):c.call(null,a,b,!0);else if(c=zb._,null!=c)a=c.j?c.j(a,b,!0):c.call(null,a,b,!0);else throw z("IKVReduce.-kv-reduce",a);}return a}function Ab(a,b){if(null!=a&&null!=a.P)a=a.P(a,b);else{var c=Ab[p(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Ab._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IEquiv.-equiv",a);}return a}
function Bb(a){if(null!=a&&null!=a.V)a=a.V(a);else{var b=Bb[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Bb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IHash.-hash",a);}return a}function Cb(){}function Db(a){if(null!=a&&null!=a.N)a=a.N(a);else{var b=Db[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Db._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("ISeqable.-seq",a);}return a}function Eb(){}function Fb(){}function Gb(){}function Hb(){}
function Ib(a){if(null!=a&&null!=a.Bb)a=a.Bb(a);else{var b=Ib[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Ib._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IReversible.-rseq",a);}return a}function Jb(a,b){if(null!=a&&null!=a.Ub)a=a.Ub(a,b);else{var c=Jb[p(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Jb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IWriter.-write",a);}return a}function Kb(){}
function Lb(a,b,c){if(null!=a&&null!=a.K)a=a.K(a,b,c);else{var d=Lb[p(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=Lb._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw z("IPrintWithWriter.-pr-writer",a);}return a}function Mb(a){if(null!=a&&null!=a.Za)a=a.Za(a);else{var b=Mb[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Mb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IEditableCollection.-as-transient",a);}return a}
function Nb(a,b){if(null!=a&&null!=a.bb)a=a.bb(a,b);else{var c=Nb[p(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Nb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("ITransientCollection.-conj!",a);}return a}function Ob(a){if(null!=a&&null!=a.kb)a=a.kb(a);else{var b=Ob[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Ob._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("ITransientCollection.-persistent!",a);}return a}
function Pb(a,b,c){if(null!=a&&null!=a.ab)a=a.ab(a,b,c);else{var d=Pb[p(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=Pb._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw z("ITransientAssociative.-assoc!",a);}return a}function Qb(){}function Rb(a,b){if(null!=a&&null!=a.Ya)a=a.Ya(a,b);else{var c=Rb[p(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Rb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IComparable.-compare",a);}return a}
function Sb(a){if(null!=a&&null!=a.Gb)a=a.Gb(a);else{var b=Sb[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Sb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IChunk.-drop-first",a);}return a}function Tb(a){if(null!=a&&null!=a.fb)a=a.fb(a);else{var b=Tb[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Tb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-first",a);}return a}
function Ub(a){if(null!=a&&null!=a.Oa)a=a.Oa(a);else{var b=Ub[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-rest",a);}return a}function Vb(a,b){if(null!=a&&null!=a.lc)a=a.lc(a,b);else{var c=Vb[p(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Vb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IReset.-reset!",a);}return a}
var Xb=function(){function a(f,g,k,l,m){var n=Wb[p(null==f?null:f)];if(null!=n)return n.U?n.U(f,g,k,l,m):n.call(null,f,g,k,l,m);n=Wb._;if(null!=n)return n.U?n.U(f,g,k,l,m):n.call(null,f,g,k,l,m);throw z("ISwap.-swap!",f);}function b(f,g,k,l){var m=Wb[p(null==f?null:f)];if(null!=m)return m.C?m.C(f,g,k,l):m.call(null,f,g,k,l);m=Wb._;if(null!=m)return m.C?m.C(f,g,k,l):m.call(null,f,g,k,l);throw z("ISwap.-swap!",f);}function c(f,g,k){var l=Wb[p(null==f?null:f)];if(null!=l)return l.j?l.j(f,g,k):l.call(null,
f,g,k);l=Wb._;if(null!=l)return l.j?l.j(f,g,k):l.call(null,f,g,k);throw z("ISwap.-swap!",f);}function d(f,g){var k=Wb[p(null==f?null:f)];if(null!=k)return k.h?k.h(f,g):k.call(null,f,g);k=Wb._;if(null!=k)return k.h?k.h(f,g):k.call(null,f,g);throw z("ISwap.-swap!",f);}var e=null;e=function(f,g,k,l,m){switch(arguments.length){case 2:return d.call(this,f,g);case 3:return c.call(this,f,g,k);case 4:return b.call(this,f,g,k,l);case 5:return a.call(this,f,g,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.h=d;e.j=c;e.C=b;e.U=a;return e}(),Wb=function Wb(a){switch(arguments.length){case 2:return Wb.h(arguments[0],arguments[1]);case 3:return Wb.j(arguments[0],arguments[1],arguments[2]);case 4:return Wb.C(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Wb.U(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};Wb.h=function(a,b){return null!=a&&null!=a.nc?a.nc(a,b):Xb(a,b)};
Wb.j=function(a,b,c){return null!=a&&null!=a.oc?a.oc(a,b,c):Xb(a,b,c)};Wb.C=function(a,b,c,d){return null!=a&&null!=a.pc?a.pc(a,b,c,d):Xb(a,b,c,d)};Wb.U=function(a,b,c,d,e){return null!=a&&null!=a.qc?a.qc(a,b,c,d,e):Xb(a,b,c,d,e)};Wb.F=5;function Yb(a,b){if(null!=a&&null!=a.Tb)a=a.Tb(a,b);else{var c=Yb[p(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Yb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IVolatile.-vreset!",a);}return a}function Zb(){}
function $b(a){if(null!=a&&null!=a.oa)a=a.oa(a);else{var b=$b[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$b._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IIterable.-iterator",a);}return a}function ac(a,b){if(null!=a&&null!=a.Ja)a=a.Ja(a,b);else{var c=ac[p(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=ac._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IDrop.-drop",a);}return a}function bc(a){this.tc=a;this.A=1073741824;this.H=0}
bc.prototype.Ub=function(a,b){return this.tc.append(b)};function cc(a){var b=new ua;a.K(null,new bc(b),ya());return A.g(b)}var dc="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function ec(a){a=dc(a|0,-862048943);return dc(a<<15|a>>>-15,461845907)}function fc(a,b){a=(a|0)^(b|0);return dc(a<<13|a>>>-13,5)+-430675100|0}
function hc(a,b){a=(a|0)^b;a=dc(a^a>>>16,-2048144789);a=dc(a^a>>>13,-1028477387);return a^a>>>16}var ic={},jc=0;function kc(a){255<jc&&(ic={},jc=0);if(null==a)return 0;var b=ic[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=dc(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;ic[a]=b;jc+=1;a=b}return a}
function lc(a){if(null!=a&&(a.A&4194304||r===a.Ac))return a.V(null)^0;if("number"===typeof a){if(isFinite(a)){if(Number.isSafeInteger(a))a=Math.floor(a)%2147483647;else{var b=new Float64Array(1);b[0]=a;b=b.buffer;a=(new DataView(b,0,4)).getInt32();b=(new DataView(b,4,4)).getInt32();a^=b}return a}switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=kc(a),a=0===a?a:hc(fc(0,ec(a)),4)):a=a instanceof
Date?a.valueOf()^0:null==a?0:Bb(a)^0,a}function mc(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=fc(d,ec(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=hc(1===(b.length&1)?c^ec(b.charCodeAt(b.length-1)):c,dc(2,b.length));a=kc(a.ma);return b^a+2654435769+(b<<6)+(b>>2)}function nc(a,b){if(a.str===b.str)return 0;var c=Ha(a.ma);if(w(c?b.ma:c))return-1;if(w(a.ma)){if(Ha(b.ma))return 1;c=ra(a.ma,b.ma);return 0===c?ra(a.name,b.name):c}return ra(a.name,b.name)}
function oc(a,b,c,d,e){this.ma=a;this.name=b;this.str=c;this.Wa=d;this.pa=e;this.A=2154168321;this.H=4096}h=oc.prototype;h.toString=function(){return this.str};h.P=function(a,b){return b instanceof oc?this.str===b.str:!1};h.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};
h.g=function(a){return D?D(a,this):pc.call(null,a,this)};h.h=function(a,b){return qc?qc(a,this,b):pc.call(null,a,this,b)};h.S=function(){return this.pa};h.X=function(a,b){return new oc(this.ma,this.name,this.str,this.Wa,b)};h.V=function(){var a=this.Wa;return null!=a?a:this.Wa=a=mc(this)};h.K=function(a,b){return Jb(b,this.str)};
var rc=function rc(a){switch(arguments.length){case 1:return rc.g(arguments[0]);case 2:return rc.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};rc.g=function(a){for(;;){if(a instanceof oc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?rc.h(null,a):rc.h(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof sc)return a.Ua;if(a instanceof E)a=a.ia;else throw Error("no conversion to symbol");}};
rc.h=function(a,b){var c=null!=a?[A.g(a),"/",A.g(b)].join(""):b;return new oc(a,b,c,null,null)};rc.F=2;function sc(a,b,c){this.val=a;this.Ua=b;this.pa=c;this.A=6717441;this.H=0}h=sc.prototype;h.toString=function(){return["#'",A.g(this.Ua)].join("")};h.hb=function(){return this.val.u?this.val.u():this.val.call(null)};h.S=function(){return this.pa};h.X=function(a,b){return new sc(this.val,this.Ua,b)};h.P=function(a,b){return b instanceof sc?(a=this.Ua,b=b.Ua,G.h?G.h(a,b):G.call(null,a,b)):!1};h.V=function(){return mc(this.Ua)};
h.Ob=r;
h.call=function(a){switch(arguments.length-1){case 0:return this.u();case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);case 3:return this.j(arguments[1],arguments[2],arguments[3]);case 4:return this.C(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.U(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Ba(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);case 11:return this.ra(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.ta(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13]);
case 14:return this.ua(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.va(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.wa(arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.xa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],
arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Aa(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.Ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],
arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};h.u=function(){var a=this.val.u?this.val.u():this.val.call(null);return a.u?a.u():a.call(null)};h.g=function(a){var b=this.val.u?this.val.u():this.val.call(null);return b.g?b.g(a):b.call(null,a)};h.h=function(a,b){var c=this.val.u?this.val.u():this.val.call(null);return c.h?c.h(a,b):c.call(null,a,b)};
h.j=function(a,b,c){var d=this.val.u?this.val.u():this.val.call(null);return d.j?d.j(a,b,c):d.call(null,a,b,c)};h.C=function(a,b,c,d){var e=this.val.u?this.val.u():this.val.call(null);return e.C?e.C(a,b,c,d):e.call(null,a,b,c,d)};h.U=function(a,b,c,d,e){var f=this.val.u?this.val.u():this.val.call(null);return f.U?f.U(a,b,c,d,e):f.call(null,a,b,c,d,e)};h.ka=function(a,b,c,d,e,f){var g=this.val.u?this.val.u():this.val.call(null);return g.ka?g.ka(a,b,c,d,e,f):g.call(null,a,b,c,d,e,f)};
h.Ba=function(a,b,c,d,e,f,g){var k=this.val.u?this.val.u():this.val.call(null);return k.Ba?k.Ba(a,b,c,d,e,f,g):k.call(null,a,b,c,d,e,f,g)};h.Ca=function(a,b,c,d,e,f,g,k){var l=this.val.u?this.val.u():this.val.call(null);return l.Ca?l.Ca(a,b,c,d,e,f,g,k):l.call(null,a,b,c,d,e,f,g,k)};h.Da=function(a,b,c,d,e,f,g,k,l){var m=this.val.u?this.val.u():this.val.call(null);return m.Da?m.Da(a,b,c,d,e,f,g,k,l):m.call(null,a,b,c,d,e,f,g,k,l)};
h.qa=function(a,b,c,d,e,f,g,k,l,m){var n=this.val.u?this.val.u():this.val.call(null);return n.qa?n.qa(a,b,c,d,e,f,g,k,l,m):n.call(null,a,b,c,d,e,f,g,k,l,m)};h.ra=function(a,b,c,d,e,f,g,k,l,m,n){var q=this.val.u?this.val.u():this.val.call(null);return q.ra?q.ra(a,b,c,d,e,f,g,k,l,m,n):q.call(null,a,b,c,d,e,f,g,k,l,m,n)};h.sa=function(a,b,c,d,e,f,g,k,l,m,n,q){var t=this.val.u?this.val.u():this.val.call(null);return t.sa?t.sa(a,b,c,d,e,f,g,k,l,m,n,q):t.call(null,a,b,c,d,e,f,g,k,l,m,n,q)};
h.ta=function(a,b,c,d,e,f,g,k,l,m,n,q,t){var u=this.val.u?this.val.u():this.val.call(null);return u.ta?u.ta(a,b,c,d,e,f,g,k,l,m,n,q,t):u.call(null,a,b,c,d,e,f,g,k,l,m,n,q,t)};h.ua=function(a,b,c,d,e,f,g,k,l,m,n,q,t,u){var x=this.val.u?this.val.u():this.val.call(null);return x.ua?x.ua(a,b,c,d,e,f,g,k,l,m,n,q,t,u):x.call(null,a,b,c,d,e,f,g,k,l,m,n,q,t,u)};
h.va=function(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x){var B=this.val.u?this.val.u():this.val.call(null);return B.va?B.va(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x):B.call(null,a,b,c,d,e,f,g,k,l,m,n,q,t,u,x)};h.wa=function(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B){var F=this.val.u?this.val.u():this.val.call(null);return F.wa?F.wa(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B):F.call(null,a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B)};
h.xa=function(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F){var J=this.val.u?this.val.u():this.val.call(null);return J.xa?J.xa(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F):J.call(null,a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F)};h.ya=function(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J){var S=this.val.u?this.val.u():this.val.call(null);return S.ya?S.ya(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J):S.call(null,a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J)};
h.za=function(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S){var Z=this.val.u?this.val.u():this.val.call(null);return Z.za?Z.za(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S):Z.call(null,a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S)};h.Aa=function(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S,Z){var ba=this.val.u?this.val.u():this.val.call(null);return ba.Aa?ba.Aa(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S,Z):ba.call(null,a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S,Z)};
h.Ra=function(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S,Z,ba){var ha=this.val.u?this.val.u():this.val.call(null);return tc.Ra?tc.Ra(ha,a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S,new H([Z,ba],0,null)):tc.call(null,ha,a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S,Z,ba)};function uc(a){return null!=a?a.H&131072||r===a.Bc?!0:a.H?!1:y(Zb,a):y(Zb,a)}
function I(a){if(null==a)return null;if(null!=a&&(a.A&8388608||r===a.mc))return a.N(null);if(Ga(a)||"string"===typeof a)return 0===a.length?null:new H(a,0,null);if(null!=a&&null!=a[Ka])return a=ma(a,Ka).call(a),vc.g?vc.g(a):vc.call(null,a);if(y(Cb,a))return Db(a);throw Error([A.g(a)," is not ISeqable"].join(""));}function K(a){if(null==a)return null;if(null!=a&&(a.A&64||r===a.$a))return a.aa(null);a=I(a);return null==a?null:C(a)}
function wc(a){return null!=a?null!=a&&(a.A&64||r===a.$a)?a.da(null):(a=I(a))?a.da(null):M:M}function N(a){return null==a?null:null!=a&&(a.A&128||r===a.jb)?a.Y(null):I(wc(a))}var G=function G(a){switch(arguments.length){case 1:return G.g(arguments[0]);case 2:return G.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new H(c.slice(2),0,null):null;return G.v(arguments[0],arguments[1],c)}};G.g=function(){return!0};
G.h=function(a,b){return null==a?null==b:a===b||Ab(a,b)};G.v=function(a,b,c){for(;;)if(G.h(a,b))if(N(c))a=b,b=K(c),c=N(c);else return G.h(b,K(c));else return!1};G.G=function(a){var b=K(a),c=N(a);a=K(c);c=N(c);return this.v(b,a,c)};G.F=2;function xc(a){this.s=a}xc.prototype.next=function(){if(null!=this.s){var a=K(this.s);this.s=N(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function yc(a){return new xc(I(a))}
function zc(a,b){this.value=a;this.eb=b;this.Db=null;this.A=8388672;this.H=0}zc.prototype.N=function(){return this};zc.prototype.aa=function(){return this.value};zc.prototype.da=function(){null==this.Db&&(this.Db=vc.g?vc.g(this.eb):vc.call(null,this.eb));return this.Db};function vc(a){var b=a.next();return w(b.done)?null:new zc(b.value,a)}function Ac(a){var b=0,c=1;for(a=I(a);;)if(null!=a)b+=1,c=dc(31,c)+lc(K(a))|0,a=N(a);else return hc(fc(0,ec(c)),b)}var Bc=hc(fc(0,ec(1)),0);
function Cc(a){var b=0,c=0;for(a=I(a);;)if(null!=a)b+=1,c=c+lc(K(a))|0,a=N(a);else return hc(fc(0,ec(c)),b)}var Dc=hc(fc(0,ec(0)),0);Ra["null"]=!0;Sa["null"]=function(){return 0};Date.prototype.P=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.gb=r;Date.prototype.Ya=function(a,b){if(b instanceof Date)return ra(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",A.g(this)," to ",A.g(b)].join(""));};Ab.number=function(a,b){return a===b};Qa["function"]=!0;
sb["function"]=!0;tb["function"]=function(){return null};Bb._=function(a){return ea(a)};function Ec(a){return a+1}function Fc(){this.val=!1;this.A=32768;this.H=0}Fc.prototype.hb=function(){return this.val};function Gc(a){return a instanceof Fc}function Hc(a){return rb(a)}function Ic(a,b){var c=a.T(null);if(0===c)return b.u?b.u():b.call(null);for(var d=a.J(null,0),e=1;;)if(e<c){var f=a.J(null,e);d=b.h?b.h(d,f):b.call(null,d,f);if(Gc(d))return rb(d);e+=1}else return d}
function Jc(a,b){var c=a.length;if(0===a.length)return b.u?b.u():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.h?b.h(d,f):b.call(null,d,f);if(Gc(d))return rb(d);e+=1}else return d}function Kc(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.h?b.h(e,f):b.call(null,e,f);if(Gc(e))return rb(e);c+=1}else return e}function Lc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.h?b.h(c,f):b.call(null,c,f);if(Gc(c))return rb(c);d+=1}else return c}
function Mc(a){return null!=a?a.A&2||r===a.Pb?!0:a.A?!1:y(Ra,a):y(Ra,a)}function Nc(a){return null!=a?a.A&16||r===a.Qb?!0:a.A?!1:y(Xa,a):y(Xa,a)}function O(a,b,c){var d=P.g?P.g(a):P.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(G.h(Oc?Oc(a,c):Pc.call(null,a,c),b))return c;c+=1}else return-1}
function Q(a,b,c){var d=P.g?P.g(a):P.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(G.h(Oc?Oc(a,c):Pc.call(null,a,c),b))return c;--c}else return-1}function Qc(a,b){this.arr=a;this.i=b}Qc.prototype.fa=function(){return this.i<this.arr.length};Qc.prototype.next=function(){var a=this.arr[this.i];this.i+=1;return a};function H(a,b,c){this.arr=a;this.i=b;this.meta=c;this.A=166592766;this.H=401408}h=H.prototype;h.toString=function(){return cc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,P.g?P.g(this):P.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();h.J=function(a,b){a=b+this.i;if(0<=a&&a<this.arr.length)return this.arr[a];throw Error("Index out of bounds");};h.na=function(a,b,c){a=b+this.i;return 0<=a&&a<this.arr.length?this.arr[a]:c};
h.oa=function(){return new Qc(this.arr,this.i)};h.S=function(){return this.meta};h.Y=function(){return this.i+1<this.arr.length?new H(this.arr,this.i+1,null):null};h.T=function(){var a=this.arr.length-this.i;return 0>a?0:a};h.Bb=function(){var a=this.T(null);return 0<a?new Rc(this,a-1,null):null};h.V=function(){return Ac(this)};h.P=function(a,b){return Sc.h?Sc.h(this,b):Sc.call(null,this,b)};h.Z=function(){return M};h.ba=function(a,b){return Lc(this.arr,b,this.arr[this.i],this.i+1)};
h.ca=function(a,b,c){return Lc(this.arr,b,c,this.i)};h.aa=function(){return this.arr[this.i]};h.da=function(){return this.i+1<this.arr.length?new H(this.arr,this.i+1,null):M};h.N=function(){return this.i<this.arr.length?this:null};h.X=function(a,b){return b===this.meta?this:new H(this.arr,this.i,b)};h.$=function(a,b){return R.h?R.h(b,this):R.call(null,b,this)};h.Ja=function(a,b){return 0<b?this.i+b<this.arr.length?new H(this.arr,this.i+b,null):null:this};H.prototype[Ka]=function(){return yc(this)};
function Tc(a){return 0<a.length?new H(a,0,null):null}function Rc(a,b,c){this.yb=a;this.i=b;this.meta=c;this.A=32374990;this.H=8192}h=Rc.prototype;h.toString=function(){return cc(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,P.g?P.g(this):P.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();h.S=function(){return this.meta};h.Y=function(){return 0<this.i?new Rc(this.yb,this.i-1,null):null};h.T=function(){return this.i+1};h.V=function(){return Ac(this)};
h.P=function(a,b){return Sc.h?Sc.h(this,b):Sc.call(null,this,b)};h.Z=function(){return M};h.ba=function(a,b){return Uc?Uc(b,this):Vc.call(null,b,this)};h.ca=function(a,b,c){return Wc?Wc(b,c,this):Vc.call(null,b,c,this)};h.aa=function(){return Ya(this.yb,this.i)};h.da=function(){return 0<this.i?new Rc(this.yb,this.i-1,null):M};h.N=function(){return this};h.X=function(a,b){return b===this.meta?this:new Rc(this.yb,this.i,b)};h.$=function(a,b){return R.h?R.h(b,this):R.call(null,b,this)};
Rc.prototype[Ka]=function(){return yc(this)};Ab._=function(a,b){return a===b};var Xc=function Xc(a){switch(arguments.length){case 0:return Xc.u();case 1:return Xc.g(arguments[0]);case 2:return Xc.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new H(c.slice(2),0,null):null;return Xc.v(arguments[0],arguments[1],c)}};Xc.u=function(){return Yc};Xc.g=function(a){return a};
Xc.h=function(a,b){return null!=a?Wa(a,b):new Zc(null,b,null,1,null)};Xc.v=function(a,b,c){for(;;)if(w(c))a=Xc.h(a,b),b=K(c),c=N(c);else return Xc.h(a,b)};Xc.G=function(a){var b=K(a),c=N(a);a=K(c);c=N(c);return this.v(b,a,c)};Xc.F=2;function $c(a){return null==a?null:null!=a&&(a.A&4||r===a.$b)?a.Z(null):(null!=a?a.A&4||r===a.$b||(a.A?0:y(Ta,a)):y(Ta,a))?Ua(a):null}
function P(a){if(null!=a)if(null!=a&&(a.A&2||r===a.Pb))a=a.T(null);else if(Ga(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.A&8388608||r===a.mc))a:{a=I(a);for(var b=0;;){if(Mc(a)){a=b+Sa(a);break a}a=N(a);b+=1}}else a=Sa(a);else a=0;return a}function ad(a,b,c){for(;;){if(null==a)return c;if(0===b)return I(a)?K(a):c;if(Nc(a))return Ya(a,b,c);if(I(a))a=N(a),--b;else return c}}
function Pc(a){switch(arguments.length){case 2:return Oc(arguments[0],arguments[1]);case 3:return T(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}
function Oc(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.A&16||r===a.Qb))return a.J(null,b);if(Ga(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.A&64||r===a.$a)||null!=a&&(a.A&16777216||r===a.Rb)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(I(a)){a=K(a);break a}throw Error("Index out of bounds");}if(Nc(a)){a=Ya(a,b);break a}if(I(a))a=N(a),--b;else throw Error("Index out of bounds");}return a}if(y(Xa,a))return Ya(a,b);throw Error(["nth not supported on this type ",A.g(Ja(Ia(a)))].join(""));}
function T(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.A&16||r===a.Qb))return a.na(null,b,c);if(Ga(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.A&64||r===a.$a)||null!=a&&(a.A&16777216||r===a.Rb))return 0>b?c:ad(a,b,c);if(y(Xa,a))return Ya(a,b,c);throw Error(["nth not supported on this type ",A.g(Ja(Ia(a)))].join(""));}
function pc(a){switch(arguments.length){case 2:return D(arguments[0],arguments[1]);case 3:return qc(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}function D(a,b){return null==a?null:null!=a&&(a.A&256||r===a.ec)?a.la(null,b):Ga(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(db,a)?eb(a,b):null}
function qc(a,b,c){return null!=a?null!=a&&(a.A&256||r===a.ec)?a.R(null,b,c):Ga(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(db,a)?eb(a,b,c):c:c}var U=function U(a){switch(arguments.length){case 3:return U.j(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new H(c.slice(3),0,null):null;return U.v(arguments[0],arguments[1],arguments[2],c)}};
U.j=function(a,b,c){return null!=a&&(a.A&512||r===a.Yb)?a.Na(null,b,c):null!=a?ib(a,b,c):bd([b,c])};U.v=function(a,b,c,d){for(;;)if(a=U.j(a,b,c),w(d))b=K(d),c=K(N(d)),d=N(N(d));else return a};U.G=function(a){var b=K(a),c=N(a);a=K(c);var d=N(c);c=K(d);d=N(d);return this.v(b,a,c,d)};U.F=3;
var cd=function cd(a){switch(arguments.length){case 1:return cd.g(arguments[0]);case 2:return cd.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new H(c.slice(2),0,null):null;return cd.v(arguments[0],arguments[1],c)}};cd.g=function(a){return a};cd.h=function(a,b){return null==a?null:lb(a,b)};cd.v=function(a,b,c){for(;;){if(null==a)return null;a=cd.h(a,b);if(w(c))b=K(c),c=N(c);else return a}};
cd.G=function(a){var b=K(a),c=N(a);a=K(c);c=N(c);return this.v(b,a,c)};cd.F=2;function dd(a,b){this.B=a;this.meta=b;this.A=393217;this.H=0}h=dd.prototype;h.S=function(){return this.meta};h.X=function(a,b){return new dd(this.B,b)};h.Ob=r;
h.call=function(a){switch(arguments.length-1){case 0:return this.u();case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);case 3:return this.j(arguments[1],arguments[2],arguments[3]);case 4:return this.C(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.U(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Ba(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.ta(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.ua(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.va(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.wa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.xa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.ya(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Aa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.Ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};h.u=function(){return this.B.u?this.B.u():this.B.call(null)};h.g=function(a){return this.B.g?this.B.g(a):this.B.call(null,a)};h.h=function(a,b){return this.B.h?this.B.h(a,b):this.B.call(null,a,b)};h.j=function(a,b,c){return this.B.j?this.B.j(a,b,c):this.B.call(null,a,b,c)};
h.C=function(a,b,c,d){return this.B.C?this.B.C(a,b,c,d):this.B.call(null,a,b,c,d)};h.U=function(a,b,c,d,e){return this.B.U?this.B.U(a,b,c,d,e):this.B.call(null,a,b,c,d,e)};h.ka=function(a,b,c,d,e,f){return this.B.ka?this.B.ka(a,b,c,d,e,f):this.B.call(null,a,b,c,d,e,f)};h.Ba=function(a,b,c,d,e,f,g){return this.B.Ba?this.B.Ba(a,b,c,d,e,f,g):this.B.call(null,a,b,c,d,e,f,g)};h.Ca=function(a,b,c,d,e,f,g,k){return this.B.Ca?this.B.Ca(a,b,c,d,e,f,g,k):this.B.call(null,a,b,c,d,e,f,g,k)};
h.Da=function(a,b,c,d,e,f,g,k,l){return this.B.Da?this.B.Da(a,b,c,d,e,f,g,k,l):this.B.call(null,a,b,c,d,e,f,g,k,l)};h.qa=function(a,b,c,d,e,f,g,k,l,m){return this.B.qa?this.B.qa(a,b,c,d,e,f,g,k,l,m):this.B.call(null,a,b,c,d,e,f,g,k,l,m)};h.ra=function(a,b,c,d,e,f,g,k,l,m,n){return this.B.ra?this.B.ra(a,b,c,d,e,f,g,k,l,m,n):this.B.call(null,a,b,c,d,e,f,g,k,l,m,n)};h.sa=function(a,b,c,d,e,f,g,k,l,m,n,q){return this.B.sa?this.B.sa(a,b,c,d,e,f,g,k,l,m,n,q):this.B.call(null,a,b,c,d,e,f,g,k,l,m,n,q)};
h.ta=function(a,b,c,d,e,f,g,k,l,m,n,q,t){return this.B.ta?this.B.ta(a,b,c,d,e,f,g,k,l,m,n,q,t):this.B.call(null,a,b,c,d,e,f,g,k,l,m,n,q,t)};h.ua=function(a,b,c,d,e,f,g,k,l,m,n,q,t,u){return this.B.ua?this.B.ua(a,b,c,d,e,f,g,k,l,m,n,q,t,u):this.B.call(null,a,b,c,d,e,f,g,k,l,m,n,q,t,u)};h.va=function(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x){return this.B.va?this.B.va(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x):this.B.call(null,a,b,c,d,e,f,g,k,l,m,n,q,t,u,x)};
h.wa=function(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B){return this.B.wa?this.B.wa(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B):this.B.call(null,a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B)};h.xa=function(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F){return this.B.xa?this.B.xa(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F):this.B.call(null,a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F)};h.ya=function(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J){return this.B.ya?this.B.ya(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J):this.B.call(null,a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J)};
h.za=function(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S){return this.B.za?this.B.za(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S):this.B.call(null,a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S)};h.Aa=function(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S,Z){return this.B.Aa?this.B.Aa(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S,Z):this.B.call(null,a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S,Z)};
h.Ra=function(a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S,Z,ba){return tc.Ra?tc.Ra(this.B,a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S,new H([Z,ba],0,null)):tc.call(null,this.B,a,b,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S,Z,ba)};function ed(a,b){return"function"===typeof a?new dd(a,b):null==a?null:ub(a,b)}function fd(a){var b=null!=a;return(b?null!=a?a.A&131072||r===a.ic||(a.A?0:y(sb,a)):y(sb,a):b)?tb(a):null}
var gd=function gd(a){switch(arguments.length){case 1:return gd.g(arguments[0]);case 2:return gd.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new H(c.slice(2),0,null):null;return gd.v(arguments[0],arguments[1],c)}};gd.g=function(a){return a};gd.h=function(a,b){return null==a?null:pb(a,b)};gd.v=function(a,b,c){for(;;){if(null==a)return null;a=gd.h(a,b);if(w(c))b=K(c),c=N(c);else return a}};
gd.G=function(a){var b=K(a),c=N(a);a=K(c);c=N(c);return this.v(b,a,c)};gd.F=2;function hd(a){return null==a?!0:(null!=a?a.A&2||r===a.Pb||(a.A?0:y(Ra,a)):y(Ra,a))?0===Sa(a):Ha(I(a))}function id(a){return null==a?!1:null!=a?a.A&8||r===a.xc?!0:a.A?!1:y(Va,a):y(Va,a)}function jd(a){return null==a?!1:null!=a?a.A&4096||r===a.Hc?!0:a.A?!1:y(ob,a):y(ob,a)}function kd(a){return null!=a?a.A&16777216||r===a.Rb?!0:a.A?!1:y(Eb,a):y(Eb,a)}
function ld(a){return null==a?!1:null!=a?a.A&1024||r===a.Dc?!0:a.A?!1:y(kb,a):y(kb,a)}function md(a){return null!=a?a.A&67108864||r===a.Fc?!0:a.A?!1:y(Gb,a):y(Gb,a)}function nd(a){return null!=a?a.A&16384||r===a.Ic?!0:a.A?!1:y(qb,a):y(qb,a)}function od(a){return null!=a?a.H&512||r===a.wc?!0:!1:!1}function pd(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var qd={};function rd(a){return null==a?!1:null!=a?a.A&64||r===a.$a?!0:a.A?!1:y($a,a):y($a,a)}
function sd(a){return null==a?!1:!1===a?!1:!0}function td(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function ud(a,b){return null!=a&&(a.A&512||r===a.Yb)?a.Xa(null,b):y(gb,a)?hb(a,b):qc(a,b,qd)===qd?!1:!0}
function vd(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return ra(a,b);throw Error(["Cannot compare ",A.g(a)," to ",A.g(b)].join(""));}if(null!=a?a.H&2048||r===a.gb||(a.H?0:y(Qb,a)):y(Qb,a))return Rb(a,b);if("string"!==typeof a&&!Ga(a)&&!0!==a&&!1!==a||Ia(a)!==Ia(b))throw Error(["Cannot compare ",A.g(a)," to ",A.g(b)].join(""));return ra(a,b)}
function wd(a,b){var c=P(a),d=P(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=vd(Oc(a,d),Oc(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function ta(){return G.h(vd,vd)?vd:function(a,b){var c=vd.h?vd.h(a,b):vd.call(null,a,b);return"number"===typeof c?c:w(c)?-1:w(vd.h?vd.h(b,a):vd.call(null,b,a))?1:0}}
function Vc(a){switch(arguments.length){case 2:return Uc(arguments[0],arguments[1]);case 3:return Wc(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}function Uc(a,b){var c=I(b);return c?(b=K(c),c=N(c),Na?Na(a,b,c):Oa.call(null,a,b,c)):a.u?a.u():a.call(null)}function Wc(a,b,c){for(c=I(c);;)if(c){var d=K(c);b=a.h?a.h(b,d):a.call(null,b,d);if(Gc(b))return rb(b);c=N(c)}else return b}
function xd(a){a=yd.g?yd.g(a):yd.call(null,a);const b=Math.random;for(let c=a.length-1;0<c;c--){const d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}return zd.g?zd.g(a):zd.call(null,a)}function Ad(a,b){a=$b(a);if(w(a.fa()))for(var c=a.next();;)if(a.fa()){var d=a.next();c=b.h?b.h(c,d):b.call(null,c,d);if(Gc(c))return rb(c)}else return c;else return b.u?b.u():b.call(null)}
function Bd(a,b,c){for(a=$b(a);;)if(a.fa()){var d=a.next();c=b.h?b.h(c,d):b.call(null,c,d);if(Gc(c))return rb(c)}else return c}function Oa(a){switch(arguments.length){case 2:return Cd(arguments[0],arguments[1]);case 3:return Na(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}function Cd(a,b){return null!=b&&(b.A&524288||r===b.kc)?b.ba(null,a):Ga(b)?Jc(b,a):"string"===typeof b?Jc(b,a):y(vb,b)?wb(b,a):uc(b)?Ad(b,a):Uc(a,b)}
function Na(a,b,c){return null!=c&&(c.A&524288||r===c.kc)?c.ca(null,a,b):Ga(c)?Kc(c,a,b):"string"===typeof c?Kc(c,a,b):y(vb,c)?wb(c,a,b):uc(c)?Bd(c,a,b):Wc(a,b,c)}function Dd(a,b){return(null!=b?b.A&1048576||r===b.dc||(b.A?0:y(yb,b)):y(yb,b))?zb(b,a):Na(function(c,d){var e=mb(d);d=nb(d);return a.j?a.j(c,e,d):a.call(null,c,e,d)},!0,b)}function Ed(a){return a}function Fd(a,b,c,d){a=a.g?a.g(b):a.call(null,b);c=Na(a,c,d);return a.g?a.g(c):a.call(null,c)}
var Gd=function Gd(a){switch(arguments.length){case 0:return Gd.u();case 1:return Gd.g(arguments[0]);case 2:return Gd.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new H(c.slice(2),0,null):null;return Gd.v(arguments[0],arguments[1],c)}};Gd.u=function(){return 0};Gd.g=function(a){return a};Gd.h=function(a,b){return a+b};Gd.v=function(a,b,c){return Na(Gd,a+b,c)};
Gd.G=function(a){var b=K(a),c=N(a);a=K(c);c=N(c);return this.v(b,a,c)};Gd.F=2;function xe(){var a=1+1*ko();return Math.abs(a)}var Hd=function Hd(a){switch(arguments.length){case 1:return Hd.g(arguments[0]);case 2:return Hd.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new H(c.slice(2),0,null):null;return Hd.v(arguments[0],arguments[1],c)}};Hd.g=function(a){return a};Hd.h=function(a,b){return a>b?a:b};
Hd.v=function(a,b,c){return Na(Hd,a>b?a:b,c)};Hd.G=function(a){var b=K(a),c=N(a);a=K(c);c=N(c);return this.v(b,a,c)};Hd.F=2;var Id=function Id(a){switch(arguments.length){case 1:return Id.g(arguments[0]);case 2:return Id.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new H(c.slice(2),0,null):null;return Id.v(arguments[0],arguments[1],c)}};Id.g=function(a){return a};Id.h=function(a,b){return a<b?a:b};
Id.v=function(a,b,c){return Na(Id,a<b?a:b,c)};Id.G=function(a){var b=K(a),c=N(a);a=K(c);c=N(c);return this.v(b,a,c)};Id.F=2;function Jd(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function Kd(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}
var A=function A(a){switch(arguments.length){case 0:return A.u();case 1:return A.g(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new H(c.slice(1),0,null):null;return A.v(arguments[0],c)}};A.u=function(){return""};A.g=function(a){return null==a?"":[a].join("")};A.v=function(a,b){for(a=new ua(A.g(a));;)if(w(b))a=a.append(A.g(K(b))),b=N(b);else return a.toString()};A.G=function(a){var b=K(a);a=N(a);return this.v(b,a)};A.F=1;
function Sc(a,b){if(kd(b))if(Mc(a)&&Mc(b)&&P(a)!==P(b))a=!1;else a:for(a=I(a),b=I(b);;){if(null==a){a=null==b;break a}if(null!=b&&G.h(K(a),K(b)))a=N(a),b=N(b);else{a=!1;break a}}else a=null;return sd(a)}function Zc(a,b,c,d,e){this.meta=a;this.first=b;this.Ma=c;this.count=d;this.D=e;this.A=65937646;this.H=8192}h=Zc.prototype;h.toString=function(){return cc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();h.S=function(){return this.meta};h.Y=function(){return 1===this.count?null:this.Ma};h.T=function(){return this.count};h.V=function(){var a=this.D;return null!=a?a:this.D=a=Ac(this)};h.P=function(a,b){return Sc(this,b)};
h.Z=function(){return ub(M,this.meta)};h.ba=function(a,b){return Uc(b,this)};h.ca=function(a,b,c){return Wc(b,c,this)};h.aa=function(){return this.first};h.da=function(){return 1===this.count?M:this.Ma};h.N=function(){return this};h.X=function(a,b){return b===this.meta?this:new Zc(b,this.first,this.Ma,this.count,this.D)};h.$=function(a,b){return new Zc(this.meta,b,this,this.count+1,null)};Zc.prototype[Ka]=function(){return yc(this)};function Ld(a){this.meta=a;this.A=65937614;this.H=8192}h=Ld.prototype;
h.toString=function(){return cc(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();h.S=function(){return this.meta};h.Y=function(){return null};h.T=function(){return 0};h.V=function(){return Bc};h.P=function(a,b){return(null!=b?b.A&33554432||r===b.Cc||(b.A?0:y(Fb,b)):y(Fb,b))||kd(b)?null==I(b):!1};h.Z=function(){return this};
h.ba=function(a,b){return Uc(b,this)};h.ca=function(a,b,c){return Wc(b,c,this)};h.aa=function(){return null};h.da=function(){return M};h.N=function(){return null};h.X=function(a,b){return b===this.meta?this:new Ld(b)};h.$=function(a,b){return new Zc(this.meta,b,null,1,null)};var M=new Ld(null);Ld.prototype[Ka]=function(){return yc(this)};function Md(a){return(null!=a?a.A&134217728||r===a.Gc||(a.A?0:y(Hb,a)):y(Hb,a))?(a=Ib(a))?a:M:Na(Xc,M,a)}
function Nd(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=0<b.length?new H(b.slice(0),0,null):null;a:{if(c instanceof H&&0===c.i)b=c.arr;else b:for(b=[];;)if(null!=c)b.push(C(c)),c=cb(c);else break b;c=b.length;for(var e=M;;)if(0<c)d=c-1,e=Wa(e,b[c-1]),c=d;else break a}return e}function Od(a,b,c,d){this.meta=a;this.first=b;this.Ma=c;this.D=d;this.A=65929452;this.H=8192}h=Od.prototype;h.toString=function(){return cc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();h.S=function(){return this.meta};h.Y=function(){return null==this.Ma?null:I(this.Ma)};h.V=function(){var a=this.D;return null!=a?a:this.D=a=Ac(this)};h.P=function(a,b){return Sc(this,b)};h.Z=function(){return M};
h.ba=function(a,b){return Uc(b,this)};h.ca=function(a,b,c){return Wc(b,c,this)};h.aa=function(){return this.first};h.da=function(){return null==this.Ma?M:this.Ma};h.N=function(){return this};h.X=function(a,b){return b===this.meta?this:new Od(b,this.first,this.Ma,this.D)};h.$=function(a,b){return new Od(null,b,this,null)};Od.prototype[Ka]=function(){return yc(this)};
function R(a,b){return null==b?new Zc(null,a,null,1,null):null!=b&&(b.A&64||r===b.$a)?new Od(null,a,b,null):new Od(null,a,I(b),null)}function Pd(a,b){if(a.ia===b.ia)return 0;var c=Ha(a.ma);if(w(c?b.ma:c))return-1;if(w(a.ma)){if(Ha(b.ma))return 1;c=ra(a.ma,b.ma);return 0===c?ra(a.name,b.name):c}return ra(a.name,b.name)}function E(a,b,c,d){this.ma=a;this.name=b;this.ia=c;this.Wa=d;this.A=2153775105;this.H=4096}h=E.prototype;h.toString=function(){return[":",A.g(this.ia)].join("")};
h.P=function(a,b){return b instanceof E?this.ia===b.ia:!1};h.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};h.g=function(a){return D(a,this)};h.h=function(a,b){return qc(a,this,b)};h.V=function(){var a=this.Wa;return null!=a?a:this.Wa=a=mc(this)+2654435769|0};
h.K=function(a,b){return Jb(b,[":",A.g(this.ia)].join(""))};function Qd(a){if(null!=a&&(a.H&4096||r===a.jc))return a.ma;throw Error(["Doesn't support namespace: ",A.g(a)].join(""));}var Rd=function Rd(a){switch(arguments.length){case 1:return Rd.g(arguments[0]);case 2:return Rd.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};
Rd.g=function(a){if(a instanceof E)return a;if(a instanceof oc)return new E(Qd(a),Sd.g?Sd.g(a):Sd.call(null,a),a.str,null);if(G.h("/",a))return new E(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new E(b[0],b[1],a,null):new E(null,b[0],a,null)}return null};
Rd.h=function(a,b){a=a instanceof E?Sd.g?Sd.g(a):Sd.call(null,a):a instanceof oc?Sd.g?Sd.g(a):Sd.call(null,a):a;b=b instanceof E?Sd.g?Sd.g(b):Sd.call(null,b):b instanceof oc?Sd.g?Sd.g(b):Sd.call(null,b):b;return new E(a,b,[w(a)?[A.g(a),"/"].join(""):null,A.g(b)].join(""),null)};Rd.F=2;function Td(a,b,c){this.meta=a;this.nb=b;this.s=null;this.D=c;this.A=32374988;this.H=1}h=Td.prototype;h.toString=function(){return cc(this)};
function Ud(a){null!=a.nb&&(a.s=a.nb.u?a.nb.u():a.nb.call(null),a.nb=null);return a.s}h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();h.S=function(){return this.meta};h.Y=function(){this.N(null);return null==this.s?null:N(this.s)};h.V=function(){var a=this.D;return null!=a?a:this.D=a=Ac(this)};h.P=function(a,b){return Sc(this,b)};
h.Z=function(){return ub(M,this.meta)};h.ba=function(a,b){return Uc(b,this)};h.ca=function(a,b,c){return Wc(b,c,this)};h.aa=function(){this.N(null);return null==this.s?null:K(this.s)};h.da=function(){this.N(null);return null!=this.s?wc(this.s):M};h.N=function(){Ud(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof Td)a=Ud(a);else return this.s=a,I(this.s)};h.X=function(a,b){var c=this;return b===this.meta?c:new Td(b,function(){return c.N(null)},this.D)};
h.$=function(a,b){return R(b,this)};Td.prototype[Ka]=function(){return yc(this)};function Vd(a){this.Eb=a;this.end=0;this.A=2;this.H=0}Vd.prototype.add=function(a){this.Eb[this.end]=a;return this.end+=1};Vd.prototype.ea=function(){var a=new Wd(this.Eb,0,this.end);this.Eb=null;return a};Vd.prototype.T=function(){return this.end};function Wd(a,b,c){this.arr=a;this.off=b;this.end=c;this.A=524306;this.H=0}h=Wd.prototype;h.T=function(){return this.end-this.off};
h.J=function(a,b){return this.arr[this.off+b]};h.na=function(a,b,c){return 0<=b&&b<this.end-this.off?this.arr[this.off+b]:c};h.Gb=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Wd(this.arr,this.off+1,this.end)};h.ba=function(a,b){return Lc(this.arr,b,this.arr[this.off],this.off+1)};h.ca=function(a,b,c){return Lc(this.arr,b,c,this.off)};function Xd(a,b,c,d){this.ea=a;this.Ga=b;this.meta=c;this.D=d;this.A=31850732;this.H=1536}h=Xd.prototype;h.toString=function(){return cc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();h.S=function(){return this.meta};h.Y=function(){return 1<Sa(this.ea)?new Xd(Sb(this.ea),this.Ga,null,null):null==this.Ga?null:Db(this.Ga)};h.V=function(){var a=this.D;return null!=a?a:this.D=a=Ac(this)};
h.P=function(a,b){return Sc(this,b)};h.Z=function(){return M};h.aa=function(){return Ya(this.ea,0)};h.da=function(){return 1<Sa(this.ea)?new Xd(Sb(this.ea),this.Ga,null,null):null==this.Ga?M:this.Ga};h.N=function(){return this};h.fb=function(){return this.ea};h.Oa=function(){return null==this.Ga?M:this.Ga};h.X=function(a,b){return b===this.meta?this:new Xd(this.ea,this.Ga,b,this.D)};h.$=function(a,b){return R(b,this)};h.zb=function(){return null==this.Ga?null:this.Ga};Xd.prototype[Ka]=function(){return yc(this)};
function Yd(a,b){return 0===Sa(a)?b:new Xd(a,b,null,null)}function Zd(a,b){a.add(b)}function yd(a){var b=[];for(a=I(a);;)if(null!=a)b.push(K(a)),a=N(a);else return b}function $d(a,b){if(Mc(b))return P(b);var c=0;for(b=I(b);;)if(null!=b&&c<a)c+=1,b=N(b);else return c}
var ae=function ae(a){if(null==a)return null;var c=N(a);return null==c?I(K(a)):R(K(a),ae.g?ae.g(c):ae.call(null,c))},be=function be(a){switch(arguments.length){case 0:return be.u();case 1:return be.g(arguments[0]);case 2:return be.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new H(c.slice(2),0,null):null;return be.v(arguments[0],arguments[1],c)}};be.u=function(){return new Td(null,function(){return null},null)};
be.g=function(a){return new Td(null,function(){return a},null)};be.h=function(a,b){return new Td(null,function(){var c=I(a);return c?od(c)?Yd(Tb(c),be.h(Ub(c),b)):R(K(c),be.h(wc(c),b)):b},null)};be.v=function(a,b,c){return function g(e,f){return new Td(null,function(){var k=I(e);return k?od(k)?Yd(Tb(k),g(Ub(k),f)):R(K(k),g(wc(k),f)):w(f)?g(K(f),N(f)):null},null)}(be.h(a,b),c)};be.G=function(a){var b=K(a),c=N(a);a=K(c);c=N(c);return this.v(b,a,c)};be.F=2;
function ce(a,b,c){var d=I(c);if(0===b)return a.u?a.u():a.call(null);c=C(d);var e=ab(d);if(1===b)return a.g?a.g(c):a.call(null,c);d=C(e);var f=ab(e);if(2===b)return a.h?a.h(c,d):a.call(null,c,d);e=C(f);var g=ab(f);if(3===b)return a.j?a.j(c,d,e):a.call(null,c,d,e);f=C(g);var k=ab(g);if(4===b)return a.C?a.C(c,d,e,f):a.call(null,c,d,e,f);g=C(k);var l=ab(k);if(5===b)return a.U?a.U(c,d,e,f,g):a.call(null,c,d,e,f,g);k=C(l);var m=ab(l);if(6===b)return a.ka?a.ka(c,d,e,f,g,k):a.call(null,c,d,e,f,g,k);l=C(m);
var n=ab(m);if(7===b)return a.Ba?a.Ba(c,d,e,f,g,k,l):a.call(null,c,d,e,f,g,k,l);m=C(n);var q=ab(n);if(8===b)return a.Ca?a.Ca(c,d,e,f,g,k,l,m):a.call(null,c,d,e,f,g,k,l,m);n=C(q);var t=ab(q);if(9===b)return a.Da?a.Da(c,d,e,f,g,k,l,m,n):a.call(null,c,d,e,f,g,k,l,m,n);q=C(t);var u=ab(t);if(10===b)return a.qa?a.qa(c,d,e,f,g,k,l,m,n,q):a.call(null,c,d,e,f,g,k,l,m,n,q);t=C(u);var x=ab(u);if(11===b)return a.ra?a.ra(c,d,e,f,g,k,l,m,n,q,t):a.call(null,c,d,e,f,g,k,l,m,n,q,t);u=C(x);var B=ab(x);if(12===b)return a.sa?
a.sa(c,d,e,f,g,k,l,m,n,q,t,u):a.call(null,c,d,e,f,g,k,l,m,n,q,t,u);x=C(B);var F=ab(B);if(13===b)return a.ta?a.ta(c,d,e,f,g,k,l,m,n,q,t,u,x):a.call(null,c,d,e,f,g,k,l,m,n,q,t,u,x);B=C(F);var J=ab(F);if(14===b)return a.ua?a.ua(c,d,e,f,g,k,l,m,n,q,t,u,x,B):a.call(null,c,d,e,f,g,k,l,m,n,q,t,u,x,B);F=C(J);var S=ab(J);if(15===b)return a.va?a.va(c,d,e,f,g,k,l,m,n,q,t,u,x,B,F):a.call(null,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F);J=C(S);var Z=ab(S);if(16===b)return a.wa?a.wa(c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J):a.call(null,
c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J);S=C(Z);var ba=ab(Z);if(17===b)return a.xa?a.xa(c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S):a.call(null,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S);Z=C(ba);var ha=ab(ba);if(18===b)return a.ya?a.ya(c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S,Z):a.call(null,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S,Z);ba=C(ha);ha=ab(ha);if(19===b)return a.za?a.za(c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S,Z,ba):a.call(null,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S,Z,ba);var gc=C(ha);ab(ha);if(20===b)return a.Aa?a.Aa(c,d,e,f,g,k,l,m,n,q,
t,u,x,B,F,J,S,Z,ba,gc):a.call(null,c,d,e,f,g,k,l,m,n,q,t,u,x,B,F,J,S,Z,ba,gc);throw Error("Only up to 20 arguments supported on functions");}function de(a){return null!=a&&(a.A&128||r===a.jb)?a.Y(null):I(wc(a))}function ee(a,b,c){return null==c?a.g?a.g(b):a.call(a,b):fe(a,b,C(c),de(c))}function fe(a,b,c,d){return null==d?a.h?a.h(b,c):a.call(a,b,c):ge(a,b,c,C(d),de(d))}function ge(a,b,c,d,e){return null==e?a.j?a.j(b,c,d):a.call(a,b,c,d):he(a,b,c,d,C(e),de(e))}
function he(a,b,c,d,e,f){if(null==f)return a.C?a.C(b,c,d,e):a.call(a,b,c,d,e);var g=C(f),k=N(f);if(null==k)return a.U?a.U(b,c,d,e,g):a.call(a,b,c,d,e,g);f=C(k);var l=N(k);if(null==l)return a.ka?a.ka(b,c,d,e,g,f):a.call(a,b,c,d,e,g,f);k=C(l);var m=N(l);if(null==m)return a.Ba?a.Ba(b,c,d,e,g,f,k):a.call(a,b,c,d,e,g,f,k);l=C(m);var n=N(m);if(null==n)return a.Ca?a.Ca(b,c,d,e,g,f,k,l):a.call(a,b,c,d,e,g,f,k,l);m=C(n);var q=N(n);if(null==q)return a.Da?a.Da(b,c,d,e,g,f,k,l,m):a.call(a,b,c,d,e,g,f,k,l,m);
n=C(q);var t=N(q);if(null==t)return a.qa?a.qa(b,c,d,e,g,f,k,l,m,n):a.call(a,b,c,d,e,g,f,k,l,m,n);q=C(t);var u=N(t);if(null==u)return a.ra?a.ra(b,c,d,e,g,f,k,l,m,n,q):a.call(a,b,c,d,e,g,f,k,l,m,n,q);t=C(u);var x=N(u);if(null==x)return a.sa?a.sa(b,c,d,e,g,f,k,l,m,n,q,t):a.call(a,b,c,d,e,g,f,k,l,m,n,q,t);u=C(x);var B=N(x);if(null==B)return a.ta?a.ta(b,c,d,e,g,f,k,l,m,n,q,t,u):a.call(a,b,c,d,e,g,f,k,l,m,n,q,t,u);x=C(B);var F=N(B);if(null==F)return a.ua?a.ua(b,c,d,e,g,f,k,l,m,n,q,t,u,x):a.call(a,b,c,d,
e,g,f,k,l,m,n,q,t,u,x);B=C(F);var J=N(F);if(null==J)return a.va?a.va(b,c,d,e,g,f,k,l,m,n,q,t,u,x,B):a.call(a,b,c,d,e,g,f,k,l,m,n,q,t,u,x,B);F=C(J);var S=N(J);if(null==S)return a.wa?a.wa(b,c,d,e,g,f,k,l,m,n,q,t,u,x,B,F):a.call(a,b,c,d,e,g,f,k,l,m,n,q,t,u,x,B,F);J=C(S);var Z=N(S);if(null==Z)return a.xa?a.xa(b,c,d,e,g,f,k,l,m,n,q,t,u,x,B,F,J):a.call(a,b,c,d,e,g,f,k,l,m,n,q,t,u,x,B,F,J);S=C(Z);var ba=N(Z);if(null==ba)return a.ya?a.ya(b,c,d,e,g,f,k,l,m,n,q,t,u,x,B,F,J,S):a.call(a,b,c,d,e,g,f,k,l,m,n,q,
t,u,x,B,F,J,S);Z=C(ba);var ha=N(ba);if(null==ha)return a.za?a.za(b,c,d,e,g,f,k,l,m,n,q,t,u,x,B,F,J,S,Z):a.call(a,b,c,d,e,g,f,k,l,m,n,q,t,u,x,B,F,J,S,Z);ba=C(ha);ha=N(ha);if(null==ha)return a.Aa?a.Aa(b,c,d,e,g,f,k,l,m,n,q,t,u,x,B,F,J,S,Z,ba):a.call(a,b,c,d,e,g,f,k,l,m,n,q,t,u,x,B,F,J,S,Z,ba);b=[b,c,d,e,g,f,k,l,m,n,q,t,u,x,B,F,J,S,Z,ba];for(c=ha;;)if(c)b.push(C(c)),c=N(c);else break;return a.apply(a,b)}
function tc(a){switch(arguments.length){case 2:return ie(arguments[0],arguments[1]);case 3:return je(arguments[0],arguments[1],arguments[2]);case 4:return ke(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return le(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=5<b.length?new H(b.slice(5),0,null):null;return me(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
b)}}function ie(a,b){if(a.G){var c=a.F,d=$d(c+1,b);return d<=c?ce(a,d,b):a.G(b)}b=I(b);return null==b?a.u?a.u():a.call(a):ee(a,C(b),de(b))}function je(a,b,c){if(a.G){b=R(b,c);var d=a.F;c=$d(d,c)+1;return c<=d?ce(a,c,b):a.G(b)}return ee(a,b,I(c))}function ke(a,b,c,d){return a.G?(b=R(b,R(c,d)),c=a.F,d=2+$d(c-1,d),d<=c?ce(a,d,b):a.G(b)):fe(a,b,c,I(d))}function le(a,b,c,d,e){return a.G?(b=R(b,R(c,R(d,e))),c=a.F,e=3+$d(c-2,e),e<=c?ce(a,e,b):a.G(b)):ge(a,b,c,d,I(e))}
function me(a,b,c,d,e,f){return a.G?(f=ae(f),b=R(b,R(c,R(d,R(e,f)))),c=a.F,f=4+$d(c-3,f),f<=c?ce(a,f,b):a.G(b)):he(a,b,c,d,e,ae(f))}function ne(a){return null!=a&&(a.A&64||r===a.$a)?N(a)?bd(yd(a)):I(a)?K(a):oe:a}function pe(a){this.sc=a;this.A=393216;this.H=0}h=pe.prototype;h.X=function(a,b){return new pe(b)};h.S=function(){return this.sc};h.fa=function(){return!1};h.next=function(){return Error("No such element")};h.remove=function(){return Error("Unsupported operation")};
function qe(a,b){for(;;){if(null==I(b))return!0;var c=K(b);c=a.g?a.g(c):a.call(null,c);if(w(c))b=N(b);else return!1}}function re(a,b){for(;;)if(b=I(b)){var c=K(b);c=a.g?a.g(c):a.call(null,c);if(w(c))return c;b=N(b)}else return null}
function se(){return function(){function a(f,g){return Ha(Fa.h?Fa.h(f,g):Fa.call(null,f,g))}function b(f){return Ha(Fa.g?Fa.g(f):Fa.call(null,f))}function c(){return Ha(Fa.u?Fa.u():Fa.call(null))}var d=null,e=function(){function f(k,l,m){var n=null;if(2<arguments.length){n=0;for(var q=Array(arguments.length-2);n<q.length;)q[n]=arguments[n+2],++n;n=new H(q,0,null)}return g.call(this,k,l,n)}function g(k,l,m){return Ha(ke(Fa,k,l,m))}f.F=2;f.G=function(k){var l=K(k);k=N(k);var m=K(k);k=wc(k);return g(l,
m,k)};f.v=g;return f}();d=function(f,g,k){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,f);case 2:return a.call(this,f,g);default:var l=null;if(2<arguments.length){l=0;for(var m=Array(arguments.length-2);l<m.length;)m[l]=arguments[l+2],++l;l=new H(m,0,null)}return e.v(f,g,l)}throw Error("Invalid arity: "+arguments.length);};d.F=2;d.G=e.G;d.u=c;d.g=b;d.h=a;d.v=e.v;return d}()}
function te(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.F=0;b.G=function(c){I(c);return a};b.v=function(){return a};return b}()}
var ze=function ze(a){switch(arguments.length){case 0:return ze.u();case 1:return ze.g(arguments[0]);case 2:return ze.h(arguments[0],arguments[1]);case 3:return ze.j(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new H(c.slice(3),0,null):null;return ze.v(arguments[0],arguments[1],arguments[2],c)}};ze.u=function(){return Ed};ze.g=function(a){return a};
ze.h=function(a,b){return function(){function c(l,m,n){l=b.j?b.j(l,m,n):b.call(null,l,m,n);return a.g?a.g(l):a.call(null,l)}function d(l,m){l=b.h?b.h(l,m):b.call(null,l,m);return a.g?a.g(l):a.call(null,l)}function e(l){l=b.g?b.g(l):b.call(null,l);return a.g?a.g(l):a.call(null,l)}function f(){var l=b.u?b.u():b.call(null);return a.g?a.g(l):a.call(null,l)}var g=null,k=function(){function l(n,q,t,u){var x=null;if(3<arguments.length){x=0;for(var B=Array(arguments.length-3);x<B.length;)B[x]=arguments[x+
3],++x;x=new H(B,0,null)}return m.call(this,n,q,t,x)}function m(n,q,t,u){n=le(b,n,q,t,u);return a.g?a.g(n):a.call(null,n)}l.F=3;l.G=function(n){var q=K(n);n=N(n);var t=K(n);n=N(n);var u=K(n);n=wc(n);return m(q,t,u,n)};l.v=m;return l}();g=function(l,m,n,q){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var t=null;if(3<arguments.length){t=0;for(var u=Array(arguments.length-3);t<u.length;)u[t]=arguments[t+
3],++t;t=new H(u,0,null)}return k.v(l,m,n,t)}throw Error("Invalid arity: "+arguments.length);};g.F=3;g.G=k.G;g.u=f;g.g=e;g.h=d;g.j=c;g.v=k.v;return g}()};
ze.j=function(a,b,c){return function(){function d(m,n,q){m=c.j?c.j(m,n,q):c.call(null,m,n,q);m=b.g?b.g(m):b.call(null,m);return a.g?a.g(m):a.call(null,m)}function e(m,n){m=c.h?c.h(m,n):c.call(null,m,n);m=b.g?b.g(m):b.call(null,m);return a.g?a.g(m):a.call(null,m)}function f(m){m=c.g?c.g(m):c.call(null,m);m=b.g?b.g(m):b.call(null,m);return a.g?a.g(m):a.call(null,m)}function g(){var m=c.u?c.u():c.call(null);m=b.g?b.g(m):b.call(null,m);return a.g?a.g(m):a.call(null,m)}var k=null,l=function(){function m(q,
t,u,x){var B=null;if(3<arguments.length){B=0;for(var F=Array(arguments.length-3);B<F.length;)F[B]=arguments[B+3],++B;B=new H(F,0,null)}return n.call(this,q,t,u,B)}function n(q,t,u,x){q=le(c,q,t,u,x);q=b.g?b.g(q):b.call(null,q);return a.g?a.g(q):a.call(null,q)}m.F=3;m.G=function(q){var t=K(q);q=N(q);var u=K(q);q=N(q);var x=K(q);q=wc(q);return n(t,u,x,q)};m.v=n;return m}();k=function(m,n,q,t){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,m);case 2:return e.call(this,
m,n);case 3:return d.call(this,m,n,q);default:var u=null;if(3<arguments.length){u=0;for(var x=Array(arguments.length-3);u<x.length;)x[u]=arguments[u+3],++u;u=new H(x,0,null)}return l.v(m,n,q,u)}throw Error("Invalid arity: "+arguments.length);};k.F=3;k.G=l.G;k.u=g;k.g=f;k.h=e;k.j=d;k.v=l.v;return k}()};
ze.v=function(a,b,c,d){var e=Md(R(a,R(b,R(c,d))));return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new H(m,0,null)}return g.call(this,l)}function g(k){k=ie(K(e),k);for(var l=N(e);;)if(l){var m=K(l);k=m.g?m.g(k):m.call(null,k);l=N(l)}else return k}f.F=0;f.G=function(k){k=I(k);return g(k)};f.v=g;return f}()};ze.G=function(a){var b=K(a),c=N(a);a=K(c);var d=N(c);c=K(d);d=N(d);return this.v(b,a,c,d)};ze.F=3;
function Ae(a,b){return function(){function c(l,m,n){return a.C?a.C(b,l,m,n):a.call(null,b,l,m,n)}function d(l,m){return a.j?a.j(b,l,m):a.call(null,b,l,m)}function e(l){return a.h?a.h(b,l):a.call(null,b,l)}function f(){return a.g?a.g(b):a.call(null,b)}var g=null,k=function(){function l(n,q,t,u){var x=null;if(3<arguments.length){x=0;for(var B=Array(arguments.length-3);x<B.length;)B[x]=arguments[x+3],++x;x=new H(B,0,null)}return m.call(this,n,q,t,x)}function m(n,q,t,u){return me(a,b,n,q,t,Tc([u]))}
l.F=3;l.G=function(n){var q=K(n);n=N(n);var t=K(n);n=N(n);var u=K(n);n=wc(n);return m(q,t,u,n)};l.v=m;return l}();g=function(l,m,n,q){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var t=null;if(3<arguments.length){t=0;for(var u=Array(arguments.length-3);t<u.length;)u[t]=arguments[t+3],++t;t=new H(u,0,null)}return k.v(l,m,n,t)}throw Error("Invalid arity: "+arguments.length);};g.F=3;g.G=k.G;g.u=
f;g.g=e;g.h=d;g.j=c;g.v=k.v;return g}()}
function Be(){var a=Ce;return function(){function b(g,k,l){g=null==g?a:g;return Xc.j?Xc.j(g,k,l):Xc.call(null,g,k,l)}function c(g,k){g=null==g?a:g;return Xc.h?Xc.h(g,k):Xc.call(null,g,k)}function d(g){g=null==g?a:g;return Xc.g?Xc.g(g):Xc.call(null,g)}var e=null,f=function(){function g(l,m,n,q){var t=null;if(3<arguments.length){t=0;for(var u=Array(arguments.length-3);t<u.length;)u[t]=arguments[t+3],++t;t=new H(u,0,null)}return k.call(this,l,m,n,t)}function k(l,m,n,q){return le(Xc,null==l?a:l,m,n,q)}
g.F=3;g.G=function(l){var m=K(l);l=N(l);var n=K(l);l=N(l);var q=K(l);l=wc(l);return k(m,n,q,l)};g.v=k;return g}();e=function(g,k,l,m){switch(arguments.length){case 1:return d.call(this,g);case 2:return c.call(this,g,k);case 3:return b.call(this,g,k,l);default:var n=null;if(3<arguments.length){n=0;for(var q=Array(arguments.length-3);n<q.length;)q[n]=arguments[n+3],++n;n=new H(q,0,null)}return f.v(g,k,l,n)}throw Error("Invalid arity: "+arguments.length);};e.F=3;e.G=f.G;e.g=d;e.h=c;e.j=b;e.v=f.v;return e}()}
function De(a){return function(b){var c=Ee.g?Ee.g(-1):Ee.call(null,-1);return function(){function d(k,l){var m=Yb(c,rb(c)+1);l=a.h?a.h(m,l):a.call(null,m,l);return b.h?b.h(k,l):b.call(null,k,l)}function e(k){return b.g?b.g(k):b.call(null,k)}function f(){return b.u?b.u():b.call(null)}var g=null;g=function(k,l){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,l)}throw Error("Invalid arity: "+arguments.length);};g.u=f;g.g=e;g.h=d;return g}()}}
function Fe(a){this.state=a;this.Xb=this.vc=this.meta=null;this.H=16386;this.A=6455296}Fe.prototype.P=function(a,b){return this===b};Fe.prototype.hb=function(){return this.state};Fe.prototype.S=function(){return this.meta};Fe.prototype.V=function(){return ea(this)};function Ge(a){return new Fe(a)}
function He(a,b){if(a instanceof Fe){var c=a.vc;if(null!=c&&!w(c.g?c.g(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;if(null!=a.Xb)a:for(var d=I(a.Xb),e=null,f=0,g=0;;)if(g<f){var k=e.J(null,g),l=T(k,0,null);k=T(k,1,null);k.C?k.C(l,a,c,b):k.call(null,l,a,c,b);g+=1}else if(d=I(d))od(d)?(e=Tb(d),d=Ub(d),l=e,f=P(e),e=l):(e=K(d),l=T(e,0,null),k=T(e,1,null),k.C?k.C(l,a,c,b):k.call(null,l,a,c,b),d=N(d),e=null,f=0),g=0;else break a;return b}return Vb(a,b)}
var Ie=function Ie(a){switch(arguments.length){case 2:return Ie.h(arguments[0],arguments[1]);case 3:return Ie.j(arguments[0],arguments[1],arguments[2]);case 4:return Ie.C(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=4<c.length?new H(c.slice(4),0,null):null;return Ie.v(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Ie.h=function(a,b){if(a instanceof Fe){var c=a.state;b=b.g?b.g(c):b.call(null,c);a=He(a,b)}else a=Wb(a,b);return a};Ie.j=function(a,b,c){if(a instanceof Fe){var d=a.state;b=b.h?b.h(d,c):b.call(null,d,c);a=He(a,b)}else a=Wb(a,b,c);return a};Ie.C=function(a,b,c,d){if(a instanceof Fe){var e=a.state;b=b.j?b.j(e,c,d):b.call(null,e,c,d);a=He(a,b)}else a=Wb(a,b,c,d);return a};Ie.v=function(a,b,c,d,e){return a instanceof Fe?He(a,le(b,a.state,c,d,e)):Wb(a,b,c,d,e)};
Ie.G=function(a){var b=K(a),c=N(a);a=K(c);var d=N(c);c=K(d);var e=N(d);d=K(e);e=N(e);return this.v(b,a,c,d,e)};Ie.F=4;function Je(a){this.state=a;this.A=32768;this.H=0}Je.prototype.Tb=function(a,b){return this.state=b};Je.prototype.hb=function(){return this.state};function Ee(a){return new Je(a)}
function Ke(a,b){return function f(d,e){return new Td(null,function(){var g=I(e);if(g){if(od(g)){for(var k=Tb(g),l=P(k),m=new Vd(Array(l)),n=0;;)if(n<l){var q=function(){var t=d+n,u=Ya(k,n);return a.h?a.h(t,u):a.call(null,t,u)}();null!=q&&m.add(q);n+=1}else break;return Yd(m.ea(),f(d+l,Ub(g)))}l=function(){var t=K(g);return a.h?a.h(d,t):a.call(null,d,t)}();return null==l?f(d+1,wc(g)):R(l,f(d+1,wc(g)))}return null},null)}(0,b)}
var Le=function Le(a){switch(arguments.length){case 1:return Le.g(arguments[0]);case 2:return Le.h(arguments[0],arguments[1]);case 3:return Le.j(arguments[0],arguments[1],arguments[2]);case 4:return Le.C(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=4<c.length?new H(c.slice(4),0,null):null;return Le.v(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Le.g=function(a){return function(b){return function(){function c(k,l){l=a.g?a.g(l):a.call(null,l);return b.h?b.h(k,l):b.call(null,k,l)}function d(k){return b.g?b.g(k):b.call(null,k)}function e(){return b.u?b.u():b.call(null)}var f=null,g=function(){function k(m,n,q){var t=null;if(2<arguments.length){t=0;for(var u=Array(arguments.length-2);t<u.length;)u[t]=arguments[t+2],++t;t=new H(u,0,null)}return l.call(this,m,n,t)}function l(m,n,q){n=je(a,n,q);return b.h?b.h(m,n):b.call(null,m,n)}k.F=2;k.G=function(m){var n=
K(m);m=N(m);var q=K(m);m=wc(m);return l(n,q,m)};k.v=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var q=Array(arguments.length-2);n<q.length;)q[n]=arguments[n+2],++n;n=new H(q,0,null)}return g.v(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.F=2;f.G=g.G;f.u=e;f.g=d;f.h=c;f.v=g.v;return f}()}};
Le.h=function(a,b){return new Td(null,function(){var c=I(b);if(c){if(od(c)){for(var d=Tb(c),e=P(d),f=new Vd(Array(e)),g=0;;)if(g<e)Zd(f,function(){var k=Ya(d,g);return a.g?a.g(k):a.call(null,k)}()),g+=1;else break;return Yd(f.ea(),Le.h(a,Ub(c)))}return R(function(){var k=K(c);return a.g?a.g(k):a.call(null,k)}(),Le.h(a,wc(c)))}return null},null)};
Le.j=function(a,b,c){return new Td(null,function(){var d=I(b),e=I(c);if(d&&e){var f=K(d);var g=K(e);f=a.h?a.h(f,g):a.call(null,f,g);d=R(f,Le.j(a,wc(d),wc(e)))}else d=null;return d},null)};Le.C=function(a,b,c,d){return new Td(null,function(){var e=I(b),f=I(c),g=I(d);if(e&&f&&g){var k=K(e);var l=K(f),m=K(g);k=a.j?a.j(k,l,m):a.call(null,k,l,m);e=R(k,Le.C(a,wc(e),wc(f),wc(g)))}else e=null;return e},null)};
Le.v=function(a,b,c,d,e){return Le.h(function(f){return ie(a,f)},function k(g){return new Td(null,function(){var l=Le.h(I,g);return qe(Ed,l)?R(Le.h(K,l),k(Le.h(wc,l))):null},null)}(Xc.v(e,d,Tc([c,b]))))};Le.G=function(a){var b=K(a),c=N(a);a=K(c);var d=N(c);c=K(d);var e=N(d);d=K(e);e=N(e);return this.v(b,a,c,d,e)};Le.F=4;function Me(a,b){return new Td(null,function(){if(0<a){var c=I(b);return c?R(K(c),Me(a-1,wc(c))):null}return null},null)}
function Ne(a,b){if(null!=b&&(b.H&262144||r===b.yc)){var c=0<a?b.Ja(null,Math.ceil(a)):I(b);return w(c)?c:M}return new Td(null,function(){a:for(var d=a,e=b;;)if(e=I(e),0<d&&e)--d,e=wc(e);else break a;return e},null)}function Oe(a){var b=Pe();return new Td(null,function(){a:for(var c=a,d=b;;){d=I(d);var e;if(e=d)e=K(d),e=c.g?c.g(e):c.call(null,e);if(w(e))d=wc(d);else break a}return d},null)}
function Qe(a,b,c,d,e){this.meta=a;this.all=b;this.prev=c;this.current=d;this.vb=e;this.A=26083532;this.H=1}h=Qe.prototype;h.toString=function(){return cc(this)};function Re(a){if(!a.current){var b=N(a.prev);a.current=b?b:a.all}return a.current}h.S=function(){return this.meta};h.Y=function(){return this.da(null)};h.Z=function(){return M};
h.ba=function(a,b){for(var c=this,d=Re(this),e=K(d);;){var f=function(){var g=N(d);return g?g:c.all}();a=function(){var g=e,k=K(f);return b.h?b.h(g,k):b.call(null,g,k)}();if(Gc(a))return rb(a);d=f;e=a}};h.ca=function(a,b,c){for(var d=this,e=Re(this),f=c;;){c=function(){var g=f,k=K(e);return b.h?b.h(g,k):b.call(null,g,k)}();if(Gc(c))return rb(c);e=a=function(){var g=N(e);return g?g:d.all}();f=c}};h.aa=function(){return K(Re(this))};
h.da=function(){null==this.vb&&(this.vb=new Qe(null,this.all,Re(this),null,null));return this.vb};h.N=function(){return this};h.X=function(a,b){return b===this.meta?this:new Qe(b,this.all,this.prev,this.current,this.vb)};h.$=function(a,b){return R(b,this)};function Pe(){var a=I(new V(null,3,5,W,[Se,Te,ye],null));return a?new Qe(null,a,null,a,null):M}function Ve(a,b,c,d){this.meta=a;this.count=b;this.val=c;this.next=d;this.D=null;this.A=32374988;this.H=262145}h=Ve.prototype;h.toString=function(){return cc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();h.S=function(){return this.meta};h.Y=function(){return null==this.next?1<this.count?this.next=new Ve(null,this.count-1,this.val,null):-1===this.count?this:null:this.next};
h.V=function(){var a=this.D;return null!=a?a:this.D=a=Ac(this)};h.P=function(a,b){return Sc(this,b)};h.Z=function(){return M};h.ba=function(a,b){if(-1===this.count)for(var c=b.h?b.h(this.val,this.val):b.call(null,this.val,this.val);;){if(Gc(c))return rb(c);c=b.h?b.h(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.h?b.h(c,this.val):b.call(null,c,this.val);if(Gc(c))return rb(c);a+=1}else return c};
h.ca=function(a,b,c){if(-1===this.count)for(c=b.h?b.h(c,this.val):b.call(null,c,this.val);;){if(Gc(c))return rb(c);c=b.h?b.h(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.h?b.h(c,this.val):b.call(null,c,this.val);if(Gc(c))return rb(c);a+=1}else return c};h.aa=function(){return this.val};h.da=function(){return null==this.next?1<this.count?this.next=new Ve(null,this.count-1,this.val,null):-1===this.count?this:M:this.next};h.N=function(){return this};
h.X=function(a,b){return b===this.meta?this:new Ve(b,this.count,this.val,this.next)};h.$=function(a,b){return R(b,this)};h.Ja=function(a,b){if(-1===this.count)return this;a=this.count-b;return 0<a?new Ve(null,a,this.val,null):null};
function We(a,b){return new Td(null,function(){var c=I(b);if(c){if(od(c)){for(var d=Tb(c),e=P(d),f=new Vd(Array(e)),g=0;;)if(g<e){var k=Ya(d,g);k=a.g?a.g(k):a.call(null,k);if(w(k)){k=f;var l=Ya(d,g);k.add(l)}g+=1}else break;return Yd(f.ea(),We(a,Ub(c)))}d=K(c);c=wc(c);return w(a.g?a.g(d):a.call(null,d))?R(d,We(a,c)):We(a,c)}return null},null)}function Xe(a,b){return null!=a?null!=a&&(a.H&4||r===a.Zb)?ub(Ob(Na(Nb,Mb(a),b)),fd(a)):Na(Wa,a,b):Na(Xc,a,b)}
function Ye(a,b,c){if(null!=a&&(a.H&4||r===a.Zb)){var d=fd(a);return Fd(b,function(){function e(g){return ub(Ob(g),d)}var f=null;f=function(g,k){switch(arguments.length){case 1:return e.call(this,g);case 2:return Nb(g,k)}throw Error("Invalid arity: "+arguments.length);};f.g=e;f.h=function(g,k){return Nb(g,k)};return f}(),Mb(a),c)}return Fd(b,Xc,a,c)}function Ze(a,b){return Ob(Na(function(c,d){d=a.g?a.g(d):a.call(null,d);return Nb(c,d)},Mb(Yc),b))}
function $e(a,b,c){return new Td(null,function(){var d=I(c);if(d){var e=Me(a,d);return a===P(e)?R(e,$e(a,b,Ne(b,d))):null}return null},null)}function bf(a,b,c){var d=qd;for(b=I(b);;)if(null!=b){a=qc(a,K(b),d);if(d===a)return c;b=N(b)}else return a}
var cf=function cf(a,b,c){var e=I(b);b=K(e);var f=N(e);if(f){e=U.j;var g=D(a,b);c=cf.j?cf.j(g,f,c):cf.call(null,g,f,c);a=e.call(U,a,b,c)}else a=U.j(a,b,c);return a},df=function df(a){switch(arguments.length){case 3:return df.j(arguments[0],arguments[1],arguments[2]);case 4:return df.C(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return df.U(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return df.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=6<c.length?new H(c.slice(6),0,null):null;return df.v(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};df.j=function(a,b,c){var d=I(b);b=K(d);if(d=N(d))a=U.j(a,b,df.j(D(a,b),d,c));else{d=U.j;var e=D(a,b);c=c.g?c.g(e):c.call(null,e);a=d.call(U,a,b,c)}return a};
df.C=function(a,b,c,d){var e=I(b);b=K(e);if(e=N(e))a=U.j(a,b,df.C(D(a,b),e,c,d));else{e=U.j;var f=D(a,b);c=c.h?c.h(f,d):c.call(null,f,d);a=e.call(U,a,b,c)}return a};df.U=function(a,b,c,d,e){var f=I(b);b=K(f);if(f=N(f))a=U.j(a,b,df.U(D(a,b),f,c,d,e));else{f=U.j;var g=D(a,b);c=c.j?c.j(g,d,e):c.call(null,g,d,e);a=f.call(U,a,b,c)}return a};
df.ka=function(a,b,c,d,e,f){var g=I(b);b=K(g);if(g=N(g))a=U.j(a,b,df.ka(D(a,b),g,c,d,e,f));else{g=U.j;var k=D(a,b);c=c.C?c.C(k,d,e,f):c.call(null,k,d,e,f);a=g.call(U,a,b,c)}return a};df.v=function(a,b,c,d,e,f,g){var k=I(b);b=K(k);return(k=N(k))?U.j(a,b,me(df,D(a,b),k,c,d,Tc([e,f,g]))):U.j(a,b,me(c,D(a,b),d,e,f,Tc([g])))};df.G=function(a){var b=K(a),c=N(a);a=K(c);var d=N(c);c=K(d);var e=N(d);d=K(e);var f=N(e);e=K(f);var g=N(f);f=K(g);g=N(g);return this.v(b,a,c,d,e,f,g)};df.F=6;
function ef(a,b,c){var d=U.j,e=D(a,b);c=c.g?c.g(e):c.call(null,e);return d.call(U,a,b,c)}function ff(a,b,c,d){var e=U.j,f=D(a,b);c=c.h?c.h(f,d):c.call(null,f,d);return e.call(U,a,b,c)}function gf(a,b,c){var d=hf,e=U.j,f=D(a,d);b=U.j?U.j(f,b,c):U.call(null,f,b,c);return e.call(U,a,d,b)}function jf(a,b){this.M=a;this.arr=b}
function kf(a){return new jf(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function lf(a){a=a.cnt;return 32>a?0:a-1>>>5<<5}function mf(a,b,c){for(;;){if(0===b)return c;var d=kf(a);d.arr[0]=c;c=d;b-=5}}
var nf=function nf(a,b,c,d){var f=new jf(c.M,La(c.arr)),g=a.cnt-1>>>b&31;5===b?f.arr[g]=d:(c=c.arr[g],null!=c?(b-=5,a=nf.C?nf.C(a,b,c,d):nf.call(null,a,b,c,d)):a=mf(null,b-5,d),f.arr[g]=a);return f};function of(a,b){if(b>=lf(a))return a.ja;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.arr[b>>>a&31];a=d}else return c.arr}function pf(a,b){if(0<=b&&b<a.cnt)b=of(a,b);else throw a=a.cnt,Error(["No item ",A.g(b)," in vector of length ",A.g(a)].join(""));return b}
var qf=function qf(a,b,c,d,e){var g=new jf(c.M,La(c.arr));if(0===b)g.arr[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.arr[k];a=qf.U?qf.U(a,b,c,d,e):qf.call(null,a,b,c,d,e);g.arr[k]=a}return g};function rf(a,b,c){this.wb=this.i=0;this.arr=a;this.uc=b;this.start=0;this.end=c}rf.prototype.fa=function(){return this.i<this.end};rf.prototype.next=function(){32===this.i-this.wb&&(this.arr=of(this.uc,this.i),this.wb+=32);var a=this.arr[this.i&31];this.i+=1;return a};
function sf(a,b,c,d){return c<d?tf(a,b,Oc(a,c),c+1,d):b.u?b.u():b.call(null)}function tf(a,b,c,d,e){var f=c;c=d;for(d=of(a,d);;)if(c<e){var g=c&31;d=0===g?of(a,c):d;g=d[g];f=b.h?b.h(f,g):b.call(null,f,g);if(Gc(f))return rb(f);c+=1}else return f}function V(a,b,c,d,e,f){this.meta=a;this.cnt=b;this.shift=c;this.root=d;this.ja=e;this.D=f;this.A=167666463;this.H=401412}h=V.prototype;h.ib=function(a,b){return 0<=b&&b<this.cnt?new uf(b,of(this,b)[b&31]):null};h.toString=function(){return cc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();h.la=function(a,b){return this.R(null,b,null)};h.R=function(a,b,c){return"number"===typeof b?this.na(null,b,c):c};
h.Ab=function(a,b,c){a=0;for(var d=c;;)if(a<this.cnt){var e=of(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=f+a,k=e[f];d=b.j?b.j(d,g,k):b.call(null,d,g,k);if(Gc(d)){e=d;break a}f+=1}else{e=d;break a}if(Gc(e))return rb(e);a+=c;d=e}else return d};h.J=function(a,b){return pf(this,b)[b&31]};h.na=function(a,b,c){return 0<=b&&b<this.cnt?of(this,b)[b&31]:c};
h.Ib=function(a,b){if(0<=a&&a<this.cnt){if(lf(this)<=a){var c=La(this.ja);c[a&31]=b;return new V(this.meta,this.cnt,this.shift,this.root,c,null)}return new V(this.meta,this.cnt,this.shift,qf(this,this.shift,this.root,a,b),this.ja,null)}if(a===this.cnt)return this.$(null,b);throw Error(["Index ",A.g(a)," out of bounds  [0,",A.g(this.cnt),"]"].join(""));};h.oa=function(){var a=this.cnt;return new rf(0<P(this)?of(this,0):null,this,a)};h.S=function(){return this.meta};h.T=function(){return this.cnt};
h.Bb=function(){return 0<this.cnt?new Rc(this,this.cnt-1,null):null};h.V=function(){var a=this.D;return null!=a?a:this.D=a=Ac(this)};h.P=function(a,b){if(b instanceof V)if(this.cnt===P(b))for(a=this.oa(null),b=b.oa(null);;)if(a.fa()){var c=a.next(),d=b.next();if(!G.h(c,d))return!1}else return!0;else return!1;else return Sc(this,b)};h.Za=function(){return new vf(this.cnt,this.shift,wf.g?wf.g(this.root):wf.call(null,this.root),xf.g?xf.g(this.ja):xf.call(null,this.ja))};h.Z=function(){return ub(Yc,this.meta)};
h.ba=function(a,b){return sf(this,b,0,this.cnt)};h.ca=function(a,b,c){a=0;for(var d=c;;)if(a<this.cnt){var e=of(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=e[f];d=b.h?b.h(d,g):b.call(null,d,g);if(Gc(d)){e=d;break a}f+=1}else{e=d;break a}if(Gc(e))return rb(e);a+=c;d=e}else return d};h.Na=function(a,b,c){if("number"===typeof b)return this.Ib(b,c);throw Error("Vector's key for assoc must be a number.");};h.Xa=function(a,b){return td(b)?0<=b&&b<this.cnt:!1};
h.N=function(){if(0===this.cnt)return null;if(32>=this.cnt)return new H(this.ja,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.arr[0];else{a=a.arr;break a}}return yf?yf(this,a,0,0):zf.call(null,this,a,0,0)};h.X=function(a,b){return b===this.meta?this:new V(b,this.cnt,this.shift,this.root,this.ja,this.D)};
h.$=function(a,b){if(32>this.cnt-lf(this)){a=this.ja.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.ja[d],d+=1;else break;c[a]=b;return new V(this.meta,this.cnt+1,this.shift,this.root,c,null)}a=(c=this.cnt>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=kf(null),c.arr[0]=this.root,d=mf(null,this.shift,new jf(null,this.ja)),c.arr[1]=d):c=nf(this,this.shift,this.root,new jf(null,this.ja));return new V(this.meta,this.cnt+1,a,c,[b],null)};
h.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};h.g=function(a){if("number"===typeof a)return this.J(null,a);throw Error("Key must be integer");};h.Ja=function(a,b){if(b<this.cnt){a=b%32;var c=of(this,b);b-=a;return yf?yf(this,c,b,a):zf.call(null,this,c,b,a)}return null};
var W=new jf(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Yc=new V(null,0,5,W,[],Bc);V.prototype[Ka]=function(){return yc(this)};
function zd(a){if(w(Af.g?Af.g(a):Af.call(null,a)))a=new V(null,2,5,W,[Bf.g?Bf.g(a):Bf.call(null,a),Cf.g?Cf.g(a):Cf.call(null,a)],null);else if(nd(a))a=ed(a,null);else if(Ga(a))a:{var b=a.length;if(32>b)a=new V(null,b,5,W,a,null);else for(var c=a.slice(0,32),d=32,e=(new V(null,32,5,W,c,null)).Za(null);;)if(d<b)c=d+1,e=Nb(e,a[d]),d=c;else{a=Ob(e);break a}}else a=Ob(Na(Nb,Mb(Yc),a));return a}
function Df(a,b,c,d,e){this.vec=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.D=null;this.A=32375020;this.H=263680}h=Df.prototype;h.toString=function(){return cc(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();h.S=function(){return this.meta};h.Y=function(){if(this.off+1<this.node.length){var a=this.vec;var b=this.node,c=this.i,d=this.off+1;a=yf?yf(a,b,c,d):zf.call(null,a,b,c,d);return null==a?null:a}return this.zb()};
h.V=function(){var a=this.D;return null!=a?a:this.D=a=Ac(this)};h.P=function(a,b){return Sc(this,b)};h.Z=function(){return M};h.ba=function(a,b){return sf(this.vec,b,this.i+this.off,P(this.vec))};h.ca=function(a,b,c){return tf(this.vec,b,c,this.i+this.off,P(this.vec))};h.aa=function(){return this.node[this.off]};h.da=function(){if(this.off+1<this.node.length){var a=this.vec;var b=this.node,c=this.i,d=this.off+1;a=yf?yf(a,b,c,d):zf.call(null,a,b,c,d);return null==a?M:a}return this.Oa(null)};h.N=function(){return this};
h.fb=function(){var a=this.node;return new Wd(a,this.off,a.length)};h.Oa=function(){var a=this.i+this.node.length;if(a<Sa(this.vec)){var b=this.vec,c=of(this.vec,a);return yf?yf(b,c,a,0):zf.call(null,b,c,a,0)}return M};h.X=function(a,b){return b===this.meta?this:Ef?Ef(this.vec,this.node,this.i,this.off,b):zf.call(null,this.vec,this.node,this.i,this.off,b)};h.$=function(a,b){return R(b,this)};
h.Ja=function(a,b){a=this.off+b;if(a<this.node.length)return yf?yf(this.vec,this.node,this.i,a):zf.call(null,this.vec,this.node,this.i,a);var c=this.i+a;if(c<Sa(this.vec)){a=c%32;b=this.vec;var d=of(this.vec,c);c-=a;return yf?yf(b,d,c,a):zf.call(null,b,d,c,a)}return null};h.zb=function(){var a=this.i+this.node.length;if(a<Sa(this.vec)){var b=this.vec,c=of(this.vec,a);return yf?yf(b,c,a,0):zf.call(null,b,c,a,0)}return null};Df.prototype[Ka]=function(){return yc(this)};
function zf(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Df(b,pf(b,c),c,d,null);case 4:return yf(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ef(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}function yf(a,b,c,d){return new Df(a,b,c,d,null)}function Ef(a,b,c,d,e){return new Df(a,b,c,d,e)}
function Ff(a,b){return a===b.M?b:new jf(a,La(b.arr))}function wf(a){return new jf({},La(a.arr))}function xf(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];pd(a,0,b,0,a.length);return b}var Gf=function Gf(a,b,c,d){c=Ff(a.root.M,c);var f=a.cnt-1>>>b&31;if(5===b)a=d;else{var g=c.arr[f];null!=g?(b-=5,a=Gf.C?Gf.C(a,b,g,d):Gf.call(null,a,b,g,d)):a=mf(a.root.M,b-5,d)}c.arr[f]=a;return c};
function vf(a,b,c,d){this.cnt=a;this.shift=b;this.root=c;this.ja=d;this.H=88;this.A=275}h=vf.prototype;
h.bb=function(a,b){if(this.root.M){if(32>this.cnt-lf(this))this.ja[this.cnt&31]=b;else{a=new jf(this.root.M,this.ja);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.ja=c;this.cnt>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=mf(this.root.M,this.shift,a),this.root=new jf(this.root.M,b),this.shift=c):this.root=Gf(this,this.shift,this.root,a)}this.cnt+=1;return this}throw Error("conj! after persistent!");};h.kb=function(){if(this.root.M){this.root.M=null;var a=this.cnt-lf(this),b=Array(a);pd(this.ja,0,b,0,a);return new V(null,this.cnt,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
h.ab=function(a,b,c){if("number"===typeof b)return Hf(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Hf(a,b,c){if(a.root.M){if(0<=b&&b<a.cnt){if(lf(a)<=b)a.ja[b&31]=c;else{var d=function k(f,g){g=Ff(a.root.M,g);if(0===f)g.arr[b&31]=c;else{var l=b>>>f&31;f=k(f-5,g.arr[l]);g.arr[l]=f}return g}(a.shift,a.root);a.root=d}return a}if(b===a.cnt)return a.bb(null,c);throw Error(["Index ",A.g(b)," out of bounds for TransientVector of length",A.g(a.cnt)].join(""));}throw Error("assoc! after persistent!");}h.T=function(){if(this.root.M)return this.cnt;throw Error("count after persistent!");};
h.J=function(a,b){if(this.root.M)return pf(this,b)[b&31];throw Error("nth after persistent!");};h.na=function(a,b,c){return 0<=b&&b<this.cnt?this.J(null,b):c};h.la=function(a,b){return this.R(null,b,null)};h.R=function(a,b,c){if(this.root.M)return"number"===typeof b?this.na(null,b,c):c;throw Error("lookup after persistent!");};
h.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};h.g=function(a){return this.la(null,a)};h.h=function(a,b){return this.R(null,a,b)};function If(){this.A=2097152;this.H=0}If.prototype.P=function(){return!1};var Jf=new If;
function Kf(a,b){return sd(ld(b)&&!md(b)?P(a)===P(b)?(null!=a?a.A&1048576||r===a.dc||(a.A?0:y(yb,a)):y(yb,a))?Dd(function(c,d,e){return G.h(qc(b,d,Jf),e)?!0:new Fc},a):qe(function(c){return G.h(qc(b,K(c),Jf),K(N(c)))},a):null:null)}function Lf(a){this.s=a}Lf.prototype.next=function(){if(null!=this.s){var a=K(this.s),b=T(a,0,null);a=T(a,1,null);this.s=N(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Mf(a){this.s=a}
Mf.prototype.next=function(){if(null!=this.s){var a=K(this.s);this.s=N(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Nf(a,b){if(b instanceof E)a:{var c=a.length;b=b.ia;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof E&&b===a[d].ia){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof oc)a:for(c=a.length,b=b.str,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof oc&&b===a[d].str){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(G.h(b,a[d])){a=d;break a}d+=2}return a}function uf(a,b){this.key=a;this.val=b;this.D=null;this.A=166619935;this.H=0}h=uf.prototype;h.ib=function(a,b){switch(b){case 0:return new uf(0,this.key);case 1:return new uf(1,this.val);default:return null}};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();h.la=function(a,b){return this.na(null,b,null)};h.R=function(a,b,c){return this.na(null,b,c)};h.J=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
h.na=function(a,b,c){return 0===b?this.key:1===b?this.val:c};h.Ib=function(a,b){return(new V(null,2,5,W,[this.key,this.val],null)).Ib(a,b)};h.S=function(){return null};h.T=function(){return 2};h.fc=function(){return this.key};h.hc=function(){return this.val};h.Bb=function(){return new H([this.val,this.key],0,null)};h.V=function(){var a=this.D;return null!=a?a:this.D=a=Ac(this)};h.P=function(a,b){return Sc(this,b)};h.Z=function(){return null};h.ba=function(a,b){return Ic(this,b)};
h.ca=function(a,b,c){a:{a=this.T(null);var d=c;for(c=0;;)if(c<a){var e=this.J(null,c);d=b.h?b.h(d,e):b.call(null,d,e);if(Gc(d)){b=rb(d);break a}c+=1}else{b=d;break a}}return b};h.Na=function(a,b,c){return U.j(new V(null,2,5,W,[this.key,this.val],null),b,c)};h.Xa=function(a,b){return 0===b||1===b};h.N=function(){return new H([this.key,this.val],0,null)};h.X=function(a,b){return ed(new V(null,2,5,W,[this.key,this.val],null),b)};h.$=function(a,b){return new V(null,3,5,W,[this.key,this.val,b],null)};
h.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};h.g=function(a){return this.J(null,a)};h.h=function(a,b){return this.na(null,a,b)};function Af(a){return null!=a?a.A&2048||r===a.Ec?!0:!1:!1}function Of(a,b,c){this.arr=a;this.i=b;this.pa=c;this.A=32374990;this.H=262144}
h=Of.prototype;h.toString=function(){return cc(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();h.S=function(){return this.pa};h.Y=function(){return this.i<this.arr.length-2?new Of(this.arr,this.i+2,null):null};h.T=function(){return(this.arr.length-this.i)/2};h.V=function(){return Ac(this)};
h.P=function(a,b){return Sc(this,b)};h.Z=function(){return M};h.ba=function(a,b){return Uc(b,this)};h.ca=function(a,b,c){return Wc(b,c,this)};h.aa=function(){return new uf(this.arr[this.i],this.arr[this.i+1])};h.da=function(){return this.i<this.arr.length-2?new Of(this.arr,this.i+2,null):M};h.N=function(){return this};h.X=function(a,b){return b===this.pa?this:new Of(this.arr,this.i,b)};h.$=function(a,b){return R(b,this)};h.Ja=function(a,b){return b<this.T(null)?new Of(this.arr,this.i+2*b,null):null};
Of.prototype[Ka]=function(){return yc(this)};function Pf(a,b){this.arr=a;this.i=0;this.cnt=b}Pf.prototype.fa=function(){return this.i<this.cnt};Pf.prototype.next=function(){var a=new uf(this.arr[this.i],this.arr[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.cnt=b;this.arr=c;this.D=d;this.A=16647951;this.H=401412}h=v.prototype;h.ib=function(a,b){a=Nf(this.arr,b);return-1===a?null:new uf(this.arr[a],this.arr[a+1])};h.toString=function(){return cc(this)};
h.keys=function(){return yc(Qf.g?Qf.g(this):Qf.call(null,this))};h.entries=function(){return new Lf(I(I(this)))};h.values=function(){return yc(Rf.g?Rf.g(this):Rf.call(null,this))};h.has=function(a){return ud(this,a)};h.get=function(a,b){return this.R(null,a,b)};
h.forEach=function(a){for(var b=I(this),c=null,d=0,e=0;;)if(e<d){var f=c.J(null,e),g=T(f,0,null);f=T(f,1,null);a.h?a.h(f,g):a.call(null,f,g);e+=1}else if(b=I(b))od(b)?(c=Tb(b),b=Ub(b),g=c,d=P(c),c=g):(c=K(b),g=T(c,0,null),f=T(c,1,null),a.h?a.h(f,g):a.call(null,f,g),b=N(b),c=null,d=0),e=0;else return null};h.la=function(a,b){return this.R(null,b,null)};h.R=function(a,b,c){a=Nf(this.arr,b);return-1===a?c:this.arr[a+1]};
h.Ab=function(a,b,c){a=this.arr.length;for(var d=0;;)if(d<a){var e=this.arr[d],f=this.arr[d+1];c=b.j?b.j(c,e,f):b.call(null,c,e,f);if(Gc(c))return rb(c);d+=2}else return c};h.oa=function(){return new Pf(this.arr,2*this.cnt)};h.S=function(){return this.meta};h.T=function(){return this.cnt};h.V=function(){var a=this.D;return null!=a?a:this.D=a=Cc(this)};
h.P=function(a,b){if(ld(b)&&!md(b))if(a=this.arr.length,this.cnt===b.T(null))for(var c=0;;)if(c<a){var d=b.R(null,this.arr[c],qd);if(d!==qd)if(G.h(this.arr[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};h.Za=function(){return new Sf(this.arr.length,La(this.arr))};h.Z=function(){return ub(oe,this.meta)};h.ba=function(a,b){return Ad(this,b)};h.ca=function(a,b,c){return Bd(this,b,c)};
h.Hb=function(a,b){if(0<=Nf(this.arr,b)){a=this.arr.length;var c=a-2;if(0===c)return this.Z(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.cnt-1,c,null);G.h(b,this.arr[d])?d+=2:(c[e]=this.arr[d],c[e+1]=this.arr[d+1],e+=2,d+=2)}}else return this};
h.Na=function(a,b,c){a=Nf(this.arr,b);if(-1===a){if(this.cnt<Tf){a=this.arr;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.cnt+1,e,null)}return ub(ib(Xe(Uf,this),b,c),this.meta)}if(c===this.arr[a+1])return this;b=La(this.arr);b[a+1]=c;return new v(this.meta,this.cnt,b,null)};h.Xa=function(a,b){return-1!==Nf(this.arr,b)};h.N=function(){var a=this.arr;return 0<=a.length-2?new Of(a,0,null):null};
h.X=function(a,b){return b===this.meta?this:new v(b,this.cnt,this.arr,this.D)};h.$=function(a,b){if(nd(b))return this.Na(null,Ya(b,0),Ya(b,1));a=this;for(b=I(b);;){if(null==b)return a;var c=K(b);if(nd(c))a=ib(a,Ya(c,0),Ya(c,1)),b=N(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
h.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};h.g=function(a){return this.la(null,a)};h.h=function(a,b){return this.R(null,a,b)};h.Ja=function(a,b){a=this.N(null);return null==a?null:ac(a,b)};var oe=new v(null,0,[],Dc),Tf=8;
function Vf(a,b){return a===b?!0:a===b||a instanceof E&&b instanceof E&&a.ia===b.ia?!0:G.h(a,b)}function Wf(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=Vf(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function Xf(a,b){var c=a.length-1,d=I(b);b=Array(c+2*P(d));a=pd(a,0,b,0,c);for(b=c;;)if(d){var e=K(d);a[b]=mb(e);a[b+1]=nb(e);b=2+c;d=N(d)}else return a}
function bd(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=Vf(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?Yf(a,c):new v(null,b/2,a,null)}
function Yf(a,b){var c=b?Xf(a,Xe(oe,a[a.length-1])):a;a=Wf(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var g=0;;)if(g<f){var k=Vf(c[e],c[g]);if(k)return k;g=2+g}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var g=d-2;;)if(g>=e){if(Vf(c[e],c[g]))return g;g-=2}else return g}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new v(null,a.length/2,a,null)}return new v(null,c.length/2,c,null)}v.prototype[Ka]=function(){return yc(this)};
function Sf(a,b){this.cb={};this.Ta=a;this.arr=b;this.A=259;this.H=56}h=Sf.prototype;h.T=function(){if(this.cb)return Jd(this.Ta);throw Error("count after persistent!");};h.la=function(a,b){return this.R(null,b,null)};h.R=function(a,b,c){if(this.cb)return a=Nf(this.arr,b),-1===a?c:this.arr[a+1];throw Error("lookup after persistent!");};
h.bb=function(a,b){if(this.cb){if(Af(b))return this.ab(null,Bf.g?Bf.g(b):Bf.call(null,b),Cf.g?Cf.g(b):Cf.call(null,b));if(nd(b))return this.ab(null,b.g?b.g(0):b.call(null,0),b.g?b.g(1):b.call(null,1));a=I(b);for(b=this;;){var c=K(a);if(w(c))a=N(a),b=Pb(b,Bf.g?Bf.g(c):Bf.call(null,c),Cf.g?Cf.g(c):Cf.call(null,c));else return b}}else throw Error("conj! after persistent!");};h.kb=function(){if(this.cb)return this.cb=!1,new v(null,Jd(this.Ta),this.arr,null);throw Error("persistent! called twice");};
h.ab=function(a,b,c){if(this.cb){a=Nf(this.arr,b);if(-1===a){if(this.Ta+2<=2*Tf)return this.Ta+=2,this.arr.push(b),this.arr.push(c),this;a=Zf.h?Zf.h(this.Ta,this.arr):Zf.call(null,this.Ta,this.arr);return Pb(a,b,c)}c!==this.arr[a+1]&&(this.arr[a+1]=c);return this}throw Error("assoc! after persistent!");};
h.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};h.g=function(a){return this.R(null,a,null)};h.h=function(a,b){return this.R(null,a,b)};function Zf(a,b){for(var c=Mb(Uf),d=0;;)if(d<a)c=Pb(c,b[d],b[d+1]),d+=2;else return c}function $f(){this.val=!1}
function ag(a,b,c){a=La(a);a[b]=c;return a}function bg(a,b){var c=Array(a.length-2);pd(a,0,c,0,2*b);pd(a,2*(b+1),c,2*b,c.length-2*b);return c}function cg(a,b,c,d){a=a.Sa(b);a.arr[c]=d;return a}function dg(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var g=a[e+1];c=b.j?b.j(f,c,g):b.call(null,f,c,g)}else c=a[e+1],c=null!=c?c.rb(b,f):f;if(Gc(c))return c;e+=2;f=c}else return f}function eg(a){this.arr=a;this.i=0;this.Ha=this.sb=null}
eg.prototype.advance=function(){for(var a=this.arr.length;;)if(this.i<a){var b=this.arr[this.i],c=this.arr[this.i+1];null!=b?b=this.sb=new uf(b,c):null!=c?(b=$b(c),b=b.fa()?this.Ha=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};eg.prototype.fa=function(){var a=null!=this.sb;return a?a:(a=null!=this.Ha)?a:this.advance()};
eg.prototype.next=function(){if(null!=this.sb){var a=this.sb;this.sb=null;return a}if(null!=this.Ha)return a=this.Ha.next(),this.Ha.fa()||(this.Ha=null),a;if(this.advance())return this.next();throw Error("No such element");};eg.prototype.remove=function(){return Error("Unsupported operation")};function fg(a,b,c){this.M=a;this.O=b;this.arr=c;this.H=131072;this.A=0}h=fg.prototype;
h.Sa=function(a){if(a===this.M)return this;var b=Kd(this.O),c=Array(0>b?4:2*(b+1));pd(this.arr,0,c,0,2*b);return new fg(a,this.O,c)};h.pb=function(){return gg?gg(this.arr):hg.call(null,this.arr)};h.rb=function(a,b){return dg(this.arr,a,b)};h.Pa=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.O&e))return d;var f=Kd(this.O&e-1);e=this.arr[2*f];f=this.arr[2*f+1];return null==e?f.Pa(a+5,b,c,d):Vf(c,e)?f:d};
h.Fa=function(a,b,c,d,e,f){var g=1<<(c>>>b&31),k=Kd(this.O&g-1);if(0===(this.O&g)){var l=Kd(this.O);if(2*l<this.arr.length){a=this.Sa(a);b=a.arr;f.val=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.O|=g;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=ig.Fa(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===(this.O>>>
d&1)?d+=1:(k[d]=null!=this.arr[e]?ig.Fa(a,b+5,lc(this.arr[e]),this.arr[e],this.arr[e+1],f):this.arr[e+1],e+=2,d+=1);else break;return new jg(a,l+1,k)}b=Array(2*(l+4));pd(this.arr,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;pd(this.arr,2*k,b,2*(k+1),2*(l-k));f.val=!0;a=this.Sa(a);a.arr=b;a.O|=g;return a}l=this.arr[2*k];g=this.arr[2*k+1];if(null==l)return l=g.Fa(a,b+5,c,d,e,f),l===g?this:cg(this,a,2*k+1,l);if(Vf(d,l))return e===g?this:cg(this,a,2*k+1,e);f.val=!0;f=b+5;d=kg?kg(a,f,l,g,c,d,e):lg.call(null,a,f,l,g,
c,d,e);e=2*k;k=2*k+1;a=this.Sa(a);a.arr[e]=null;a.arr[k]=d;return a};
h.Ea=function(a,b,c,d,e){var f=1<<(b>>>a&31),g=Kd(this.O&f-1);if(0===(this.O&f)){var k=Kd(this.O);if(16<=k){g=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];g[b>>>a&31]=ig.Ea(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.O>>>c&1)?c+=1:(g[c]=null!=this.arr[d]?ig.Ea(a+5,lc(this.arr[d]),this.arr[d],this.arr[d+1],e):this.arr[d+1],d+=2,c+=1);else break;return new jg(null,k+1,g)}a=Array(2*(k+
1));pd(this.arr,0,a,0,2*g);a[2*g]=c;a[2*g+1]=d;pd(this.arr,2*g,a,2*(g+1),2*(k-g));e.val=!0;return new fg(null,this.O|f,a)}var l=this.arr[2*g];f=this.arr[2*g+1];if(null==l)return k=f.Ea(a+5,b,c,d,e),k===f?this:new fg(null,this.O,ag(this.arr,2*g+1,k));if(Vf(c,l))return d===f?this:new fg(null,this.O,ag(this.arr,2*g+1,d));e.val=!0;e=this.O;k=this.arr;a+=5;a=mg?mg(a,l,f,b,c,d):lg.call(null,a,l,f,b,c,d);c=2*g;g=2*g+1;d=La(k);d[c]=null;d[g]=a;return new fg(null,e,d)};
h.ob=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.O&e))return d;var f=Kd(this.O&e-1);e=this.arr[2*f];f=this.arr[2*f+1];return null==e?f.ob(a+5,b,c,d):Vf(c,e)?new uf(e,f):d};
h.qb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.O&d))return this;var e=Kd(this.O&d-1),f=this.arr[2*e],g=this.arr[2*e+1];return null==f?(a=g.qb(a+5,b,c),a===g?this:null!=a?new fg(null,this.O,ag(this.arr,2*e+1,a)):this.O===d?null:new fg(null,this.O^d,bg(this.arr,e))):Vf(c,f)?this.O===d?null:new fg(null,this.O^d,bg(this.arr,e)):this};h.oa=function(){return new eg(this.arr)};var ig=new fg(null,0,[]);function ng(a){this.arr=a;this.i=0;this.Ha=null}
ng.prototype.fa=function(){for(var a=this.arr.length;;){if(null!=this.Ha&&this.Ha.fa())return!0;if(this.i<a){var b=this.arr[this.i];this.i+=1;null!=b&&(this.Ha=$b(b))}else return!1}};ng.prototype.next=function(){if(this.fa())return this.Ha.next();throw Error("No such element");};ng.prototype.remove=function(){return Error("Unsupported operation")};function jg(a,b,c){this.M=a;this.cnt=b;this.arr=c;this.H=131072;this.A=0}h=jg.prototype;h.Sa=function(a){return a===this.M?this:new jg(a,this.cnt,La(this.arr))};
h.pb=function(){return og?og(this.arr):pg.call(null,this.arr)};h.rb=function(a,b){for(var c=this.arr.length,d=0;;)if(d<c){var e=this.arr[d];if(null!=e){b=e.rb(a,b);if(Gc(b))return b;d+=1}else d+=1}else return b};h.Pa=function(a,b,c,d){var e=this.arr[b>>>a&31];return null!=e?e.Pa(a+5,b,c,d):d};h.Fa=function(a,b,c,d,e,f){var g=c>>>b&31,k=this.arr[g];if(null==k)return a=cg(this,a,g,ig.Fa(a,b+5,c,d,e,f)),a.cnt+=1,a;b=k.Fa(a,b+5,c,d,e,f);return b===k?this:cg(this,a,g,b)};
h.Ea=function(a,b,c,d,e){var f=b>>>a&31,g=this.arr[f];if(null==g)return new jg(null,this.cnt+1,ag(this.arr,f,ig.Ea(a+5,b,c,d,e)));a=g.Ea(a+5,b,c,d,e);return a===g?this:new jg(null,this.cnt,ag(this.arr,f,a))};h.ob=function(a,b,c,d){var e=this.arr[b>>>a&31];return null!=e?e.ob(a+5,b,c,d):d};
h.qb=function(a,b,c){var d=b>>>a&31,e=this.arr[d];if(null!=e){a=e.qb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.cnt)a:{e=this.arr;a=e.length;b=Array(2*(this.cnt-1));c=0;for(var f=1,g=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,g|=1<<c,c+=1):c+=1;else{d=new fg(null,g,b);break a}}else d=new jg(null,this.cnt-1,ag(this.arr,d,a));else d=new jg(null,this.cnt,ag(this.arr,d,a));return d}return this};h.oa=function(){return new ng(this.arr)};
function qg(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Vf(c,a[d]))return d;d+=2}else return-1}function rg(a,b,c,d){this.M=a;this.Ka=b;this.cnt=c;this.arr=d;this.H=131072;this.A=0}h=rg.prototype;h.Sa=function(a){if(a===this.M)return this;var b=Array(2*(this.cnt+1));pd(this.arr,0,b,0,2*this.cnt);return new rg(a,this.Ka,this.cnt,b)};h.pb=function(){return gg?gg(this.arr):hg.call(null,this.arr)};h.rb=function(a,b){return dg(this.arr,a,b)};
h.Pa=function(a,b,c,d){a=qg(this.arr,this.cnt,c);return 0>a?d:Vf(c,this.arr[a])?this.arr[a+1]:d};
h.Fa=function(a,b,c,d,e,f){if(c===this.Ka){b=qg(this.arr,this.cnt,d);if(-1===b){if(this.arr.length>2*this.cnt)return b=2*this.cnt,c=2*this.cnt+1,a=this.Sa(a),a.arr[b]=d,a.arr[c]=e,f.val=!0,a.cnt+=1,a;c=this.arr.length;b=Array(c+2);pd(this.arr,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.cnt+1;a===this.M?(this.arr=b,this.cnt=d,a=this):a=new rg(this.M,this.Ka,d,b);return a}return this.arr[b+1]===e?this:cg(this,a,b+1,e)}return(new fg(a,1<<(this.Ka>>>b&31),[null,this,null,null])).Fa(a,b,c,d,e,f)};
h.Ea=function(a,b,c,d,e){return b===this.Ka?(a=qg(this.arr,this.cnt,c),-1===a?(a=2*this.cnt,b=Array(a+2),pd(this.arr,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new rg(null,this.Ka,this.cnt+1,b)):G.h(this.arr[a+1],d)?this:new rg(null,this.Ka,this.cnt,ag(this.arr,a+1,d))):(new fg(null,1<<(this.Ka>>>a&31),[null,this])).Ea(a,b,c,d,e)};h.ob=function(a,b,c,d){a=qg(this.arr,this.cnt,c);return 0>a?d:Vf(c,this.arr[a])?new uf(this.arr[a],this.arr[a+1]):d};
h.qb=function(a,b,c){a=qg(this.arr,this.cnt,c);return-1===a?this:1===this.cnt?null:new rg(null,this.Ka,this.cnt-1,bg(this.arr,Jd(a)))};h.oa=function(){return new eg(this.arr)};function lg(a){switch(arguments.length){case 6:return mg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return kg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}
function mg(a,b,c,d,e,f){var g=lc(b);if(g===d)return new rg(null,g,2,[b,c,e,f]);var k=new $f;return ig.Ea(a,g,b,c,k).Ea(a,d,e,f,k)}function kg(a,b,c,d,e,f,g){var k=lc(c);if(k===e)return new rg(null,k,2,[c,d,f,g]);var l=new $f;return ig.Fa(a,b,k,c,d,l).Fa(a,b,e,f,g,l)}function sg(a,b,c,d,e){this.meta=a;this.Ia=b;this.i=c;this.s=d;this.D=e;this.A=32374988;this.H=0}h=sg.prototype;h.toString=function(){return cc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();h.S=function(){return this.meta};h.Y=function(){if(null==this.s){var a=this.Ia,b=this.i+2;return tg?tg(a,b,null):hg.call(null,a,b,null)}a=this.Ia;b=this.i;var c=N(this.s);return tg?tg(a,b,c):hg.call(null,a,b,c)};
h.V=function(){var a=this.D;return null!=a?a:this.D=a=Ac(this)};h.P=function(a,b){return Sc(this,b)};h.Z=function(){return M};h.ba=function(a,b){return Uc(b,this)};h.ca=function(a,b,c){return Wc(b,c,this)};h.aa=function(){return null==this.s?new uf(this.Ia[this.i],this.Ia[this.i+1]):K(this.s)};
h.da=function(){var a=this,b=null==a.s?function(){var c=a.Ia,d=a.i+2;return tg?tg(c,d,null):hg.call(null,c,d,null)}():function(){var c=a.Ia,d=a.i,e=N(a.s);return tg?tg(c,d,e):hg.call(null,c,d,e)}();return null!=b?b:M};h.N=function(){return this};h.X=function(a,b){return b===this.meta?this:new sg(b,this.Ia,this.i,this.s,this.D)};h.$=function(a,b){return R(b,this)};sg.prototype[Ka]=function(){return yc(this)};
function hg(a){switch(arguments.length){case 1:return gg(arguments[0]);case 3:return tg(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}function gg(a){return tg(a,0,null)}function tg(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new sg(null,a,b,null,null);var d=a[b+1];if(w(d)&&(d=d.pb(),w(d)))return new sg(null,a,b+2,d,null);b+=2}else return null;else return new sg(null,a,b,c,null)}
function ug(a,b,c,d,e){this.meta=a;this.Ia=b;this.i=c;this.s=d;this.D=e;this.A=32374988;this.H=0}h=ug.prototype;h.toString=function(){return cc(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();h.S=function(){return this.meta};h.Y=function(){var a=this.Ia,b=this.i,c=N(this.s);return vg?vg(a,b,c):pg.call(null,a,b,c)};h.V=function(){var a=this.D;return null!=a?a:this.D=a=Ac(this)};h.P=function(a,b){return Sc(this,b)};
h.Z=function(){return M};h.ba=function(a,b){return Uc(b,this)};h.ca=function(a,b,c){return Wc(b,c,this)};h.aa=function(){return K(this.s)};h.da=function(){var a=this.Ia;var b=this.i,c=N(this.s);a=vg?vg(a,b,c):pg.call(null,a,b,c);return null!=a?a:M};h.N=function(){return this};h.X=function(a,b){return b===this.meta?this:new ug(b,this.Ia,this.i,this.s,this.D)};h.$=function(a,b){return R(b,this)};ug.prototype[Ka]=function(){return yc(this)};
function pg(a){switch(arguments.length){case 1:return og(arguments[0]);case 3:return vg(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}}function og(a){return vg(a,0,null)}function vg(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(w(d)&&(d=d.pb(),w(d)))return new ug(null,a,b+1,d,null);b+=1}else return null;else return new ug(null,a,b,c,null)}function wg(a,b){this.ha=a;this.Wb=b;this.Mb=!1}
wg.prototype.fa=function(){return!this.Mb||this.Wb.fa()};wg.prototype.next=function(){if(this.Mb)return this.Wb.next();this.Mb=!0;return new uf(null,this.ha)};wg.prototype.remove=function(){return Error("Unsupported operation")};function xg(a,b,c,d,e,f){this.meta=a;this.cnt=b;this.root=c;this.ga=d;this.ha=e;this.D=f;this.A=16123663;this.H=139268}h=xg.prototype;h.ib=function(a,b){return null==b?this.ga?new uf(null,this.ha):null:null==this.root?null:this.root.ob(0,lc(b),b,null)};h.toString=function(){return cc(this)};
h.keys=function(){return yc(Qf.g?Qf.g(this):Qf.call(null,this))};h.entries=function(){return new Lf(I(I(this)))};h.values=function(){return yc(Rf.g?Rf.g(this):Rf.call(null,this))};h.has=function(a){return ud(this,a)};h.get=function(a,b){return this.R(null,a,b)};
h.forEach=function(a){for(var b=I(this),c=null,d=0,e=0;;)if(e<d){var f=c.J(null,e),g=T(f,0,null);f=T(f,1,null);a.h?a.h(f,g):a.call(null,f,g);e+=1}else if(b=I(b))od(b)?(c=Tb(b),b=Ub(b),g=c,d=P(c),c=g):(c=K(b),g=T(c,0,null),f=T(c,1,null),a.h?a.h(f,g):a.call(null,f,g),b=N(b),c=null,d=0),e=0;else return null};h.la=function(a,b){return this.R(null,b,null)};h.R=function(a,b,c){return null==b?this.ga?this.ha:c:null==this.root?c:this.root.Pa(0,lc(b),b,c)};
h.Ab=function(a,b,c){a=this.ga?b.j?b.j(c,null,this.ha):b.call(null,c,null,this.ha):c;Gc(a)?b=rb(a):null!=this.root?(b=this.root.rb(b,a),b=Gc(b)?Hc.g?Hc.g(b):Hc.call(null,b):b):b=a;return b};h.oa=function(){var a=this.root?$b(this.root):new pe(oe);return this.ga?new wg(this.ha,a):a};h.S=function(){return this.meta};h.T=function(){return this.cnt};h.V=function(){var a=this.D;return null!=a?a:this.D=a=Cc(this)};h.P=function(a,b){return Kf(this,b)};
h.Za=function(){return new yg(this.root,this.cnt,this.ga,this.ha)};h.Z=function(){return ub(Uf,this.meta)};h.Hb=function(a,b){if(null==b)return this.ga?new xg(this.meta,this.cnt-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.qb(0,lc(b),b);return a===this.root?this:new xg(this.meta,this.cnt-1,a,this.ga,this.ha,null)};
h.Na=function(a,b,c){if(null==b)return this.ga&&c===this.ha?this:new xg(this.meta,this.ga?this.cnt:this.cnt+1,this.root,!0,c,null);a=new $f;b=(null==this.root?ig:this.root).Ea(0,lc(b),b,c,a);return b===this.root?this:new xg(this.meta,a.val?this.cnt+1:this.cnt,b,this.ga,this.ha,null)};h.Xa=function(a,b){return null==b?this.ga:null==this.root?!1:this.root.Pa(0,lc(b),b,qd)!==qd};h.N=function(){if(0<this.cnt){var a=null!=this.root?this.root.pb():null;return this.ga?R(new uf(null,this.ha),a):a}return null};
h.X=function(a,b){return b===this.meta?this:new xg(b,this.cnt,this.root,this.ga,this.ha,this.D)};h.$=function(a,b){if(nd(b))return this.Na(null,Ya(b,0),Ya(b,1));a=this;for(b=I(b);;){if(null==b)return a;var c=K(b);if(nd(c))a=ib(a,Ya(c,0),Ya(c,1)),b=N(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
h.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};h.g=function(a){return this.la(null,a)};h.h=function(a,b){return this.R(null,a,b)};var Uf=new xg(null,0,null,!1,null,Dc);
function zg(a,b){for(var c=a.length,d=0,e=Mb(Uf);;)if(d<c){if(b.length<=d)throw Error(["No value supplied for key: ",A.g(a[d])].join(""));var f=d+1;e=Pb(e,a[d],b[d]);d=f}else return Ob(e)}xg.prototype[Ka]=function(){return yc(this)};function yg(a,b,c,d){this.M={};this.root=a;this.count=b;this.ga=c;this.ha=d;this.A=259;this.H=56}
function Ag(a,b,c){if(a.M){if(null==b)a.ha!==c&&(a.ha=c),a.ga||(a.count+=1,a.ga=!0);else{var d=new $f;b=(null==a.root?ig:a.root).Fa(a.M,0,lc(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}h=yg.prototype;h.T=function(){if(this.M)return this.count;throw Error("count after persistent!");};h.la=function(a,b){return null==b?this.ga?this.ha:null:null==this.root?null:this.root.Pa(0,lc(b),b)};
h.R=function(a,b,c){return null==b?this.ga?this.ha:c:null==this.root?c:this.root.Pa(0,lc(b),b,c)};h.bb=function(a,b){a:if(this.M)if(Af(b))a=Ag(this,Bf.g?Bf.g(b):Bf.call(null,b),Cf.g?Cf.g(b):Cf.call(null,b));else if(nd(b))a=Ag(this,b.g?b.g(0):b.call(null,0),b.g?b.g(1):b.call(null,1));else for(a=I(b),b=this;;){var c=K(a);if(w(c))a=N(a),b=Ag(b,Bf.g?Bf.g(c):Bf.call(null,c),Cf.g?Cf.g(c):Cf.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
h.kb=function(){if(this.M){this.M=null;var a=new xg(null,this.count,this.root,this.ga,this.ha,null)}else throw Error("persistent! called twice");return a};h.ab=function(a,b,c){return Ag(this,b,c)};h.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};
h.g=function(a){return this.la(null,a)};h.h=function(a,b){return this.R(null,a,b)};var Bg=function Bg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new H(c.slice(0),0,null):null;return Bg.v(c)};Bg.v=function(a){for(var b=I(a),c=Mb(Uf);;)if(b){var d=N(b);if(null==d)throw Error(["No value supplied for key: ",A.g(K(b))].join(""));a=N(d);b=K(b);d=K(d);d=Pb(c,b,d);b=a;c=d}else return Ob(c)};Bg.F=0;Bg.G=function(a){return this.v(I(a))};
var Cg=function Cg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new H(c.slice(0),0,null):null;return Cg.v(c)};Cg.v=function(a){var b=a instanceof H&&0===a.i?a.arr:Ma(a);a=b.length;if(!td(a))throw Error(["Argument must be an integer: ",A.g(a)].join(""));if(0!==(a&1)){a=Error;var c=A,d=c.g;a:for(;;){var e=N(b);if(null!=e)b=e;else{b=K(b);break a}}throw a(["No value supplied for key: ",d.call(c,b)].join(""));}return bd(b)};Cg.F=0;Cg.G=function(a){return this.v(I(a))};
function Dg(a,b){this.I=a;this.pa=b;this.A=32374988;this.H=0}h=Dg.prototype;h.toString=function(){return cc(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();h.S=function(){return this.pa};h.Y=function(){var a=(null!=this.I?this.I.A&128||r===this.I.jb||(this.I.A?0:y(bb,this.I)):y(bb,this.I))?this.I.Y(null):N(this.I);return null==a?null:new Dg(a,null)};h.V=function(){return Ac(this)};
h.P=function(a,b){return Sc(this,b)};h.Z=function(){return M};h.ba=function(a,b){return Uc(b,this)};h.ca=function(a,b,c){return Wc(b,c,this)};h.aa=function(){return this.I.aa(null).key};h.da=function(){var a=(null!=this.I?this.I.A&128||r===this.I.jb||(this.I.A?0:y(bb,this.I)):y(bb,this.I))?this.I.Y(null):N(this.I);return null!=a?new Dg(a,null):M};h.N=function(){return this};h.X=function(a,b){return b===this.pa?this:new Dg(this.I,b)};h.$=function(a,b){return R(b,this)};Dg.prototype[Ka]=function(){return yc(this)};
function Qf(a){return(a=I(a))?new Dg(a,null):null}function Bf(a){return mb(a)}function Eg(a,b){this.I=a;this.pa=b;this.A=32374988;this.H=0}h=Eg.prototype;h.toString=function(){return cc(this)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();h.S=function(){return this.pa};h.Y=function(){var a=(null!=this.I?this.I.A&128||r===this.I.jb||(this.I.A?0:y(bb,this.I)):y(bb,this.I))?this.I.Y(null):N(this.I);return null==a?null:new Eg(a,null)};h.V=function(){return Ac(this)};
h.P=function(a,b){return Sc(this,b)};h.Z=function(){return M};h.ba=function(a,b){return Uc(b,this)};h.ca=function(a,b,c){return Wc(b,c,this)};h.aa=function(){return this.I.aa(null).val};h.da=function(){var a=(null!=this.I?this.I.A&128||r===this.I.jb||(this.I.A?0:y(bb,this.I)):y(bb,this.I))?this.I.Y(null):N(this.I);return null!=a?new Eg(a,null):M};h.N=function(){return this};h.X=function(a,b){return b===this.pa?this:new Eg(this.I,b)};h.$=function(a,b){return R(b,this)};Eg.prototype[Ka]=function(){return yc(this)};
function Rf(a){return(a=I(a))?new Eg(a,null):null}function Cf(a){return nb(a)}var Fg=function Fg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new H(c.slice(0),0,null):null;return Fg.v(c)};Fg.v=function(a){return w(re(Ed,a))?Cd(function(b,c){return Xc.h(w(b)?b:oe,c)},a):null};Fg.F=0;Fg.G=function(a){return this.v(I(a))};function Jg(a){this.eb=a}Jg.prototype.fa=function(){return this.eb.fa()};
Jg.prototype.next=function(){if(this.eb.fa())return this.eb.next().key;throw Error("No such element");};Jg.prototype.remove=function(){return Error("Unsupported operation")};function Kg(a,b,c){this.meta=a;this.La=b;this.D=c;this.A=15077647;this.H=139268}h=Kg.prototype;h.toString=function(){return cc(this)};h.keys=function(){return yc(I(this))};h.entries=function(){return new Mf(I(I(this)))};h.values=function(){return yc(I(this))};h.has=function(a){return ud(this,a)};
h.forEach=function(a){for(var b=I(this),c=null,d=0,e=0;;)if(e<d){var f=c.J(null,e),g=T(f,0,null);f=T(f,1,null);a.h?a.h(f,g):a.call(null,f,g);e+=1}else if(b=I(b))od(b)?(c=Tb(b),b=Ub(b),g=c,d=P(c),c=g):(c=K(b),g=T(c,0,null),f=T(c,1,null),a.h?a.h(f,g):a.call(null,f,g),b=N(b),c=null,d=0),e=0;else return null};h.la=function(a,b){return this.R(null,b,null)};h.R=function(a,b,c){a=jb(this.La,b);return w(a)?mb(a):c};h.oa=function(){return new Jg($b(this.La))};h.S=function(){return this.meta};h.T=function(){return Sa(this.La)};
h.V=function(){var a=this.D;return null!=a?a:this.D=a=Cc(this)};h.P=function(a,b){if(a=jd(b))if(a=P(this)===P(b))try{return Dd(function(c,d){return(c=ud(b,d))?c:new Fc},this.La)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};h.Za=function(){return new Lg(Mb(this.La))};h.Z=function(){return ub(Ce,this.meta)};h.Sb=function(a,b){return new Kg(this.meta,lb(this.La,b),null)};h.N=function(){return Qf(this.La)};h.X=function(a,b){return b===this.meta?this:new Kg(b,this.La,this.D)};
h.$=function(a,b){return new Kg(this.meta,U.j(this.La,b,null),null)};h.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};h.g=function(a){return this.la(null,a)};h.h=function(a,b){return this.R(null,a,b)};var Ce=new Kg(null,oe,Dc);
function Mg(a){for(var b=a.length,c=Mb(Ce),d=0;;)if(d<b)Nb(c,a[d]),d+=1;else break;return Ob(c)}Kg.prototype[Ka]=function(){return yc(this)};function Lg(a){this.Va=a;this.H=136;this.A=259}h=Lg.prototype;h.bb=function(a,b){this.Va=Pb(this.Va,b,null);return this};h.kb=function(){return new Kg(null,Ob(this.Va),null)};h.T=function(){return P(this.Va)};h.la=function(a,b){return this.R(null,b,null)};h.R=function(a,b,c){return eb(this.Va,b,qd)===qd?c:b};
h.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length-1)].join(""));}};h.apply=function(a,b){return this.call.apply(this,[this].concat(La(b)))};h.g=function(a){return eb(this.Va,a,qd)===qd?null:a};h.h=function(a,b){return eb(this.Va,a,qd)===qd?b:a};
function Ng(a){if(jd(a))return ed(a,null);a=I(a);if(null==a)return Ce;if(a instanceof H&&0===a.i)return Mg(a.arr);for(var b=Mb(Ce);;)if(null!=a){var c=N(a);b=Nb(b,C(a));a=c}else return Ob(b)}function Sd(a){if(null!=a&&(a.H&4096||r===a.jc))return a.name;if("string"===typeof a)return a;throw Error(["Doesn't support name: ",A.g(a)].join(""));}
var Og=function Og(a){switch(arguments.length){case 2:return Og.h(arguments[0],arguments[1]);case 3:return Og.j(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new H(c.slice(3),0,null):null;return Og.v(arguments[0],arguments[1],arguments[2],c)}};Og.h=function(a,b){return b};Og.j=function(a,b,c){return(a.g?a.g(b):a.call(null,b))<(a.g?a.g(c):a.call(null,c))?b:c};
Og.v=function(a,b,c,d){return Na(function(e,f){return Og.j(a,e,f)},Og.j(a,b,c),d)};Og.G=function(a){var b=K(a),c=N(a);a=K(c);var d=N(c);c=K(d);d=N(d);return this.v(b,a,c,d)};Og.F=3;function Pg(a,b,c){this.start=a;this.step=b;this.count=c;this.A=82;this.H=0}h=Pg.prototype;h.T=function(){return this.count};h.aa=function(){return this.start};h.J=function(a,b){return this.start+b*this.step};h.na=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};
h.Gb=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Pg(this.start+this.step,this.step,this.count-1)};function Qg(a,b,c){this.i=a;this.end=b;this.step=c}Qg.prototype.fa=function(){return 0<this.step?this.i<this.end:this.i>this.end};Qg.prototype.next=function(){var a=this.i;this.i+=this.step;return a};function Rg(a,b,c,d,e,f){this.meta=a;this.start=b;this.end=c;this.step=d;this.cnt=e;this.D=f;this.A=32375006;this.H=402944}h=Rg.prototype;h.toString=function(){return cc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();h.J=function(a,b){if(0<=b&&b<this.T(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};
h.na=function(a,b,c){return 0<=b&&b<this.T(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};h.oa=function(){return new Qg(this.start,this.end,this.step)};h.S=function(){return this.meta};
h.Y=function(){return 0<this.step?this.start+this.step<this.end?new Rg(null,this.start+this.step,this.end,this.step,Math.ceil((this.end-(this.start+this.step))/this.step),null):null:this.start+this.step>this.end?new Rg(null,this.start+this.step,this.end,this.step,Math.ceil((this.end-(this.start+this.step))/this.step),null):null};h.T=function(){return this.cnt};h.V=function(){var a=this.D;return null!=a?a:this.D=a=Ac(this)};h.P=function(a,b){return Sc(this,b)};h.Z=function(){return M};
h.ba=function(a,b){return Ic(this,b)};h.ca=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.h?b.h(c,a):b.call(null,c,a);if(Gc(c))return rb(c);a+=this.step}else return c};h.aa=function(){return this.start};h.da=function(){var a=this.Y(null);return null==a?M:a};h.N=function(){return this};h.fb=function(){var a=this.cnt;return new Pg(this.start,this.step,32>a?a:32)};
h.Oa=function(){if(32>=this.cnt)return M;var a=this.start+32*this.step;return 0<this.step?this.end<=a?M:new Rg(null,a,this.end,this.step,Math.ceil((this.end-a)/this.step),null):0>this.step?this.end>=a?M:new Rg(null,a,this.end,this.step,Math.ceil((this.end-a)/this.step),null):this.end===a?M:new Ve(null,-1,a,null)};h.X=function(a,b){return b===this.meta?this:new Rg(b,this.start,this.end,this.step,this.cnt,this.D)};h.$=function(a,b){return R(b,this)};
h.Ja=function(a,b){return 0<b?b<this.cnt?new Rg(null,this.start+this.step*b,this.end,this.step,this.cnt-b,null):null:this};h.zb=function(){return I(this.Oa(null))};Rg.prototype[Ka]=function(){return yc(this)};function Sg(a,b,c,d,e,f,g){this.meta=a;this.start=b;this.end=c;this.step=d;this.ea=e;this.xb=f;this.D=g;this.H=140800;this.A=32374988}h=Sg.prototype;h.toString=function(){return cc(this)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return O(this,b,0);case 2:return O(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return O(this,b,0)};a.h=function(b,c){return O(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return Q(this,c,d)};return b}();
function Tg(a){if(null==a.ea){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];a:{var c=0;for(var d=a.start;;)if(32>c){if(b[c]=d,c+=1,d+=a.step,!(0<a.step?d<a.end:d>a.end)){c=a.ea=new Wd(b,0,c);break a}}else{c=d;break a}}null==a.ea&&(a.ea=new Wd(b,0,32),(0<a.step?c<a.end:c>a.end)&&(a.xb=new Sg(null,c,a.end,a.step,null,null,null)))}}
h.oa=function(){return new Qg(this.start,this.end,this.step)};h.S=function(){return this.meta};h.Y=function(){return 0<this.step?this.start+this.step<this.end?new Sg(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Sg(null,this.start+this.step,this.end,this.step,null,null,null):null};h.V=function(){var a=this.D;return null!=a?a:this.D=a=Ac(this)};h.P=function(a,b){return Sc(this,b)};h.Z=function(){return M};h.ba=function(a,b){return Uc(b,this)};
h.ca=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.h?b.h(c,a):b.call(null,c,a);if(Gc(c))return rb(c);a+=this.step}else return c};h.aa=function(){return this.start};h.da=function(){var a=this.Y(null);return null==a?M:a};h.N=function(){return this};h.fb=function(){Tg(this);return this.ea};h.Oa=function(){Tg(this);return null==this.xb?M:this.xb};h.X=function(a,b){return b===this.meta?this:new Sg(b,this.start,this.end,this.step,this.ea,this.xb,this.D)};
h.$=function(a,b){return R(b,this)};h.zb=function(){return I(this.Oa(null))};Sg.prototype[Ka]=function(){return yc(this)};function Ug(a){return 0>=a?M:td(0)&&td(a)&&td(1)?new Rg(null,0,a,1,Math.ceil(a-0),null):new Sg(null,0,a,1,null,null,null)}function Vg(a){a:for(var b=a;;)if(b=I(b))b=N(b);else break a;return a}
function Wg(a,b,c,d,e,f,g){var k=xa;xa=null==xa?null:xa-1;try{if(null!=xa&&0>xa)return Jb(a,"#");Jb(a,c);if(0===Da.g(f))I(g)&&Jb(a,function(){var u=Xg.g(f);return w(u)?u:"..."}());else{if(I(g)){var l=K(g);b.j?b.j(l,a,f):b.call(null,l,a,f)}for(var m=N(g),n=Da.g(f)-1;;)if(!m||null!=n&&0===n){I(m)&&0===n&&(Jb(a,d),Jb(a,function(){var u=Xg.g(f);return w(u)?u:"..."}()));break}else{Jb(a,d);var q=K(m);c=a;g=f;b.j?b.j(q,c,g):b.call(null,q,c,g);var t=N(m);c=n-1;m=t;n=c}}return Jb(a,e)}finally{xa=k}}
function Yg(a,b){b=I(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.J(null,e);Jb(a,f);e+=1}else if(b=I(b))c=b,od(c)?(b=Tb(c),d=Ub(c),c=b,f=P(b),b=d,d=f):(f=K(c),Jb(a,f),b=N(c),c=null,d=0),e=0;else return null}function Zg(a){if(null==va)throw Error("No *print-fn* fn set for evaluation environment");va.call(null,a)}var $g={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function ah(a){return['"',A.g(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return $g[b]})),'"'].join("")}function bh(a,b){return(a=sd(D(a,Ba)))?(a=null!=b?b.A&131072||r===b.ic?!0:!1:!1)?null!=fd(b):a:a}
function ch(a,b,c){if(null==a)return Jb(b,"nil");if(bh(c,a)){Jb(b,"^");var d=fd(a);dh.j?dh.j(d,b,c):dh.call(null,d,b,c);Jb(b," ")}if(a.rc)return a.Jc(a,b,c);if(null!=a?a.A&2147483648||r===a.W||(a.A?0:y(Kb,a)):y(Kb,a))return Lb(a,b,c);if(!0===a||!1===a)return Jb(b,A.g(a));if("number"===typeof a)return Jb(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":A.g(a));if(null!=a&&a.constructor===Object)return Jb(b,"#js "),d=Le.h(function(f){var g=/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/;
if("string"===typeof f)g=g.exec(f),g=null!=g&&G.h(g[0],f)?1===g.length?g[0]:zd(g):null;else throw new TypeError("re-matches must match against a string.");return new uf(null!=g?Rd.g(f):f,a[f])},la(a)),eh.C?eh.C(d,dh,b,c):eh.call(null,d,dh,b,c);if(Ga(a))return Wg(b,dh,"#js ["," ","]",c,a);if("string"===typeof a)return w(Aa.g(c))?Jb(b,ah(a)):Jb(b,a);if("function"===typeof a){var e=a.name;c=w(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return Yg(b,Tc(["#object[",c,w(!1)?
[' "',A.g(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,g){for(f=A.g(f);;)if(f.length<g)f=["0",f].join("");else return f},Yg(b,Tc(['#inst "',c(a.getUTCFullYear(),4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Yg(b,Tc(['#"',a.source,'"']));if(Pa(a))return Yg(b,Tc(["#object[",a.toString(),"]"]));if(w(function(){var f=
null==a?null:a.constructor;return null==f?null:f.Jb}()))return Yg(b,Tc(["#object[",a.constructor.Jb.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=w(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?Yg(b,Tc(["#object[",c,"]"])):Yg(b,Tc(["#object[",c," ",A.g(a),"]"]))}function dh(a,b,c){var d=fh.g(c);return w(d)?(c=U.j(c,gh,ch),d.j?d.j(a,b,c):d.call(null,a,b,c)):ch(a,b,c)}
function hh(a,b){if(hd(a))b="";else{var c=A,d=c.g,e=new ua,f=new bc(e);dh(K(a),f,b);a=I(N(a));for(var g=null,k=0,l=0;;)if(l<k){var m=g.J(null,l);Jb(f," ");dh(m,f,b);l+=1}else if(a=I(a))g=a,od(g)?(a=Tb(g),k=Ub(g),g=a,m=P(a),a=k,k=m):(m=K(g),Jb(f," "),dh(m,f,b),a=N(g),g=null,k=0),l=0;else break;b=d.call(c,e)}return b}var ih=function ih(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new H(c.slice(0),0,null):null;return ih.v(c)};
ih.v=function(a){var b=U.j(ya(),Aa,!1);Zg(hh(a,b));w(wa)?(a=ya(),Zg("\n"),a=(D(a,za),null)):a=null;return a};ih.F=0;ih.G=function(a){return this.v(I(a))};function jh(a){return a instanceof oc?rc.h(null,Sd(a)):Rd.h(null,Sd(a))}
function kh(a){if(w(!1)){var b=I(a),c=I(b),d=K(c);N(c);T(d,0,null);T(d,1,null);c=$c(a);for(a=null;;){d=a;b=I(b);a=K(b);var e=N(b),f=a;a=T(f,0,null);b=T(f,1,null);if(w(f))if(a instanceof E||a instanceof oc)if(w(d))if(G.h(d,Qd(a)))c=U.j(c,jh(a),b),a=d,b=e;else return null;else if(d=Qd(a),w(d))c=U.j(c,jh(a),b),a=d,b=e;else return null;else return null;else return new V(null,2,5,W,[d,c],null)}}else return null}
function lh(a,b,c,d,e){return Wg(d,function(f,g,k){var l=mb(f);c.j?c.j(l,g,k):c.call(null,l,g,k);Jb(g," ");f=nb(f);return c.j?c.j(f,g,k):c.call(null,f,g,k)},[A.g(a),"{"].join(""),", ","}",e,I(b))}function eh(a,b,c,d){var e=ld(a)?kh(a):null,f=T(e,0,null);e=T(e,1,null);return w(f)?lh(["#:",A.g(f)].join(""),e,b,c,d):lh(null,a,b,c,d)}Je.prototype.W=r;Je.prototype.K=function(a,b,c){Jb(b,"#object[cljs.core.Volatile ");dh(new v(null,1,[mh,this.state],null),b,c);return Jb(b,"]")};sc.prototype.W=r;
sc.prototype.K=function(a,b,c){Jb(b,"#'");return dh(this.Ua,b,c)};H.prototype.W=r;H.prototype.K=function(a,b,c){return Wg(b,dh,"("," ",")",c,this)};Td.prototype.W=r;Td.prototype.K=function(a,b,c){return Wg(b,dh,"("," ",")",c,this)};uf.prototype.W=r;uf.prototype.K=function(a,b,c){return Wg(b,dh,"["," ","]",c,this)};sg.prototype.W=r;sg.prototype.K=function(a,b,c){return Wg(b,dh,"("," ",")",c,this)};Of.prototype.W=r;Of.prototype.K=function(a,b,c){return Wg(b,dh,"("," ",")",c,this)};zc.prototype.W=r;
zc.prototype.K=function(a,b,c){return Wg(b,dh,"("," ",")",c,this)};Df.prototype.W=r;Df.prototype.K=function(a,b,c){return Wg(b,dh,"("," ",")",c,this)};Od.prototype.W=r;Od.prototype.K=function(a,b,c){return Wg(b,dh,"("," ",")",c,this)};Rc.prototype.W=r;Rc.prototype.K=function(a,b,c){return Wg(b,dh,"("," ",")",c,this)};Rg.prototype.W=r;Rg.prototype.K=function(a,b,c){return Wg(b,dh,"("," ",")",c,this)};xg.prototype.W=r;xg.prototype.K=function(a,b,c){return eh(this,dh,b,c)};ug.prototype.W=r;
ug.prototype.K=function(a,b,c){return Wg(b,dh,"("," ",")",c,this)};Qe.prototype.W=r;Qe.prototype.K=function(a,b,c){return Wg(b,dh,"("," ",")",c,this)};Kg.prototype.W=r;Kg.prototype.K=function(a,b,c){return Wg(b,dh,"#{"," ","}",c,this)};Xd.prototype.W=r;Xd.prototype.K=function(a,b,c){return Wg(b,dh,"("," ",")",c,this)};Fe.prototype.W=r;Fe.prototype.K=function(a,b,c){Jb(b,"#object[cljs.core.Atom ");dh(new v(null,1,[mh,this.state],null),b,c);return Jb(b,"]")};Eg.prototype.W=r;
Eg.prototype.K=function(a,b,c){return Wg(b,dh,"("," ",")",c,this)};Ve.prototype.W=r;Ve.prototype.K=function(a,b,c){return Wg(b,dh,"("," ",")",c,this)};V.prototype.W=r;V.prototype.K=function(a,b,c){return Wg(b,dh,"["," ","]",c,this)};Ld.prototype.W=r;Ld.prototype.K=function(a,b){return Jb(b,"()")};v.prototype.W=r;v.prototype.K=function(a,b,c){return eh(this,dh,b,c)};Sg.prototype.W=r;Sg.prototype.K=function(a,b,c){return Wg(b,dh,"("," ",")",c,this)};Dg.prototype.W=r;
Dg.prototype.K=function(a,b,c){return Wg(b,dh,"("," ",")",c,this)};Zc.prototype.W=r;Zc.prototype.K=function(a,b,c){return Wg(b,dh,"("," ",")",c,this)};oc.prototype.gb=r;oc.prototype.Ya=function(a,b){if(b instanceof oc)return nc(this,b);throw Error(["Cannot compare ",A.g(this)," to ",A.g(b)].join(""));};E.prototype.gb=r;E.prototype.Ya=function(a,b){if(b instanceof E)return Pd(this,b);throw Error(["Cannot compare ",A.g(this)," to ",A.g(b)].join(""));};V.prototype.gb=r;
V.prototype.Ya=function(a,b){if(nd(b))return wd(this,b);throw Error(["Cannot compare ",A.g(this)," to ",A.g(b)].join(""));};uf.prototype.gb=r;uf.prototype.Ya=function(a,b){if(nd(b))return wd(this,b);throw Error(["Cannot compare ",A.g(this)," to ",A.g(b)].join(""));};function nh(){}
function oh(a){if(null!=a&&null!=a.cc)a=a.cc(a);else{var b=oh[p(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=oh._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IEncodeJS.-clj-\x3ejs",a);}return a}function ph(a,b){return(null!=a?r===a.bc||(a.Kb?0:y(nh,a)):y(nh,a))?oh(a):"string"===typeof a||"number"===typeof a||a instanceof E||a instanceof oc?b.g?b.g(a):b.call(null,a):hh(Tc([a]),ya())}
var qh=function qh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new H(c.slice(1),0,null):null;return qh.v(arguments[0],c)};
qh.v=function(a,b){b=ne(b);var c=qc(b,rh,Sd),d=function g(f){if(null==f)return null;if(null!=f?r===f.bc||(f.Kb?0:y(nh,f)):y(nh,f))return oh(f);if(f instanceof E)return c.g?c.g(f):c.call(null,f);if(f instanceof oc)return A.g(f);if(ld(f)){var k={};f=I(f);for(var l=null,m=0,n=0;;)if(n<m){var q=l.J(null,n),t=T(q,0,null),u=T(q,1,null);q=k;t=ph(t,d);u=g(u);q[t]=u;n+=1}else if(f=I(f))od(f)?(m=Tb(f),f=Ub(f),l=m,m=P(m)):(l=K(f),m=T(l,0,null),n=T(l,1,null),l=k,m=ph(m,d),n=g(n),l[m]=n,f=N(f),l=null,m=0),n=0;
else break;return k}if(id(f)){k=[];f=I(Le.h(g,f));l=null;for(n=m=0;;)if(n<m)q=l.J(null,n),k.push(q),n+=1;else if(f=I(f))l=f,od(l)?(f=Tb(l),n=Ub(l),l=f,m=P(f),f=n):(f=K(l),k.push(f),f=N(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};qh.F=1;qh.G=function(a){var b=K(a);a=N(a);return this.v(b,a)};function sh(){}
function th(a,b){if(null!=a&&null!=a.ac)a=a.ac(a,b);else{var c=th[p(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=th._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IEncodeClojure.-js-\x3eclj",a);}return a}
function uh(){var a=window.analysisData,b=Tc([vh,!0]),c=ne(b);c=D(c,vh);var d=w(c)?Rd:A;return function g(f){return(null!=f?r===f.zc||(f.Kb?0:y(sh,f)):y(sh,f))?th(f,ie(Cg,b)):rd(f)?Vg(Le.h(g,f)):Af(f)?new uf(g(mb(f)),g(nb(f))):id(f)?Ye($c(f),Le.g(g),f):Ga(f)?Ob(Na(function(k,l){l=g(l);return Nb(k,l)},Mb(Yc),f)):Ia(f)===Object?Ob(Na(function(k,l){var m=d.g?d.g(l):d.call(null,l);l=g(ma(f,l));return Pb(k,m,l)},Mb(oe),la(f))):f}(a)}function Ue(){return 1*Math.random()}
function ue(a){return Oc(a,Math.floor(Math.random()*P(a)))}function xh(a){var b=Error("Unknown body kind ");this.message="Unknown body kind ";this.data=a;this.cause=null;this.name=b.name;this.description=b.description;this.number=b.number;this.fileName=b.fileName;this.lineNumber=b.lineNumber;this.columnNumber=b.columnNumber;this.stack=b.stack;return this}xh.prototype.__proto__=Error.prototype;xh.prototype.W=r;
xh.prototype.K=function(a,b,c){Jb(b,"#error {:message ");dh(this.message,b,c);w(this.data)&&(Jb(b,", :data "),dh(this.data,b,c));w(this.cause)&&(Jb(b,", :cause "),dh(this.cause,b,c));return Jb(b,"}")};xh.prototype.toString=function(){return cc(this)};"undefined"!==typeof console&&Ea();Ea();var af=new E(null,"gravity-effect","gravity-effect",474388861),yh=new E(null,"stroke-color","stroke-color",-1089418937),zh=new E(null,"left","left",-399115937),Ah=new E(null,"size","size",1098693007),Bh=new E(null,"line","line",212345235),Dh=new E(null,"enable-depth-sort","enable-depth-sort",-383089627),Eh=new E(null,"intensity","intensity",1142770863),Fh=new E(null,"disable-depth-test","disable-depth-test",284606407),Ca=new E(null,"dup","dup",556298533),Gg=new E(null,"pre-upload","pre-upload",-339757957),
Ig=new oc(null,"mouse-released","mouse-released",976051466,null),Ih=new E(null,"enable-optimized-stroke","enable-optimized-stroke",1537575253),wh=new E(null,"count","count",2139924085),Ch=new E(null,"scales?","scales?",-192184739),Kh=new E(null,"right","right",-452581833),Lh=new E(null,"current-fill","current-fill",1421462292),Mh=new E(null,"multiply","multiply",-1036907048),Nh=new E(null,"f9","f9",704633338),Oh=new E(null,"key-typed","key-typed",-876037597),Ph=new E(null,"f8","f8",-2141475484),Qh=
new E(null,"opengl","opengl",-614998103),Rh=new E(null,"focus-lost","focus-lost",-554849613),Sh=new E(null,"command","command",-894540724),Aa=new E(null,"readably","readably",1129599760),Th=new E(null,"ttl","ttl",-1115275118),Gh=new oc("benjamin-j-schwerdtner.beatviz.frontend.core","mouse-clicked","benjamin-j-schwerdtner.beatviz.frontend.core/mouse-clicked",-1369889287,null),Hh=new E(null,"angle","angle",1622094254),Vh=new E(null,"mouseOut","mouseOut",-386669045),Jh=new E(null,"green-yellow","green-yellow",
-254266235),Uh=new E(null,"width","width",-384071477),Yh=new E(null,"data","data",-232669377),Zh=new E(null,"fn","fn",-1175266204),$h=new E(null,"sides","sides",482708052),Wh=new E(null,"active-sustained","active-sustained",2110677310),Xh=new E(null,"magenta","magenta",1687937081),ci=new E(null,"mouse-moved","mouse-moved",-1918152310),di=new E(null,"kind","kind",-717265803),ei=new E(null,"soft-light","soft-light",513207899),ai=new E(null,"drag-start","drag-start",292353430),fi=new E(null,"show-constraints",
"show-constraints",-603164555),hi=new E(null,"spawn-center-effect","spawn-center-effect",-1749145495),ii=new E(null,"concentric-mysical","concentric-mysical",1269855084),ji=new E(null,"alt","alt",-3214426),ki=new E(null,"keyTyped","keyTyped",1437329399),li=new E(null,"likelihood","likelihood",-181348245),bi=new E(null,"mean_centroid","mean_centroid",1752779088),gi=new E(null,"mint","mint",-1303049165),mi=new oc(null,"update-state","update-state",987135268,null),ni=new E(null,"loading-state","loading-state",
-1170324532),oi=new E(null,"event-list","event-list",357209667),pi=new E(null,"beat-visuals","beat-visuals",1209179908),si=new E(null,"f5","f5",1587057387),ti=new E(null,"f4","f4",990968764),ui=new E(null,"f7","f7",356150168),vi=new E(null,"f6","f6",2103080604),wi=new E(null,"f1","f1",1714532389),yi=new E(null,"f3","f3",1954829043),zi=new E(null,"f2","f2",396168596),Ai=new E(null,"decor","decor",-1730969431),Bi=new E(null,"mouseReleased","mouseReleased",1116234838),qi=new E(null,"midnight-violet-1",
"midnight-violet-1",137763824),ri=new E(null,"time-speed","time-speed",-1435500713),Ei=new E(null,"render","render",-1408033454),xi=new E(null,"current-palette","current-palette",1754502181),Ci=new E(null,"beat-pulse","beat-pulse",1135115365),Di=new E(null,"spin-dir","spin-dir",-77053337),Hi=new E(null,"disable-texture-mipmaps","disable-texture-mipmaps",1697917541),Fi=new E(null,"doc","doc",1913296891),Gi=new oc(null,"draw-state","draw-state",1648096066,null),Ki=new E(null,"enable-opengl-errors",
"enable-opengl-errors",89998962),Ii=new E(null,"bounce","bounce",1491727280),Mi=new E(null,"opts","opts",155075701),Ni=new E(null,"setup","setup",1987730512),Ji=new oc(null,"event","event",1941966969,null),Pi=new E(null,"enable-async-saveframe","enable-async-saveframe",-1817644525),Li=new oc("benjamin-j-schwerdtner.beatviz.frontend.core","setup","benjamin-j-schwerdtner.beatviz.frontend.core/setup",302483366,null),Ri=new E(null,"corners","corners",-137817903),Oi=new E(null,"on-update","on-update",
1680216496),Qi=new oc(null,"mouse-clicked","mouse-clicked",1441192106,null),Ti=new E(null,"mouseClicked","mouseClicked",1764302965),Ui=new E(null,"background","background",-863952629),Si=new E(null,"column","column",2078222095),Wi=new E(null,"unknown-key","unknown-key",255305911),Xi=new E(null,"safe-draw-fn","safe-draw-fn",1454900202),Yi=new E(null,"close","close",1835149582),Zi=new E(null,"host-id","host-id",742376279),$i=new E(null,"screen-shake","screen-shake",-289314662),Vi=new E(null,"dark-blue",
"dark-blue",1793677975),bj=new E(null,"all-bounce","all-bounce",-1488382786),aj=new oc(null,"extra-data","extra-data",-1739422956,null),dj=new E(null,"duration","duration",1444101068),ej=new E(null,"on-close","on-close",-761178394),gj=new E(null,"f10","f10",627525541),hj=new E(null,"mouse-clicked","mouse-clicked",-199339421),ij=new E(null,"f11","f11",-1417398799),jj=new E(null,"f12","f12",853352790),cj=new E(null,"beat-analysis","beat-analysis",1534498659),fj=new E(null,"cluster-data","cluster-data",
1681375591),Se=new E(null,"circle","circle",1903212362),mj=new E(null,"key-released","key-released",215919828),kj=new oc(null,"benjamin-j-schwerdtner.beatviz.frontend.core","benjamin-j-schwerdtner.beatviz.frontend.core",35408213,null),oj=new E(null,"current-stroke","current-stroke",-1338415274),pj=new E(null,"exclusion","exclusion",531897910),lj=new E(null,"entity-connection-lines-foreign","entity-connection-lines-foreign",-89458658),nj=new E(null,"cluster-key","cluster-key",-502875940),qj=new E(null,
"anakiwa","anakiwa",1683948780),ye=new E(null,"triangle","triangle",-1828376667),rj=new E(null,"app-state","app-state",-1509963278),sj=new E(null,"on-click","on-click",1632826543),tj=new E(null,"main-beat-trigger","main-beat-trigger",-1325308478),uj=new E(null,"background-color-change","background-color-change",-1542181741),wj=new E(null,"enable-depth-test","enable-depth-test",1519326084),vj=new E(null,"woodsmoke","woodsmoke",897147692),yj=new E(null,"down","down",1565245570),zj=new E(null,"space",
"space",348133475),Aj=new E(null,"body-a-id","body-a-id",1613686833),Bj=new E(null,"renderer","renderer",336841071),xj=new E(null,"last-scale","last-scale",512369375),Cj=new E(null,"color-a","color-a",601723995),Ej=new E(null,"ns","ns",441598760),Dj=new E(null,"restitution","restitution",364735539),Fj=new E(null,"color-b","color-b",-988878341),Hj=new E(null,"birth-time","birth-time",-1392625033),Gj=new E(null,"on-main-beat","on-main-beat",680139818),Ij=new E(null,"test","test",577538877),Kj=new E(null,
"java2d","java2d",166099237),Lj=new oc(null,"state","state",-348086572,null),Jj=new E(null,"red","red",-969428204),Nj=new E(null,"center","center",-748944368),Mj=new E(null,"density","density",-1664155941),Oj=new E(null,"category","category",-593092832),Pj=new E(null,"concentric-entity?","concentric-entity?",-1324577490),Rj=new E(null,"frame-rate","frame-rate",-994918942),Sj=new E(null,"add","add",235287739),Qj=new E(null,"fruit-salad","fruit-salad",-2079294404),Tj=new E(null,"file","file",-1269645878),
Vj=new E(null,"mouse-dragged","mouse-dragged",-1220073441),Wj=new E(null,"disable-async-saveframe","disable-async-saveframe",-1346138728),Xj=new E(null,"key-pressed","key-pressed",-757100364),Yj=new E(null,"update","update",1045576396),Uj=new E(null,"sweet-pink","sweet-pink",1261650300),ak=new E(null,"draw","draw",1358331674),Zj=new oc(null,"mouse-dragged","mouse-dragged",420458086,null),bk=new E(null,"id","id",-1388402092),ck=new E(null,"collisionFilter","collisionFilter",-161885110),ek=new E(null,
"entity-connection-lines","entity-connection-lines",2021215831),dk=new E(null,"max-features","max-features",-1862267920),fk=new E(null,"mean_rms","mean_rms",-1296549684),hk=new E(null,"looping?","looping?",78344245),ik=new E(null,"phase","phase",575722892),jk=new E(null,"lightest","lightest",-2043115912),gk=new E(null,"target-scale","target-scale",353954637),kk=new E(null,"arglists","arglists",1661989754),mk=new E(null,"entity-blinkers","entity-blinkers",660173626),lk=new E(null,"isSensor","isSensor",
734841684),nk=new E(null,"end-column","end-column",1425389514),pk=new E(null,"key-code","key-code",-1732114304),qk=new E(null,"polygon","polygon",837053759),Ba=new E(null,"meta","meta",1499536964),ok=new E(null,"white","white",-483998618),rk=new E(null,"enable-texture-mipmaps","enable-texture-mipmaps",1241892671),sk=new E(null,"corner","corner",1296717125),tk=new E(null,"disable-opengl-errors","disable-opengl-errors",506822839),Da=new E(null,"print-length","print-length",1931866356),uk=new E(null,
"no-safe-draw","no-safe-draw",-1157778157),vk=new E(null,"constraints-style","constraints-style",-1667284979),wk=new E(null,"keyReleased","keyReleased",541714964),xk=new E(null,"brightness","brightness",1067055820),yk=new E(null,"midnight-purple","midnight-purple",-1583938803),zk=new E(null,"features","features",-1146962336),Ak=new E(null,"y","y",-1757859776),Bk=new E(null,"x","x",2099068185),Te=new E(null,"rect","rect",-108902628),Ck=new E(null,"heliotrope","heliotrope",-1300233332),Dk=new E(null,
"ground","ground",1193572934),Ek=new E(null,"concentric-entity","concentric-entity",1436840002),Gk=new E(null,"disable-optimized-stroke","disable-optimized-stroke",74038544),Hk=new E(null,"disable-stroke-perspective","disable-stroke-perspective",479198433),Fk=new E(null,"gravity-y","gravity-y",-116449257),Ik=new E(null,"burn","burn",-458179293),Jk=new E(null,"up","up",-269712113),Kk=new E(null,"keyPressed","keyPressed",1791025256),Lk=new oc("benjamin-j-schwerdtner.beatviz.frontend.core","update-state",
"benjamin-j-schwerdtner.beatviz.frontend.core/update-state",2098927861,null),Mk=new E(null,"raw-key","raw-key",-162482279),Nk=new E(null,"on-beat","on-beat",1078535864),Pk=new E(null,"body","body",-2049205669),Qk=new E(null,"host","host",-1558485167),Rk=new E(null,"mouseMoved","mouseMoved",-1936954058),Ok=new E(null,"beat-idx","beat-idx",-353719998),Tk=new E(null,"mouseDragged","mouseDragged",129975181),Uk=new E(null,"control","control",1892578036),Sk=new E(null,"genome","genome",-1313307628),Vk=
new E(null,"dragged-body","dragged-body",451317247),Wk=new E(null,"bodyB","bodyB",357099697),Xk=new E(null,"isStatic","isStatic",1002568003),Yk=new E(null,"bodyA","bodyA",-1769198322),gh=new E(null,"fallback-impl","fallback-impl",-1501286995),Zk=new E(null,"name","name",1843675177),al=new E(null,"mouse-exited","mouse-exited",-483205244),$k=new E(null,"beats","beats",-1172188163),cl=new E(null,"enable-stroke-pure","enable-stroke-pure",881345587),dl=new E(null,"subtract","subtract",2136988635),el=new E(null,
"bodies-style","bodies-style",88122550),fl=new E(null,"mouse-entered","mouse-entered",811350322),rh=new E(null,"keyword-fn","keyword-fn",-64566675),bl=new E(null,"state","state",-1988618099),gl=new E(null,"mystical-circle","mystical-circle",1248783307),hl=new E(null,"speed","speed",1257663751),vh=new E(null,"keywordize-keys","keywordize-keys",1310784252),jl=new E(null,"screen","screen",1990059748),il=new E(null,"indexes","indexes",1496475545),kl=new oc("benjamin-j-schwerdtner.beatviz.frontend.core",
"mouse-pressed","benjamin-j-schwerdtner.beatviz.frontend.core/mouse-pressed",1475540264,null),ll=new E(null,"cluster-idx","cluster-idx",-1268728156),nl=new E(null,"darkest","darkest",68197253),ml=new E(null,"min-features","min-features",-1492510725),pl=new E(null,"mouseWheel","mouseWheel",-1057803856),hf=new E(null,"entities","entities",1940967403),ol=new E(null,"scaler","scaler",2132908039),ql=new E(null,"mouseOver","mouseOver",-1334461930),rl=new E(null,"main-beat","main-beat",250588277),ul=new E(null,
"disable-depth-mask","disable-depth-mask",3298562),vl=new E(null,"body-b-id","body-b-id",-1791683751),wl=new E(null,"mousePressed","mousePressed",1776186454),sl=new oc("benjamin-j-schwerdtner.beatviz.frontend.core","draw-state","benjamin-j-schwerdtner.beatviz.frontend.core/draw-state",608620659,null),yl=new E(null,"mouse-released","mouse-released",-664480061),tl=new E(null,"last-tick","last-tick",355829290),Al=new E(null,"color","color",1011675173),Bl=new E(null,"shift","shift",997140064),xl=new E(null,
"t0","t0",2120162535),zl=new E(null,"orange","orange",73816386),Cl=new E(null,"amethyst-smoke","amethyst-smoke",-70821246),Fl=new E(null,"stroke-weight","stroke-weight",-2128041534),Dl=new E(null,"beat-period","beat-period",-1384719640),El=new E(null,"very-blue","very-blue",-1790439564),mh=new E(null,"val","val",128701612),Gl=new E(null,"events","events",1792552201),Hl=new E(null,"sound_clusters","sound_clusters",-1510013651),Il=new E(null,"color-palette-effect","color-palette-effect",606755454),
Jl=new E(null,"color-seed","color-seed",-713738137),Kl=new E(null,"mass","mass",-2138950046),Ll=new E(null,"loudness","loudness",1738186723),Ml=new E(null,"black","black",1294279647),Nl=new E(null,"mask","mask",-585748447),Ol=new E(null,"tempo","tempo",-1555208453),Pl=new E(null,"focus-gained","focus-gained",-857086384),Ql=new E(null,"yellow","yellow",-881035449),Rl=new E(null,"enable-stroke-perspective","enable-stroke-perspective",-259923319),Sl=new E(null,"p3d","p3d",-850380194),Tl=new E(null,"misty-rose",
"misty-rose",-1786579856),za=new E(null,"flush-on-newline","flush-on-newline",-151457939),Ul=new oc("benjamin-j-schwerdtner.beatviz.frontend.core","mouse-dragged","benjamin-j-schwerdtner.beatviz.frontend.core/mouse-dragged",-724922055,null),Vl=new E(null,"cycle-time","cycle-time",1090986624),Wl=new E(null,"disable-depth-sort","disable-depth-sort",-1568352839),Xl=new E(null,"dodge","dodge",-1556666427),Yl=new E(null,"keep-on-top","keep-on-top",-970284267),Zl=new E(null,"time","time",1385887882),$l=
new E(null,"blink-intensity","blink-intensity",-2109419961),am=new E(null,"last-spawn","last-spawn",-397719714),cm=new E(null,"middleware","middleware",1462115504),bm=new E(null,"height","height",1025178622),dm=new E(null,"time-scale-effect","time-scale-effect",-931115737),fm=new E(null,"p2d","p2d",-2106175755),gm=new E(null,"stroke-width","stroke-width",716836435),em=new E("mj","engine","mj/engine",1459058782),hm=new E(null,"entity-bouncers","entity-bouncers",1102575623),im=new E(null,"mystical-circle?",
"mystical-circle?",-1912968912),jm=new E(null,"clusters","clusters",273881275),km=new E(null,"horizon","horizon",1551368844),nm=new E(null,"replace","replace",-786587770),om=new E(null,"mouse-pressed","mouse-pressed",736955536),lm=new E(null,"idx","idx",1053688473),mm=new E(null,"on-drag-start","on-drag-start",-47712205),pm=new oc("benjamin-j-schwerdtner.beatviz.frontend.core","mouse-released","benjamin-j-schwerdtner.beatviz.frontend.core/mouse-released",-2073534339,null),qm=new E(null,"purple","purple",
-876021126),rm=new E(null,"gravity","gravity",-1815198225),tm=new E(null,"disable-stroke-pure","disable-stroke-pure",735493926),sm=new oc(null,"setup","setup",-666705257,null),um=new E(null,"friction","friction",-1603603910),wm=new E(null,"radius","radius",-2073122258),ym=new E(null,"mouse-wheel","mouse-wheel",1811662439),zm=new E(null,"difference","difference",1916101396),vm=new E(null,"navajo-white","navajo-white",1760085775),xm=new E(null,"hit-pink","hit-pink",221270070),Cm=new E(null,"overlay",
"overlay",-139131598),Dm=new E(null,"start-time","start-time",814801386),Xg=new E(null,"more-marker","more-marker",-14717935),Am=new E(null,"pos","pos",-864607220),Fm=new E(null,"hard-light","hard-light",-37591145),Bm=new E(null,"cluster-beat-trigger","cluster-beat-trigger",1089573655),Em=new E(null,"stroke","stroke",1741823555),Gm=new oc(null,"mouse-pressed","mouse-pressed",-1917480233,null),Hm=new E(null,"connection-line","connection-line",1892618388),Lm=new E(null,"p-y","p-y",-530704830),Mm=new E(null,
"button","button",1456579943),Nm=new E(null,"p-x","p-x",-1721211211),Im=new E(null,"pre-load","pre-load",-1239999613),Jm=new E(null,"times","times",1671571467),Qm=new E(null,"key","key",-1516042587),Rm=new E(null,"type","type",1174270348),Km=new E(null,"blinker","blinker",-1321022320),Om=new E(null,"floor","floor",1882041021),fh=new E(null,"alt-impl","alt-impl",670969595),Um=new E(null,"time-scale","time-scale",-650198100),Pm=new E(null,"cyan","cyan",1118839274),Sm=new E(null,"end-line","end-line",
1837326455),Ym=new E(null,"blend","blend",249565561),Zm=new E(null,"settings","settings",1556144875),$m=new E(null,"enable-depth-mask","enable-depth-mask",872785875),an=new E(null,"target","target",253001721),Tm=new E(null,"resize","resize",297367086),Vm=new E(null,"pulse","pulse",-244494476);var dn={},en={},fn=[];function gn(a,b){var c=en[a];if(void 0!==c)return c;try{fn.push(a);var d=dn[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};dn[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,gn,d,d.exports)}catch(g){throw console.warn("shadow-cljs - failed to load",a),console.error(g),g;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{fn.pop()}return d.exports}gn.cache={};gn.resolve=function(a){return a};
gn.exportCopy=function(a,b){let c={};a=a.exports;for(let d in b)"default"==d||d in a||d in c||(c[d]={enumerable:!0,get:function(){return b[d]}});Object.defineProperties(a,c)};gn.esmDefault=function(a){return a&&a.__esModule?a:{"default":a}};gn.dynamic=function(a){return Promise.resolve().then(function(){return gn(a)})};var hn=gn(0,{});ca("p5",hn);var jn=new v(null,2,[Rj,60,hk,!0],null);function kn(a,b){if(w(D(b,a)))return D(b,a);if(w(re(Mg([a]),Rf(b))))return a;var c=Error;a=A.g(a);var d=A,e=d.g;b=Qf(b);if(I(b)){var f=yd.g?yd.g(b):yd.call(null,b);sa(f);b=ed(I(f),fd(b))}else b=M;throw c(["Expecting a keyword, got: ",a,". Expected one of: ",e.call(d,zd(b))].join(""));};var ln=new v(null,3,[Ai,new V(null,2,5,W,["2.0","Try :features [:present] for similar effect"],null),an,new V(null,2,5,W,["2.0","Use :features [:keep-on-top] instead."],null),Xi,new V(null,2,5,W,["2.0","Use :features [:no-safe-fns] instead."],null)],null);function mn(a){a=Ng(a);w(a.g?a.g(uk):a.call(null,uk))&&ih.v(Tc(["Feature :no-safe-draw was renamed to :no-safe-fns in Quil 2.1.","Use :feature [:no-safe-fns] now."]));return gd.h(a,uk)}
function nn(a){var b=df.j(a,new V(null,1,5,W,[zk],null),mn);return Xe(oe,We(se(),function(){return function e(d){return new Td(null,function(){for(;;){var f=I(d);if(f){if(od(f)){var g=Tb(f),k=P(g),l=new Vd(Array(k));return function(){for(var t=0;;)if(t<k){var u=Ya(g,t),x=T(u,0,null),B=T(u,1,null);u=l;var F=ln.g?ln.g(x):ln.call(null,x);w(F)?(B=T(F,0,null),F=T(F,1,null),ih.v(Tc([x,"option was removed in Quil",B,".",F])),x=null):x=new V(null,2,5,W,[x,B],null);u.add(x);t+=1}else return!0}()?Yd(l.ea(),
e(Ub(f))):Yd(l.ea(),null)}var m=K(f),n=T(m,0,null),q=T(m,1,null);return R(function(){var t=ln.g?ln.g(n):ln.call(null,n);if(w(t)){var u=T(t,0,null);t=T(t,1,null);ih.v(Tc([n,"option was removed in Quil",u,".",t]));return null}return new V(null,2,5,W,[n,q],null)}(),e(wc(f)))}return null}},null)}(b)}()))};function on(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=!1}on.prototype.stopPropagation=function(){};on.prototype.preventDefault=function(){this.defaultPrevented=!0};var pn=function(){if(!aa.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{aa.addEventListener("test",()=>{},b),aa.removeEventListener("test",()=>{},b)}catch(c){}return a}();function qn(){return oa("iPhone")&&!oa("iPod")&&!oa("iPad")};oa("Opera");oa("Trident")||oa("MSIE");oa("Edge");var rn=oa("Gecko")&&!(-1!=na().toLowerCase().indexOf("webkit")&&!oa("Edge"))&&!(oa("Trident")||oa("MSIE"))&&!oa("Edge"),sn=-1!=na().toLowerCase().indexOf("webkit")&&!oa("Edge");sn&&oa("Mobile");oa("Macintosh");oa("Windows");oa("Linux")||oa("CrOS");var tn=aa.navigator||null;tn&&(tn.appVersion||"").indexOf("X11");oa("Android");qn();oa("iPad");oa("iPod");qn()||oa("iPad")||oa("iPod");na().toLowerCase().indexOf("kaios");function un(a,b){on.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.mb=null;a&&this.init(a,b)}ja(un,on);var vn={2:"touch",3:"pen",4:"mouse"};
un.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(rn){a:{try{ka(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=sn||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=sn||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:vn[a.pointerType]||"";this.state=a.state;this.mb=a;a.defaultPrevented&&un.Nb.preventDefault.call(this)};un.prototype.stopPropagation=function(){un.Nb.stopPropagation.call(this);this.mb.stopPropagation?this.mb.stopPropagation():this.mb.cancelBubble=!0};un.prototype.preventDefault=function(){un.Nb.preventDefault.call(this);var a=this.mb;a.preventDefault?a.preventDefault():a.returnValue=!1};var wn="closure_listenable_"+(1E6*Math.random()|0);var xn=0;function yn(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.Lb=e;this.key=++xn;this.removed=this.Fb=!1}function zn(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.Lb=null};function An(a){this.src=a;this.listeners={};this.Cb=0}An.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.Cb++);var g=Bn(a,b,d,e);-1<g?(b=a[g],c||(b.Fb=!1)):(b=new yn(b,this.src,f,!!d,e),b.Fb=c,a.push(b));return b};
An.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=Bn(e,b,c,d);return-1<b?(zn(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.Cb--),!0):!1};function Bn(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.Lb==d)return e}return-1};var Cn="closure_lm_"+(1E6*Math.random()|0),Dn={},En=0;function Fn(a,b,c,d,e){if(d&&d.once)Gn(a,b,c,d,e);else if(Array.isArray(b))for(var f=0;f<b.length;f++)Fn(a,b[f],c,d,e);else c=Hn(c),a&&a[wn]?a.Lc(b,c,da(d)?!!d.capture:!!d,e):In(a,b,c,!1,d,e)}
function In(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=da(e)?!!e.capture:!!e,k=Jn(a);k||(a[Cn]=k=new An(a));c=k.add(b,c,d,g,f);if(!c.proxy){d=Kn();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)pn||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(Ln(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");En++}}
function Kn(){function a(c){return b.call(a.src,a.listener,c)}const b=Mn;return a}function Gn(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)Gn(a,b[f],c,d,e);else c=Hn(c),a&&a[wn]?a.Mc(b,c,da(d)?!!d.capture:!!d,e):In(a,b,c,!0,d,e)}function Ln(a){return a in Dn?Dn[a]:Dn[a]="on"+a}
function Mn(a,b){if(a.removed)a=!0;else{b=new un(b,this);var c=a.listener,d=a.Lb||a.src;if(a.Fb&&"number"!==typeof a&&a&&!a.removed){var e=a.src;if(e&&e[wn])e.Nc(a);else{var f=a.type,g=a.proxy;e.removeEventListener?e.removeEventListener(f,g,a.capture):e.detachEvent?e.detachEvent(Ln(f),g):e.addListener&&e.removeListener&&e.removeListener(g);En--;if(f=Jn(e)){g=a.type;var k;if(k=g in f.listeners){k=f.listeners[g];const l=pa(k,a);let m;(m=0<=l)&&Array.prototype.splice.call(k,l,1);k=m}k&&(zn(a),0==f.listeners[g].length&&
(delete f.listeners[g],f.Cb--));0==f.Cb&&(f.src=null,e[Cn]=null)}else zn(a)}}a=c.call(d,b)}return a}function Jn(a){a=a[Cn];return a instanceof An?a:null}var Nn="__closure_events_fn_"+(1E9*Math.random()>>>0);function Hn(a){if("function"===typeof a)return a;a[Nn]||(a[Nn]=function(b){return a.handleEvent(b)});return a[Nn]};var X=null,On=new v(null,4,[Kj,p5.prototype.JAVA2D,fm,p5.prototype.P2D,Sl,p5.prototype.P3D,Qh,p5.prototype.OPENGL],null);function Pn(a,b,c){return a.resizeCanvas(b,c)}var Qn=function Qn(a){switch(arguments.length){case 2:return Qn.h(arguments[0],arguments[1]);case 3:return Qn.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};Qn.h=function(a,b){return X.createCanvas(a|0,b|0)};
Qn.j=function(a,b,c){var d=X,e=d.createCanvas;c=G.h(Sl,c)?p5.prototype.WEBGL:kn(c,On);return e.call(d,a|0,b|0,c)};Qn.F=3;
function Rn(a,b){for(var c=I(zg([Kk,Vh,Tk,Ni,pl,wk,Ti,Bi,wl,Rk,ql,ki,ak],[Xj,al,Vj,Ni,ym,mj,hj,yl,om,ci,fl,Oh,ak])),d=null,e=0,f=0;;)if(f<e){var g=d.J(null,f),k=T(g,0,null),l=T(g,1,null),m=b.g?b.g(l):b.call(null,l);if(w(m)){var n=m;a[Sd(k)]=function(u,x,B,F,J){return function(){function S(ba){var ha=null;if(0<arguments.length){ha=0;for(var gc=Array(arguments.length-0);ha<gc.length;)gc[ha]=arguments[ha+0],++ha;ha=new H(gc,0,null)}return Z.call(this,ha)}function Z(ba){var ha=X;X=a;try{return ie(J,ba)}finally{X=
ha}}S.F=0;S.G=function(ba){ba=I(ba);return Z(ba)};S.v=Z;return S}()}(c,d,e,f,n,m,g,k,l)}f+=1}else if(m=I(c)){g=m;if(od(g))c=Tb(g),f=Ub(g),d=c,e=P(c),c=f;else{n=K(g);k=T(n,0,null);l=T(n,1,null);var q=b.g?b.g(l):b.call(null,l);if(w(q)){var t=q;a[Sd(k)]=function(u,x,B,F,J){return function(){function S(ba){var ha=null;if(0<arguments.length){ha=0;for(var gc=Array(arguments.length-0);ha<gc.length;)gc[ha]=arguments[ha+0],++ha;ha=new H(gc,0,null)}return Z.call(this,ha)}function Z(ba){var ha=X;X=a;try{return ie(J,
ba)}finally{X=ha}}S.F=0;S.G=function(ba){ba=I(ba);return Z(ba)};S.v=Z;return S}()}(c,d,e,f,t,q,n,k,l,g,m)}c=N(g);d=null;e=0}f=0}else break}function Sn(){var a=document.fullscreenElement;return w(a)?a:document.mozFullScreenElement}
function Tn(a){function b(){return w(Sn())?(He(c,new V(null,2,5,W,[a.width,a.height],null)),a.resizeCanvas(window.screen.width,window.screen.height)):je(Pn,a,rb(c))}var c=Ge(null);Fn(window,"keydown",function(d){return G.h(d.key,"F11")&&Ha(Sn())?(d.preventDefault(),d=a.quil_canvas,w(d.requestFullscreen)?d.requestFullscreen():w(d.mozRequestFullScreen)?d.mozRequestFullScreen():console.warn("Fullscreen mode is not supported in current browser.")):null});Fn(document,"fullscreenchange",b);Fn(document,
"mozfullscreenchange",b);Fn(document,"fullscreenerror",function(d){return console.error("Error while switching to/from fullscreen: ",d)})}
function Un(a){var b=Fg.v(Tc([new v(null,1,[Ah,new V(null,2,5,W,[500,300],null)],null),function(g){return g.g?g.g(a):g.call(null,a)}(ie(ze,R(nn,cm.h(a,Yc))))])),c=Ah.g(b),d=Bj.g(b),e=function(){var g=ym.g(b);return w(g)?function(k){k=ma(k,"delta");return g.g?g.g(k):g.call(null,k)}:null}(),f=U.v(b,Ni,function(){ie(Qn,be.h(c,w(d)?new V(null,1,5,W,[d],null):Yc));if(w(Zm.g(b))){var g=Zm.g(b);g.u?g.u():g.call(null)}return w(Ni.g(b))?(g=Ni.g(b),g.u?g.u():g.call(null)):null},Tc([ym,e]));return function(g){Rn(g,
f);g.tb=Ge(null);return g.ub=Ge(jn)}}var Vn=function Vn(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new H(c.slice(0),0,null):null;return Vn.v(c)};
Vn.v=function(a){a=ie(Bg,a);var b=Qk.g(a);var c=Bj.g(a);c=w(c)?c:fm;b="string"===typeof b?document.getElementById(b):b;return w(b)?(w(b.Vb)?G.h(c,b.Vb)||console.warn("WARNING: Using different context on one canvas!"):b.Vb=c,c=b.processing_obj,w(c)&&c.remove(),a=new p5(Un(a),b),b.processing_obj=a,a.quil_canvas=b,Tn(a),a):console.error(w(Qk.g(a))?["ERROR: Cannot find host element: ",A.g(Qk.g(a))].join(""):"ERROR: Cannot create sketch. :host is not specified or element not found.")};Vn.F=0;Vn.G=function(a){return this.v(I(a))};
var Wn=Ge(M);function Xn(a){var b=document.createElement("canvas");b.setAttribute("id",a);document.body.appendChild(b)}Gn(window,"load",function(){for(var a=1>=document.body.childNodes.length,b=I(rb(Wn)),c=null,d=0,e=0;;)if(e<d){var f=c.J(null,e);a&&Xn(Zi.g(f));f=Zh.g(f);f.u?f.u():f.call(null);e+=1}else if(b=I(b))od(b)?(d=Tb(b),b=Ub(b),c=d,d=P(d)):(c=K(b),a&&Xn(Zi.g(c)),c=Zh.g(c),c.u?c.u():c.call(null),b=N(b),c=null,d=0),e=0;else break;return He(Wn,Yc)});function Yn(){return w(null)?null:X}zg([Ik,jl,nl,Xl,nm,Cm,zm,pj,Fm,Mh,jk,Ym,Sj,ei,dl],[p5.prototype.BURN,p5.prototype.SCREEN,p5.prototype.DARKEST,p5.prototype.DODGE,p5.prototype.REPLACE,p5.prototype.OVERLAY,p5.prototype.DIFFERENCE,p5.prototype.EXCLUSION,p5.prototype.HARD_LIGHT,p5.prototype.MULTIPLY,p5.prototype.LIGHTEST,p5.prototype.BLEND,p5.prototype.ADD,p5.prototype.SOFT_LIGHT,p5.prototype.SUBTRACT]);
zg([Hk,ul,wj,Dh,Hi,tm,Fh,Rl,Gk,Ki,cl,Pi,$m,Ih,tk,Wj,Wl,rk],[p5.prototype.DISABLE_STROKE_PERSPECTIVE,p5.prototype.DISABLE_DEPTH_MASK,p5.prototype.ENABLE_DEPTH_TEST,p5.prototype.ENABLE_DEPTH_SORT,p5.prototype.DISABLE_TEXTURE_MIPMAPS,p5.prototype.DISABLE_STROKE_PURE,p5.prototype.DISABLE_DEPTH_TEST,p5.prototype.ENABLE_STROKE_PERSPECTIVE,p5.prototype.DISABLE_OPTIMIZED_STROKE,p5.prototype.ENABLE_OPENGL_ERRORS,p5.prototype.ENABLE_STROKE_PURE,p5.prototype.ENABLE_ASYNC_SAVEFRAME,p5.prototype.ENABLE_DEPTH_MASK,
p5.prototype.ENABLE_OPTIMIZED_STROKE,p5.prototype.DISABLE_OPENGL_ERRORS,p5.prototype.DISABLE_ASYNC_SAVEFRAME,p5.prototype.DISABLE_DEPTH_SORT,p5.prototype.ENABLE_TEXTURE_MIPMAPS]);var Zn=new v(null,4,[sk,p5.prototype.CORNER,Ri,p5.prototype.CORNERS,Nj,p5.prototype.CENTER,wm,p5.prototype.RADIUS],null),Wm=2*Math.PI,ao=zg([121,39,157,119,116,113,40,117,118,122,17,115,112,123,16,120,38,18,114,37],[gj,Kh,Sh,Ph,si,zi,yj,vi,ui,ij,Uk,ti,wi,jj,Bl,Nh,Jk,ji,yi,zh]),bo=new v(null,1,[" ",zj],null);
function co(a){return Ie.C(X.ub,U,Lh,a)}var eo=function eo(a){switch(arguments.length){case 1:return eo.g(arguments[0]);case 2:return eo.h(arguments[0],arguments[1]);case 3:return eo.j(arguments[0],arguments[1],arguments[2]);case 4:return eo.C(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};
eo.g=function(a){if(nd(a))return ie(eo,a);if(null==a)return fo.u?fo.u():fo.call(null);Yn().fill(a);return co(new V(null,1,5,W,[a],null))};eo.h=function(a,b){Yn().fill(a,b);return co(new V(null,2,5,W,[a,b],null))};eo.j=function(a,b,c){Yn().fill(a,b,c);return co(new V(null,3,5,W,[a,b,c],null))};eo.C=function(a,b,c,d){Yn().fill(a,b,c,d);return co(new V(null,4,5,W,[a,b,c,d],null))};eo.F=4;
var go=function go(a){switch(arguments.length){case 2:return go.h(arguments[0],arguments[1]);case 4:return go.C(arguments[0],arguments[1],arguments[2],arguments[3]);case 6:return go.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};go.h=function(a,b){return ie(go,be.h(a,b))};go.C=function(a,b,c,d){return Yn().line(a,b,c,d)};go.ka=function(a,b,c,d,e,f){return Yn().line(a,b,c,d,e,f)};go.F=6;
function ho(){return X.millis()}function io(){var a=X.mouseButton;return w(function(){var b=p5.prototype.LEFT;return G.h?G.h(b,a):G.call(null,b,a)}())?zh:w(function(){var b=p5.prototype.RIGHT;return G.h?G.h(b,a):G.call(null,b,a)}())?Kh:w(function(){var b=p5.prototype.CENTER;return G.h?G.h(b,a):G.call(null,b,a)}())?Nj:null}function fo(){Yn().noFill();return Ie.C(X.ub,U,Lh,null)}function jo(){Yn().push()}function ko(){return X.randomGaussian()}function lo(){var a=kn(Nj,Zn);Yn().rectMode(a)}
function mo(a){return Ie.C(X.ub,U,oj,a)}var no=function no(a){switch(arguments.length){case 1:return no.g(arguments[0]);case 2:return no.h(arguments[0],arguments[1]);case 3:return no.j(arguments[0],arguments[1],arguments[2]);case 4:return no.C(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};
no.g=function(a){if(nd(a))return ie(no,a);if(null==a)return Yn().noStroke(),Ie.C(X.ub,U,oj,null);Yn().stroke(a);return mo(new V(null,1,5,W,[a],null))};no.h=function(a,b){Yn().stroke(a,b);return mo(new V(null,2,5,W,[a,b],null))};no.j=function(a,b,c){Yn().stroke(a,b,c);return mo(new V(null,3,5,W,[a,b,c],null))};no.C=function(a,b,c,d){Yn().stroke(a,b,c,d);return mo(new V(null,4,5,W,[c,b,c,d],null))};no.F=4;
var oo=function oo(a){switch(arguments.length){case 1:return oo.g(arguments[0]);case 2:return oo.h(arguments[0],arguments[1]);case 3:return oo.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};oo.g=function(a){return ie(oo,a)};oo.h=function(a,b){return Yn().translate(a,b)};oo.j=function(a,b,c){return Yn().translate(a,b,c)};oo.F=3;function po(a){var b=Ni.h(a,function(){return null});return U.j(a,Ni,function(){return He(X.tb,b.u?b.u():b.call(null))})}function qo(a){var b=ak.h(a,function(){return null}),c=Yj.h(a,Ed);return U.j(cd.h(a,Yj),ak,function(){var d=Ie.h(X.tb,G.h(X.frameCount,1)?Ed:c);return b.g?b.g(d):b.call(null,d)})}function ro(){return new v(null,2,[Bk,X.mouseX,Ak,X.mouseY],null)}function so(){return new v(null,3,[Bk,X.mouseX,Ak,X.mouseY,Mm,io()],null)}
function to(){var a=X.key;var b=X.keyCode;G.h(65535,String(a).charCodeAt())?a=qc(ao,b,Wi):(a=String(a),b=bo.g?bo.g(a):bo.call(null,a),a=w(b)?b:Rd.g(a));return new v(null,3,[Qm,a,pk,X.keyCode,Mk,X.key],null)}var uo=function uo(a){switch(arguments.length){case 2:return uo.h(arguments[0],arguments[1]);case 3:return uo.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};uo.h=function(a,b){return uo.j(a,b,null)};
uo.j=function(a,b,c){var d=a.g?a.g(b):a.call(null,b);return w(d)?U.j(a,b,w(c)?function(){return Ie.j(X.tb,d,c.u?c.u():c.call(null))}:function(){return Ie.h(X.tb,d)}):a};uo.F=3;function vo(a,b){return Na(function(c,d){return d instanceof E?uo.h(c,d):je(uo,c,d)},a,b)}function wo(a){var b=ym.g(a);return w(b)?U.j(a,ym,function(c){return Ie.j(X.tb,b,c)}):a}
function xo(a){return wo(vo(qo(po(a)),Tc([Pl,Rh,new V(null,2,5,W,[fl,ro],null),new V(null,2,5,W,[al,ro],null),new V(null,2,5,W,[om,so],null),new V(null,2,5,W,[yl,ro],null),new V(null,2,5,W,[hj,so],null),new V(null,2,5,W,[ci,function(){return new v(null,4,[Bk,X.mouseX,Ak,X.mouseY,Nm,X.pmouseX,Lm,X.pmouseY],null)}],null),new V(null,2,5,W,[Vj,function(){return new v(null,5,[Bk,X.mouseX,Ak,X.mouseY,Nm,X.pmouseX,Lm,X.pmouseY,Mm,io()],null)}],null),new V(null,2,5,W,[Xj,to],null),new V(null,2,5,W,[mj,to],
null),new V(null,2,5,W,[Oh,to],null),ej])))};Rd.g(" ");function yo(a){return xo(a)};gn(1,{});gn(2,{});var Y=gn(3,{});function zo(){var a=qh(new v(null,1,[rm,new v(null,2,[Bk,0,Ak,9],null)],null));return Y.Engine.create.g?Y.Engine.create.g(a):Y.Engine.create.call(null,a)}var Ao=function Ao(a){switch(arguments.length){case 1:return Ao.g(arguments[0]);case 2:return Ao.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.g(arguments.length)].join(""));}};Ao.g=function(a){return Y.Engine.update.h?Y.Engine.update.h(a,null):Y.Engine.update.call(null,a,null)};
Ao.h=function(a,b){return Y.Engine.update.h?Y.Engine.update.h(a,b):Y.Engine.update.call(null,a,b)};Ao.F=2;function Bo(a,b){a=a.world;b=[b];Y.Composite.add.h?Y.Composite.add.h(a,b):Y.Composite.add.call(null,a,b)};function Do(a){function b(){var d=a.vertices,e=a.position,f=a.angle;jo();oo.h(e.x,e.y);Yn().rotate(f);Yn().beginShape();d=I(d);f=null;for(var g=0,k=0;;)if(k<g){var l=f.J(null,k);Yn().vertex(l.x-e.x,l.y-e.y);k+=1}else if(d=I(d))f=d,od(f)?(d=Tb(f),k=Ub(f),f=d,g=P(d),d=k):(d=K(f),Yn().vertex(d.x-e.x,d.y-e.y),d=N(f),f=null,g=0),k=0;else break;G.h(Yi,Yi);Yn().endShape(p5.prototype.CLOSE);return Yn().pop()}var c=Ei.h(a.bjsdata,function(d){return d.u?d.u():d.call(null)});c.g?c.g(b):c.call(null,b)}
function Eo(a){a=I(a);for(var b=null,c=0,d=0;;)if(d<c){var e=b.J(null,d);if(w(e.vertices)){var f=e.render.fillStyle;w(f)&&(nd(f)?ie(eo,f):eo.g(f));f=e.render.strokeStyle;w(f)&&ie(no,f);f=e.render.lineWidth;w(f)&&Yn().strokeWeight(f);var g=e.userdata,k=di.g(g);f=e.position;var l=e.angle,m=k,n=m instanceof E?m.ia:null;switch(n){case "circle":e=e.circleRadius;jo();oo.h(f.x,f.y);Yn().rotate(l);Yn().ellipse(0,0,2*e,2*e);Yn().pop();break;case "rect":var q=e.vertices,t=ie(Id,Le.h(function(){return function(J){return J.x}}(a,
b,c,d,q,m,n,g,k,f,l,e),q)),u=ie(Hd,Le.h(function(){return function(J){return J.x}}(a,b,c,d,q,t,m,n,g,k,f,l,e),q)),x=ie(Id,Le.h(function(){return function(J){return J.y}}(a,b,c,d,q,t,u,m,n,g,k,f,l,e),q));e=ie(Hd,Le.h(function(){return function(J){return J.y}}(a,b,c,d,q,t,u,x,m,n,g,k,f,l,e),q));t=u-t;e-=x;jo();oo.h(f.x,f.y);Yn().rotate(l);lo();Yn().rect(0,0,t,e);Yn().pop();break;default:Do(e)}}d+=1}else if(l=I(a)){f=l;if(od(f))a=Tb(f),d=Ub(f),b=a,c=P(a),a=d;else{e=K(f);if(w(e.vertices)){x=e.render.fillStyle;
w(x)&&(nd(x)?ie(eo,x):eo.g(x));x=e.render.strokeStyle;w(x)&&ie(no,x);x=e.render.lineWidth;w(x)&&Yn().strokeWeight(x);m=e.userdata;n=di.g(m);x=e.position;t=e.angle;q=n;var B=q instanceof E?q.ia:null;switch(B){case "circle":a=e.circleRadius;jo();oo.h(x.x,x.y);Yn().rotate(t);Yn().ellipse(0,0,2*a,2*a);Yn().pop();break;case "rect":var F=e.vertices;g=ie(Id,Le.h(function(){return function(J){return J.x}}(a,b,c,d,F,q,B,m,n,x,t,e,f,l),F));k=ie(Hd,Le.h(function(){return function(J){return J.x}}(a,b,c,d,F,g,
q,B,m,n,x,t,e,f,l),F));u=ie(Id,Le.h(function(){return function(J){return J.y}}(a,b,c,d,F,g,k,q,B,m,n,x,t,e,f,l),F));a=ie(Hd,Le.h(function(){return function(J){return J.y}}(a,b,c,d,F,g,k,u,q,B,m,n,x,t,e,f,l),F));b=k-g;a-=u;jo();oo.h(x.x,x.y);Yn().rotate(t);lo();Yn().rect(0,0,b,a);Yn().pop();break;default:Do(e)}}a=N(f);b=null;c=0}d=0}else break}
function Fo(a){for(var b=I(a),c=null,d=0,e=0;;)if(e<d){var f=c.J(null,e);T(f,0,null);f=T(f,1,null);if(G.h(Bh,di.g(f))){var g=Yh.g(f),k=ne(g);g=D(k,Aj);k=D(k,vl);g=D(a,g);k=D(a,k);var l=Pk.g(g),m=Pk.g(k);if(w(function(){var B=l;return w(B)?m:B}())){g=l.position;k=m.position;var n=Al.h(f,new V(null,3,5,W,[255,255,255],null)),q=gm.h(f,1),t=Hj.g(f);f=Th.g(f);t=ho()-t;f=w(f)?255*(1-t/f):255;ie(no,Xc.h(zd(Me(3,n)),f));Yn().strokeWeight(q);go.C(g.x,g.y,k.x,k.y)}}e+=1}else if(f=I(b)){b=f;if(od(b))c=Tb(b),
b=Ub(b),f=c,d=P(c),c=f;else{f=K(b);T(f,0,null);f=T(f,1,null);if(G.h(Bh,di.g(f))){c=Yh.g(f);d=ne(c);c=D(d,Aj);d=D(d,vl);c=D(a,c);d=D(a,d);var u=Pk.g(c),x=Pk.g(d);w(function(){var B=u;return w(B)?x:B}())&&(c=u.position,d=x.position,e=Al.h(f,new V(null,3,5,W,[255,255,255],null)),g=gm.h(f,1),k=Hj.g(f),f=Th.g(f),k=ho()-k,f=w(f)?255*(1-k/f):255,ie(no,Xc.h(zd(Me(3,e)),f)),Yn().strokeWeight(g),go.C(c.x,c.y,d.x,d.y))}b=N(b);c=null;d=0}e=0}else break}
function Go(a,b){var c=ne(b);b=qc(c,yh,new V(null,4,5,W,[150,150,150,100],null));c=qc(c,Fl,1);ie(no,b);Yn().strokeWeight(c);fo();a=I(a);b=null;for(var d=c=0;;)if(d<c){var e=b.J(null,d);if(w(e.bodyA)){var f=function(){var m=e.pointA;return w(m)?m:{x:0,y:0}}(),g=function(){var m=e.pointB;return w(m)?m:{x:0,y:0}}(),k=e.bodyA.position,l=e.bodyB.position;go.C(k.x+f.x,k.y+f.y,l.x+g.x,l.y+g.y)}d+=1}else if(a=I(a))od(a)?(c=Tb(a),a=Ub(a),b=c,c=P(c)):(e=K(a),w(e.bodyA)&&(b=function(){var m=e.pointA;return w(m)?
m:{x:0,y:0}}(),c=function(){var m=e.pointB;return w(m)?m:{x:0,y:0}}(),d=e.bodyA.position,f=e.bodyB.position,go.C(d.x+b.x,d.y+b.y,f.x+c.x,f.y+c.y)),a=N(a),b=null,c=0),d=0;else break}
function Ho(a,b){var c=ne(b);b=qc(c,fi,!0);D(c,Ui);D(c,el);var d=D(c,vk),e=D(c,hf),f=D(c,$i);c=ne(c);c=D(c,Ui);ie(eo,c);Yn().rect(0,0,2*X.width,2*X.height);if(w(f)){var g=ne(f);f=D(g,Eh);c=D(g,Dm);g=D(g,dj);c=ho()-c;c<g?(f=10*f*(1-c/g),f=new v(null,2,[Bk,f*(Ue()-.5),Ak,f*(Ue()-.5)],null)):f=null}else f=null;jo();w(f)&&oo.h(Bk.g(f),Ak.g(f));a=a.world;f=w(b)?a.constraints:null;Eo(a.bodies);w(e)&&Fo(e);w(w(b)?f:b)&&Go(f,d);return Yn().pop()};var Io=new V(null,12,5,W,[new v(null,2,[Rm,uj,li,1],null),new v(null,2,[Rm,ek,li,1],null),new v(null,2,[Rm,lj,li,1],null),new v(null,2,[Rm,$i,li,1],null),new v(null,2,[Rm,ii,li,1],null),new v(null,2,[Rm,bj,li,1],null),new v(null,2,[Rm,Um,li,.5],null),new v(null,2,[Rm,hi,li,.5],null),new v(null,1,[Rm,mk],null),new v(null,2,[Rm,Il,li,.7],null),new v(null,2,[Rm,hm,li,.3],null),new v(null,2,[Rm,Ek,li,.3],null)],null);
function Xm(a){var b=new V(null,1,5,W,[ii],null),c=re(function(d){return ud(a,d)},b);return w(c)?a:U.j(a,ue(b),Ue())}function Jo(){var a=ne(oe),b=qc(a,ml,10);a=qc(a,dk,20);return Xm(Xe(oe,Le.h(function(c){c=ne(c);c=D(c,Rm);return new V(null,2,5,W,[c,Ue()],null)},We(function(c){c=ne(c);D(c,li);return 1>Ue()},Me(b+Math.floor(Math.random()*(a-b)),xd(Io))))))};function Ko(a){a=Hl.g(a);return Xe(new v(null,1,[rl,Jo()],null),Le.h(function(b){var c=T(b,0,null);T(b,1,null);return new V(null,2,5,W,[c,Jo()],null)},a))}
function Lo(a){var b=Hl.g(a),c=$k.g(a),d=Ol.g(a),e=function(){var f=Sk.g(a);return w(f)?f:Ko(a)}();return Fg.v(Tc([zg([Ok,Ci,xl,Dl,Zl,ik,Sk,Ol,$k,Wh],[0,0,function(){var f=K(c);return w(f)?f:0}(),60/d,0,0,e,d,c,Yc]),new v(null,1,[jm,Ye(Yc,De(function(f,g){var k=T(g,0,null);g=T(g,1,null);var l=bi.g(g),m=fk.g(g);return zg([Ll,ll,Al,Jl,Jm,xk,Ii,bk,Vm,wh,lm,nj],[m,f,Al.g(g),73*f,Jm.g(g),l,0,k,0,wh.g(g),0,k])}),b)],null)]))}
function Mo(a,b){if(Ha($k.g(a)))return new V(null,2,5,W,[a,oe],null);var c=(b-tl.h(a,0))/1E3,d=Zl.g(a)+c,e=ne(a),f=D(e,$k),g=D(e,Dl);e=D(e,xl);f=T(f,Ok.g(a),null);var k=w(f)?d-c<f&&f<d:f;f=w(k)?Ok.g(a)+1:Ok.g(a);g=w(g)?((d-e)/g%1+1)%1:0;b=ef(U.v(U.j(a,tl,b),Zl,d,Tc([ik,g,Ok,f])),Ci,function(l){return w(k)?1:.9*l});g=Na(function(l,m){var n=ne(m),q=D(n,Jm),t=D(n,lm);n=D(n,ll);q=T(q,t,null);var u=w(q)?d-c<q&&q<d:q;q=ef(ef(ef(m,lm,function(x){return w(u)?x+1:x}),Vm,function(x){return w(u)?1:.88*x}),Ii,
function(x){return w(u)?1:.96*x});l=cf(l,new V(null,2,5,W,[jm,n],null),q);return w(u)?ff(l,Gl,Xc,new v(null,3,[Rm,Bm,nj,bk.g(m),fj,q],null)):l},new v(null,2,[jm,jm.g(b),Gl,Yc],null),jm.g(b));e=ne(g);g=D(e,jm);e=D(e,Gl);a=w(k)?Xc.h(e,new v(null,3,[Rm,tj,nj,rl,Ok,Ok.g(a)],null)):e;return new V(null,2,5,W,[U.j(b,jm,g),a],null)}
function No(a,b){if(Ha($k.g(a)))return new V(null,2,5,W,[a,oe],null);var c=ne(a),d=D(c,$k),e=D(c,Dl),f=D(c,xl);c=function(){var g=K(Ke(function(k,l){return l>b?k:null},d));return w(g)?g:P(d)}();e=w(e)?((b-f)/e%1+1)%1:0;f=Ze(function(g){var k=Jm.g(g),l=function(){var m=K(Ke(function(n,q){return q>b?n:null},k));return w(m)?m:P(k)}();return U.v(g,lm,l,Tc([Vm,0,Ii,0]))},jm.g(a));return U.v(a,Zl,b,Tc([Ok,c,ik,e,Ci,0,Wh,Yc,jm,f]))};var Oo;function ve(a,b){var c=T(a,0,null),d=T(a,1,null);a=T(a,2,null);return new V(null,4,5,W,[c,d,a,b],null)}function Po(){return new V(null,2,5,W,[X.width/2,X.height/2],null)}function Qo(a,b){var c=T(b,0,null);b=T(b,1,null);return new V(null,2,5,W,[c+a*c*ko(),b+a*b*ko()],null)}function bn(a,b){return Xe(Yc,Le.j(Gd,a,b))};var we=zg([zl,Cl,Jh,ok,Ql,Pm,qj,km,vj,Ck,yk,vm,Tl,qi,gi,Jj,El,xm,Vi,Xh,qm,Qj,Uj,Ml],[new V(null,3,5,W,[255,165,0],null),new V(null,3,5,W,[173,153,191],null),new V(null,3,5,W,[171,255,45],null),new V(null,3,5,W,[255,255,255],null),new V(null,3,5,W,[255,255,0],null),new V(null,3,5,W,[0,255,255],null),new V(null,3,5,W,[142,206,255],null),new V(null,3,5,W,[94,136,168],null),new V(null,3,5,W,[16,16,22],null),new V(null,3,5,W,[245,137,255],null),new V(null,3,5,W,[41,1,56],null),new V(null,3,5,W,[255,222,
173],null),new V(null,3,5,W,[255,227,224],null),new V(null,3,5,W,[33,21,63],null),new V(null,3,5,W,[212,255,209],null),new V(null,3,5,W,[255,0,0],null),new V(null,3,5,W,[0,127,255],null),new V(null,3,5,W,[255,180,142],null),new V(null,3,5,W,[0,27,104],null),new V(null,3,5,W,[255,0,255],null),new V(null,3,5,W,[155,48,255],null),new V(null,3,5,W,[71,155,89],null),new V(null,3,5,W,[255,155,162],null),new V(null,3,5,W,[0,0,0],null)]),To=Ge(0);
function Uo(a){a=null==a?null:hi.g(a);a=null==a?null:Am.g(a);return w(a)?a:Po()}function Vo(a,b){var c=function(){var e=bk.g(b);return w(e)?e:Ie.h(To,Ec)}(),d=function(){var e=Hj.g(b);return w(e)?e:ho()}();return Fg.v(Tc([new v(null,7,[bk,c,il,Ng(a),Oi,Yc,Nk,Yc,Gj,Yc,sj,Yc,Hj,d],null),cd.v(b,bk,Tc([Hj]))]))}function Wo(a,b){var c=a.plugin;c=w(c)?c:{};c.entityId=b;a.plugin=c}function Xo(a,b){return Na(function(c,d){var e=bk.g(d);return Na(function(f,g){return ff(f,g,Be(),e)},c,il.g(d))},a,b)}
function Zo(a,b){var c=ne(b),d=D(c,Am),e=D(c,Bk),f=D(c,Ak);b=D(c,Hh);var g=bk.g(c),k=di.g(c),l=function(){var u=K(d);return w(u)?u:w(e)?e:X.random(X.width)}(),m=function(){var u=K(N(d));return w(u)?u:w(f)?f:X.random(X.height)}(),n=cd.v(c,di,Tc([Bk,Ak,Uh,bm,wm,Hh])),q=function(){switch(k instanceof E?k.ia:null){case "circle":var u=wm.g(c),x=qh(n);u=Y.Bodies.circle.C?Y.Bodies.circle.C(l,m,u,x):Y.Bodies.circle.call(null,l,m,u,x);u.userdata=new v(null,2,[di,Se,Mi,n],null);return u;case "rect":u=Uh.g(c);
x=bm.g(c);var B=qh(n);u=Y.Bodies.rectangle.U?Y.Bodies.rectangle.U(l,m,u,x,B):Y.Bodies.rectangle.call(null,l,m,u,x,B);u.userdata=new v(null,2,[di,Te,Mi,n],null);return u;case "triangle":return u=wm.g(c),x=qh(n),u=Y.Bodies.polygon.U?Y.Bodies.polygon.U(l,m,3,u,x):Y.Bodies.polygon.call(null,l,m,3,u,x),u.userdata=new v(null,3,[di,qk,$h,3,Mi,n],null),u;default:throw new xh(k);}}();if(Ha(q))return a;var t=U.j(c,Pk,q);Wo(q,g);q.render.fillStyle=Al.h(t,ue(zd(Rf(we))));q.render.strokeStyle=Em.h(t,ue(zd(Rf(we))));
q.render.lineWidth=gm.h(t,0);q.render.opacity=1;w(w(b)?!G.h(b,0):b)&&(Y.Body.setAngle.h?Y.Body.setAngle.h(q,b):Y.Body.setAngle.call(null,q,b));Bo(em.g(a),q);return ff(gf(a,g,t),il,Xo,new V(null,1,5,W,[t],null))}function $o(a,b){a:for(b=I(new V(null,2,5,W,[hf,b],null));;){if(null==b)break a;a=D(a,K(b));b=N(b)}return a}
function ap(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=3<b.length?new H(b.slice(3),0,null):null;return bp(arguments[0],arguments[1],arguments[2],b)}function bp(a,b,c,d){var e=$o(a,b);return w(e)?(c=D(e,c),Na(function(f,g){return ke(g,f,b,d)},a,c)):a}function cp(a,b){var c=$o(a,b);if(w(c)){c=Pk.g(c);if(w(c)){var d=em.g(a).world;Y.Composite.remove.h?Y.Composite.remove.h(d,c):Y.Composite.remove.call(null,d,c)}return ff(a,hf,cd,b)}return a}
function dp(a){var b=Qf(hf.g(a));a=600<P(b)?Na(function(c,d){return.1>Ue()?cp(c,d):c},a,b):a;return Na(function(c,d){var e=$o(c,d);if(w(e)){var f=ne(e);e=D(f,Th);f=D(f,Hj);return w(w(e)?w(f)?ho()-f>e:f:e)?cp(c,d):ap(c,d,Oi)}return c},a,Qf(hf.g(a)))}function ep(a,b){return function(c,d){d=$o(c,d);if(w(d)&&(d=Pk.g(d),w(d))){var e=2*Math.PI*Ue(),f=a*b*Oo,g=d.position;e={x:f*Math.cos(e),y:f*Math.sin(e)};Y.Body.applyForce.j?Y.Body.applyForce.j(d,g,e):Y.Body.applyForce.call(null,d,g,e)}return c}}
function cn(){return function(a,b){b=$o(a,b);if(w(b)){b=Pk.g(b);if(w(b)&&w(b.isStatic)){var c=2*Math.PI*Ue(),d=50*Oo;c={x:b.position.x+d*Math.cos(c),y:b.position.y+d*Math.sin(c)};Y.Body.setPosition.h?Y.Body.setPosition.h(b,c):Y.Body.setPosition.call(null,b,c);c=b.angle+1*Oo*(Ue()-.5)*2;Y.Body.setAngle.h?Y.Body.setAngle.h(b,c):Y.Body.setAngle.call(null,b,c)}return a}return null}}
function fp(a){return function(b,c){var d=$o(b,c);d=Di.h(d,-1);d=a*Oo*d*2;var e=ho()/1E3;e=X.sin(e);d*=e;c=$o(b,c);w(c)&&(c=Pk.g(c),w(c)&&(Y.Body.rotate.h?Y.Body.rotate.h(c,d):Y.Body.rotate.call(null,c,d)));return b}}
function gp(a,b,c){b=$o(a,b);if(w(b)){var d=Pk.g(b);if(w(d)){var e=function(){var t=Am.g(c);return w(t)?t:new V(null,2,5,W,[d.position.x,d.position.y],null)}(),f=d.angle,g=di.g(b),k=d.bounds,l=k.max.x-k.min.x,m=k.max.y-k.min.y,n=function(){switch(g instanceof E?g.ia:null){case "circle":return new V(null,3,5,W,[l/2,null,null],null);case "rect":return new V(null,3,5,W,[null,l,m],null);case "triangle":return new V(null,3,5,W,[l/2,null,null],null);default:return new V(null,3,5,W,[20,40,40],null)}}();
k=T(n,0,null);var q=T(n,1,null);n=T(n,2,null);b=Fg.v(Tc([zg([Xk,Em,Al,Gj,Uh,Am,wm,Oi,Th,gm,lk,di,Nk,il,nj,bm],[Xk.g(b),d.render.strokeStyle,d.render.fillStyle,Gj.g(b),w(q)?q:l,e,w(k)?k:l,Oi.g(b),Th.g(b),d.render.lineWidth,lk.g(b),g,Nk.g(b),il.g(b),nj.g(b),w(n)?n:l]),c]));e=Vo(il.h(b,Ce),b);b=bk.g(e);a=Zo(a,e);e=function(){var t=Hh.g(c);return w(t)?t:f}();w(w(e)?!G.h(e,0):e)&&(k=$o(a,b),w(k)&&(k=Pk.g(k),w(k)&&(Y.Body.setAngle.h?Y.Body.setAngle.h(k,e):Y.Body.setAngle.call(null,k,e))));return new V(null,
2,5,W,[a,b],null)}}return null}function hp(a){var b=X.width,c=X.height;var d=bm.g(oe);d=w(d)?d:20;b=Vo(new V(null,2,5,W,[Dk,Om],null),zg([Ak,Xk,Em,Al,ck,Uh,Hh,Dj,gm,di,Bk,um,bm],[.95*c,!0,new V(null,4,5,W,[0,0,0,0],null),we.g?we.g(Pm):we.call(null,Pm),new v(null,2,[Oj,1,Nl,-1],null),2*b,0,.9,0,Te,0,.1,d]));return Zo(a,b)}
function ip(a,b){var c=$o(a,b);if(w(c)){c=Yh.g(c);var d=ne(c);c=D(d,Aj);d=D(d,vl);var e=$o(a,c),f=$o(a,d);return w(function(){if(w(e)){if(w(f)){var g=Pk.g(e);return w(g)?Pk.g(f):g}return f}return e}())?a:cp(a,b)}return a}
function jp(a,b,c,d){var e=$o(a,b),f=$o(a,c);return w(function(){if(w(e)){if(w(f)){var g=Pk.g(e);return w(g)?Pk.g(f):g}return f}return e}())?(b=Vo(new Kg(null,new v(null,1,[Hm,null],null),null),new v(null,6,[di,Bh,Al,function(){var g=Al.g(d);return w(g)?g:we.g?we.g(ok):we.call(null,ok)}(),gm,function(){var g=gm.g(d);return w(g)?g:1}(),Th,function(){var g=Th.g(d);return w(g)?g:3E3}(),Yh,new v(null,2,[Aj,b,vl,c],null),Oi,new V(null,1,5,W,[ip],null)],null)),a=gf(a,bk.g(b),b),new V(null,2,5,W,[a,bk.g(b)],
null)):new V(null,2,5,W,[a,null],null)}function kp(a,b,c){c=T(c,0,null);a=w(c)?I(bf(a,new V(null,2,5,W,[il,c],null),Ce)):Le.h(bk,We(function(d){return!ud(il.g(d),Dk)},We(function(d){d=di.g(d);return!G.h(Bh,d)},We(Pk,Rf(hf.g(a))))));return I(a)?Me(b,xd(a)):null}function lp(a,b,c){var d=nj.g(c);b=kp(a,2*b,Tc([d]));return 2<=P(b)?Na(function(e,f){var g=T(f,0,null);f=T(f,1,null);return K(jp(e,g,f,c))},a,$e(2,2,b)):a}
function mp(a,b){return Na(function(c,d){T(d,0,null);var e=T(d,1,null);d=Pk.g(e);if(w(d)&&Ha(d.isStatic)&&!ud(il.g(e),Dk)){e=d.position;var f={x:0,y:b*d.mass*-1};Y.Body.applyForce.j?Y.Body.applyForce.j(d,e,f):Y.Body.applyForce.call(null,d,e,f)}return c},a,hf.g(a))}
function np(a){return function(b,c){c=$o(b,c);var d="function"===typeof a||(null!=a?r===a.Ob||(a.Kb?0:y(Qa,a)):y(Qa,a))?a.u?a.u():a.call(null):a;d=Math.pow(d,Oo);c=Pk.g(c);w(c)&&(Y.Body.scale.j?Y.Body.scale.j(c,d,d):Y.Body.scale.call(null,c,d,d));return b}}function op(){return function(a,b){var c=$o(a,b);if(w(c)){var d=di.g(c);c=K(wc(Oe(function(e){return!G.h(e,d)})));c=gp(a,b,new v(null,1,[di,c],null));if(w(c))return a=T(c,0,null),T(c,1,null),cp(a,b)}return a}}
function pp(a){return function(b,c){c=$o(b,c);if(w(c)){var d=ne(c),e=D(d,Hj);d=D(d,Yh);d=ne(d);D(d,xj);e=ho()-e;e=255*(.5+.5*Math.sin(e/1E3))|0;c=Pk.g(c);w(c)&&(c.render.strokeStyle=Xc.h(zd(Me(3,a)),e))}return b}}
var $n=new V(null,8,5,W,[new V(null,2,5,W,[Ml,Ck],null),new V(null,2,5,W,[Ml,Pm],null),new V(null,2,5,W,[Ml,ok],null),new V(null,2,5,W,[Ml,gi],null),new V(null,3,5,W,[Ml,gi,Ck],null),new V(null,2,5,W,[Ml,zl],null),new V(null,3,5,W,[Ml,zl,gi],null),new V(null,1,5,W,[Jj],null)],null),Co=function(a){var b=Ge(oe);return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var g=Array(arguments.length-0);f<g.length;)g[f]=arguments[f+0],++f;f=new H(g,0,null)}return d.call(this,f)}function d(e){var f=
qc(rb(b),e,qd);return f===qd?(f=ie(a,e),Ie.C(b,U,e,f),f):f}c.F=0;c.G=function(e){e=I(e);return d(e)};c.v=d;return c}()}(function(a,b){a=ue(b);return we.g?we.g(a):we.call(null,a)});function Ro(a,b){a=bf(a,new V(null,1,5,W,[xi],null),K($n));return Co(b,a)}
function rp(a,b){var c=oe,d=X.width/2,e=X.height/2,f=function(){var l=wm.g(c);return w(l)?l:20}(),g=function(){var l=Al.g(c);return w(l)?l:Ro(a,b)}(),k=function(){var l=Th.g(c);return w(l)?l:8E3+5E3*ko()}();return Zo(a,Vo(new V(null,2,5,W,[b,gl],null),zg([Xk,Em,Al,Am,wm,im,Oi,Th,gm,lk,di,Yh],[!0,g,ve(g,0),new V(null,2,5,W,[d,e],null),f,!0,new V(null,2,5,W,[pp(g),np(1+xe()/2)],null),k,5+5*ko(),!0,Se,new v(null,1,[xj,2],null)])))}
function sp(a,b,c){var d=function(){var f=Eh.g(c);return w(f)?f:.5}(),e=ue(new V(null,8,5,W,[Se,Te,Te,Te,ye,ye,ye,ye],null));return Zo(a,Vo(new V(null,2,5,W,[b,Ek],null),zg([Xk,Em,Al,Di,Gj,Uh,Am,Pj,Hh,wm,Oi,Th,gm,lk,di,Nk,bm],[!0,Ro(a,b),ve(function(){var f=ue(new V(null,3,5,W,[Pm,ok,Ml],null));return we.g?we.g(f):we.call(null,f)}(),0),ue(new V(null,2,5,W,[-1,1],null)),new V(null,3,5,W,[op(),np(function(){return ue(new V(null,6,5,W,[.5,.5,.5,1.3,1.3,1.3],null))}),function(f,g){return df.j(f,new V(null,
3,5,W,[hf,g,Di],null),new v(null,2,[-1,1,1,-1],null))}],null),100,.98<d?Qo(.8,Uo(a)):Uo(a),!0,Wm*d,100,w(ue(new V(null,4,5,W,[!1,!0,!0,!0],null)))?new V(null,1,5,W,[fp(3*d+d*ko())],null):new V(null,1,5,W,[np(function(){var f=Ge(!1);return function(){Ie.h(f,Ha);return w(rb(f))?1.1:.9}}())],null),800-500*d+100*ko(),ue(new V(null,2,5,W,[2,3],null)),!0,e,new V(null,1,5,W,[np(function(){return ue(new V(null,2,5,W,[1.5,2],null))})],null),100])))}
function tp(a,b){b=ne(b);D(b,Al);var c=D(b,nj),d=D(b,Eh),e=function(){var m=5+5*ko();return 5>m?5:m}(),f=1E3*d+20*ko(),g=Ro(a,c);b=50*d|0;e=3>=b?new V(null,2,5,W,[2*e+2*e*ko(),10],null):new V(null,2,5,W,[e,100],null);var k=T(e,0,null),l=T(e,1,null);return Na(function(m){var n=Vo(new V(null,1,5,W,[c],null),zg([Kl,Al,Am,wm,Th,Dj,di,Mj,nj],[l,g,Qo(.001,Uo(m)),k,1E3+500*ko(),.9,Se,10,c]));m=Zo(m,n);return ep(2+d,f)(m,bk.g(n))},a,Ug(b))}
function up(a,b){b=ne(b);var c=D(b,Eh),d=D(b,nj),e=function(){var l=ue(new V(null,2,5,W,[Ml,ok],null));return we.g?we.g(l):we.call(null,l)}(),f=function(){var l=ue(new V(null,2,5,W,[Ml,ok],null));return we.g?we.g(l):we.call(null,l)}(),g=c*(1+1*ko()),k=Qo(.3,Uo(a));return Na(function(l){var m=new V(null,2,5,W,[Km,d],null),n=bn(k,new V(null,2,5,W,[100+20*ko(),100+20*ko()],null)),q=1+(2+5*ko()),t=W,u=.5+.5*ko();return Zo(l,Vo(m,zg([Xk,Al,$l,Am,wm,Oi,Th,di,Nk,Cj,Fj],[!1,e,g,n,q,new V(null,1,5,t,[ep(u,
1)],null),5E3+5E3*ko(),Se,Yc,e,f])))},a,Ug(10+10*ko()))}
function Yo(a,b){b=ne(b);var c=D(b,Eh),d=D(b,nj),e=Ro(a,d),f=Qo(.3,Uo(a)),g=1.05+.1*c;return Na(function(k){return Zo(k,Vo(new V(null,2,5,W,[ol,d],null),zg([Xk,Em,Al,Am,wm,Oi,Th,gm,lk,di,Nk,Ch],[!0,function(){var l=ue(new V(null,3,5,W,[ok,Pm,Ml],null));return we.g?we.g(l):we.call(null,l)}(),ve(e,200),bn(f,new V(null,2,5,W,[150+50*ko(),150+50*ko()],null)),5+(10+5*ko()),new V(null,1,5,W,[np(g)],null),800+200*ko(),0,!0,Se,new V(null,1,5,W,[function(l,m){return df.j(l,new V(null,2,5,W,[hf,m],null),function(n){return U.v(n,
Oi,new V(null,2,5,W,[np(1E4),cn()],null),Tc([Nk,Yc,Th,500]))})}],null),!1])))},a,Ug(2))}
function vp(a,b){var c=ne(a);a=D(c,cj);var d=ne(b),e=D(d,nj),f=G.h(e,rl);b=Na(function(g,k){return bp(g,k,Nk,Tc([d]))},c,bf(c,new V(null,2,5,W,[il,e],null),Ce));b=f?Na(function(g,k){return bp(g,bk.g(k),Gj,Tc([d]))},b,Rf(hf.g(b))):b;a=D(Sk.g(a),e);return Na(function(g,k){var l=T(k,0,null),m=T(k,1,null);switch(l instanceof E?l.ia:null){case "background-color-change":return.9<m?ef(g,Ui,te(ue(new V(null,4,5,W,[ve(we.g?we.g(Ml):we.call(null,Ml),20),ve(we.g?we.g(Ml):we.call(null,Ml),0),ve(we.g?we.g(Ml):
we.call(null,Ml),0),ve(we.g?we.g(ok):we.call(null,ok),20)],null)))):g;case "all-bounce":return mp(g,m*(f?.01:.05));case "entity-blinkers":return.9<m?up(g,U.j(d,Eh,m)):g;case "entity-bouncers":return tp(g,U.j(d,Eh,f?m/10:m));case "entity-scalers":return.9>m?g:Yo(g,U.j(d,Eh,m));case "concentric-mysical":return rp(g,e);case "concentric-entity":return.5>m?g:sp(g,e,new v(null,3,[Eh,m,wm,20+40*m,Al,Ro(g,e)],null));case "entity-connection-lines":return k=function(){var n=5*m|0;return 1>n?1:n}(),lp(g,k,new v(null,
4,[nj,e,Al,ve(Ro(g,e),150),gm,1+(3*m|0),Th,3E3*m|0],null));case "entity-connection-lines-foreign":return.5<m?(k=function(){var n=3*m|0;return 1>n?1:n}(),k=kp(g,2*k,Tc([null])),2<=P(k)?Na(function(n,q){var t=T(q,0,null);q=T(q,1,null);return K(jp(n,t,q,new v(null,3,[Al,ve(Ro(c,e),100+100*ko()),gm,1,Th,2E3*m|0],null)))},g,$e(2,2,k)):g):g;case "screen-shake":return U.j(g,$i,new v(null,3,[Eh,(.5+.5*ko())*m,Dm,ho(),dj,1E3*m],null));case "time-scale":return U.j(g,dm,new v(null,3,[hl,.5>m?1:1+m*(10+5*ko()),
Dm,ho(),dj,200],null));case "spawn-center-effect":return U.j(g,hi,new v(null,3,[Am,Qo(.01,Po()),Dm,ho(),dj,5E3+1E3*ko()],null));case "gravity-effect":return U.j(g,af,new v(null,3,[Fk,.5>m?2*m:4*m-1,Dm,ho(),dj,2E3+500*ko()],null));case "color-palette-effect":return cf(g,new V(null,1,5,W,[xi],null),ue($n));default:return g}},b,a)}
function wp(a,b){return Na(function(c,d){var e=Rm.g(d);switch(e instanceof E?e.ia:null){case "main-beat-trigger":return vp(c,d);case "cluster-beat-trigger":return vp(c,d);default:return c}},a,b)};var Hg=zg([zl,Cl,Jh,ok,Ql,Pm,qj,km,vj,Ck,yk,vm,Tl,qi,gi,Jj,El,xm,Vi,Xh,qm,Qj,Uj,Ml],[new V(null,3,5,W,[255,165,0],null),new V(null,3,5,W,[173,153,191],null),new V(null,3,5,W,[171,255,45],null),new V(null,3,5,W,[255,255,255],null),new V(null,3,5,W,[255,255,0],null),new V(null,3,5,W,[0,255,255],null),new V(null,3,5,W,[142,206,255],null),new V(null,3,5,W,[94,136,168],null),new V(null,3,5,W,[16,16,22],null),new V(null,3,5,W,[245,137,255],null),new V(null,3,5,W,[41,1,56],null),new V(null,3,5,W,[255,222,
173],null),new V(null,3,5,W,[255,227,224],null),new V(null,3,5,W,[33,21,63],null),new V(null,3,5,W,[212,255,209],null),new V(null,3,5,W,[255,0,0],null),new V(null,3,5,W,[0,127,255],null),new V(null,3,5,W,[255,180,142],null),new V(null,3,5,W,[0,27,104],null),new V(null,3,5,W,[255,0,255],null),new V(null,3,5,W,[155,48,255],null),new V(null,3,5,W,[71,155,89],null),new V(null,3,5,W,[255,155,162],null),new V(null,3,5,W,[0,0,0],null)]),xp=window.innerWidth,yp=window.innerHeight,zp=Ge(Yc),Ap=Ge(new v(null,
2,[bl,Im,Tm,!1],null));function qp(a,b){var c=$o(a,b),d=ne(c),e=D(d,Hj),f=D(d,Yh),g=D(d,Vl);d=D(d,gk);f=ne(f);D(f,xj);f=ho()-e;e=255*(.5+.5*Math.sin(f/1E3))|0;g=.1+(f%g+g)%g/g*d;c=Pk.g(c);if(w(c)){d=c.render;var k=c.render.strokeStyle;f=T(k,0,null);var l=T(k,1,null);k=T(k,2,null);d.strokeStyle=new V(null,4,5,W,[f,l,k,e],null);c.render.lineWidth=3}return df.j(a,new V(null,4,5,W,[hf,b,Yh,xj],null),te(g))}
function So(a){return Zo(a,Vo(Ce,zg([Vl,Xk,Al,Am,gk,wm,sj,Oi,gm,di],[1E3,!0,ve(Hg.g?Hg.g(Pm):Hg.call(null,Pm),0),Po(),2,100,new V(null,1,5,W,[function(b){var c=document.getElementById("file-input");w(c)&&c.click();return b}],null),new V(null,1,5,W,[qp],null),2,Se])))}
function Ep(a){function b(d){d=I(Tc(d.pairs));for(var e=null,f=0,g=0;;)if(g<f){var k=e.J(null,g);Ie.j(zp,Xc,new v(null,2,[Yk,k.bodyA,Wk,k.bodyB],null));g+=1}else if(d=I(d))e=d,od(e)?(d=Tb(e),f=Ub(e),e=d,k=P(d),d=f,f=k):(k=K(e),Ie.j(zp,Xc,new v(null,2,[Yk,k.bodyA,Wk,k.bodyB],null)),d=N(e),e=null,f=0),g=0;else return null}Ie.C(X.ub,U,Rj,60);X.frameRate(60);var c=zo();Y.Events.on.j?Y.Events.on.j(c,"collisionStart",b):Y.Events.on.call(null,c,"collisionStart",b);return Fg.v(Tc([a,function(){var d=bl.g(rb(Ap));
d=d instanceof E?d.ia:null;switch(d){case "pre-load":case "file-load":return hp(So(new v(null,7,[em,c,hf,oe,Ui,ve(vj.g(Hg),80),rj,Im,cj,oe,am,0,ni,Gg],null)));case "beat-visuals":return d=new v(null,6,[rj,pi,Ui,ve(Ml.g(Hg),20),hf,oe,am,0,em,c,Oi,Yc],null),hp(d);default:throw Error(["No matching clause: ",A.g(d)].join(""));}}()]))}var Fp=Ge(null);window.seekRequest=function(a){return He(Fp,a)};function Ip(a){return hd(jm.g(cj.g(a)))?Ho(em.g(a),a):Ho(em.g(a),U.j(a,hf,hf.g(a)))}
function Jp(a){var b=ho(),c=function(){var q=dm.g(a);if(w(q)){var t=ne(q);q=D(t,hl);var u=D(t,Dm);t=D(t,dj);u=b-u;return u<t?q+u/t*(1-q):1}return 1}(),d=function(){var q=af.g(a);if(w(q)){var t=ne(q);q=D(t,Fk);var u=D(t,Dm);t=D(t,dj);u=b-u;var x=em.g(a);if(u<t)return x.gravity.y=q+u/t*(1-q),a;x.gravity.y=1;return cd.h(a,af)}return a}(),e=function(){var q=hi.g(d);if(w(q)){var t=ne(q);D(t,hl);q=D(t,Dm);t=D(t,dj);return b-q<t?d:cd.h(d,hi)}return d}(),f=function(){var q=Il.g(e);if(w(q)){var t=ne(q);q=
D(t,Dm);t=D(t,dj);return b-q<t?e:ff(e,Il,cd,xi)}return e}();c=ri.h(f,1)*c*((b-tl.h(f,0))/1E3);w(Tm.g(rb(Ap)))&&(X.resizeCanvas(window.innerWidth,window.innerHeight),Ie.C(Ap,U,Tm,!1));var g=Oo;Oo=c;try{var k=rb(Fp);if(w(k))return He(Fp,null),U.j(U.j(f,cj,No(cj.g(f),k)),tl,b);if(hd(jm.g(cj.g(f))))return dp(ff(U.j(f,tl,b),em,Ao,Oo));var l=Mo(cj.g(f),b),m=T(l,0,null),n=T(l,1,null);return dp(wp(ff(U.j(U.j(U.j(f,cj,m),oi,n),tl,b),em,Ao,100*Oo),n))}finally{Oo=g}}
function Kp(a,b){var c=em.g(a),d=function(){var k=c.world;return Y.Composite.allBodies.g?Y.Composite.allBodies.g(k):Y.Composite.allBodies.call(null,k)}(),e=new v(null,2,[Bk,Bk.g(b),Ak,Ak.g(b)],null),f=function(){var k=qh(e);return Y.Query.point.h?Y.Query.point.h(d,k):Y.Query.point.call(null,d,k)}();a=cd.h(a,ai);var g=f[0];return w(g)?(f=g.plugin.entityId,b=w(f)?bp(a,f,mm,Tc([b])):a,U.v(b,Vk,g,Tc([ai,ho()]))):hd(f)?(g=je(Og,function(k){var l=k.position;k=l.x-Bk.g(e);l=l.y-Ak.g(e);return k*k+l*l},Tc(d)),
f=g.plugin.entityId,b=w(f)?bp(a,f,mm,Tc([b])):a,U.v(b,Vk,g,Tc([ai,ho()]))):a}
function Bp(a,b){if(w(function(){var g=ai.g(a);return w(g)?500>ho()-ai.g(a):g}())){var c=em.g(a),d=function(){var g=c.world;return Y.Composite.allBodies.g?Y.Composite.allBodies.g(g):Y.Composite.allBodies.call(null,g)}(),e=new v(null,2,[Bk,Bk.g(b),Ak,Ak.g(b)],null),f=function(){var g=qh(e);return Y.Query.point.h?Y.Query.point.h(d,g):Y.Query.point.call(null,d,g)}()[0];if(w(f))return f=f.plugin.entityId,w(f)?bp(a,f,sj,Tc([b])):a}return a}
function Lp(a,b){var c=Vk.g(a);w(c)&&(b=qh(new v(null,2,[Bk,Bk.g(b),Ak,Ak.g(b)],null)),Y.Body.setPosition.h?Y.Body.setPosition.h(c,b):Y.Body.setPosition.call(null,c,b),b=qh(new v(null,2,[Bk,0,Ak,0],null)),Y.Body.setVelocity.h?Y.Body.setVelocity.h(c,b):Y.Body.setVelocity.call(null,c,b));return a}function Mp(a){return cd.h(a,Vk)}
function Np(a,b){return ie(Vn,Tc([Qk,a,Ah,new V(null,2,5,W,[xp,yp],null),Ni,Ae(new sc(function(){return Ep},Li,zg([Ej,Zk,Tj,nk,Si,Bh,Sm,kk,Fi,Ij],[kj,sm,"benjamin_j_schwerdtner/beatviz/frontend/core.cljs",12,1,108,108,Nd(new V(null,1,5,W,[aj],null)),null,w(Ep)?Ep.lb:null])),b),Yj,new sc(function(){return Jp},Lk,zg([Ej,Zk,Tj,nk,Si,Bh,Sm,kk,Fi,Ij],[kj,mi,"benjamin_j_schwerdtner/beatviz/frontend/core.cljs",19,1,163,163,Nd(new V(null,1,5,W,[Lj],null)),null,w(Jp)?Jp.lb:null])),ak,new sc(function(){return Ip},
sl,zg([Ej,Zk,Tj,nk,Si,Bh,Sm,kk,Fi,Ij],[kj,Gi,"benjamin_j_schwerdtner/beatviz/frontend/core.cljs",17,1,155,155,Nd(new V(null,1,5,W,[Lj],null)),"Render the current game state.",w(Ip)?Ip.lb:null])),om,new sc(function(){return Kp},kl,zg([Ej,Zk,Tj,nk,Si,Bh,Sm,kk,Fi,Ij],[kj,Gm,"benjamin_j_schwerdtner/beatviz/frontend/core.cljs",20,1,247,247,Nd(new V(null,2,5,W,[Lj,Ji],null)),null,w(Kp)?Kp.lb:null])),Vj,new sc(function(){return Lp},Ul,zg([Ej,Zk,Tj,nk,Si,Bh,Sm,kk,Fi,Ij],[kj,Zj,"benjamin_j_schwerdtner/beatviz/frontend/core.cljs",
20,1,295,295,Nd(new V(null,2,5,W,[Lj,Ji],null)),null,w(Lp)?Lp.lb:null])),yl,new sc(function(){return Mp},pm,zg([Ej,Zk,Tj,nk,Si,Bh,Sm,kk,Fi,Ij],[kj,Ig,"benjamin_j_schwerdtner/beatviz/frontend/core.cljs",21,1,303,303,Nd(new V(null,2,5,W,[Lj,Ji],null)),null,w(Mp)?Mp.lb:null])),hj,new sc(function(){return Bp},Gh,zg([Ej,Zk,Tj,nk,Si,Bh,Sm,kk,Fi,Ij],[kj,Qi,"benjamin_j_schwerdtner/beatviz/frontend/core.cljs",20,1,275,275,Nd(new V(null,2,5,W,[Lj,Ji],null)),null,w(Bp)?Bp.lb:null])),zk,new V(null,1,5,W,[Yl],
null),cm,new V(null,1,5,W,[yo],null)]))}var Op=Ge(null);function Pp(){return Ie.C(Ap,U,Tm,!0)}function Qp(){return window.removeEventListener("resize",Pp)}function Rp(){window.addEventListener("resize",Pp);window.addEventListener("beforeunload",Qp);return Np(document.getElementById("app"),new v(null,1,[cj,oe],null))}ca("benjamin_j_schwerdtner.beatviz.frontend.core.init",Rp);
window.startSketch=function(a){var b="undefined"!==typeof window&&"undefined"!==typeof window.analysisData?uh():null,c=w(b)?b:rb(Op);return w(c)?(ih.v(Tc(["start...",w(b)?"using browser analysis":"using server analysis"])),Ie.C(Ap,U,bl,pi),Np(document.getElementById(w(a)?a:"app"),new v(null,1,[cj,Lo(c)],null))):null};Rp();
}).call(this);